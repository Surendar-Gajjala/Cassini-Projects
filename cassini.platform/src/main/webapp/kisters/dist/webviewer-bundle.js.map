{"version":3,"sources":["/webpack/bootstrap 69850978176c647879f7","/./app/ui.ts","/./app-panes/template/pane-template.ts","/./pane/index.ts","/./base/DOMXMLParser.ts","/./app/app-states.ts","/./~/js2xmlparser/~/xmlcreate/lib/utils.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlNode.js","/./~/js2xmlparser/~/xmlcreate/lib/validate.js","/./app/tooltip.ts","/./app/app-settings.ts","/./ribbon/widget.ts","/./pane/widgets.ts","/./~/js2xmlparser/~/xmlcreate/lib/options.js","/./ribbon/menu.ts","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlComment.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlProcInst.js","/./~/tinycolor2/tinycolor.js","/./~/js2xmlparser/lib/main.js","/./~/copy-to-clipboard/index.js","/./~/events/events.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlCharRef.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlEntityRef.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlText.js","/./~/js2xmlparser/lib/utils.js","/./~/js2xmlparser/~/xmlcreate/lib/escape.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlAttribute.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlCdata.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDecl.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtd.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdAttlist.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdElement.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdEntity.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdNotation.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdParamEntityRef.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlElement.js","/./app/file-browser-modal/widgets/file-browser-switch.ts","/./pane/custom-palette.ts","/./ribbon/clipboard-modal/clipboard-overlay.ts","/./~/js2xmlparser/lib/options.js","/./~/js2xmlparser/~/xmlcreate/lib/main.js","/./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDocument.js","/./~/toggle-selection/index.js","/./app-panes/animation-pane.ts","/./app-panes/band-analysis-pane.ts","/./app-panes/bom-pane.ts","/./app-panes/callout-pane.ts","/./app-panes/clash-pane.ts","/./app-panes/command-log-item.ts","/./app-panes/command.ts","/./app-panes/distortion-pane.ts","/./app-panes/draft-angle-pane.ts","/./app-panes/drillhole-pane.ts","/./app-panes/exact-compare-pane.ts","/./app-panes/explode-pane.ts","/./app-panes/filter-pane.ts","/./app-panes/flythrough-pane.ts","/./app-panes/geometry-tools-pane.ts","/./app-panes/index.ts","/./app-panes/markup-pane-reduced.ts","/./app-panes/markup-pane.ts","/./app-panes/measurement-pane.ts","/./app-panes/mirror-pane.ts","/./app-panes/modeltree.ts","/./app-panes/neighbourhood-search-pane.ts","/./app-panes/neutral-axis-pane.ts","/./app-panes/projected-area-pane.ts","/./app-panes/property-pane.ts","/./app-panes/quick-compare-pane.ts","/./app-panes/section-pane.ts","/./app-panes/selections-pane.ts","/./app-panes/settings-pane.ts","/./app-panes/split-pane.ts","/./app-panes/template/canvas-stack.ts","/./app-panes/template/minimized-pane-stack.ts","/./app-panes/template/pane-stack.ts","/./app-panes/text-search-pane.ts","/./app-panes/transform-pane.ts","/./app-panes/view-pane.ts","/./app-panes/visibility-test-pane.ts","/./app-panes/wallthickness-pane.ts","/./app/app.ts","/./app/file-browser-modal/file-browser-modal.ts","/./app/file-browser-modal/widgets/breadcrumb-bar.ts","/./app/file-browser-modal/widgets/breadcrumb.ts","/./app/file-browser-modal/widgets/file.ts","/./app/file-browser-modal/widgets/folder.ts","/./app/file-browser-modal/widgets/pagination.ts","/./app/native-loading-modal/native-loading-modal.ts","/./app/native-loading-modal/widgets/loading-slider.ts","/./app/native-loading-modal/widgets/option-toggle.ts","/./app/native-loading-modal/widgets/switch.ts","/./app/node-types.ts","/./app/print-modal/print-modal.ts","/./app/print-modal/widgets/color-picker.ts","/./app/print-modal/widgets/radiobutton-group.ts","/./app/progressbar/progress-bar.ts","/./app/progressbar/progress-container.ts","/./pane/adapter.ts","/./pane/item.ts","/./ribbon/disabled-widgets.ts","/./ribbon/index.ts"],"names":[],"mappings":"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AG,KAAK,CAAC;QAChC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QACpB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QAEnB,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;QAClC,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;IAC7B,CAAC;IACF,gBAAC;AAAD,CAAC;AAEU,iBAAS,GAAG,IAAI,SAAS,EAAE;;;;;;;;AC9JtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,OAAO;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,YAAY;AACvB;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,cAAc,mBAAO,CAAC,CAAU;AAChC;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,0CAA0C,cAAc;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,+BAA+B,+BAA+B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;AClOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACxGA;IAcC,mBAAY,QAAqB;QAAjC,iBAyCC;QAjDD,kBAAa,GAAkB,EAAE;QAEjC,eAAU,GAAa,EAAE;QACzB,gBAAW,GAAW,KAAK;QAC3B,gBAAW,GAAW,IAAI;QAC1B,aAAQ,GAAY,KAAK;QAKxB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,2BAA2B,CAAC;QAEvD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,yBAAyB,CAAC;QAEnD,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACrD,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,sCAAsC,CAAC;QACzE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,EAAE,CAAC;QAEhC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAElD,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,WAAC;YAE7B,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,UAAU,CAAC;gBAEV,IAAI,KAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC,sBAAsB,CAAC,2BAA2B,CAAC,CAAC,MAAM,KAAK,CAAC,EAC9F;oBACC,KAAI,CAAC,IAAI,EAAE,CAAC;iBACZ;qBACI,IAAI,KAAI,CAAC,QAAQ,EACtB;oBACC,CAAC,CAAC,4BAA4B,CAAC,CAAC,IAAI,CAAC;wBAEpC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC;oBAClB,CAAC,CAAC;oBACF,KAAI,CAAC,IAAI,EAAE,CAAC;iBACZ;YACF,CAAC,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC;QACtB,CAAC,CAAC;QAEF,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,WAAC;YAE7B,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,KAAI,CAAC,IAAI,EAAE,CAAC;QACb,CAAC;IACF,CAAC;IAED,gCAAY,GAAZ,UAAa,SAAiB;QAE7B,IAAI,SAAS,KAAK,EAAE,IAAI,SAAS,KAAK,SAAS,EAC/C;YACC,OAAO;SACP;QACD,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,EAChC;YACC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,EAAE,CAAC;SAChC;QACD,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAChD,YAAY,CAAC,SAAS,GAAG,6BAA6B,CAAC;QACvD,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAEzD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAChC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACtC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;IACjD,CAAC;IAED,wBAAI,GAAJ;QAEC,IAAI,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,GAAG,CAAC;QACvD,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,IAAI,MAAM,KAAK,CAAC,EAChH;YACC,OAAO;SACP;QACD,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1C,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,EACvG;YACC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC;SAC1F;aAED;YACC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,qBAAqB,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC;SAC9E;QACD,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;QACzC,IAAI,IAAI,CAAC,WAAW,KAAK,KAAK,EAC9B;YAEC,IAAI,MAAM,GAAG,MAAM,GAAG,CAAC,EACvB;gBACC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,GAAG,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;aAC5G;iBAGD;gBACC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;aAC/E;SACD;aAED;YAEC,IAAI,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,EAChD;gBACC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;aAC/E;iBAGD;gBACC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,GAAG,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;aACrH;SACD;IACF,CAAC;IAED,wBAAI,GAAJ;QAEC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,CAAC;IAC5B,CAAC;IAED,4BAAQ,GAAR,UAAS,KAAa;QAEf,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACzE,CAAC;IAED,kCAAc,GAAd,UAAe,WAAmB;QAEjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IAChC,CAAC;IAED,kCAAc,GAAd,UAAe,WAAmB;QAEjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IAChC,CAAC;IAED,oCAAgB,GAAhB;QAEC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAC/B;YACC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;SAClC;QACD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,EAAE,CAAC;IACjC,CAAC;IAED,0BAAM,GAAN,UAAO,GAAW;QAEjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IAChB,CAAC;IACF,gBAAC;AAAD,CAAC;AA9JY,8BAAS;;;;;;;;;;ACAX,gBAAQ,GAAG;IACrB,IAAI,EAAE,KAAK;IACX,KAAK,EAAE,QAAQ;IACf,QAAQ,EAAE,WAAW;IACrB,MAAM,EAAE,SAAS;IACjB,QAAQ,EAAE,GAAG;IACb,SAAS,EAAE,GAAG;IACd,MAAM,EAAE;QACP,sBAAsB,EAAE,uBAAuB;QAC/C,oBAAoB,EAAE,qBAAqB;QAC3C,kBAAkB,EAAE,EAAE;QACtB,WAAW,EAAE,EAAE;QACf,aAAa,EAAE,EAAE;QACjB,qBAAqB,EAAE,kBAAkB;QACzC,oBAAoB,EAAE,mBAAmB;QACzC,kBAAkB,EAAE,EAAE;KACtB;CACD;;;;;;;;;;;;;;;;;;;;ACjBD,4CAA8C;AAC9C,0CAA6C;AAE7C,uCAA2C;AAmBhC,+BAAuB,GAAiB,EAAE;AAErD,IAAY,UAOX;AAPD,WAAY,UAAU;IAErB,+CAAU;IACV,qDAAS;IACT,mDAAQ;IACR,6CAAK;IACL,mEAAgB;AACjB,CAAC,EAPW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAOrB;AAiCD,IAAI,aAAa,GAAG,EAAE;AAEtB,IAAI,WAAW,GAAG,EAAE;AAEpB,IAAM,MAAM,GAAG,4BAA4B;AAC3C,IAAM,QAAQ,GAAG,8BAA8B;AAM/C,wBAA+B,MAAc;IAE5C,IAAI,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;IAChC,IAAI,MAAM,IAAI,MAAM,YAAY,UAAU,EAC1C;QACC,OAAO,MAAM;KACb;SACD;QACC,OAAO,SAAS;KAChB;AACF,CAAC;AAVD,wCAUC;AAED,oBAA2B,EAAU;IAEpC,IAAI,MAAM,GAAG,aAAa,CAAC,EAAE,CAAC;IAC9B,IAAI,MAAM,IAAI,MAAM,YAAY,UAAU,EAC1C;QACC,OAAO,MAAM;KACb;SACD;QACC,OAAO,SAAS;KAChB;AACF,CAAC;AAVD,gCAUC;AAED,mBAA0B,EAAU;IAEnC,IAAI,MAAM,GAAG,aAAa,CAAC,EAAE,CAAC;IAC9B,IAAI,MAAM,IAAI,MAAM,YAAY,KAAK,EACrC;QACC,OAAO,MAAM;KACb;SACD;QACC,OAAO,IAAI;KACX;AACF,CAAC;AAVD,8BAUC;AAED,0BAAiC,EAAU;IAE1C,IAAI,MAAM,GAAG,aAAa,CAAC,EAAE,CAAC;IAC9B,IAAI,MAAM,IAAI,MAAM,YAAY,YAAY,EAC5C;QACC,OAAO,MAAM;KACb;SACD;QACC,OAAO,IAAI;KACX;AACF,CAAC;AAVD,4CAUC;AAED,iCAAwC,EAAU;IAEjD,IAAI,MAAM,GAAG,aAAa,CAAC,EAAE,CAAC;IAC9B,IAAI,MAAM,IAAI,MAAM,YAAY,mBAAmB,EACnD;QACC,OAAO,MAAM;KACb;SACD;QACC,OAAO,IAAI;KACX;AACF,CAAC;AAVD,0DAUC;AAED,mBAA0B,EAAU;IAEnC,IAAI,MAAM,GAAG,aAAa,CAAC,EAAE,CAAC;IAC9B,IAAI,MAAM,IAAI,MAAM,YAAY,KAAK,EACrC;QACC,OAAO,MAAM;KACb;SACD;QACC,OAAO,IAAI;KACX;AACF,CAAC;AAVD,8BAUC;AAGD,iBAAiB,MAAc;IAE9B,IAAI,WAAW,GAAG,aAAa,CAAC,MAAM,CAAC;IACvC,IAAI,WAAW,GAAG,MAAM;IACxB,IAAI,KAAK,GAAG,CAAC;IAEb,OAAO,WAAW,YAAY,aAAa,EAC3C;QACC,KAAK,EAAE;QACP,WAAW,GAAM,MAAM,SAAI,KAAO;QAClC,WAAW,GAAG,aAAa,CAAC,WAAW,CAAC;KACxC;IAED,OAAO,WAAW;AACnB,CAAC;AAED;IAAA;IAKA,CAAC;IAAD,aAAC;AAAD,CAAC;AA7JA,wBAAM;AA+JP;IAAqC,iCAAM;IAS1C,uBAAY,MAAc;QAA1B,YAEC,iBAAO,SAgBP;QAfA,KAAI,CAAC,OAAO,GAAG,IAAI;QACnB,KAAI,CAAC,MAAM,GAAG,MAAM;QACpB,KAAI,CAAC,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC;QACzB,aAAa,CAAC,KAAI,CAAC,EAAE,CAAC,GAAG,KAAI;QAC7B,IACA;YACC,IAAI,KAAI,CAAC,EAAE,IAAI,UAAU,IAAI,UAAU,CAAC,KAAI,CAAC,EAAE,CAAC,KAAK,KAAK,EAC1D;gBACC,KAAI,CAAC,OAAO,GAAG,KAAK;aACpB;SACD;QACD,OAAO,CAAC,EACR;YACC,KAAI,CAAC,OAAO,GAAG,IAAI;SACnB;;IACF,CAAC;IAED,sBAAI,+BAAI;aAAR;YAEC,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM;YAEzB,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC,uBAAQ,CAAC,IAAI,CAAC,EAC7D;gBACC,OAAO,UAAU,CAAC,OAAO,CAAC,CAAC,uBAAQ,CAAC,IAAI,CAAC;aACzC;iBAAM,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,OAAO,CAAC,IAAI,iBAAiB,CAAC,OAAO,CAAC,CAAC,uBAAQ,CAAC,IAAI,CAAC,EACvG;gBACC,OAAO,iBAAiB,CAAC,OAAO,CAAC,CAAC,uBAAQ,CAAC,IAAI,CAAC;aAChD;iBAAM,IAAI,UAAU,CAAC,OAAO,CAAC,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,EAC5D;gBACC,OAAO,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;aACjC;iBACI,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,OAAO,CAAC,IAAI,iBAAiB,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,EAC7F;gBACC,OAAO,iBAAiB,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;aACxC;YACD;gBACC,OAAO,OAAO;aACd;QACF,CAAC;;;OAAA;IACF,oBAAC;AAAD,CAAC,CAnDoC,MAAM,GAmD1C;AAlNQ,sCAAa;AAoNtB;IAAkC,8BAAa;IAQ9C,oBAAY,EAAU;QAAtB,YAEC,kBAAM,EAAE,CAAC,SACT;QARD,iBAAW,GAAY,KAAK;;IAQ5B,CAAC;IAED,8BAAS,GAAT,UAAU,MAAc;QAEvB,IAAI,CAAC,MAAM,GAAG,MAAM;IACrB,CAAC;IAED,8BAAS,GAAT;QAEC,OAAO,IAAI,CAAC,MAAM;IACnB,CAAC;IAED,mCAAc,GAAd,UAAe,WAAoB;QAElC,IAAI,CAAC,WAAW,GAAG,WAAW;QAC9B,IAAI,IAAI,CAAC,WAAW,EACpB;YACC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,2BAA2B,CAAC;SAClD;aACD;YACC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,2BAA2B,CAAC;SACrD;IACF,CAAC;IAED,mCAAc,GAAd;QAAA,iBAOC;QALM,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,+BAA+B,CAAC,CAAC;QACrD,UAAU,CAAC;YAEP,CAAC,CAAC,KAAI,CAAC,EAAE,CAAC,CAAC,WAAW,CAAC,+BAA+B,CAAC,CAAC;QAC5D,CAAC,EAAE,GAAG,CAAC,CAAC;IACf,CAAC;IAED,8BAAS,GAAT;QAEC,IAAI,OAAO,IAAI,CAAC,IAAI,KAAK,WAAW,EACpC;YACC,OAAM;SACN;QAED,IAAI,KAAK;QACT,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,EAC9B;YACC,KAAK,GAAG,QAAQ,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC;YAC/C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;SAC5B;QACD,KAAK,GAAkB,IAAI,CAAC,IAAI,CAAC,UAAU;QAC3C,KAAK,CAAC,cAAc,CAAC,QAAQ,EAAE,MAAM,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IAC1D,CAAC;IACF,iBAAC;AAAD,CAAC,CA5DiC,aAAa,GA4D9C;AAhRuB,gCAAU;AAkRlC;IAAqB,0BAAU;IAS9B,gBAAY,EAAU,EAAE,MAAc;QAAtC,YAEC,kBAAM,EAAE,CAAC,SAuBT;QA5BD,aAAO,GAAY,KAAK;QAMvB,KAAI,CAAC,MAAM,GAAG,MAAM;QACpB,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACvC,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE;QACpB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC;QAGtC,KAAI,CAAC,IAAI,GAAkB,QAAQ,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC;QAElE,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,oBAAoB,CAAC;QAErD,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC;QACtC,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,CAAC;QAEvC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC1C,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC;QAC9C,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK;QAC/B,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ;QACrC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK;QAEnC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC;QAC9B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC;;IAEhC,CAAC;IAED,uBAAM,GAAN,UAAO,YAAyB;QAE/B,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAC1B;YACC,OAAM;SACN;QACD,IAAI,CAAC,SAAS,EAAE;QAChB,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;QAClC,IAAI,IAAI,CAAC,OAAO,EAChB;YACC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;aAED;YACC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;QAED,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EACtC;YACC,IAAI,CAAC,YAAY,GAAG,YAAY;YAChC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;SACjC;QACD,IAAI,IAAI,CAAC,MAAM,EACf;YACC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI;SAC/B;IACF,CAAC;IACF,aAAC;AAAD,CAAC,CAjEoB,UAAU,GAiE9B;AAnVmC,wBAAM;AAqV1C;IAAwB,6BAAU;IAQjC,mBAAY,EAAU,EAAE,QAAiB,EAAE,MAAc;QAAzD,YAEC,kBAAM,EAAE,CAAC,SAuBT;QAtBA,KAAI,CAAC,MAAM,GAAG,MAAM;QACpB,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACvC,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE;QACpB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC;QAEzC,KAAI,CAAC,IAAI,GAAkB,QAAQ,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC;QAClE,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,uBAAuB,CAAC;QAExD,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC;QACvC,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC;QAExC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;QAC3C,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC;QAEjD,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC;QAC9B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC;QAE/B,IAAI,QAAQ,EACZ;YACC,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM;SACpC;;IAEF,CAAC;IAED,0BAAM,GAAN,UAAO,YAAyB;QAE/B,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAC1B;YACC,OAAM;SACN;QACD,IAAI,CAAC,SAAS,EAAE;QAChB,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;QAClC,IAAI,IAAI,CAAC,OAAO,EAChB;YACC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;aAED;YACC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;QACD,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EACtC;YACC,IAAI,CAAC,YAAY,GAAG,YAAY;YAChC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;SACjC;QACD,IAAI,IAAI,CAAC,MAAM,EACd;YACC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI;SAC/B;IACH,CAAC;IACF,gBAAC;AAAD,CAAC,CA/DuB,UAAU,GA+DjC;AApZ2C,8BAAS;AAsZrD;IAAqB,0BAAM;IAM1B;QAAA,YAEC,iBAAO,SAIP;QARD,aAAO,GAAyB,EAAE;QAKjC,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACvC,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC;;IAEvC,CAAC;IAED,sBAAI,4BAAQ;aAAZ;YAEC,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM;QAC3B,CAAC;;;OAAA;IAGD,6BAAY,GAAZ,UAAa,SAAoB;QAEhC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;IAC7B,CAAC;IAED,yBAAQ,GAAR;QAEC,IAAI,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,WAAW;QAEhC,OAAO,MAAM;IACd,CAAC;IAED,uBAAM,GAAN,UAAO,YAAyB;QAE/B,KAAmB,UAAY,EAAZ,SAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,EAC/B;YADK,IAAI,MAAM;YAEd,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;SACtB;QAED,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EACtC;YACC,IAAI,CAAC,YAAY,GAAG,YAAY;YAChC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;SACjC;IACF,CAAC;IACF,aAAC;AAAD,CAAC,CA7CoB,MAAM,GA6C1B;AAnckE,wBAAM;AAqczE;IAA6B,kCAAU;IAetC,wBAAY,EAAE,EAAE,MAAM;QAAtB,YAEO,kBAAM,EAAE,CAAC,SAkEf;QA3ED,WAAK,GAAmB,EAAE;QAC1B,gBAAU,GAAiB,SAAS;QAS7B,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxC,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE,CAAC;QACrB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QAChD,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,uBAAQ,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;QAGzD,IAAI,KAAK,GAAG,4BAA4B,CAAC;QACzC,KAAI,CAAC,IAAI,GAAmB,QAAQ,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACnE,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,6BAA6B,CAAC,CAAC;QAE/D,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACxC,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAGxC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAExD,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAChD,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACrD,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,KAAI,CAAC,WAAW,CAAC,SAAS,GAAG,oDAAoD,CAAC;QAElF,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;QACvC,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;QAEzC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;QAEhC,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClD,KAAI,CAAC,YAAY,CAAC,SAAS,GAAG,sBAAsB,CAAC;QACrD,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACzC,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAE;YAE/C,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC7C,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,uBAAQ,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;QAC9E,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;QAE/C,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE;YAEpC,IAAI,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,KAAK,MAAM,EAC9C;gBACa,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;gBACrC,IAAI,YAAY,GAAG,KAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE,CAAC;gBACtD,IAAI,KAAG,GAAG,YAAY,CAAC,MAAM,CAAC;gBAC9B,IAAI,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;gBAE7B,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,GAAG,KAAG,GAAG,IAAI,CAAC;gBACzC,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;aACvD;iBACD;gBACa,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aACrD;QACF,CAAC,CAAC;QAEI,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAE;YAExC,IAAI,YAAY,GAAG,KAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE,CAAC;YACtD,IAAI,EAAE,CAAC,KAAK,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,EACtC;gBACI,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aAC5C;QACL,CAAC,CAAC,CAAC;;IACV,CAAC;IAED,iCAAQ,GAAR,UAAS,YAA4B;QAEpC,KAAoB,UAAY,EAAZ,6BAAY,EAAZ,0BAAY,EAAZ,IAAY,EAChC;YADK,IAAI,OAAO;YAEN,IAAI,IAAI,GAAG,IAAI,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAClD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAC/B,IAAI,OAAO,CAAC,WAAW,EACvB;gBACI,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC;aACpC;YACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B;QACK,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACvC,CAAC;IAED,iCAAQ,GAAR,UAAS,OAAY,EAAE,gBAAkC;QAAzD,iBA6BI;QA3BG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAElC,gBAAgB,CAAC,OAAO,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,CAAC;YACjD,KAAI,CAAC,SAAS,CAAC,KAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC;YAC5C,KAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAE1C,IAAI,MAAM,GAAG,EAAE,CAAC,MAAqB,CAAC;YACtC,IAAI,cAAc,CAAC;YACnB,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,sBAAsB,CAAC,EACrD;gBACI,cAAc,GAAG,MAAM,CAAC;aAC3B;iBACD;gBACI,cAAc,GAAG,MAAM,CAAC,aAAa,CAAC;aACzC;YACD,KAAI,CAAC,UAAU,GAAG,gBAAgB,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YACtD,gBAAgB,CAAC,OAAO,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC,CAAC;YAEjD,KAAI,CAAC,SAAS,CAAC,WAAW,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YAClD,KAAI,CAAC,EAAE,CAAC,KAAK,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YAErC,KAAI,CAAC,SAAS,CAAC,KAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC;YAC5C,KAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,uCAAc,GAAd,UAAgB,GAAY;QAExB,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,GAAG,CAAC;QAClC,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,IAAI,CAAC,WAAW,EACpB;YACI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC;YACnD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC;SACvD;aACD;YACI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,2BAA2B,CAAC,CAAC;YACtD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,2BAA2B,CAAC,CAAC;YACvD,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SACvC;IACL,CAAC;IAED,uCAAc,GAAd;QAAA,iBASC;QAPG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC;QACnD,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,2BAA2B,CAAC,CAAC;QACpD,UAAU,CAAC;YAEP,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,2BAA2B,CAAC,CAAC;YACtD,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,2BAA2B,CAAC,CAAC;QAC3D,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAEJ,+BAAM,GAAN,UAAO,YAAyB;QAE/B,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAC1B;YACU,OAAO;SAChB;QACK,IAAI,CAAC,SAAS,EAAE,CAAC;QAEjB,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;QACxD,IAAI,IAAI,CAAC,OAAO,EAChB;YACC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SAC5C;aAED;YACC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;SAC5C;QAED,KAAiB,UAAU,EAAV,SAAI,CAAC,KAAK,EAAV,cAAU,EAAV,IAAU,EAC3B;YADK,IAAI,IAAI;YAEH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACxC;QAEK,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EAC5C;YACU,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC3C;QACD,IAAI,IAAI,CAAC,MAAM,EACf;YACU,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;SACzC;IACF,CAAC;IACF,qBAAC;AAAD,CAAC,CAjM4B,UAAU,GAiMtC;AAroBc,wCAAc;AAuoB7B;IAA2B,gCAAU;IAOpC,sBAAY,EAAU,EAAE,cAA8B;QAAtD,YAEO,kBAAM,EAAE,CAAC,SAoBf;QAnBM,KAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxC,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE,CAAC;QACrB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QAC9C,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,uBAAQ,CAAC,MAAM,CAAC,kBAAkB,GAAG,IAAI,CAAC;QACjE,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAE/B,IAAI,KAAK,GAAG,4BAA4B,CAAC;QACzC,KAAI,CAAC,IAAI,GAAmB,QAAQ,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACnE,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,2BAA2B,CAAC,CAAC;QAE7D,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACxC,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAEzC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC5C,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QAEtD,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;;IACvC,CAAC;IAED,qCAAc,GAAd,UAAe,GAAY;QAA3B,iBAYC;QAVA,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,cAAI;YAErC,IAAI,IAAI,KAAK,KAAI,EACjB;gBACa,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,eAAe,GAAG,EAAE,CAAC;aAC/C;QACF,CAAC,CAAC;QACI,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC;IAED,mCAAY,GAAZ,UAAa,GAAY;QAElB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QAC7B,IAAI,IAAI,CAAC,WAAW,EACd;YACI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;SACtD;aACD;YACI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,2BAA2B,CAAC,CAAC;SACzD;IACL,CAAC;IAED,+BAAQ,GAAR;QAEI,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC;QACtC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACxB,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;IACjE,CAAC;IAGJ,6BAAM,GAAN,UAAO,YAAyB;QAE/B,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAC1B;YACU,OAAO;SAChB;QACK,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;QAGzC,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EACtC;YACU,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC3C;IACF,CAAC;IACF,mBAAC;AAAD,CAAC,CAnF0B,UAAU,GAmFpC;AA1tBA,oCAAY;AA4tBb;IAAoB,yBAAa;IAEhC,eAAY,EAAU;QAAtB,YAEC,kBAAM,EAAE,CAAC,SAMT;QAJA,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CACvC;QAAE,KAAI,CAAC,EAAuB,CAAC,IAAI,GAAG,MAAM;QAC9C,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE;QACpB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC;;IACtC,CAAC;IAED,gCAAgB,GAAhB,UAAiB,OAAY,EAAE,QAAuB;QAAtD,iBAMC;QAJA,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAE;YAErC,QAAQ,CAAC,OAAO,EAAE,KAAI,CAAC,EAAE,EAAE,EAAE,CAAC;QAC/B,CAAC,CAAC;IACH,CAAC;IAED,sBAAM,GAAN,UAAO,MAAmB;QAEzB,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAC1B;YACC,OAAM;SACN;QACD,IAAI,IAAI,CAAC,YAAY,KAAK,MAAM,EAChC;YACC,IAAI,CAAC,YAAY,GAAG,MAAM;YAC1B,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;SAC3B;IACF,CAAC;IACF,YAAC;AAAD,CAAC,CAhCmB,aAAa,GAgChC;AA5vB8B,sBAAK;AA8vBpC;IAAoB,yBAAa;IAiBhC,eAAY,EAAU;QAAtB,YAEC,kBAAM,EAAE,CAAC,SAqFT;QAlGD,mBAAa,GAAkB,EAAE;QASzB,eAAS,GAAY,KAAK;QAMjC,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACvC,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE;QACpB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC;QAErC,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACjD,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC;QAEvD,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC9C,KAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC;QAEjD,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC;QACtC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,SAAS,CAAC;QAEnC,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACjD,KAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC;QACvD,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,uBAAQ,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI;QAClE,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM;QACjC,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc;QAChD,KAAI,CAAC,YAAY,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE,GAAG,UAAU,CAAC;QAElD,KAAI,CAAC,WAAW,GAAkB,QAAQ,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC;QACzE,KAAI,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,EAAE,qBAAqB,CAAC;QAC7D,IAAI,KAAK,GAAG,QAAQ,CAAC,eAAe,CAAC,MAAM,EAAE,KAAK,CAAC;QACnD,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC;QAEnC,KAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACrD,KAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,CAAC;QAE1D,KAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACpD,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,yBAAyB,CAAC;QAC7D,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC;QACxC,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC;QAGlD,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAI,CAAC,WAAW,CAAC;QAC/C,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAI,CAAC,gBAAgB,CAAC;QACpD,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAI,CAAC,eAAe,CAAC;QAEnD,KAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC/C,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC;QAClD,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM;QACtC,KAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,GAAG;QAE9B,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE;YAE3C,IAAI,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,KAAK,MAAM,EAC5C;gBACC,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM;gBACtC,KAAI,CAAC,UAAU,CAAC,KAAK,EAAE;gBACvB,IAAI,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,qBAAqB,EAAE;gBAC5D,IAAI,KAAG,GAAG,YAAY,CAAC,MAAM;gBAC7B,IAAI,IAAI,GAAG,YAAY,CAAC,IAAI;gBAE5B,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,GAAG,KAAG,GAAG,IAAI;gBACtC,IAAI,CAAC,IAAI,GAAG,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,EACpE;oBACC,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,GAAG,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;iBAChH;qBAED;oBACC,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI;iBACxC;gBACD,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,GAAG,uBAAQ,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI;aACnE;iBACD;gBACC,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,KAAK,MAAM;aACxC;QAEF,CAAC,CAAC;QAEF,KAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,MAAM,EAAE,YAAE;YAE1C,UAAU,CAAC;gBAEV,IAAI,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,KAAK,MAAM,EAC5C;oBACC,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM;iBACtC;YACF,CAAC,EAAE,GAAG,CAAC;QACR,CAAC,CAAC;QAEF,IAAI,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,uBAAQ,CAAC,MAAM,CAAC,sBAAsB,CAAC;QAC/E,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,UAAU,CAAC;;IACvC,CAAC;IAED,yBAAS,GAAT,UAAU,OAAqB;QAE9B,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC;QACvD,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;QAChC,IAAI,OAAO,CAAC,SAAS,EACrB;YACC,MAAM,CAAC,WAAW,GAAG,IAAI;YACzB,+BAAuB,CAAC,IAAI,CAAC,MAAM,CAAC;SACpC;QACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC;QAC/B,OAAO,MAAM;IACd,CAAC;IAED,4BAAY,GAAZ,UAAa,OAAqB;QAEjC,IAAI,SAAS,GAAG,IAAI,SAAS,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,MAAM,CAAC;QAC/E,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;QACnC,IAAI,OAAO,CAAC,SAAS,IAAI,SAAS,CAAC,WAAW,EAC9C;YACC,SAAS,CAAC,WAAW,GAAG,IAAI;YAC5B,+BAAuB,CAAC,IAAI,CAAC,SAAS,CAAC;SACvC;QAED,IAAI,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;QAC5D,IAAI,IAAI,KAAK,SAAS,IAAI,CAAC,CAAC,IAAI,YAAY,MAAM,CAAC,IAAa,IAAK,CAAC,QAAQ,IAAI,CAAC,EACnF;YACC,IAAI,YAAY,GAAG,IAAI,MAAM,EAAE;YAC/B,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC;YACpC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC;SACrC;aACD;YACU,IAAK,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;SACtC;QAED,OAAO,SAAS;IACjB,CAAC;IAED,2BAAW,GAAX,UAAY,OAAqB;QAEhC,IAAI,QAAQ,GAAG,IAAI,cAAc,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC;QACjE,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;QAClC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC;QAExC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC;QAEjC,OAAO,QAAQ;IAChB,CAAC;IAED,mCAAmB,GAAnB,UAAoB,OAAqB;QAExC,IAAI,QAAQ,GAAG,IAAI,sBAAsB,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC;QACzE,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;QAClC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,oBAAoB,CAAC;QAE/C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC;QAEjC,OAAO,QAAQ;IAChB,CAAC;IAED,wBAAQ,GAAR,UAAS,MAAoB;QAE5B,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;QAEpC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC;QAE9B,OAAO,KAAK;IACb,CAAC;IAEO,8BAAc,GAAtB;QAEC,IAAI,KAAa;QACjB,KAAmB,UAAkB,EAAlB,SAAI,CAAC,aAAa,EAAlB,cAAkB,EAAlB,IAAkB,EACrC;YADK,IAAI,MAAM;YAEd,IAAI,MAAM,YAAY,MAAM,IAAI,MAAM,YAAY,cAAc,EAChE;gBACC,KAAK,GAAG,MAAM,CAAC,SAAS,EAAE;gBAC1B,OAAO,KAAK;aACZ;iBAAM,IAAI,MAAM,YAAY,MAAM,EACnC;gBACC,IAAI,MAAM,GAAW,MAAM;gBAC3B,KAAwB,UAAc,EAAd,WAAM,CAAC,OAAO,EAAd,cAAc,EAAd,IAAc,EACtC;oBADK,IAAI,WAAW;oBAEnB,IAAI,WAAW,YAAY,UAAU,EACrC;wBACC,IAAI,SAAS,GAAe,WAAW;wBACvC,KAAK,GAAG,SAAS,CAAC,SAAS,EAAE;wBAC7B,OAAO,KAAK;qBACZ;iBACD;gBAED,OAAO,EAAE;aACT;SACD;IACF,CAAC;IAED,gCAAgB,GAAhB;QAEC,IAAI,KAAK,GAAkB,IAAI,CAAC,WAAW,CAAC,UAAU;QACtD,IAAI,KAAK,GAAG,IAAI,CAAC,cAAc,EAAE;QACjC,KAAK,CAAC,cAAc,CAAC,QAAQ,EAAE,MAAM,EAAE,GAAG,GAAG,KAAK,CAAC;IACpD,CAAC;IAED,sBAAI,0BAAO;aAAX;YAEC,OAAO,IAAI,CAAC,SAAS;QACtB,CAAC;aAED,UAAY,QAAiB;YAG5B,IAAI,CAAC,SAAS,GAAG,QAAQ;QAC1B,CAAC;;;OANA;IAQD,wBAAQ,GAAR;QAIC,IAAI,IAAI,CAAC,OAAO,EAChB;YACC,OAAO,uBAAQ,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC;SACtC;QAGD,IAAI,QAAQ,GAAG,EAAE;QAEjB,KAAmB,UAAkB,EAAlB,SAAI,CAAC,aAAa,EAAlB,cAAkB,EAAlB,IAAkB,EACrC;YADK,IAAI,MAAM;YAEd,IAAI,MAAM,YAAY,MAAM,EAC5B;gBACC,IAAI,YAAY,GAAW,MAAM;gBACjC,QAAQ,IAAI,YAAY,CAAC,QAAQ,EAAE;aACnC;iBAED;gBACC,QAAQ,IAAI,uBAAQ,CAAC,MAAM,CAAC,WAAW;aACvC;SACD;QACD,OAAO,QAAQ;IAChB,CAAC;IAED,sBAAM,GAAN,UAAO,OAAoB;QAE1B,IAAI,QAAQ,GAAG,KAAK;QACpB,IAAI,IAAI,CAAC,YAAY,KAAK,OAAO,EACjC;YACC,IAAI,CAAC,YAAY,GAAG,OAAO;YAC3B,QAAQ,GAAG,IAAI;SACf;QACK,IAAI,KAAK,GAAG,CAAC;QACnB,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,EACrD;YACC,IACA;gBACC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;aACtC;YAAC,OAAO,KAAK,EACd;aACC;YAED,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,gBAAgB,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;YAG7C,KAAmB,UAAkB,EAAlB,SAAI,CAAC,aAAa,EAAlB,cAAkB,EAAlB,IAAkB,EACrC;gBADK,IAAI,MAAM;gBAEd,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;aAC9B;YAED,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC;YAChD,OAAM;SACN;aACD;YACC,IACA;gBACC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC;aAChD;YAAC,OAAO,KAAK,EACd;aACC;YAED,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;YACtC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YACtC,KAAmB,UAAkB,EAAlB,SAAI,CAAC,aAAa,EAAlB,cAAkB,EAAlB,IAAkB,EACrC;gBADK,IAAI,MAAM;gBAEd,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;gBAChC,IAAI,MAAM,YAAY,aAAa,IAAI,MAAM,YAAY,MAAM,EAC/D;oBACC,KAAK,IAAI,MAAM,CAAC,EAAE,CAAC,WAAW;iBAC9B;aACD;SACD;QACD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI;QACzC,IAAI,QAAQ,EACZ;YACC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;SACtC;IACF,CAAC;IAED,0BAAU,GAAV;QAEC,IAAI,OAAO,GAAG,EAAE;QAChB,KAAmB,UAAkB,EAAlB,SAAI,CAAC,aAAa,EAAlB,cAAkB,EAAlB,IAAkB,EACrC;YADK,IAAI,MAAM;YAEd,IAAI,MAAM,YAAY,MAAM,EAC5B;gBACC,IAAI,MAAM,GAAW,MAAM;gBAC3B,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;aACpB;iBAAM,IAAI,MAAM,YAAY,MAAM,EACnC;gBACC,IAAI,YAAY,GAAW,MAAM;gBACjC,KAAmB,UAAoB,EAApB,iBAAY,CAAC,OAAO,EAApB,cAAoB,EAApB,IAAoB,EACvC;oBADK,IAAI,QAAM;oBAEd,IAAI,QAAM,YAAY,SAAS,EAC/B;wBACC,IAAI,WAAW,GAAkB,QAAM;wBACvC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC;qBACzB;iBACD;aACD;iBACI,IAAI,MAAM,YAAY,cAAc,EACzC;gBACC,IAAI,QAAQ,GAAmB,MAAM;gBACrC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;aACtB;SACD;QAED,OAAO,OAAO;IACf,CAAC;IAED,wBAAQ,GAAR,UAAS,OAAY,EAAE,QAAuB;QAA9C,iBAiBC;QAfA,IAAI,OAAO,GAAG,UAAC,EAAc;YAE5B,IAAI,EAAE,CAAC,aAAa,EACpB;gBACC,IAAI,EAAE,GAAI,EAAE,CAAC,aAA6B,CAAC,EAAE;gBAC7C,QAAQ,CAAC,OAAO,EAAE,EAAE,EAAE,KAAI,CAAC;aAC3B;QAEF,CAAC;QAED,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE;QAC/B,KAAmB,UAAO,EAAP,mBAAO,EAAP,qBAAO,EAAP,IAAO,EAC1B;YADK,IAAI,MAAM;YAEd,MAAM,CAAC,EAAE,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC;SAC5C;IACF,CAAC;IAED,6BAAa,GAAb,UAAc,EAAU;QAEvB,OAAO,UAAU,CAAC,EAAE,CAAC;IACtB,CAAC;IACF,YAAC;AAAD,CAAC,CApWmB,aAAa,GAoWhC;AAnmCsD,sBAAK;AAsmC5D;IAAkB,uBAAa;IAO9B,aAAY,EAAU;QAAtB,YAEC,kBAAM,EAAE,CAAC,SAeT;QApBD,YAAM,GAAiB,EAAE;QAOxB,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC;QACtC,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE;QACpB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC;QAEnC,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;QAC7C,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC;QAE7C,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,OAAO,CAAC;QAEjC,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACzC,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC;;IAG3C,CAAC;IAED,sBAAQ,GAAR,UAAS,KAAY;QAEpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACxB,CAAC;IAED,uBAAS,GAAT;QAEC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QAC/B,OAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EACnB;YACC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,EAC3B;gBACC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,IAAI;gBAC7B,MAAK;aACL;SACD;QAED,IAAI,CAAC,YAAY,EAAE;QAEnB,IAAI,cAAc;QAClB,cAAc,GAAG,IAAI,CAAC,QAAQ,EAAE;QAEhC,IAAI,cAAc,GAAG,sBAAS,CAAC,WAAW,IAAI,CAAC,GAAG,CAAC,EACnD;YACC,IAAI,CAAC,SAAS,EAAE;SAChB;aACD;YACC,OAAM;SACN;IACF,CAAC;IAED,kBAAI,GAAJ;QAEC,IAAI,eAAe,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAK;YAExB,IAAI,KAAK,CAAC,OAAO,EACjB;gBACC,eAAe,GAAG,IAAI,CAAC;aACvB;YACQ,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAChC,CAAC,CAAC;QAEF,IAAI,eAAe,EACnB;YACU,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACxC;QACK,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,0BAA0B,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;QAE7B,IAAI,cAAc,CAAC;QACnB,cAAc,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEvC,IAAI,cAAc,GAAG,sBAAS,CAAC,WAAW,EAC1C;YACU,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;aAEP;YACU,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACxC;IACF,CAAC;IAED,kBAAI,GAAJ;QAEO,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,WAAW,CAAC,0BAA0B,CAAC,CAAC;QAGzD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM;IACjC,CAAC;IAED,yBAAW,GAAX,UAAY,YAAyB;QAEpC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;QACjC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;QACpC,IAAI,CAAC,IAAI,EAAE;IACZ,CAAC;IAED,sBAAQ,GAAR;QAGC,IAAI,QAAQ,GAAG,CAAC,GAAG,EAAE;QACrB,KAAkB,UAAW,EAAX,SAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAC7B;YADK,IAAI,KAAK;YAEb,IAAI,UAAU,GAAG,KAAK,CAAC,QAAQ,EAAE;YACjC,QAAQ,IAAI,UAAU;SACtB;QACD,OAAO,QAAQ;IAChB,CAAC;IAED,0BAAY,GAAZ;QAEC,KAAkB,UAAW,EAAX,SAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW,EAC7B;YADK,IAAI,KAAK;YAEb,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;SACvB;IAEF,CAAC;IAED,oBAAM,GAAN,UAAO,UAAwB;QAE9B,IAAI,YAAY,GAAG,KAAK;QACxB,IAAI,IAAI,CAAC,YAAY,KAAK,UAAU,EACpC;YACC,YAAY,GAAG,IAAI;YACnB,IAAI,CAAC,YAAY,GAAG,UAAU;SAC9B;QAED,IAAI,CAAC,YAAY,EAAE;QAEnB,IAAI,YAAY,EAChB;YACC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;SACxC;IAEF,CAAC;IAEF,UAAC;AAAD,CAAC,CA/IiB,aAAa,GA+I9B;AArvC6D,kBAAG;AAwvCjE;IAAqC,0CAAU;IAgB9C,gCAAY,EAAE,EAAE,MAAM;QAAtB,YAEO,kBAAM,EAAE,CAAC,SAiGf;QA5GD,WAAK,GAA0B,EAAE;QACjC,gBAAU,GAAwB,SAAS;QAWpC,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxC,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE,CAAC;QACrB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QAChD,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,uBAAQ,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;QAEzD,IAAI,KAAK,GAAG,4BAA4B,CAAC;QACzC,KAAI,CAAC,IAAI,GAAmB,QAAQ,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACnE,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,6BAA6B,CAAC,CAAC;QAE/D,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACxC,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAGxC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,KAAI,CAAC,KAAK,CAAC,SAAS,GAAE,6BAA6B,CAAC;QAEpD,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAChD,KAAI,CAAC,SAAS,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAClD,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,KAAI,CAAC,WAAW,CAAC,SAAS,GAAG,oDAAoD,CAAC;QAElF,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;QACvC,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;QAEzC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;QAGhC,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClD,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC;QAC1C,KAAI,CAAC,YAAY,CAAC,SAAS,GAAG,6CAA6C,CAAC;QAC5E,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACzC,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAE;YAE/C,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC7C,CAAC,CAAC,CAAC;QAEH,IAAI,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,uBAAQ,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;QAC9E,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;QAEzC,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE;YAEjC,IAAI,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,KAAK,MAAM,EAC9C;gBACI,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;gBACrC,IAAI,YAAY,GAAG,KAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE,CAAC;gBACtD,IAAI,KAAG,GAAG,YAAY,CAAC,MAAM,CAAC;gBAC9B,IAAI,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC;gBAE7B,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,GAAG,KAAG,GAAG,IAAI,CAAC;gBACzC,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC;aAC9C;iBACD;gBACI,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aAC5C;QACL,CAAC,CAAC,CAAC;QAEH,KAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAE;YAEvC,IAAI,CAAC,KAAI,CAAC,WAAW,EACrB;gBACI,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,uBAAQ,CAAC,MAAM,CAAC,qBAAqB,CAAC;aAC3E;QACL,CAAC,CAAC,CAAC;QACH,KAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAE;YAEvC,IAAI,CAAC,KAAI,CAAC,WAAW,EACrB;gBACI,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,uBAAQ,CAAC,MAAM,CAAC,kBAAkB,CAAC;aACxE;QACL,CAAC,CAAC,CAAC;QACH,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAE;YAExC,IAAI,CAAC,KAAI,CAAC,WAAW,EACrB;gBACI,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,uBAAQ,CAAC,MAAM,CAAC,qBAAqB,CAAC;aAC5E;QACL,CAAC,CAAC,CAAC;QACH,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,YAAY,EAAE,YAAE;YAExC,IAAI,CAAC,KAAI,CAAC,WAAW,EACrB;gBACI,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,uBAAQ,CAAC,MAAM,CAAC,kBAAkB,CAAC;aACzE;YACD,IAAI,YAAY,GAAG,KAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE,CAAC;YACtD,IAAI,EAAE,CAAC,KAAK,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,EACtC;gBACI,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aAC5C;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,UAAC,IAAI;YAE5B,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;;IACV,CAAC;IAED,wCAAO,GAAP,UAAQ,MAAc;QAErB,IAAI,IAAI,GAAG,IAAI,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC;QAChD,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,OAAO,EAAE,CAAC,MAAM,IAAI,MAAM,EAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EAC9E;YACC,OAAM;SACN;QACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;IAC/B,CAAC;IAED,yCAAQ,GAAR,UAAS,YAA4B;QAEpC,KAAoB,UAAY,EAAZ,6BAAY,EAAZ,0BAAY,EAAZ,IAAY,EAChC;YADK,IAAI,OAAO;YAEf,IAAI,IAAI,GAAG,IAAI,mBAAmB,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC;YACxD,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;YAC9B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;SACrB;IAEF,CAAC;IAED,yCAAQ,GAAR,UAAS,OAAY,EAAE,gBAA0C;QAAjE,iBAwBC;QAtBA,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAErC,gBAAgB,CAAC,OAAO,EAAE,SAAS,EAAE,KAAI,CAAC;QAC3C,CAAC,CAAC;QAEF,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAE7C,EAAE,CAAC,cAAc,EAAE,CAAC;YACpB,EAAE,CAAC,eAAe,EAAE,CAAC;YACrB,IAAI,MAAM,GAAG,EAAE,CAAC,MAAqB;YACrC,IAAI,cAAc;YAClB,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,sBAAsB,CAAC,EACrD;gBACC,cAAc,GAAG,MAAM;aACvB;iBACD;gBACC,cAAc,GAAG,MAAM,CAAC,aAAa;aACrC;YACD,KAAI,CAAC,UAAU,GAAG,uBAAuB,CAAC,cAAc,CAAC,EAAE,CAAC;YAC5D,gBAAgB,CAAC,OAAO,EAAE,KAAI,CAAC,UAAU,EAAE,KAAI,CAAC;QAEjD,CAAC,CAAC;IACH,CAAC;IAGD,uCAAM,GAAN,UAAO,YAAyB;QAE/B,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAC1B;YACC,OAAM;SACN;QACD,IAAI,CAAC,SAAS,EAAE;QAEhB,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;QACtC,IAAI,IAAI,CAAC,OAAO,EAChB;YACC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;aAED;YACC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACjC;QAED,KAAiB,UAAU,EAAV,SAAI,CAAC,KAAK,EAAV,cAAU,EAAV,IAAU,EAC3B;YADK,IAAI,IAAI;YAEZ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;SAC9B;QAED,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EACtC;YACC,IAAI,CAAC,YAAY,GAAG,YAAY;YAChC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;SACjC;QACD,IAAI,IAAI,CAAC,MAAM,EACf;YACC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI;SAC/B;IACF,CAAC;IACF,6BAAC;AAAD,CAAC,CAzMoC,UAAU,GAyM9C;AAh8CqC,wDAAsB;AAk8C5D;IAAkC,uCAAU;IAO3C,6BAAY,EAAU,EAAE,cAAsC;QAA9D,YAEC,kBAAM,EAAE,CAAC,SAoBT;QAnBA,KAAI,CAAC,cAAc,GAAG,cAAc;QACpC,KAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACvC,KAAI,CAAC,EAAE,CAAC,EAAE,GAAG,KAAI,CAAC,EAAE;QACpB,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC;QAC7C,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,uBAAQ,CAAC,MAAM,CAAC,kBAAkB,GAAG,IAAI;QAChE,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM;QAE9B,IAAI,KAAK,GAAG,4BAA4B;QACxC,KAAI,CAAC,IAAI,GAAkB,QAAQ,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC;QACjE,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,2BAA2B,CAAC;QAE5D,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,MAAM,CAAC;QACvC,KAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC;QAExC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;QAC3C,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,2BAA2B,CAAC;QAErD,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC;QAC9B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC;;IAChC,CAAC;IAGD,oCAAM,GAAN,UAAO,YAAyB;QAE/B,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAC1B;YACC,OAAM;SACN;QACD,IAAI,CAAC,SAAS,EAAE;QAChB,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;QAElC,IAAI,IAAI,CAAC,YAAY,KAAK,YAAY,EACtC;YACC,IAAI,CAAC,YAAY,GAAG,YAAY;YAChC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;SACjC;IACF,CAAC;IACF,0BAAC;AAAD,CAAC,CA/CiC,UAAU,GA+C3C;AAj/C6D,kDAAmB;;;;;;;;;;;;;;;;;;;;ACbjF,gCAAyB;AACzB,+CAAgD;AAChD,uCAA2C;AAC3C,gCAA+B;AAE/B,0CAA8C;AAG9C,IAAI,SAAS,GAAG,mBAAO,CAAC,EAAY,CAAC,CAAC;AAMrC,CAAC;AAEF;IAKC,gBAAY,IAAU;QAFtB,SAAI,GAAW,EAAE;QAGhB,IAAI,CAAC,IAAI,GAAG,IAAI;QAChB,IAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC;QACtC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC;IAE1C,CAAC;IAOD,sCAAqB,GAArB,UAAsB,YAAoB;IAE1C,CAAC;IAED,wBAAO,GAAP;QACC,OAAO,IAAI,CAAC,IAAI;IACjB,CAAC;IAEF,aAAC;AAAD,CAAC;AAzBqB,wBAAM;AA2B5B;IAA8B,4BAAM;IAOnC,kBAAY,IAAU;QAAtB,YACC,kBAAM,IAAI,CAAC,SAKX;QAXD,aAAO,GAAa,IAAI,KAAK,EAAS;QAOrC,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC;QACzC,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC;QACzC,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC;;IAEzC,CAAC;IAED,gCAAa,GAAb,UAAc,MAA2B;QAExC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC;IACnB,CAAC;IAED,0BAAO,GAAP,UAAQ,IAAY;IACpB,CAAC;IAED,6BAAU,GAAV,UAAW,IAAY;IACvB,CAAC;IAED,6BAAU,GAAV,UAAW,GAAQ;IACnB,CAAC;IAED,2BAAQ,GAAR,UAAS,KAAY;QACd,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAC3B;YACC,WAAW,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACxC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YACtB,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAClC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,YAAY,GAAG,SAAS,CAAC;YACjD,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;SAC1B;aACG;YACM,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YAC/B,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,YAAY,GAAG,SAAS,CAAC;YACjD,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;SAC1B;IACF,CAAC;IAEF,eAAC;AAAD,CAAC,CA9C6B,MAAM,GA8CnC;AA9CY,4BAAQ;AAgDrB;IAA4B,0BAAM;IA6C9B,gBAAa,IAAU;QAAvB,YAEI,kBAAM,IAAI,CAAC,SAoCd;QAxED,cAAQ,GAAG,UAAC,SAAiB,EAAE,IAAW;YAA9B,6CAAiB;YAAE,kCAAW;YAEtC,IAAI,SAAS,EACb;gBACI,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAC7C,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAC5C;YACD,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAI;gBAE3B,IAAI,CAAC,IAAI,EAAE,CAAC;YACR,CAAC,CAAC,CAAC;YACX,IAAI,IAAI,EACR;gBACI,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,KAAI,EAAE,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,0BAA0B,CAAC,CAAC;aAClH;QACL,CAAC;QAED,YAAM,GAAG,UAAC,SAAiB,EAAE,IAAW;YAA9B,6CAAiB;YAAE,kCAAW;YAEpC,IAAI,SAAS,EACb;gBACI,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAC5C,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aAC7C;YACD,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAI;gBAE3B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpB,CAAC,CAAC;YACF,IAAI,IAAI,EACR;gBACI,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,KAAI,EAAE,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,0BAA0B,CAAC,CAAC;aAClH;QACL,CAAC;QAKG,KAAI,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,CAAC;QAEpB,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC5C,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnC,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAC1C,KAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAEtC,IAAI,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,EAClD;gBACI,KAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC7B;iBAAM,IAAI,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EACxD;gBACI,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC3B;QACL,CAAC,CAAC;QAEF,KAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,KAAI,CAAC,EAAE,CAAC,CAAC;QAEtC,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC7C,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC;QAC1B,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QAE3C,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC5C,KAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,KAAI,CAAC,OAAO,EAAE,CAAC;QAC3C,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC,OAAO,EAAE,CAAC;QAE1B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;QACnC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC7B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;QAEnC,KAAI,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACzC,IAAI,IAAI,CAAC,EAAE,EACX;YACI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;SAC7B;;IACL,CAAC;IAED,sCAAqB,GAArB,UAAuB,YAAoB;QAEvC,IAAI,CAAC,YAAY,EACjB;YACI,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC;YACnC,OAAO;SACV;QACD,IAAI,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC;QACjC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QACzD,IAAI,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;QAClC,IAAI,cAAc,GAAG,EAAE,CAAC;QAExB,IAAI,KAAK,KAAK,CAAC,CAAC,EAChB;YACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EACpC;gBACI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,GAAG,KAAK,GAAG,MAAM,EACpC;oBACI,cAAc,IAAI,2CAA2C,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;iBAC3F;qBAED;oBACI,cAAc,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBACjC;aACJ;YACD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,cAAc,CAAC;SAC5C;aAED;YACI,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC;SACtC;IACL,CAAC;IAED,8BAAa,GAAb,UAAe,MAA2B;QAEtC,WAAW,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,wBAAO,GAAP,UAAS,IAAY;QAEjB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;IACpB,CAAC;IAED,2BAAU,GAAV,UAAY,IAAY;QAEpB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,2BAAU,GAAV,UAAY,GAAQ;IAEpB,CAAC;IAjIM,YAAK,GAAG,iBAAiB;IACzB,WAAI,GAAG,gBAAgB;IAkIlC,aAAC;CAAA,CA3I2B,MAAM,GA2IjC;AA3IY,wBAAM;AA6InB;IAA2B,yBAAM;IAQ7B,eAAa,IAAU,EAAE,QAAyB;QAAzB,2CAAyB;QAAlD,YAEI,kBAAM,IAAI,CAAC,SAmBd;QAlBG,KAAI,CAAC,GAAG,GAAG,KAAI,CAAC,OAAO,EAAE;QACzB,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC;QAC1C,KAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC;QACjD,IAAI,CAAC,QAAQ,EACb;YACI,KAAI,CAAC,MAAM,CAAC,WAAW,GAAG,KAAI,CAAC,OAAO,EAAE;SAC3C;QACD,IAAI,KAAI,CAAC,IAAI,CAAC,MAAM,EACpB;YACI,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;YAC9C,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC;YAC/C,KAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,KAAI,CAAC,IAAI,CAAC,MAAM;YAC5C,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC;SACrC;QACD,KAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAG1C,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;;IACxC,CAAC;IAED,qCAAqB,GAArB,UAAuB,YAAoB;QAEvC,IAAI,CAAC,YAAY,EACjB;YACI,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC;YACjC,OAAO;SACV;QACD,IAAI,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC;QACjC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QACzD,IAAI,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;QAClC,IAAI,cAAc,GAAG,EAAE,CAAC;QAExB,IAAI,KAAK,KAAK,CAAC,CAAC,EAChB;YACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EACpC;gBACI,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,GAAG,KAAK,GAAG,MAAM,EACpC;oBACI,cAAc,IAAI,2CAA2C,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;iBAC3F;qBAED;oBACI,cAAc,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBACjC;aACJ;YACD,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,cAAc,CAAC;SAC1C;aAED;YACI,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC;SACpC;IACR,CAAC;IAED,6BAAa,GAAb,UAAc,MAA2B;QAClC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3C,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACnC,CAAC;IAEE,uBAAO,GAAP,UAAS,IAAY;QAEjB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,YAAY,MAAM,CAAC,EACzC;YACI,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;SAClC;IACR,CAAC;IAED,0BAAU,GAAV,UAAW,IAAY;QACtB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED,0BAAU,GAAV,UAAW,GAAQ;QACZ,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,GAAG,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;IAC7B,CAAC;IAEF,YAAC;AAAD,CAAC,CAxF0B,MAAM,GAwFhC;AAxFY,sBAAK;AA0FlB;IAA6B,2BAAK;IAE9B,iBAAa,IAAU;QAAvB,YAEI,kBAAM,IAAI,CAAC,SAQd;QAPG,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAClD,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACvD,IAAI,IAAI,CAAC,EAAE,EACX;YACI,KAAI,CAAC,WAAW,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;SACjC;QACD,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;;IAC1C,CAAC;IAEJ,4BAAU,GAAV,UAAW,GAAQ;QACZ,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,GAAG,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QAC5B,IAAI,OAAO,GAAG,KAAK,QAAQ,EAC3B;YACC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EACpB;gBACC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,EAC5B;oBACgB,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;iBACxD;qBAED;oBACgB,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;iBAC9D;aACD;YACQ,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,GAAG,CAAC;SAC5C;aACD;YACU,IAAI,IAAI,GAAG,EAAE,CAAC;YACvB,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE;gBAChB,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,EACvB;oBACgB,IAAI,GAAG,KAAG,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,MAAM,CAAG,CAAC;iBACzD;qBACD;oBACgB,IAAI,GAAM,GAAG,CAAC,UAAU,CAAC,SAAI,GAAG,CAAC,MAAM,CAAG,CAAC;iBAC1D;aACD;YACQ,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC;SACvC;IACR,CAAC;IACF,cAAC;AAAD,CAAC,CA9C4B,KAAK,GA8CjC;AA9CY,0BAAO;AAgDpB;IAA2B,yBAAK;IAK/B,eAAY,IAAU;QAAtB,YACC,kBAAM,IAAI,CAAC,SAiFX;QAhFA,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACpD,KAAI,CAAC,OAAO,CAAC,eAAe,GAAG,MAAM,CAAC;QACtC,IAAG,IAAI,CAAC,EAAE,EACV;YACC,KAAI,CAAC,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;SAC1B;QACD,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QAE5B,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAErC,EAAE,CAAC,cAAc,EAAE,CAAC;YACpB,EAAE,CAAC,eAAe,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAErC,sBAAS,CAAC,sBAAsB,GAAG,IAAI,CAAC;YACxC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,kBAAkB,EAChE;gBACI,OAAO;aACV;YACD,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,IAAI,KAAI,CAAC,IAAI,CAAC,MAAM,IAAI,KAAI,CAAC,IAAI,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,SAAS,KAAK,OAAO,IAAI,KAAI,CAAC,IAAI,CAAC,SAAS,KAAK,SAAS,CAAC,EAC3G;gBACI,UAAU,CAAC;oBAEP,KAAI,CAAC,OAAO,CAAC,WAAW,GAAG,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;oBAC3E,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;gBAC7B,CAAC,EAAE,GAAG,CAAC,CAAC;aACX;iBAED;gBACI,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;aAC5B;QACL,CAAC,CAAC,CAAC;QAET,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,MAAM,EAAE,YAAE;YAE9B,sBAAS,CAAC,sBAAsB,GAAG,KAAK,CAAC;YAClD,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,KAAI,CAAC,eAAe,EACxF;gBACC,OAAO;aACP;YACD,IAAI,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC;YACnC,IAAI,KAAI,CAAC,IAAI,CAAC,MAAM,EACpB;gBACC,GAAG,GAAG,KAAI,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;aAC3I;YACD,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CACrB,YAAY,EACZ,KAAI,EACJ,GAAG,CAAC,CAAC;QACP,CAAC,CAAC;QAEF,IAAI,KAAI,CAAC,IAAI,CAAC,SAAS,KAAK,MAAM,EAClC;YACC,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAE;gBAE1C,IAAI,EAAE,CAAC,OAAO,KAAK,EAAE,EACrB;oBACC,EAAE,CAAC,cAAc,EAAE,CAAC;oBACpB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,kBAAkB,EAChE;wBACC,OAAO;qBACP;oBACD,IAAI,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC;oBACnC,IAAI,KAAI,CAAC,IAAI,CAAC,MAAM,EACpB;wBACC,GAAG,GAAG,KAAI,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;qBAC3I;oBACD,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CACrB,YAAY,EACZ,KAAI,EACJ,GAAG,CAAC,CAAC;oBACN,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;oBAC5B,KAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;iBACpB;YACF,CAAC,CAAC;SACF;;IACF,CAAC;IAED,0BAAU,GAAV,UAAW,GAAQ;QAEZ,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QACtB,IAAI,OAAO,GAAG,KAAK,QAAQ,EAC3B;YACI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EACpB;gBACI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,EAC5B;oBACI,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;iBAC5C;qBAED;oBACI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;iBACvG;aACJ;YACD,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC;SAClC;aAED;YACI,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;YACxB,IAAI,GAAG,CAAC,MAAM,CAAC,EACf;gBACI,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,EACvB;oBACI,IAAI,GAAG,KAAG,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,MAAM,CAAG,CAAC;iBAC7C;qBAED;oBACI,IAAI,GAAM,GAAG,CAAC,UAAU,CAAC,SAAI,GAAG,CAAC,MAAM,CAAG,CAAC;iBAC9C;aACJ;YACD,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;SACnC;IACL,CAAC;IACL,YAAC;AAAD,CAAC,CA7H0B,KAAK,GA6H/B;AA7HY,sBAAK;AA+HlB;IAA8B,4BAAK;IAgBlC,kBAAY,IAAU;QAAtB,YACC,kBAAM,IAAI,CAAC,SAuTR;QA/TD,yBAAmB,GAAa,EAAE;QAClC,uBAAiB,GAAa,EAAE;QAChC,qBAAe,GAAa,EAAE;QAC9B,mBAAa,GAAa,EAAE;QAC5B,mBAAa,GAAa,EAAE;QAC5B,oBAAc,GAAa,EAAE;QAI/B,IAAG,IAAI,CAAC,EAAE,EACV;YACC,KAAI,CAAC,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;SACpB;QAED,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACnD,KAAI,CAAC,YAAY,CAAC,SAAS,GAAG,6BAA6B,CAAC;QAE5D,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,uBAAuB,CAAC;QACjD,KAAI,CAAC,OAAO,CAAC,eAAe,GAAG,MAAM,CAAC;QACtC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,mBAAmB,CAAC;QAC/C,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;QACzC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAEvC,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC5C,KAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,mBAAmB,CAAC;QAC9C,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACvC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;QACnC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC1C,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;QACvC,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QAC5C,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;QAC7C,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;QACvC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;QAGvC,KAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,WAAC;YAErB,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,KAAI,EAAE,gBAAgB,CAAC,CAAC;YAE7D,IAAI,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACnD,cAAc,CAAC,SAAS,GAAG,8BAA8B,CAAC;YAE1D,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,SAAS,CAAC,SAAS,GAAG,0BAA0B,CAAC;YACjD,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YACtC,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAChD,WAAW,CAAC,SAAS,GAAG,+BAA+B,CAAC;YACxD,cAAc,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YACxC,IAAI,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC/C,UAAU,CAAC,SAAS,GAAG,0BAA0B,CAAC;YAClD,cAAc,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YACvC,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC7C,QAAQ,CAAC,SAAS,GAAG,+BAA+B,CAAC;YACrD,cAAc,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAErC,IAAI,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC7C,UAAU,CAAC,SAAS,GAAG,8CAA8C,CAAC;YACtE,UAAU,CAAC,OAAO,GAAG,WAAC;gBAElB,cAAc,CAAC,MAAM,EAAE,CAAC;YAC5B,CAAC;YACD,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YAEjC,IAAI,kBAAkB,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACzD,kBAAkB,CAAC,SAAS,GAAG,4BAA4B,CAAC;YAC5D,IAAI,0BAA0B,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC7D,0BAA0B,CAAC,SAAS,GAAG,+CAA+C,CAAC;YACvF,0BAA0B,CAAC,KAAK,CAAC,IAAI,GAAG,kBAAkB,CAAC;YAC3D,0BAA0B,CAAC,OAAO,GAAG,WAAC;gBAElC,IAAI,kBAAkB,CAAC,KAAK,IAAI,kBAAkB,CAAC,KAAK,KAAK,EAAE,EAC/D;oBACI,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;oBAC3B,kBAAkB,CAAC,KAAK,GAAG,EAAE,CAAC;oBAC9B,KAAI,CAAC,sBAAsB,GAAG,SAAS,CAAC;oBACxC,CAAC,CAAC,0BAA0B,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;oBAC5E,0BAA0B,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;oBAC7C,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBACtB;YACL,CAAC;YACD,kBAAkB,CAAC,OAAO,GAAG,WAAC;gBAE1B,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;gBAC3B,IAAI,CAAC,kBAAkB,CAAC,KAAK,IAAI,kBAAkB,CAAC,KAAK,KAAK,EAAE,IAAI,kBAAkB,CAAC,KAAK,KAAK,IAAI,EACrG;oBACI,CAAC,CAAC,0BAA0B,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;oBAC5E,0BAA0B,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;iBAChD;qBAED;oBACI,CAAC,CAAC,0BAA0B,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;oBAC5E,0BAA0B,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;iBACvD;gBACD,KAAI,CAAC,sBAAsB,GAAG,kBAAkB,CAAC,KAAK,CAAC;gBACvD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC;YACD,SAAS,CAAC,WAAW,CAAC,0BAA0B,CAAC,CAAC;YAClD,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;YAC1C,IAAI,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YACvD,gBAAgB,CAAC,SAAS,GAAG,4BAA4B,CAAC;YAC1D,IAAI,wBAAwB,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC3D,wBAAwB,CAAC,SAAS,GAAG,+CAA+C,CAAC;YACrF,wBAAwB,CAAC,KAAK,CAAC,KAAK,GAAG,kBAAkB,CAAC;YAC1D,wBAAwB,CAAC,OAAO,GAAG,WAAC;gBAEhC,IAAI,gBAAgB,CAAC,KAAK,IAAI,gBAAgB,CAAC,KAAK,KAAK,EAAE,EAC3D;oBACI,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAC1B,gBAAgB,CAAC,KAAK,GAAG,EAAE,CAAC;oBAC5B,KAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;oBACtC,CAAC,CAAC,wBAAwB,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;oBAC1E,wBAAwB,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;oBAC3C,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;iBACrB;YACL,CAAC;YACD,gBAAgB,CAAC,OAAO,GAAG,WAAC;gBAExB,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC1B,IAAI,CAAC,gBAAgB,CAAC,KAAK,IAAI,gBAAgB,CAAC,KAAK,KAAK,EAAE,IAAI,gBAAgB,CAAC,KAAK,KAAK,IAAI,EAC/F;oBACI,CAAC,CAAC,wBAAwB,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;oBAC1E,wBAAwB,CAAC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;iBAC9C;qBAED;oBACI,CAAC,CAAC,wBAAwB,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;oBAC1E,wBAAwB,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;iBACrD;gBACD,KAAI,CAAC,oBAAoB,GAAG,gBAAgB,CAAC,KAAK,CAAC;gBACnD,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACtB,CAAC;YACD,UAAU,CAAC,WAAW,CAAC,wBAAwB,CAAC,CAAC;YACjD,UAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;YAEzC,KAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACrD,KAAI,CAAC,eAAe,CAAC,SAAS,GAAG,4BAA4B,CAAC;YAC9D,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,eAAe,CAAC,CAAC;YAC5C,KAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACnD,KAAI,CAAC,aAAa,CAAC,SAAS,GAAG,4BAA4B,CAAC;YAC5D,UAAU,CAAC,WAAW,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;YAE3C,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAChD,aAAa,CAAC,SAAS,GAAG,uDAAuD,CAAC;YAClF,aAAa,CAAC,OAAO,GAAG,WAAC;gBAErB,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,eAAe,CAAC;gBAC1C,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACrC,CAAC;YACD,WAAW,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;YACvC,IAAI,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC7C,UAAU,CAAC,SAAS,GAAG,gDAAgD,CAAC;YACxE,UAAU,CAAC,OAAO,GAAG,WAAC;gBAElB,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACrC,CAAC;YACD,WAAW,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YACpC,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC/C,YAAY,CAAC,SAAS,GAAG,+CAA+C,CAAC;YACzE,YAAY,CAAC,OAAO,GAAG,WAAC;gBAEpB,KAAI,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YACrC,CAAC;YACD,WAAW,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACtC,IAAI,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAClD,eAAe,CAAC,SAAS,GAAG,sDAAsD,CAAC;YACnF,eAAe,CAAC,OAAO,GAAG,WAAC;gBAEvB,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,aAAa,CAAC;gBACzC,KAAI,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YACrC,CAAC;YACD,WAAW,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;YAEzC,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC5C,SAAS,CAAC,SAAS,GAAG,oDAAoD,CAAC;YAC3E,SAAS,CAAC,OAAO,GAAG,WAAC;gBAEjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EACnD;oBACI,IAAI,MAAI,GAAG,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;oBAClC,IAAI,KAAK,GAAG,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;oBACjD,IAAI,SAAS,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;oBACjD,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBACxC,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;oBACrC,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;oBACxC,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;iBACpC;gBACD,KAAI,CAAC,cAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACtC,CAAC;YACD,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACzC,MAAM,CAAC,SAAS,GAAG,6CAA6C,CAAC;YACjE,MAAM,CAAC,OAAO,GAAG,WAAC;gBAEd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EACtD;oBACI,IAAI,MAAI,GAAG,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;oBACrC,IAAI,aAAa,GAAG,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC7D,IAAI,SAAS,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;oBACjD,IAAI,aAAa,IAAI,CAAC,KAAK,CAAC,EAC5B;wBACI,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC1D,KAAI,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,MAAI,CAAC;wBACrC,IAAI,cAAc,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC3E,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;wBACnE,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,MAAI,CAAC;qBAC7C;iBACJ;gBACD,KAAI,CAAC,cAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACtC,CAAC;YACD,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC9C,WAAW,CAAC,SAAS,GAAG,sDAAsD,CAAC;YAC/E,WAAW,CAAC,OAAO,GAAG,WAAC;gBAEnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EACnD;oBACI,IAAI,MAAI,GAAG,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;oBAClC,IAAI,KAAK,GAAG,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;oBACjD,IAAI,SAAS,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;oBACjD,KAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBACxC,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAI,CAAC,CAAC;oBAClC,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;oBACxC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAI,CAAC,CAAC;iBACjC;gBACD,KAAI,CAAC,cAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACtC,CAAC;YACD,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC3C,QAAQ,CAAC,SAAS,GAAG,+CAA+C,CAAC;YACrE,QAAQ,CAAC,OAAO,GAAG,WAAC;gBAEhB,KAAK,IAAI,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAC3D;oBACI,IAAI,MAAI,GAAG,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;oBACrC,IAAI,aAAa,GAAG,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC7D,IAAI,SAAS,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAI,CAAC,CAAC;oBACjD,IAAI,aAAa,IAAI,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAC1D;wBACI,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,KAAI,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC1D,KAAI,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,MAAI,CAAC;wBACrC,IAAI,cAAc,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC3E,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;wBACnE,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,MAAI,CAAC;qBAC7C;iBACJ;gBACD,KAAI,CAAC,cAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACtC,CAAC;YACD,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAChC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC7B,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAC/B,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;YAElC,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACpD,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC;YAChC,YAAY,CAAC,SAAS,GAAG,oCAAoC,CAAC;YAC9D,YAAY,CAAC,OAAO,GAAG,WAAC;gBAEpB,cAAc,CAAC,MAAM,EAAE,CAAC;gBACxB,IAAI,GAAG,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACvC,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAClB,YAAY,EACZ,KAAI,EACJ,GAAG,CAAC,CAAC;YACb,CAAC;YACD,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC;YAClC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAC9C,CAAC;QAED,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAErC,EAAE,CAAC,cAAc,EAAE,CAAC;YACpB,EAAE,CAAC,eAAe,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAErC,sBAAS,CAAC,sBAAsB,GAAG,IAAI,CAAC;YACxC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,kBAAkB,EAChE;gBACI,OAAO;aACV;YACD,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;QAEH,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,MAAM,EAAE,YAAE;YAEpC,sBAAS,CAAC,sBAAsB,GAAG,KAAK,CAAC;YACzC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,KAAI,CAAC,eAAe,EACxF;gBACI,OAAO;aACV;YACD,IAAI,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC;YACnC,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAClB,YAAY,EACZ,KAAI,EACJ,GAAG,CAAC,CAAC;QACb,CAAC,CAAC,CAAC;QAEH,KAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAE;YAEvC,IAAI,EAAE,CAAC,OAAO,KAAK,EAAE,EACrB;gBACI,EAAE,CAAC,cAAc,EAAE,CAAC;gBACpB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,kBAAkB,EAChE;oBACI,OAAO;iBACV;gBACD,IAAI,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC;gBACnC,IAAI,KAAI,CAAC,IAAI,CAAC,MAAM,EACpB;oBACI,GAAG,GAAG,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;iBACzD;gBACD,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAClB,YAAY,EACZ,KAAI,EACJ,GAAG,CAAC,CAAC;gBACT,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,KAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;aACvB;QACL,CAAC,CAAC;;IACN,CAAC;IAED,yBAAM,GAAN,UAAQ,WAAoB;QAA5B,iBAyCC;QAvCG,IAAI,YAAY,GAAG,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,IAAI,CAAC,sBAAsB,CAAC;QACzF,IAAI,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;QAClE,IAAI,WAAW,EACf;YACI,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;SAC/B;aAED;YACI,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;SACjC;QACD,IAAI,YAAY,IAAI,YAAY,KAAK,EAAE,IAAI,YAAY,KAAK,IAAI,EAChE;YACI,GAAG,CAAC,OAAO,CAAC,UAAC,IAAY;gBAErB,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EACjE;oBACI,IAAI,WAAW,EACf;wBACI,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBACrC;yBAED;wBACI,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC;qBACtC;iBACJ;YACL,CAAC,CAAC,CAAC;SACN;aAED;YACI,IAAI,WAAW,EACf;gBACI,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC;aACxC;iBAED;gBACI,IAAI,CAAC,mBAAmB,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC;aAC1C;SACJ;QACD,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;IACrC,CAAC;IAED,+BAAY,GAAZ,UAAc,KAAK,EAAE,IAAI;QAAzB,iBAqCC;QAnCG,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;QACjC,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,EAChD;YACI,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;SAChC;QACD,IAAI,UAAU,CAAC;QACf,IAAI,KAAK,IAAI,KAAK,CAAC,UAAU,EAC7B;YACI,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YACrF,UAAU,CAAC,OAAO,CAAC,UAAC,IAAY,EAAE,KAAa;gBAE3C,UAAU,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC;YACnC,CAAC,CAAC,CAAC;SACN;QACD,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,EAC1B;YACI,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACnF,UAAU,GAAG,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAC3C,UAAU,CAAC,OAAO,CAAC,UAAC,SAAiB;gBAEjC,IAAI,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EACrC;oBACI,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBACxC;YACL,CAAC,CAAC,CAAC;SACN;QACD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QACpD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QACxD,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACtC,CAAC;IAED,iCAAc,GAAd,UAAgB,WAAoB;QAEhC,IAAI,WAAW,EACf;YACI,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAC,IAAY;gBAEpC,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACvC,IAAI,EAAE,EACN;oBACI,EAAE,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC;iBACtC;YACL,CAAC,CAAC,CAAC;SACN;aAED;YACI,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,UAAC,IAAY;gBAEtC,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBACvC,IAAI,EAAE,EACN;oBACI,EAAE,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC;iBACtC;YACL,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,iCAAc,GAAd,UAAgB,WAAoB;QAApC,iBA4EC;QA1EG,IAAI,CAAC,WAAW,EAChB;YACI,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,CAAC;YAChC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,cAAI;gBAEjC,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC1C,KAAK,CAAC,SAAS,GAAG,wBAAwB,CAAC;gBAC3C,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAClC,IAAI,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACvD,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC;gBAC/B,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC;gBAChB,IAAI,MAAM,EACV;oBACI,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;iBACpC;gBACD,IAAI,KAAK,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC7C,IAAI,KAAK,KAAK,CAAC,CAAC,EAChB;oBACI,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,oBAAoB,CAAC;iBACtD;gBACD,KAAK,CAAC,OAAO,GAAG,WAAC;oBAEb,KAAK,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBACzC,IAAI,KAAK,KAAK,CAAC,CAAC,EAChB;wBACI,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;wBACpC,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC;qBACzC;yBAED;wBACI,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC9B,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,oBAAoB,CAAC;qBACtD;gBACL,CAAC;gBACD,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAC;SACN;aAED;YACI,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC;YAC9B,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,cAAI;gBAE/B,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC1C,KAAK,CAAC,SAAS,GAAG,wBAAwB,CAAC;gBAC3C,IAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAClC,IAAI,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACvD,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC;gBAC/B,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC;gBAChB,IAAI,MAAM,EACV;oBACI,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;iBACpC;gBACD,IAAI,KAAK,GAAG,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC9C,IAAI,KAAK,KAAK,CAAC,CAAC,EAChB;oBACI,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,oBAAoB,CAAC;iBACtD;gBACD,KAAK,CAAC,OAAO,GAAG,WAAC;oBAEb,KAAK,GAAG,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAC1C,IAAI,KAAK,KAAK,CAAC,CAAC,EAChB;wBACI,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;wBACrC,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,CAAC;qBACzC;yBAED;wBACI,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC/B,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,oBAAoB,CAAC;qBACtD;gBACL,CAAC;gBACD,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,iCAAc,GAAd,UAAgB,cAAuB,EAAE,mBAA4B;QAArE,iBAwBC;QAtBG,IAAI,cAAc,EAClB;YACI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACnE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,cAAI;gBAEnD,IAAI,KAAK,GAAG,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC7C,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;SAC3B;aACI,IAAG,mBAAmB,EAC3B;YACI,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACxE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,cAAI;gBAE/C,IAAI,KAAK,GAAG,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC9C,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACvB,CAAC;IAEJ,6BAAU,GAAV,UAAW,GAAQ;QAEZ,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QACtB,IAAI,OAAO,GAAG,KAAK,QAAQ,EAC3B;YACI,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC;SAClC;aAED;YACI,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;SACnC;IACL,CAAC;IACL,eAAC;AAAD,CAAC,CA7iB6B,KAAK,GA6iBlC;AA7iBY,4BAAQ;AA+iBrB;IAA8B,4BAAK;IASlC,kBAAY,IAAU,EAAE,YAAsB;QAA9C,YAEC,kBAAM,IAAI,CAAC,SA6CX;QAlDD,SAAG,GAAY,KAAK;QACpB,kBAAY,GAAY,KAAK;QAK5B,IAAI,YAAY,EAChB;YACC,KAAI,CAAC,YAAY,GAAG,YAAY;SAChC;QACD,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAI,CAAC,SAAS,CAAC,SAAS,GAAG,qBAAqB,CAAC;QACjD,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QACxC,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;QAE9B,KAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACtD,KAAI,CAAC,cAAc,CAAC,IAAI,GAAG,UAAU,CAAC;QAC5C,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC3C,KAAI,CAAC,cAAc,CAAC,KAAK,GAAG,KAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAChD,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,EAChB;YACC,KAAI,CAAC,cAAc,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;SACjC;QACK,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC;QAEhD,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3C,KAAI,CAAC,KAAK,CAAC,SAAS,GAAG,2BAA2B,CAAC;QACnD,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;QAEvC,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC7C,KAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,eAAe,CAAC;QAC1C,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;QAE5C,KAAI,CAAC,KAAK,CAAC,OAAO,GAAG,WAAC;YAErB,IAAI,GAAG,GAAG,KAAI,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC;YACtC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACrB,IAAI,KAAI,CAAC,YAAY,EACrB;gBACC,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE,KAAI,EAAE,KAAI,CAAC,GAAG,CAAC,CAAC;aAC9D;iBAED;gBACC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,EAAE,EAC5E;oBACC,OAAO;iBACP;gBACD,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,KAAI,EAAE,KAAI,CAAC,GAAG,CAAC,CAAC;aACrD;QACF,CAAC,CAAC;;IACH,CAAC;IAEE,6BAAU,GAAV,UAAW,GAAG;QAEV,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,KAAK,MAAM,CAAC,CAAC;QAC5B,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QAC3B,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,GAAG,CAAC;QAChC,IAAI,IAAI,CAAC,GAAG,EACZ;YACI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;SACjE;aAED;YACI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;SACjE;IAEL,CAAC;IAED,yBAAM,GAAN,UAAO,GAAG;QAEN,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;IAEL,eAAC;AAAD,CAAC,CA/E6B,KAAK,GA+ElC;AA/EY,4BAAQ;AAiFrB;IAA0B,wBAAM;IAQ/B,cAAY,IAAU;QAAtB,YACC,kBAAM,IAAI,CAAC,SAqBX;QApBA,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACb,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,qBAAqB,EAAE,UAAC,OAAO,EAAE,KAAK;YAEvD,IAAI,KAAK,GAAG,KAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClE,IAAI,KAAK,EACT;gBACI,IAAI,KAAK,KAAK,CAAC,CAAC,EAChB;oBACI,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACtD;aACJ;iBAED;gBACI,IAAI,KAAK,IAAI,CAAC,CAAC,EACf;oBACI,KAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBAC/C;aACJ;YACD,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,KAAI,EAAE,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACpF,CAAC,CAAC,CAAC;;IACV,CAAC;IAED,yBAAU,GAAV,UAAW,OAAqB;QAAhC,iBAWC;QATA,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,OAAO,CAAC,OAAO,CAAC,gBAAM;YAErB,IAAI,IAAI,GAAG,IAAI,OAAI,CAAC,KAAI,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;YAC3D,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9B,IAAI,CAAC,MAAM,GAAG,KAAI,CAAC,IAAI,CAAC;YACxB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,yBAAU,GAAV,UAAW,GAAQ;QAClB,IAAI,CAAC,qBAAqB,GAAI,GAAc,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACxD,KAAkB,UAAkB,EAAlB,SAAI,CAAC,IAAI,CAAC,QAAQ,EAAlB,cAAkB,EAAlB,IAAkB,EACpC;YADK,IAAI,KAAK;YAEJ,IAAI,KAAK,GAAG,KAAK,CAAC,MAAkB,CAAC;YACrC,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;SACtG;IACF,CAAC;IACF,WAAC;AAAD,CAAC,CArDyB,MAAM,GAqD/B;AArDY,oBAAI;AAuDjB;IAA4B,0BAAK;IAE7B,gBAAa,IAAU;QAAvB,YAEF,kBAAM,IAAI,EAAE,IAAI,CAAC,SAMjB;QALA,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;QAChD,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC;QACrD,KAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI;QACrC,KAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QAC3B,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC;;IACnC,CAAC;IAED,2BAAU,GAAV,UAAW,GAAQ;IAEnB,CAAC;IACF,aAAC;AAAD,CAAC,CAf2B,KAAK,GAehC;AAfY,wBAAM;AAiBnB;IAAwC,sCAAK;IAE5C,4BAAY,IAAU;QAAtB,YACC,kBAAM,IAAI,CAAC,SAGX;QAFA,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC3C,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,MAAM,CAAC;;IACjC,CAAC;IAED,iCAAI,GAAJ,UAAK,IAAI;QAGR,KAAmB,UAAI,EAAJ,aAAI,EAAJ,kBAAI,EAAJ,IAAI,EAAE;YAAhB,mBAAM,EAAL,SAAC,EAAE,SAAC;YACb,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;YACxC,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC;SAC7B;IACF,CAAC;IAED,kCAAK,GAAL;QACC,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;YAC9B,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC;SAC/C;IACF,CAAC;IACF,yBAAC;AAAD,CAAC,CAvBuC,KAAK,GAuB5C;AAvBY,gDAAkB;AAyB/B;IAA4B,0BAAK;IAEhC,gBAAY,IAAU;QAAtB,YACC,kBAAM,IAAI,CAAC,SAiBX;QAhBA,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;QAChD,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC;QACrD,IAAG,IAAI,CAAC,EAAE,EACV;YACC,KAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE;SAC1B;QAEK,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC;QACxC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,EAAE,EACtE;;SAEC;QACP,KAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG;YACxB,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,KAAI,EAAE,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;QAChE,CAAC;;IAEF,CAAC;IAEE,2BAAU,GAAV,UAAY,GAAQ;QAEhB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC;IACjC,CAAC;IAEE,2BAAU,GAAV,UAAY,QAAkB,EAAE,WAAqB;QAEvD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACzC,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC;YACzC,EAAE,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC;YAC5B,EAAE,CAAC,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC;SAC7B;IACF,CAAC;IACF,aAAC;AAAD,CAAC,CArC2B,KAAK,GAqChC;AArCY,wBAAM;AAuCnB,mBAAmB,GAAG;IACrB,IAAI,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAEvB,IAAI,IAAI;IACR,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;QAClB,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;KACpB;SAAM;QACN,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;KACpB;IAGD,MAAM,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IAE5B,CAAC,GAAG,CAAC,MAAM,IAAI,EAAE,CAAC,GAAG,GAAG,CAAC;IACzB,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC;IACxB,CAAC,GAAG,MAAM,GAAG,GAAG,CAAC;IACjB,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;IAChC,CAAC,GAAG,CAAC,CAAC,MAAM,IAAI,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;IAEjC,OAAO;QACN,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC;QACJ,CAAC,EAAE,CAAC;KACJ;AACF,CAAC;AAED;IAAiC,+BAAK;IAOrC,qBAAY,IAAU;QAAtB,YACO,kBAAM,IAAI,CAAC,SAWjB;QAhBD,kBAAY,GAAY,KAAK;QAOtB,KAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAClD,KAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAE9D,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;QAEtC,KAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAEzC,KAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,EAAE,KAAK,CAAC,CAAC;;IACjB,CAAC;IAED,iCAAW,GAAX;QAAA,iBAIC;QAHM,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAC9D,IAAI,CAAC,OAAO,GAAG,IAAI,8BAAa,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC9D,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,mBAAmB,EAAE,eAAK,IAAI,YAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAA9B,CAA8B,CAAC,CAAC;IACrF,CAAC;IAED,wCAAkB,GAAlB,UAAmB,KAAK;QAEjB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;QACpD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC;QAC/C,IAAI,OAAO,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;QAC7C,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAChC;YACI,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC/D,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC;SAC/C;QACD,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAChE;YACI,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IAC3D,CAAC;IAED,0BAAI,GAAJ;QACO,OAAO,IAAI,CAAC,EAAE,CAAC;IACtB,CAAC;IAEE,gCAAU,GAAV,UAAY,QAAa;QAErB,IAAI,SAAS,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC;QACzB,IAAI,QAAQ,CAAC;QACnB,IAAG,IAAI,CAAC,SAAS,EAAE;YACT,QAAQ,GAAG,UAAQ,SAAS,CAAC,CAAC,UAAK,SAAS,CAAC,CAAC,UAAK,SAAS,CAAC,CAAC,UAAK,IAAI,CAAC,KAAK,MAAG,CAAC;SAC1F;aACI;YACK,QAAQ,GAAG,SAAO,SAAS,CAAC,CAAC,UAAK,SAAS,CAAC,CAAC,UAAK,SAAS,CAAC,CAAC,MAAG,CAAC;SAC1E;QACD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACd,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,QAAQ,CAAC;YACpD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAClC;QAEK,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,QAAQ,CAAC;QACvD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAC;IACzD,CAAC;IACF,kBAAC;AAAD,CAAC,CArEgC,KAAK,GAqErC;AArEY,kCAAW;AAuExB;IAA4B,0BAAK;IAUhC,gBAAY,IAAU;QAAtB,YAEC,kBAAM,IAAI,CAAC,SAkEX;QAtED,qBAAe,GAAY,KAAK;QAsJhC,qBAAe,GAAG,UAAU,CAAC;YAE5B,IAAI,gBAAwB,CAAC;YAC7B,IAAI,CAAC,CAAC,OAAO,EACb;gBACC,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aACrG;iBAED;gBACC,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aAC1F;YACD,IAAI,sBAAsB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,CAAC;YACzE,IAAI,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC;YACxC,IAAI,2BAA2B,CAAC;YAChC,IAAI,gBAAgB,IAAI,CAAC,EACzB;gBACC,2BAA2B,GAAG,KAAK,CAAC;aAEpC;iBAED;gBACC,2BAA2B,GAAG,GAAG,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,GAAG,GAAG,CAAC;aAChF;YACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;YACtD,IAAI,CAAC,UAAU,CAAC,sBAAsB,GAAG,GAAG,CAAC,CAAC;QAC/C,CAAC;QAED,mBAAa,GAAG,UAAU,CAAC;YAE1B,IAAI,gBAAwB,CAAC;YAC7B,IAAI,CAAC,CAAC,OAAO,EACb;gBACC,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aAChH;iBAED;gBACC,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aAC9F;YACD,IAAI,sBAAsB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,CAAC;YACzE,IAAI,CAAC,UAAU,CAAC,sBAAsB,GAAG,GAAG,CAAC,CAAC;YACxC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,sBAAsB,GAAG,GAAG,CAAC,CAAC;YACzE,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,sBAAsB,GAAG,GAAG,CAAC;YACrD,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAC5D,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAChE,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC;YAC/D,QAAQ,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;QAC7D,CAAC;QAED,qBAAe,GAAG,UAAU,CAAC;YAE5B,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;YACvD,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC;YAChD,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YACzD,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAC7D,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC;YAC5D,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;QAC1D,CAAC;QA5MA,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,KAAI,CAAC,SAAS,CAAC,SAAS,GAAG,yBAAyB,CAAC;QACrD,KAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvD,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvD,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAEnD,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;QAEpC,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC/C,KAAI,CAAC,OAAO,CAAC,SAAS,GAAG,oBAAoB,CAAC;QAC9C,KAAI,CAAC,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC;QACvB,KAAI,CAAC,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC;QACzB,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAClC,KAAI,CAAC,OAAO,CAAC,MAAM,GAAG,YAAE;YAEvB,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,KAAI,EAAE,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;YACxE,KAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;YACtD,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;QACjE,CAAC,CAAC;QAEF,KAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,YAAE;YAEzB,KAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;QAC7B,CAAC,CAAC;QACF,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QAGzC,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClD,aAAa,CAAC,SAAS,GAAG,gBAAgB,CAAC;QAC3C,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,mBAAmB,CAAC;QAChD,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAG1C,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtC,SAAS,CAAC,SAAS,GAAG,YAAY,CAAC;QACnC,aAAa,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAGrC,KAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC7C,KAAI,CAAC,MAAM,CAAC,SAAS,GAAG,mBAAmB,CAAC;QAC5C,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAEnC,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC;QACrC,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;QACrD,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;QACrC,KAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,YAAY,EAAE,KAAI,CAAC,eAAe,CAAC;QAClE,KAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,YAAE;YAE7B,KAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QAC1B,CAAC;QAED,SAAS,CAAC,WAAW,GAAG,YAAE;YAEzB,KAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC;QAGF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC9C,QAAQ,CAAC,SAAS,GAAG,kBAAkB,CAAC;QACxC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC9B,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;;IACjC,CAAC;IAED,2BAAU,GAAV,UAAW,GAAG;QAEb,IAAI,UAAU,GAAG,KAAK,CAAC;QACjB,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,SAAS,EACxF;YACI,UAAU,GAAG,IAAI,CAAC;SACrB;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;QAChD,IAAI,UAAU,IAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EACrF;YACC,IAAI,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC;YACpE,IAAI,gBAAgB,GAAG,WAAW,GAAG,GAAG,CAAC;YACzC,IAAI,gBAAgB,GAAG,WAAW,CAAC;YACnC,IAAI,2BAA2B,UAAC;YAChC,IAAI,gBAAgB,IAAI,CAAC,EACzB;gBACC,2BAA2B,GAAG,KAAK,CAAC;aACpC;iBAED;gBACC,2BAA2B,GAAG,GAAG,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,GAAG,GAAG,CAAC;aAChF;YACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;SACtD;IACF,CAAC;IAED,uBAAM,GAAN,UAAO,GAAG;QAET,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;IAC3B,CAAC;IAED,mCAAkB,GAAlB,UAAmB,CAAC;QAEnB,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QACzB,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC;QAChE,IAAI,gBAAgB,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QACjD,IAAI,gBAAgB,GAAG,WAAW,CAAC;QACnC,IAAI,2BAA2B,CAAC;QAChC,IAAI,gBAAgB,IAAI,CAAC,EACzB;YACC,2BAA2B,GAAG,KAAK,CAAC;SAEpC;aAED;YACC,2BAA2B,GAAG,GAAG,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,GAAG,GAAG,CAAC;SAChF;QACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,CAAC,CAAC;QACtD,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC;IACnC,CAAC;IAED,4BAAW,GAAX,UAAY,CAAC;QAEZ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC;QACvC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;QAC9C,IAAI,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9F,IAAI,sBAAsB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,CAAC;QACzE,IAAI,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC;QACxC,IAAI,2BAA2B,CAAC;QAChC,IAAI,gBAAgB,IAAI,CAAC,EACzB;YACC,2BAA2B,GAAG,KAAK,CAAC;SAEpC;aAED;YACC,2BAA2B,GAAG,GAAG,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,GAAG,GAAG,CAAC;SAChF;QACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;QACtD,IAAI,CAAC,UAAU,CAAC,sBAAsB,GAAG,GAAG,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,sBAAsB,GAAG,GAAG,CAAC,CAAC;QACzE,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,sBAAsB,GAAG,GAAG,CAAC;IACtD,CAAC;IA8DF,aAAC;AAAD,CAAC,CA1N2B,KAAK,GA0NhC;AA1NY,wBAAM;AA4NnB;IAUI,sBAAY,MAAmB,EAAE,KAAa,EAAE,GAAW,EAAE,aAAkB;QAA/E,iBAiCC;QA/BH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,4BAA4B,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAElC,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,UAAU,CAAC;QACtC,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QAC3C,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACrC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAEhD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,0BAA0B,CAAC;QACpD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEzC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,0BAA0B,CAAC;QAC5C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEvC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,eAAe,CAAC;QAC1C,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE5C,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,WAAC;YAEhB,IAAI,GAAG,GAAG,KAAI,CAAC,GAAG,KAAK,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC;YACjD,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC5B,aAAa,CAAC,GAAG,CAAC,CAAC;QACpB,CAAC,CAAC;QACF,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IACjB,CAAC;IAED,+BAAQ,GAAR,UAAS,GAAW;QAEtB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QACrC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,KAAK,MAAM,CAAC;QAC5B,IAAI,OAAO,EACX;YACI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;SACjE;aAED;YACI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;SACjE;IAEL,CAAC;IAED,6BAAM,GAAN,UAAO,GAAG;QAEN,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC;IACnC,CAAC;IAEL,mBAAC;AAAD,CAAC;AAlEY,oCAAY;AAoEzB;IAgBC,qBAAa,MAAc,EAAE,MAAmB,EAAE,MAAc,EAAE,SAAiB,EAAE,QAAa,EAAE,WAA4B;QAA5B,iDAA4B;QAAhI,iBAsDI;QA/DD,QAAG,GAAW,OAAO;QAWvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/C,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACjD,aAAa,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC7C,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAE1C,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC9C,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,4BAA4B,CAAC;QAC9D,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QAC9C,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAEhD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,UAAU,CAAC;QACtC,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QAC3C,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACrC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAEtD,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,0BAA0B,CAAC;QAC5C,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAE7C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QAC7C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,eAAe,CAAC;QAC1C,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE5C,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,WAAC;YAE/B,KAAI,CAAC,MAAM,CAAC,KAAI,CAAC,GAAG,KAAK,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YACpD,QAAQ,CAAC,KAAI,CAAC,GAAG,KAAK,MAAM,CAAC,CAAC;QACzB,CAAC,CAAC;QACF,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAE3B,IAAI,CAAC,WAAW,EAChB;YACC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,cAAI;gBAElB,KAAI,CAAC,SAAS,EAAE,CAAC;YAC9B,CAAC,CAAC,CAAC;SACH;IACC,CAAC;IAED,4BAAM,GAAN,UAAO,GAAW;QAEpB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;QACrC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,KAAK,MAAM,CAAC;QAC5B,IAAI,OAAO,EACX;YACI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;SACjE;aAED;YACI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;SACjE;IACL,CAAC;IAED,+BAAS,GAAT,UAAW,mBAAoB;QAE3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEJ,6BAAO,GAAP,UAAQ,mBAAoB;QAC3B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9G,CAAC;IAED,gCAAU,GAAV,UAAW,mBAAoB;QAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7F,CAAC;IACL,kBAAC;AAAD,CAAC;AApGY,kCAAW;AAsGxB;IAwDC,oBAAa,MAAc,EAAE,MAAmB,EAAE,MAAc,EAAE,aAAqB,EAAE,WAA4B;QAA5B,iDAA4B;QAArH,iBA6CI;QA9FJ,aAAQ,GAAkB,EAAE;QAC5B,gBAAW,GAAiB,EAAE;QAI9B,UAAK,GAAW,iBAAiB,CAAC;QAClC,SAAI,GAAU,gBAAgB,CAAC;QAE/B,aAAQ,GAAG,UAAC,SAAiB;YAAjB,6CAAiB;YAC5B,IAAI,SAAS,EAAE;gBACd,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;gBAC3C,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;aACvC;YACD,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAI;gBAEzB,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;YAChB,CAAC,CAAC,CAAC;YACH,IAAI,KAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAC/B;gBACC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,cAAI;oBAE5B,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;oBACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACtB,CAAC,CAAC;aACF;QACF,CAAC;QAED,WAAM,GAAG,UAAC,SAAiB;YAAjB,6CAAiB;YAC1B,IAAI,SAAS,EAAE;gBACd,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gBAC1C,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;aACxC;YACD,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAI;gBAEzB,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;YAChB,CAAC,CAAC,CAAC;YACH,IAAI,KAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAC/B;gBACC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,cAAI;oBAE5B,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;oBACzB,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,EACzC;wBACC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBACnB;gBACF,CAAC,CAAC;aACF;QACF,CAAC;QAIA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACtC,EAAE,CAAC,OAAO,GAAG,CAAC;QACd,EAAE,CAAC,SAAS,GAAG,kCAAkC,CAAC;QAClD,WAAW,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,EAAE,CAAC,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAE/B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YACzC,IAAI,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,EAAE;gBACjD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aACpB;iBAAM,IAAI,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAI,CAAC,IAAI,CAAC,EACtD;gBACC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAClB;QACF,CAAC,CAAC;QAEF,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC7C,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC;QAC1B,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QAE3C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAEvD,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9B,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACxB,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAE9B,IAAI,CAAC,WAAW,EAChB;YACC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,cAAI;gBAE9B,KAAI,CAAC,SAAS,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;SACH;IACC,CAAC;IAED,8BAAS,GAAT,UAAW,mBAAoB;QAE3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEJ,4BAAO,GAAP,UAAQ,mBAAoB;QAC3B,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChH,CAAC;IAED,+BAAU,GAAV,UAAW,mBAAoB;QAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;IAClH,CAAC;IACF,iBAAC;AAAD,CAAC;AApHY,gCAAU;AAsHvB;IAUC,qBAAa,MAAc,EAAE,MAAmB,EAAE,MAAc,EAAE,SAAiB,EAAE,YAAoB,EAAE,QAAa,EAAE,WAA4B;QAA5B,iDAA4B;QAAtJ,iBAsCI;QApCH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/C,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACjD,aAAa,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC7C,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAE1C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC;QACrD,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QACvD,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,UAAC,EAAE;YAE1B,KAAI,CAAC,QAAQ,EAAE,CAAC;QACjB,CAAC;QACD,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAEzC,IAAI,CAAC,WAAW,EAChB;YACC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,cAAI;gBAElB,KAAI,CAAC,SAAS,EAAE,CAAC;YAC9B,CAAC,CAAC,CAAC;SACH;IACC,CAAC;IAED,+BAAS,GAAT,UAAW,mBAAoB;QAE3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAED,6BAAO,GAAP,UAAS,mBAAoB;QAE/B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7G,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACtH,CAAC;IAED,gCAAU,GAAV,UAAW,mBAAoB;QAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7F,CAAC;IACL,kBAAC;AAAD,CAAC;AAjEY,kCAAW;AAyEvB,CAAC;AAEF;IASC,qBAAY,MAAc,EAAE,MAAmB,EAAE,MAAc,EAAE,SAAiB,EAAE,QAAa,EAAE,WAA4B;QAA5B,iDAA4B;QAA/H,iBAmCI;QAlCG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACjC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEzC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/C,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACvD,aAAa,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC7C,aAAa,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAEpC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QAC5D,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG;YAErB,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC;QAED,IAAI,CAAC,WAAW,EACtB;YACC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,cAAI;gBAE9B,KAAI,CAAC,SAAS,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;SACH;IACC,CAAC;IAED,+BAAS,GAAT,UAAW,mBAAoB;QAE3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEJ,6BAAO,GAAP,UAAQ,mBAAoB;QAC3B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9G,CAAC;IAED,gCAAU,GAAV,UAAW,mBAAoB;QAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7F,CAAC;IAED,kCAAY,GAAZ;QAEI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;IAC7B,CAAC;IAED,gCAAU,GAAV,UAAY,OAAsB;QAE9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EACvC;YACI,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC1C,EAAE,CAAC,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACjC,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC9B,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,EACxB;gBACI,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;aACtB;SACJ;IACL,CAAC;IACL,kBAAC;AAAD,CAAC;AA/EY,kCAAW;AAiFxB;IAQC,+BAAY,MAAc,EAAE,MAAmB,EAAE,QAAa;QAA9D,iBAsBI;QArBH,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACjC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC;QACjC,WAAW,CAAC,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QAChD,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC9C,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAE3C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;QAClE,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG;YAErB,IAAI,IAAI,GAAG,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC;YACnE,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAC3B,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC;IACL,CAAC;IAED,+CAAe,GAAf,UAAiB,IAAY;QAEzB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAC5C;YACI,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,EACjC;gBACI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACpC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;aAC5C;iBAED;gBACI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC;aACpC;SACJ;IAEL,CAAC;IAED,+CAAe,GAAf;QAEI,IAAI,IAAI,CAAC,YAAY,EACrB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;QACD,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC;QACnE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAC5C;YACI,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,EACjC;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;aAC1B;SACJ;IACL,CAAC;IAED,4CAAY,GAAZ,UAAc,MAAmB;QAE7B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAED,kDAAkB,GAAlB,UAAoB,IAAY;QAE5B,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAC,IAAiB,IAAO,OAAO,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACxF,IAAI,KAAK,KAAK,CAAC,CAAC,EAChB;YACI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACjC;IACL,CAAC;IAED,0CAAU,GAAV,UAAY,OAAsB;QAE9B,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC1C,EAAE,CAAC,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACjC,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAC9B,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EACvB;gBACI,EAAE,CAAC,SAAS,GAAG,2BAA2B,CAAC;aAC9C;YACD,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,EACxB;gBACI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,4BAA4B,CAAC,CAAC;gBACtE,CAAC,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,4BAA4B,CAAC,CAAC;aAChD;YACD,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,EACvE;gBACI,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;aACtB;SACV;IACC,CAAC;IAED,0CAAU,GAAV,UAAY,MAAM;QAEd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAC5C;YACI,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC,IAAI,EACxC;gBACI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;aACpC;iBAED;gBACI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,KAAK,CAAC;aACrC;SACJ;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAED,8CAAc,GAAd;QAEI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAC5C;YACI,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,EAC7B;gBACI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAC3C,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;aAC1B;SACJ;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAED,yCAAS,GAAT,UAAW,MAAmB;QAE1B,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC1C,EAAE,CAAC,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC;QAC7B,EAAE,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC;QACtB,IAAI,MAAM,CAAC,QAAQ,EACnB;YACI,EAAE,CAAC,SAAS,GAAG,2BAA2B,CAAC;SAC9C;QACD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1B,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IACL,4BAAC;AAAD,CAAC;AArJY,sDAAqB;AAwJlC;IAUC,oBAAa,MAAc,EAAE,MAAmB,EAAE,MAAc,EAAE,SAAiB,EAAE,QAAgB,EAAE,QAAa,EAAE,MAAe,EAAE,WAA4B;QAA5B,iDAA4B;QAAnK,iBA0FC;QAxFA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,MAAM,EACV;YACC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;SACrB;QACD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/C,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAChD,YAAY,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC5C,YAAY,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;QAEzC,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACpD,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,QAAQ,CAAC;QACxC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAGvC,IAAI,QAAQ,EACZ;YACC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;gBAExC,EAAE,CAAC,cAAc,EAAE,CAAC;gBACpB,EAAE,CAAC,eAAe,EAAE,CAAC;YACtB,CAAC,CAAC;YAEF,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;gBAE5B,sBAAS,CAAC,sBAAsB,GAAG,IAAI,CAAC;gBACpD,IAAI,KAAI,CAAC,MAAM,EACf;oBACC,UAAU,CAAC;wBAEQ,KAAI,CAAC,OAAO,CAAC,WAAW,GAAG,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;wBAC3E,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;oBAC5C,CAAC,EAAE,GAAG,CAAC,CAAC;iBACI;qBAED;oBACI,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;iBAC5B;YACd,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,MAAM,EAAE,YAAE;gBAE3B,sBAAS,CAAC,sBAAsB,GAAG,IAAI,CAAC;gBACpD,IAAI,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC;gBACnC,IAAI,KAAI,CAAC,MAAM,EACf;oBACC,GAAG,GAAG,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;iBACtD;gBACD,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAE;gBAE1C,IAAI,EAAE,CAAC,OAAO,KAAK,EAAE,EACrB;oBACC,EAAE,CAAC,cAAc,EAAE,CAAC;oBACpB,IAAI,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC;oBACnC,IAAI,KAAI,CAAC,MAAM,EACf;wBACC,GAAG,GAAG,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,CAAC;qBACtD;oBACD,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;iBACnB;YACF,CAAC,CAAC,CAAC;SAEH;QAED,IAAI,CAAC,WAAW,EAChB;YACC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,cAAI;gBAE9B,KAAI,CAAC,SAAS,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;SACH;IACF,CAAC;IAED,2BAAM,GAAN,UAAQ,GAAQ;QAEf,IAAI,IAAI,CAAC,MAAM,EACf;YACC,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,EACvB;gBACC,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,MAAM;aACnC;iBAED;gBACC,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM;aACzC;SACD;QACD,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG;IAC5B,CAAC;IAED,8BAAS,GAAT,UAAW,mBAAoB;QAE3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEJ,4BAAO,GAAP,UAAQ,mBAAoB;QAC3B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9G,CAAC;IAED,+BAAU,GAAV,UAAW,mBAAoB;QAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7F,CAAC;IACL,iBAAC;AAAD,CAAC;AAnIY,gCAAU;AAqIvB;IAaC,qBAAa,MAAc,EAAE,MAAmB,EAAE,MAAc,EAAE,SAAiB,EAAE,QAAa,EAAE,WAA4B;QAA5B,iDAA4B;QAAhI,iBA0FI;QAkGJ,oBAAe,GAAG,UAAU,CAAC;YAE5B,IAAI,gBAAwB,CAAC;YAC7B,IAAI,CAAC,CAAC,OAAO,EACb;gBACC,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aACrG;iBAED;gBACC,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aAC1F;YACD,IAAI,sBAAsB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,CAAC;YACzE,IAAI,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC;YACxC,IAAI,2BAA2B,CAAC;YAChC,IAAI,gBAAgB,IAAI,CAAC,EACzB;gBACC,2BAA2B,GAAG,KAAK,CAAC;aAEpC;iBAED;gBACC,2BAA2B,GAAG,GAAG,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,GAAG,GAAG,CAAC;aAChF;YACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;YACtD,IAAI,CAAC,MAAM,CAAC,sBAAsB,GAAG,GAAG,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,GAAG,GAAG,CAAC,CAAC;QACnD,CAAC;QAED,kBAAa,GAAG,UAAU,CAAC;YAE1B,IAAI,gBAAwB,CAAC;YAC7B,IAAI,CAAC,CAAC,OAAO,EACb;gBACC,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aAChH;iBAED;gBACC,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aAC9F;YACD,IAAI,sBAAsB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,CAAC;YACzE,IAAI,CAAC,MAAM,CAAC,sBAAsB,GAAG,GAAG,CAAC,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAE,sBAAsB,GAAG,GAAG,CAAC,CAAC;YAC7C,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAC5D,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAChE,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC;YAC/D,QAAQ,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;QAC7D,CAAC;QAED,oBAAe,GAAG,UAAU,CAAC;YAE5B,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;YACvD,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC;YAChD,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YACzD,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAC7D,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC;YAC5D,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;QAC1D,CAAC;QArPA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/C,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC/C,WAAW,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC3C,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACxC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAExC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAGnD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,oBAAoB,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,YAAE;YAEvB,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;YAC3C,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;QAC5D,CAAC,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,YAAE;YAEzB,KAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;QAC7B,CAAC,CAAC;QACF,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAGtC,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClD,aAAa,CAAC,SAAS,GAAG,gBAAgB,CAAC;QAC3C,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,mBAAmB,CAAC;QAChD,WAAW,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAGvC,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtC,SAAS,CAAC,SAAS,GAAG,YAAY,CAAC;QACnC,aAAa,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAGrC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,mBAAmB,CAAC;QAC5C,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC;QACrC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;QACrD,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACnE,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,YAAE;YAE7B,KAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QAC1B,CAAC;QAED,SAAS,CAAC,WAAW,GAAG,YAAE;YAEzB,KAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC;QAGF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC9C,QAAQ,CAAC,SAAS,GAAG,kBAAkB,CAAC;QACxC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC9B,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEhC,IAAI,CAAC,WAAW,EAChB;YACC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,cAAI;gBAE9B,KAAI,CAAC,SAAS,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;SACH;IACC,CAAC;IAED,0BAAI,GAAJ;QAEI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED,0BAAI,GAAJ;QAEI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAEJ,4BAAM,GAAN,UAAO,GAAG;QAET,IAAI,UAAU,GAAG,KAAK,CAAC;QACjB,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,KAAK,SAAS,EACxF;YACI,UAAU,GAAG,IAAI,CAAC;SACrB;QACD,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;QAChD,IAAI,UAAU,IAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EACrF;YACC,IAAI,WAAW,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC;YACpE,IAAI,gBAAgB,GAAG,WAAW,GAAG,GAAG,CAAC;YACzC,IAAI,gBAAgB,GAAG,WAAW,CAAC;YACnC,IAAI,2BAA2B,UAAC;YAChC,IAAI,gBAAgB,IAAI,CAAC,EACzB;gBACC,2BAA2B,GAAG,KAAK,CAAC;aAEpC;iBAED;gBACC,2BAA2B,GAAG,GAAG,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,GAAG,GAAG,CAAC;aAChF;YACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;YACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;SACtD;IACC,CAAC;IAED,+BAAS,GAAT,UAAW,mBAAoB;QAE3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEJ,6BAAO,GAAP,UAAQ,mBAAoB;QAC3B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9G,CAAC;IAED,gCAAU,GAAV,UAAW,mBAAoB;QAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7F,CAAC;IAEJ,wCAAkB,GAAlB,UAAmB,CAAC;QAEnB,IAAI,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;QACzB,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC;QAChE,IAAI,gBAAgB,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QACjD,IAAI,gBAAgB,GAAG,WAAW,CAAC;QACnC,IAAI,2BAA2B,CAAC;QAChC,IAAI,gBAAgB,IAAI,CAAC,EACzB;YACC,2BAA2B,GAAG,KAAK,CAAC;SAEpC;aAED;YACC,2BAA2B,GAAG,GAAG,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,GAAG,GAAG,CAAC;SAChF;QACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;QACtD,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;IAC1B,CAAC;IAED,iCAAW,GAAX,UAAY,CAAC;QAEZ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC;QACvC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;QAC9C,IAAI,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9F,IAAI,sBAAsB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,CAAC;QACzE,IAAI,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC;QACxC,IAAI,2BAA2B,CAAC;QAChC,IAAI,gBAAgB,IAAI,CAAC,EACzB;YACC,2BAA2B,GAAG,KAAK,CAAC;SAEpC;aAED;YACC,2BAA2B,GAAG,GAAG,GAAG,CAAC,gBAAgB,GAAG,gBAAgB,CAAC,GAAG,GAAG,CAAC;SAChF;QACD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;QACvD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;QACtD,IAAI,CAAC,MAAM,CAAC,sBAAsB,GAAG,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,QAAQ,CAAE,sBAAsB,GAAG,GAAG,CAAC,CAAC;IAC9C,CAAC;IA8DF,kBAAC;AAAD,CAAC;AArQY,kCAAW;AAwQxB;IAgBC,4BAAa,MAAc,EAAE,MAAmB,EAAE,MAAc,EAAE,SAAiB,EAAE,QAAa,EAAE,WAA4B;QAA5B,iDAA4B;QAAhI,iBAiGI;QApGD,SAAI,GAAW,CAAC;QAChB,aAAQ,GAAW,CAAC,CAAC;QA6KxB,oBAAe,GAAG,UAAU,CAAC;YAE5B,IAAI,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YACxF,IAAI,sBAAsB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,CAAC;YACzE,IAAI,oBAAoB,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;YAE/C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,GAAG,oBAAoB,CAAC,CAAC;YACrE,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,EACtB;gBACI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aACvB;QACR,CAAC;QAED,kBAAa,GAAG,UAAU,CAAC;YAE1B,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAC5D,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAChE,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC;YAC/D,QAAQ,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;QAC7D,CAAC;QAED,oBAAe,GAAG,UAAU,CAAC;YAE5B,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;YACvD,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC;YAChD,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YACzD,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAC7D,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,eAAe,CAAC;YAC5D,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,CAAC;QAC1D,CAAC;QAzMA,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/C,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC/C,WAAW,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC3C,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACxC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAExC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAGnD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,oBAAoB,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,YAAE;YAEvB,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACnC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QACpD,CAAC,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,YAAE;YAEzB,KAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;QAC7B,CAAC,CAAC;QACI,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAGtC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAChD,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC;QAClC,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,8BAA8B,CAAC;QAC1D,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAG9C,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClD,aAAa,CAAC,SAAS,GAAG,gBAAgB,CAAC;QAC3C,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,mBAAmB,CAAC;QAChD,WAAW,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAGvC,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtC,SAAS,CAAC,SAAS,GAAG,YAAY,CAAC;QACnC,aAAa,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAGrC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,mBAAmB,CAAC;QAC5C,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAEnC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC;QACrC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;QACrD,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACnE,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,YAAE;YAE7B,KAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;QAC1B,CAAC;QAED,SAAS,CAAC,WAAW,GAAG,YAAE;YAEzB,KAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC;QAGF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC9C,QAAQ,CAAC,SAAS,GAAG,kBAAkB,CAAC;QACxC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC9B,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAEhC,IAAI,CAAC,WAAW,EAChB;YACC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,cAAI;gBAE9B,KAAI,CAAC,SAAS,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;SACG;QACD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC;IAED,iCAAI,GAAJ;QAEI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED,iCAAI,GAAJ;QAEI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;IAC7B,CAAC;IAED,wCAAW,GAAX,UAAa,QAAgB;QAEzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACnC,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,GAAG,GAAG,QAAQ,CAAC;IAChD,CAAC;IAEJ,mCAAM,GAAN,UAAO,GAAW;QAEX,IAAI,GAAG,GAAG,CAAC,EACX;YACI,GAAG,GAAG,CAAC,CAAC;SACX;aACI,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,EAC5B;YACI,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;SACvB;aACI,IAAI,GAAG,KAAK,GAAG,EACpB;YACI,GAAG,GAAG,CAAC,CAAC;SACX;QACD,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC1C,IAAI,oBAAoB,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;QACzC,IAAI,2BAA2B,GAAG,CAAC,GAAG,GAAG,oBAAoB,CAAC,GAAG,GAAG,CAAC;QAC3E,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,2BAA2B,CAAC;QACjD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,CAAC;IAC1D,CAAC;IAED,sCAAS,GAAT,UAAW,mBAAoB;QAE3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEJ,oCAAO,GAAP,UAAQ,mBAAoB;QAC3B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9G,CAAC;IAED,uCAAU,GAAV,UAAW,mBAAoB;QAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7F,CAAC;IAEJ,+CAAkB,GAAlB,UAAmB,CAAC;QAEb,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC;IAED,wCAAW,GAAX,UAAY,CAAC;QAEZ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC;QACvC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;QAC9C,IAAI,gBAAgB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACxF,IAAI,sBAAsB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,gBAAgB,CAAC,CAAC;QAEzE,IAAI,oBAAoB,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/C,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,GAAG,oBAAoB,CAAC,CAAC;QACrE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACrB,CAAC;IAmCF,yBAAC;AAAD,CAAC;AA5NY,gDAAkB;AA+N/B;IAaC,0BAAa,MAAc,EAAE,MAAmB,EAAE,MAAc,EAAE,SAAiB,EAAE,QAAa,EAAE,WAA4B;QAA5B,iDAA4B;QAAhI,iBAqCI;QAzCJ,iBAAY,GAAY,KAAK;QAM5B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,sBAAsB,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/C,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,mBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAExC,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC/C,WAAW,CAAC,SAAS,GAAG,kBAAkB,CAAC;QAC3C,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACxC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAExC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAC9D,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE1C,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAE;YAE5C,KAAI,CAAC,WAAW,EAAE,CAAC;QACpB,CAAC,EAAE,KAAK,CAAC,CAAC;QAEV,IAAI,CAAC,WAAW,EAChB;YACC,QAAQ,CAAC,EAAE,CAAC,aAAa,EAAE,cAAI;gBAE9B,KAAI,CAAC,SAAS,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;SACH;IACC,CAAC;IAED,oCAAS,GAAT,UAAW,mBAAoB;QAE3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEJ,kCAAO,GAAP,UAAQ,mBAAoB;QAC3B,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9G,CAAC;IAED,qCAAU,GAAV,UAAW,mBAAoB;QAC9B,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7F,CAAC;IAEJ,sCAAW,GAAX;QAAA,iBAIC;QAHA,IAAI,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAC9D,IAAI,CAAC,OAAO,GAAG,IAAI,8BAAa,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAC9D,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,mBAAmB,EAAE,eAAK,IAAI,YAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAA9B,CAA8B,CAAC,CAAC;IAC/E,CAAC;IAED,6CAAkB,GAAlB,UAAmB,KAAK;QAEvB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,KAAK,CAAC;QACpD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,KAAK,CAAC;QAC/C,IAAI,OAAO,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC;QAC7C,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxB,CAAC;IAED,iCAAM,GAAN,UAAO,QAAa;QACnB,IAAI,SAAS,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC;QACzB,IAAI,QAAQ,CAAC;QACb,IAAG,IAAI,CAAC,SAAS,EAAE;YAClB,QAAQ,GAAG,UAAQ,SAAS,CAAC,CAAC,UAAK,SAAS,CAAC,CAAC,UAAK,SAAS,CAAC,CAAC,UAAK,IAAI,CAAC,KAAK,MAAG,CAAC;SACjF;aACI;YACJ,QAAQ,GAAG,SAAO,SAAS,CAAC,CAAC,UAAK,SAAS,CAAC,CAAC,UAAK,SAAS,CAAC,CAAC,MAAG,CAAC;SACjE;QACD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;YACvB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,QAAQ,CAAC;YACpD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SACzB;QACD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,GAAG,QAAQ,CAAC;QACvD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,eAAe,GAAG,QAAQ,CAAC;IACnD,CAAC;IACF,uBAAC;AAAD,CAAC;AAjGY,4CAAgB;AAqG7B,qBAAqB,EAAe,EAAE,WAAmB;IACxD,IAAI,WAAmB;IACvB,WAAW,GAAG,wBAAwB,GAAG,WAAW;IACpD,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC;AAC9B,CAAC;AAED,oBAAqB,EAAe;IAG/B,IAAI,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;IACnC,KAAK,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;IAC7B,IAAI,GAAG,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;IAChC,GAAG,CAAC,eAAe,EAAE,CAAC;IACtB,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACzB,CAAC;AAED;IAIC,+BAAa,QAAqB,EAAE,QAAQ;QAA5C,iBAaI;QAXG,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,+CAA+C,CAAC;QAEnE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAAE;YAEtC,IAAI,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YAC7B,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACnB,KAAI,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,oCAAI,GAAJ;QAEI,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,SAAS,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,oCAAI,GAAJ;QAEI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;IAC7B,CAAC;IACL,4BAAC;AAAD,CAAC;AA9BY,sDAAqB;;;;;;;;AC52FlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,cAAc,mBAAO,CAAC,CAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B;AACA,aAAa,eAAe;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B;AACA;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACrGA,0CAA6C;AAC7C,gCAA6B;AAE7B,gCAA+B;AAE/B,kDAAoE;AACpE,mDAA+E;AAC/E,4CAA2D;AAK3D,8BAAqC,MAAM,EAAE,IAAI;IAC7C,IAAI,sBAAS,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,IAAI,KAAK,KAAK,EAAG;QACzE,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;KACpB;SAAM;QACT,aAAa,CAAC,MAAM,CAAC,CAAC;KACnB;AACL,CAAC;AAND,oDAMC;AAED,6BAA6B,MAAmB,EAAE,MAAc;IAC5D,IAAI,CAAC,GAAG,kDAAkD,GAAG,MAAM,GAAG,uBAAuB;IAC7F,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;AACrC,CAAC;AAED,+BAA+B,MAAmB,EAAE,IAA2C;IAA3C,0DAA2C;IAE3F,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrC,IAAI,oBAAoB,GAAG,aAAa,GAAG,YAAY;IAEvD,IAAI,CAAC,GAAG,kDAAkD,GAAG,oBAAoB,GAAG,uBAAuB;IAC3G,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;AACrC,CAAC;AAED,mCAA2C,MAAmB,EAAE,IAAY;IAExE,IAAI,sBAAS,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAG;QACjD,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC;KACpC;SAAM;QACH,qBAAqB,CAAC,MAAM,EAAE,IAAI,CAAC;KACtC;AACL,CAAC;AAPD,8DAOC;AAED,wCAAyC,MAAM;IAC9C,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAC,MAAoB;QAC1D,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC;IAC7B,CAAC,CAAC;AACH,CAAC;AAED,wBAAwB,KAAa,EAAE,KAAe,EAAE,SAAiB;IAExE,IAAI,SAAS,GAAG,wEAAwE,CAAC;IACzF,IAAI,SAAS,GAAG,aAAa,GAAG,SAAS,GAAG,yBAAyB,CAAC;IACtE,IAAI,SAAS,GAAG,CAAC,cAAc,EAAE,kBAAkB,EAAE,aAAa,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IAC9F,IAAI,GAAG,GAAG,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC;IACnD,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IACjC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,UAAC,GAAG;QAEhC,IAAI,OAAO,GAAG,GAAG,CAAC,MAAM;QACxB,IAAI,OAAO,EACX;YACC,KAAiB,UAAO,EAAP,mBAAO,EAAP,qBAAO,EAAP,IAAO,EACxB;gBADK,IAAI,IAAI;gBAEZ,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAC9B;oBACC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACjB;aACD;SACD;QACD,KAAK,EAAE,CAAC;QACR,IAAI,KAAK,IAAI,CAAC,EACd;YACC,cAAc,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;SACxC;aAED;YACC,IAAI,gBAAgB,GAAG,EAAE,CAAC;YAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EACrC;gBACC,gBAAgB,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC;aACxD;YACD,IAAI,UAAU,GAAG,kCAAkC,GAAG,gBAAgB,GAAG,SAAS,CAAC;YACnF,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;SACxC;IACF,CAAC,CAAC;AACH,CAAC;AAED,0BAAiC,MAAM;IAGtC,IAAG,EAAE,CAAC,WAAW,CAAC,WAAW,EAC7B;QACC,eAAe,CAAC,QAAQ,CAAC,CAAC;KAC1B;SAGD;QACC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KAC9B;AACF,CAAC;AAZD,4CAYC;AAED,wBAAwB,OAAO;IAE9B,IAAI,OAAO,CAAC,iBAAiB;QACtB,QAAQ,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;SACjC,IAAI,OAAO,CAAC,oBAAoB;QACjC,OAAO,CAAC,oBAAoB,EAAE,CAAC;SAC9B,IAAI,OAAO,CAAC,uBAAuB;QACpC,OAAO,CAAC,uBAAuB,EAAE,CAAC;SACjC,IAAI,OAAO,CAAC,mBAAmB;QAChC,OAAO,CAAC,mBAAmB,EAAE,CAAC;AACtC,CAAC;AAED,yBAAyB,OAAO;IAC5B,IAAI,QAAQ,CAAC,cAAc;QACvB,QAAQ,CAAC,cAAc,EAAE,CAAC;SACzB,IAAI,OAAO,CAAC,oBAAoB;QACvC,QAAQ,CAAC,oBAAoB,EAAE,CAAC;SAC5B,IAAI,OAAO,CAAC,aAAa,EAC9B;QACC,OAAO,CAAC,mBAAmB,EAAE,CAAC;KAC9B;AACF,CAAC;AAED,uBAAuB,MAAM;IAE5B,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;AACtB,CAAC;AAGD,IAAI,OAAO,GAAG;IACb,MAAM,EAAE,EAAE;IACV,OAAO,EAAE;QACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,gBAAgB,EAAC,WAAW,EAAE,CAAC,eAAe,CAAC,EAAE;KAC1H;IACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU;QAC/B,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;QAC9B,2BAAM,EAAE,uBAAM,CAAuD;QAC3E,aAAa,CAAC,cAAc,EAAE;QAC9B,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC;IAC9B,CAAC;CACD;AAED,uBAA8B,MAAM,EAAE,MAAM;IAExC,IAAI,CAAC,GAAG,iGAAiG,CAAC;IAC1G,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IAElC,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,UAAC,QAAQ;QAExC,8BAA8B,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IAGH,IAAI,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;IACpD,IAAI,QAAQ,KAAK,IAAI,EACrB;QACI,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;KAC1D;IACD,IAAI,WAAW,GAAG,EAAE,CAAC,YAAY,CAAC,eAAe,CAAC;IAClD,IAAI,aAAa,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,kBAAkB,CAAC;IACxE,IAAI,cAAc,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,mBAAmB,CAAC;IAC1E,IAAI,eAAe,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,oBAAoB,CAAC;IAC5E,IAAI,iBAAiB,GAAG,kCAAkC,CAAC;IAC3D,IAAI,eAAe,GAAG,0BAA0B,CAAC;IACjD,IAAI,gBAAgB,GAAG,oCAAoC,CAAC;IAE5D,iBAAiB,IAAI,eAAe,GAAG,uBAAuB,GAAG,aAAa,GAAG,wBAAwB,CAAC;IAC1G,iBAAiB,IAAI,uBAAuB,GAAG,cAAc,GAAG,uBAAuB,CAAC;IACxF,iBAAiB,IAAI,wBAAwB,GAAG,eAAe,GAAG,yBAAyB,GAAG,gBAAgB,CAAC;IAC/G,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;IAG/C,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,sBAAS,CAAC,aAAa,GAAG,QAAQ,CAAC;IACnC,SAAS,GAAG,iDAAiD,GAAG,sBAAS,CAAC,aAAa,GAAG,yBAAyB,CAAC;IACpH,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;IACvC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,EAAE,UAAC,QAAQ;QAEvC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,UAAC,MAAoB;YAE7D,IAAI,MAAM,CAAC,EAAE,KAAK,kBAAkB,EACpC;gBACI,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;aAChC;iBACD;gBACI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;aAC/B;QACL,CAAC,CAAC;IACN,CAAC,CAAC,CAAC;IACH,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,uFAAuF,CAAC,CAAC;IACrH,IAAI,QAAQ,GAAG,sBAAS,CAAC,WAAW,CAAC,OAAO,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC;IACvE,EAAE,CAAC,SAAS,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;IAG1C,IAAI,GAAG,GAAG,mEAAmE,CAAC;IAC9E,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IAGrD,GAAG,GAAG,mDAAmD,CAAC;IAC1D,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AACnC,CAAC;AA3DD,sCA2DC;AAED;IACC,IAAI,WAAW,GAAG,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,iBAAiB,CAAC;IAC9G,IAAG,WAAW,KAAK,IAAI,EACvB;QACC,OAAO,CAAC;gBACP,MAAM,EAAC,cAAc;gBACrB,MAAM,EAAC,EAAE;aACT,CAAC;KACF;IACD,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtC,IAAI,OAAO,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC;IACpC,IAAI,aAAa,GAAG,CAAC;YACpB,MAAM,EAAC,cAAc;YACrB,MAAM,EAAC,EAAE;SACT,CAAC;IAEF,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACvC,aAAa,CAAC,IAAI,CAAC;YAClB,MAAM,EAAC,OAAO,CAAC,CAAC,CAAC;YACjB,MAAM,EAAC,WAAW;SAClB,CAAC;KACF;IAED,OAAO,aAAa;AACrB,CAAC;AAEU,gBAAQ,GAAgB;IAClC,MAAM,EAAE,iBAAiB;IACzB,MAAM,EAAE;QACP;YACC,MAAM,EAAE,gBAAgB;YACxB,OAAO,EAAE,CAAE;oBACV,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,gBAAgB;oBACnC,MAAM,EAAE,gBAAgB;oBACxB,MAAM,EAAE,WAAW;oBACnB,oBAAoB,EAAE,cAAc,EAAE;oBACtC,qBAAqB,EAAE,UAAC,OAAO,EAAE,IAA2B,EAAE,MAAgC;wBACvF,2BAAM,EAAE,uBAAM,CAGT;wBAEX,IAAG,IAAI,KAAK,SAAS,EACrB;4BACC,IAAI,EAAE,GAAG,IAAI,qCAAgB,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;yBAC3D;6BAED;4BACC,IAAG,IAAI,KAAK,IAAI,EAChB;gCACC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;6BACxB;yBACD;oBACF,CAAC;iBACD;gBACA,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,eAAe,EAAE;gBAErF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,WAAW,EAAE;aAC7E;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,QAAO,aAAa,CAAC,MAAM,EAAC;oBAC3B,KAAK,kBAAkB;wBACtB,IAAI,EAAE,GAAG,IAAI,qCAAgB,CAAC,MAAM,EAAE,QAAQ,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;wBAC/D,MAAM;oBACP,KAAK,gBAAgB;wBACpB,IAAI,EAAE,GAAG,IAAI,qCAAgB,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBAC5E,MAAM;oBACP,KAAK,iBAAiB;wBACrB,IAAI,UAAU,GAAG,IAAI,wBAAU,CAAC,MAAM,CAAC,CAAC;wBACxC,MAAM;iBACP;YAEF,CAAC;SACD;QACD;YACC,MAAM,EAAE,yBAAyB;YACjC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,aAAa,EAAE;gBACvF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,4BAA4B,EAAE,MAAM,EAAE,aAAa,EAAE;aAC1F;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBACzC,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACrC,IAAI,gBAAgB,GAAG;oBACtB,MAAM,EAAE,aAAa,CAAC,MAAM,KAAK,yBAAyB,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa;oBACxF,KAAK,EAAE,MAAM,CAAC,WAAW,CAAC,KAAK;iBAC/B,CAAC;gBACU,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,CAAC;gBAC5D,EAAE,CAAC,OAAO,EAAE,CAAC;gBACb,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,aAAG;oBAErB,EAAE,CAAC,SAAS,EAAE,CAAC;gBACnB,CAAC,CAAC,CAAC;YAChB,CAAC;SACD;QACD;YACC,MAAM,EAAE,gBAAgB;YACxB,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,wBAAwB,EAAE,MAAM,EAAE,mBAAmB,EAAE;aAC5F;YACQ,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU;gBAEtB,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACrC,IAAI,CAAC,GAAG,6BAA6B,CAAC;gBACtC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC7B,aAAa,CAAC,cAAc,EAAE,CAAC;YACnC,CAAC;SACV;QACD;YACU,MAAM,EAAE,oBAAoB;YAC5B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,eAAe,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACxH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE;gBAC5H,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACrG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,2BAA2B,EAAE,MAAM,EAAE,kBAAkB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC5H,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACjH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC1G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,UAAU,EAAE;aAC3F;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,aAAa,CAAC,MAAM,KAAK,0BAA0B,EACvD;oBACI,IAAI,GAAG,GAAG,yEAAyE;oBACnF,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;oBAClC,GAAG,IAAI,oDAAoD,CAAC;oBAC5D,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;oBAC/B,aAAa,CAAC,cAAc,CAAC,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;oBACzD,OAAO;iBACV;gBAED,IAAI,CAAC,sBAAS,CAAC,UAAU,EACzB;oBACI,OAAO;iBACV;gBAED,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,IAAI,cAAc,GAAG,iGAAiG,CAAC;gBACvH,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACI,KAAK,0BAA0B;wBAC3B,IAAI,GAAG,UAAU,CAAC;wBAClB,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;wBAC5C,MAAM;oBACV,KAAK,kBAAkB;wBACnB,IAAI,GAAG,QAAQ,CAAC;wBAChB,MAAM;oBACV,KAAK,eAAe;wBAChB,IAAI,GAAG,KAAK,CAAC;wBACb,MAAM;oBACV,KAAK,2BAA2B;wBAC5B,IAAI,GAAG,YAAY,CAAC;wBACpB,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;wBAC5C,MAAM;oBACV,KAAK,gBAAgB;wBACjB,IAAI,GAAG,MAAM,CAAC;wBACd,MAAM;oBACV,KAAK,qBAAqB;wBACtB,IAAI,GAAG,WAAW,CAAC;wBACnB,MAAM;oBACV;wBACI,OAAO;iBACd;gBAED,IAAI,CAAC,GAAG,6KAKb,IAAI,gJAKD,CAAC;gBACC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1C,CAAC;SACD;QACD;YACC,MAAM,EAAE,0BAA0B;YAClC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,eAAe,EAAE,WAAW,EAAE,CAAC,cAAc,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE;gBAClI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gCAAgC,EAAE,MAAM,EAAE,iBAAiB,EAAE,WAAW,EAAE,CAAC,cAAc,CAAC,EAAE,MAAM,EAAE,wBAAwB,EAAE;gBACnK,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,aAAa,EAAE,WAAW,EAAE,CAAC,cAAc,CAAC,EAAE;gBAChH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,cAAc,CAAC,EAAE;gBACjH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,cAAc,CAAC,EAAE;gBACjG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,wBAAwB,EAAE,WAAW,EAAE,CAAC,cAAc,CAAC,EAAE;gBAC5H,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,yBAAyB,EAAE,WAAW,EAAE,CAAC,cAAc,CAAC,EAAE;gBAChI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,2BAA2B,EAAE,WAAW,EAAE,CAAC,cAAc,CAAC,EAAE;aACzI;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAClB,2BAAM,CAAqC;gBACjD,IAAI,sBAAS,CAAC,aAAa,KAAK,YAAY,IAAI,aAAa,CAAC,MAAM,EACpE;oBACI,IAAI,GAAG,GAAG,mFAAmF,CAAC;oBAC9F,GAAG,IAAI,sBAAS,CAAC,yBAAyB,CAAC;oBAC3C,GAAG,IAAI,+DAA+D,CAAC;oBACvE,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;iBAClC;gBACb,IAAI,aAAa,CAAC,MAAM,KAAK,gCAAgC,EAC7D;oBACC,IAAI,sBAAS,CAAC,aAAa,KAAK,eAAe,EAC/C;wBACmB,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,UAAC,CAAe,IAAK,QAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAvB,CAAuB,CAAC,CAAC;wBACzE,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBACnC,oBAAoB,CAAC,wBAAwB,EAAE,IAAI,CAAC,CAAC;wBACrD,sBAAS,CAAC,aAAa,GAAG,eAAe,CAAC;wBAC1C,IAAI,CAAC,GAAG,iDAAiD,GAAG,sBAAS,CAAC,aAAa,GAAG,yBAAyB,CAAC;wBAChH,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;qBAC/C;iBACW;qBACI,IAAI,aAAa,CAAC,MAAM,KAAK,eAAe,EACjD;oBACI,IAAI,aAAa,CAAC,WAAW,EAC7B;wBACI,IAAI,GAAG,GAAG,mFAAmF,CAAC;wBAC9F,GAAG,IAAI,sBAAS,CAAC,yBAAyB,CAAC;wBAC3C,GAAG,IAAI,+DAA+D,CAAC;wBACvE,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;qBACvC;yBAED;wBACI,sBAAS,CAAC,yBAAyB,GAAG,EAAE,CAAC,YAAY,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,qBAAqB,CAAC;wBACjH,IAAI,GAAG,GAAG,mFAAmF,CAAC;wBAC9F,GAAG,IAAI,wBAAwB,CAAC;wBAChC,GAAG,IAAI,+DAA+D,CAAC;wBACvE,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,sBAAS,CAAC,aAAa,GAAG,YAAY,CAAC;wBACvC,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,UAAC,CAAe,IAAK,QAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAvB,CAAuB,CAAC,CAAC;wBACzE,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBACnC,OAAO;qBACV;iBACJ;qBAEb;oBACC,QAAQ,aAAa,CAAC,MAAM,EAC5B;wBACmB,KAAK,kBAAkB;4BACnB,sBAAS,CAAC,aAAa,GAAG,QAAQ,CAAC;4BACnC,MAAM;wBACV,KAAK,gBAAgB;4BACjB,sBAAS,CAAC,aAAa,GAAG,MAAM,CAAC;4BACjC,MAAM;wBACV,KAAK,kBAAkB;4BACnB,sBAAS,CAAC,aAAa,GAAG,QAAQ,CAAC;4BACnC,MAAM;wBACV,KAAK,iBAAiB;4BAClB,sBAAS,CAAC,aAAa,GAAG,OAAO,CAAC;4BAClC,MAAM;wBACV,KAAK,iBAAiB;4BAClB,sBAAS,CAAC,aAAa,GAAG,OAAO,CAAC;4BAClC,MAAM;wBACV,KAAK,oBAAoB;4BACrB,sBAAS,CAAC,aAAa,GAAG,UAAU,CAAC;4BACrC,MAAM;wBACV;4BACI,OAAO;qBACd;oBAED,IAAI,CAAC,GAAG,iDAAiD,GAAG,sBAAS,CAAC,aAAa,GAAG,yBAAyB,CAAC;oBAChH,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC7B,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,UAAC,QAAQ;wBAErC,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAChC;4BACI,oBAAoB,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;4BACtD,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,UAAC,CAAe,IAAK,QAAC,CAAC,cAAc,CAAC,KAAK,CAAC,EAAvB,CAAuB,CAAC,CAAC;4BACzE,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;yBACtC;oBACL,CAAC,CAAC,CAAC;iBAClB;YACF,CAAC;SACD;QACD;YACC,MAAM,EAAE,qBAAqB;YAC7B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,qBAAqB,EAAE;gBAC/F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,4BAA4B,EAAE,MAAM,EAAE,oBAAoB,EAAE;gBACpG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,aAAa,EAAE;gBACpF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,YAAY,EAAE;gBACnF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,aAAa,EAAE;gBACpF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,YAAY,EAAE;gBACrF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,SAAS,EAAE;gBACjF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,qBAAqB,EAAE;gBAC5F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,oBAAoB,EAAE;gBAC5F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,wBAAwB,EAAE,SAAS,EAAE,KAAK,EAAE;gBAC/G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAC,QAAQ,EAAE,IAAI,EAAE;aACvE;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBACnC,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBACxF,QAAQ,aAAa,CAAC,MAAM,EAAE;oBACd,KAAK,sBAAsB;wBACvB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,4CAA4C,CAAC,CAAC;wBACxE,MAAM;oBACV,KAAK,4BAA4B;wBAC7B,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,qFAAqF,CAAC,CAAC;wBACjH,MAAM;oBACV,KAAK,mBAAmB;wBACpB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,sFAAsF,CAAC,CAAC;wBAClH,MAAM;oBACV,KAAK,mBAAmB;wBACpB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,mFAAmF,CAAC,CAAC;wBAC/G,MAAM;oBACV,KAAK,mBAAmB;wBACpB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,mFAAmF,CAAC,CAAC;wBAC/G,MAAM;oBACV,KAAK,qBAAqB;wBACtB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,qFAAqF,CAAC,CAAC;wBACjH,MAAM;oBACV,KAAK,oBAAoB;wBACrB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,oFAAoF,CAAC,CAAC;wBAChH,MAAM;oBACV,KAAK,mBAAmB;wBACpB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,sFAAsF,CAAC,CAAC;wBAClH,MAAM;oBACV,KAAK,oBAAoB;wBACrB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,uFAAuF,CAAC,CAAC;wBACnH,MAAM;oBACV,KAAK,iBAAiB;wBAClB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,4FAA4F,CAAC,CAAC;wBACxH,MAAM;oBACV;wBACI,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;iBACjC;gBACD,aAAa,CAAC,cAAc,EAAE,CAAC;YAC5C,CAAC;SACD;QACD;YACC,MAAM,EAAE,qBAAqB;YAC7B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,kBAAkB,EAAE;gBACvF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,uBAAuB,EAAE,MAAM,EAAE,qBAAqB,EAAE;gBAChG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,4BAA4B,EAAE,MAAM,EAAE,qBAAqB,EAAE;gBACrG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,kBAAkB,EAAE;gBAC/F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,6BAA6B,EAAE,MAAM,EAAE,yBAAyB,EAAE;gBAC1G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;gBACxE,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;aACxE;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,CAAC;gBAClC,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,CAAqC;gBACjD,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC7B,KAAK,oBAAoB;wBACxB,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,gCAAgC,CAAC;wBAChE,MAAK;oBACN,KAAK,uBAAuB;wBAC3B,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,mCAAmC,CAAC;wBACnE,MAAK;oBACN,KAAK,4BAA4B;wBAChC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,uCAAuC,CAAC;wBACvE,MAAK;oBACN,KAAK,yBAAyB;wBAC7B,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,oCAAoC,CAAC;wBACpE,MAAK;oBACN,KAAK,6BAA6B;wBACjC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,yCAAyC,CAAC;wBACzE,MAAK;oBACN;wBACC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;iBAC1B;gBACD,aAAa,CAAC,cAAc,EAAE;YAC/B,CAAC;SACD;QACD,OAAO;KACP;CACD;AAEU,mBAAW,GAAgB;IAClC,MAAM,EAAE,oBAAoB;IAC5B,MAAM,EAAE;QACJ;YACI,MAAM,EAAE,oBAAoB;YAC5B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACrG;oBACI,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,eAAe;oBACtF,WAAW,EAAE,CAAC,aAAa,CAAC;iBAC/B;aACJ;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,IAAI,cAAc,GAAG,iGAAiG,CAAC;gBACvH,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC1B,KAAK,0BAA0B;wBAC3B,IAAI,GAAG,UAAU,CAAC;wBAClB,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;wBAC5C,MAAK;oBACT,KAAK,eAAe;wBAChB,IAAI,GAAG,KAAK,CAAC;wBACb,MAAM;oBACV;wBACI,OAAO;iBACd;gBAED,IAAI,CAAC,GAAG,6PAKc,IAAI,0NAKV;gBAEhB,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;gBAEjC,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,UAAC,QAAQ;oBACrC,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAAE;wBAC9B,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAC,MAAoB;4BACvD,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC;wBAChC,CAAC,CAAC;wBAEpB,IAAI,WAAS,GAAG,aAAa,CAAC,MAAM;wBAClB,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAC,CAAe;4BAClD,IAAI,CAAC,CAAC,MAAM,KAAK,WAAS,EAAE;gCACxB,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC;6BACzB;wBACL,CAAC,CAAC;wBACF,sBAAS,CAAC,mBAAmB,GAAG,IAAI;qBACvC;gBACL,CAAC,CAAC;YACN,CAAC;SACJ;QACD;YACI,MAAM,EAAE,gBAAgB;YACxB,OAAO,EAAE;gBACL,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,aAAa,EAAE;gBACvD;oBACI,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,KAAK;oBACxB,MAAM,EAAE,gBAAgB;oBACxB,WAAW,EAAE,CAAC,WAAW,CAAC;oBAC1B,aAAa,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,EAAiB;wBAC5C,2BAAM,EAAE,uBAAM,CAAuD;wBAC3E,IAAI,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC;wBAC3B,IAAI,OAAO,GAAG,KAAK,CAAC,EAAsB;wBAC1C,IAAI,OAAO,GAAG,EAAE,CAAC,KAAK,IAAI,EAAE,CAAC,OAAO;wBAEpC,IAAM,KAAK,GAAG,EAAE;wBAChB,IAAM,GAAG,GAAG,EAAE;wBACd,IAAI,OAAO,KAAK,GAAG,EAAE;4BAEjB,OAAO,CAAC,IAAI,EAAE;yBACjB;wBAGD,IAAI,OAAO,KAAK,KAAK,EAAE;4BACnB,IAAI,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gCACpC,IAAI,UAAQ,GAAG,OAAO,CAAC,KAAK;gCAC5B,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,mIACqC,UAAQ,yGAChB,CAAC;gCAE7D,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,kBAAQ;oCAC5B,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAAE;wCAC9B,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,uCAAqC,CAAC;wCACrE,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,kBAAQ;4CAChC,OAAO,CAAC,KAAK,GAAG,UAAQ,GAAG,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC;wCACxD,CAAC,CAAC;qCACL;gCACL,CAAC,CAAC;6BACL;yBACJ;oBACL,CAAC;iBACJ;gBACD,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,YAAY,EAAE;aACrD;YACD,UAAU,EAAE,UAAC,OAAY,EAAE,EAAU,EAAE,KAAc;gBACjD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAE3E,IAAI,GAAW;gBACf,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC1B,KAAK,oBAAoB;wBACrB,GAAG,GAAG,qCAAqC;wBAC3C,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;wBACnC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,kBAAQ;4BAChC,IAAI,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAY;4BACzD,IAAI,OAAO,GAAG,SAAS,CAAC,EAAsB;4BAC9C,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC;4BAC7C,IAAI,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE;4BACzD,OAAO,CAAC,KAAK,GAAM,QAAQ,CAAC,MAAM,CAAC,WAAM,SAAW;wBACxD,CAAC,CAAC;wBAEF,MAAK;oBACT,KAAK,gBAAgB;wBACjB,GAAG,GAAG,iCAAiC;wBACvC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;wBACnC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,kBAAQ;4BAC5B,IAAI,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAY;4BACzD,IAAI,OAAO,GAAG,SAAS,CAAC,EAAsB;4BAC9C,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC;4BAC7C,IAAI,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE;4BACzD,OAAO,CAAC,KAAK,GAAM,QAAQ,CAAC,MAAM,CAAC,WAAM,SAAW;wBACxD,CAAC,CAAC;wBAEF,MAAK;iBACZ;gBACD,aAAa,CAAC,cAAc,EAAE;YAClC,CAAC;SACJ;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,EAAE,WAAW,EAAE;gBAC7E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,EAAE;gBAC/E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,EAAE;aAClF;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBACvF,IAAI,GAAG,GAAI,mCAAmC;gBAC9C,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;gBACvB,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC1B,KAAK,cAAc;wBACjC,MAAK;oBACN,KAAK,eAAe;wBACnB,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;wBACnC,MAAK;oBACN,KAAK,eAAe;wBACnB,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;wBACnC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;wBACnC,MAAK;iBACM;gBACD,aAAa,CAAC,cAAc,EAAE;YAClC,CAAC;SACJ;QACD;YACI,MAAM,EAAE,gBAAgB;YACxB,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,YAAY,EAAE;gBACnF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,6BAA6B,EAAE;gBACtG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,4BAA4B,EAAE;gBACtG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,gBAAgB,EAAE;gBACnG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,eAAe,EAAE;gBACvF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE;aAC/D;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAE9B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,OAAO;gBACX,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC1B,KAAK,mBAAmB;wBACpB,OAAO,GAAG,iCAA+B;wBACzC,MAAK;oBACT,KAAK,qBAAqB;wBACtB,OAAO,GAAG,mCAAiC;wBAC3C,MAAK;oBACT,KAAK,sBAAsB;wBACvB,OAAO,GAAG,oCAAkC;wBAC5C,MAAK;oBACT,KAAK,mBAAmB;wBACpB,OAAO,GAAG,iCAA+B;wBACzC,MAAK;oBACT,KAAK,oBAAoB;wBACrB,OAAO,GAAG,kCAAgC;wBAC1C,MAAK;iBACZ;gBACD,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC;gBACvC,aAAa,CAAC,cAAc,EAAE;YAClC,CAAC;SACJ;QACD;YACI,MAAM,EAAE,uBAAuB;YAC/B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAC,eAAe,EAAE;aAC3G;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC1C,2BAAM,CAAqC;gBACjD,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;oBACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC;oBAClC,oBAAoB,CAAC,eAAe,EAAE,IAAI,CAAC;iBAC3C;qBAED;oBACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC;oBACnC,oBAAoB,CAAC,eAAe,EAAE,KAAK,CAAC;iBAC5C;YACO,CAAC;SACJ;QACD;YACI,MAAM,EAAE,2BAA2B;YACnC,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,wBAAwB,EAAE,MAAM,EAAE,gBAAgB,EAAE;gBACzF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,eAAe,EAAE;aACrF;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAE9B,2BAAM,EAAE,uBAAM,CAAuD;gBACvF,IAAI,QAAQ;gBACA,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC1B,KAAK,wBAAwB;wBACzB,QAAQ,GAAG,cAAc;wBACzB,MAAK;oBACT,KAAK,kBAAkB;wBACrC,QAAQ,GAAG,SAAS;wBACF,MAAK;iBACxB;gBACD,IAAI,cAAc,GAAG,EAAE;gBACX,KAAiB,UAAwB,EAAxB,2BAAS,CAAC,cAAc,EAAxB,cAAwB,EAAxB,IAAwB,EAAE;oBAAtC,IAAI,IAAI;oBACT,IAAI,IAAI,IAAI,QAAQ,EAAE;wBAClB,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC;qBAC5B;iBACJ;gBACD,IAAI,sBAAS,CAAC,cAAc,CAAC,KAAK,CAAC,WAAC,IAAI,QAAC,KAAK,QAAQ,EAAd,CAAc,CAAC,EAAE;oBACrD,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC;iBAChC;gBAED,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC,KAAK,aAAa,EAAE;oBACpE,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC;iBAC/B;gBAED,IAAI,CAAC,GAAG,8EAA8E;gBACtF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC5C,CAAC,GAAG,CAAC,GAAI,cAAc,CAAC,CAAC,CAAC,GAAG,GAAG;iBACnC;gBACD,CAAC,GAAG,CAAC,GAAG,yDAAyD,CAAC;gBAClE,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;YACrC,CAAC;SACV;QACD;YACC,MAAM,EAAE,mBAAmB;YAC3B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE,MAAM,EAAE,iBAAiB,EAAE;aACtI;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAEzC,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAEpC,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;oBACC,IAAI,wBAAwB,GAAG,4EAA0E;oBACzG,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,wBAAwB,CAAC;oBACxD,MAAM,CAAC,IAAI,CAAC,0BAA0B,EAAE,kBAAQ;wBAE/C,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAChC;4BACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC;yBAClC;oBACF,CAAC,CAAC;oBACF,oBAAoB,CAAC,iBAAiB,EAAE,cAAc,CAAC;iBACvD;qBACD;oBACC,IAAI,wBAAwB,GAAG,6EAA2E;oBAC1G,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,wBAAwB,CAAC;oBACxD,MAAM,CAAC,IAAI,CAAC,0BAA0B,EAAE,kBAAQ;wBAE/C,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAChC;4BACC,aAAa,CAAC,iBAAiB,CAAC;yBAChC;oBACF,CAAC,CAAC;iBACF;YACO,CAAC;SACJ;QACD;YACI,MAAM,EAAE,qBAAqB;YAC7B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACvG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC1G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,cAAc,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACtH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACnH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aACrH;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACI,KAAK,gBAAgB;wBACjB,IAAI,GAAG,aAAa,CAAC;wBACrB,MAAM;oBACV,KAAK,kBAAkB;wBACnB,IAAI,GAAG,eAAe,CAAC;wBACvB,MAAM;oBACV,KAAK,qBAAqB;wBACtB,IAAI,GAAG,kBAAkB,CAAC;wBAC1B,MAAM;oBACV,KAAK,oBAAoB;wBACrB,IAAI,GAAG,iBAAiB,CAAC;wBACzB,MAAM;oBACV,KAAK,sBAAsB;wBACvB,IAAI,GAAG,mBAAmB,CAAC;wBAC3B,MAAM;oBACV;wBACI,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;iBACjD;gBACD,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAC5C,CAAC;SACJ;QACD,OAAO;KACV;CACJ;AAEU,eAAO,GAAgB;IAC9B,MAAM,EAAE,gBAAgB;IACxB,MAAM,EAAE;QACJ;YACI,MAAM,EAAE,qBAAqB;YAC7B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,eAAe,EAAE;gBACrF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,QAAQ,EAAE;gBAC3E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,SAAS,EAAE;gBAC7E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,SAAS,EAAE;gBAC9E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,SAAS,EAAE;gBAC/E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,UAAU,EAAE;gBAC/E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,UAAU,EAAE;aACjF;YACD,UAAU,EAAE,UAAU,OAAO,EAAE,EAAU,EAAE,KAAc;gBACrD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAE3E,IAAI,QAAgB;gBAEpB,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC1B,KAAK,qBAAqB;wBACtB,QAAQ,GAAG,WAAW;wBACtB,MAAK;oBACT,KAAK,eAAe;wBAChB,QAAQ,GAAG,KAAK;wBAChB,MAAK;oBACT,KAAK,gBAAgB;wBACjB,QAAQ,GAAG,MAAM;wBACjB,MAAK;oBACT,KAAK,iBAAiB;wBAClB,QAAQ,GAAG,OAAO;wBAClB,MAAK;oBACT,KAAK,kBAAkB;wBACnB,QAAQ,GAAG,QAAQ;wBACnB,MAAK;oBACT,KAAK,iBAAiB;wBAClB,QAAQ,GAAG,OAAO;wBAClB,MAAK;oBACT,KAAK,gBAAgB;wBACjB,QAAQ,GAAG,MAAM;wBACjB,MAAK;oBACT;wBACI,OAAM;iBACb;gBAED,IAAI,CAAC,GAAG,sCAAsC,GAAG,QAAQ,GAAG,qBAAqB;gBACjF,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;YACrC,CAAC;SACJ;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,EAAE,WAAW,EAAE;gBAC7E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,EAAE;gBAC/E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,EAAE;aAClF;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,GAAG,GAAG,mCAAmC,CAAC;gBAC9C,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAC/B,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACI,KAAK,cAAc;wBACf,MAAM;oBACV,KAAK,eAAe;wBAChB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,MAAM;oBACV,KAAK,eAAe;wBAChB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,MAAK;iBACZ;gBACD,aAAa,CAAC,cAAc,EAAE,CAAC;YACnC,CAAC;SACJ;QACD;YACI,MAAM,EAAE,gBAAgB;YACxB,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,YAAY,EAAE;gBACnF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,gBAAgB,EAAE;gBACvF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,eAAe,EAAE;gBACvF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,SAAS,EAAE;gBAC9E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,4BAA4B,EAAE,MAAM,EAAE,sBAAsB,EAAE;gBAClH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,YAAY,EAAE;aAC7E;YACD,UAAU,EAAE,UAAU,OAAO,EAAE,EAAU,EAAE,KAAc;gBACrD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAE5E,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC1B,KAAK,mBAAmB;wBACpB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,+BAA+B,CAAC,CAAC;wBAC3D,MAAM;oBACV,KAAK,mBAAmB;wBACpB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,+BAA+B,CAAC,CAAC;wBAC3D,MAAM;oBACV,KAAK,oBAAoB;wBACrB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,gCAAgC,CAAC,CAAC;wBAC5D,MAAM;oBACV,KAAK,iBAAiB;wBAClB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,oFAAoF,CAAC,CAAC;wBAChH,MAAM;oBACV,KAAK,4BAA4B;wBAC7B,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,wWAOP,CAAC,CAAC;wBACrB,MAAM;oBACV,KAAK,sBAAsB;wBACvB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,kCAAkC,CAAC,CAAC;wBAC9D,MAAM;iBACb;gBACD,aAAa,CAAC,cAAc,EAAE,CAAC;YACnC,CAAC;SACJ;QACD;YACI,MAAM,EAAE,0BAA0B;YAClC,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,WAAW,EAAE;gBAC7E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,eAAe,EAAE;gBACpF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,wBAAwB,EAAE,MAAM,EAAE,gBAAgB,EAAE;gBAC5F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,uBAAuB,EAAE,MAAM,EAAE,eAAe,EAAE;aAC7F;YACD,UAAU,EAAE,UAAU,OAAO,EAAE,EAAU,EAAE,KAAc;gBACrD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,QAAQ,GAAG,EAAE;gBACjB,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC1B,KAAK,iBAAiB;wBAClB,QAAQ,GAAG,OAAO;wBAClB,MAAK;oBACT,KAAK,iBAAiB;wBAClB,QAAQ,GAAG,OAAO;wBAClB,MAAK;oBACT,KAAK,wBAAwB;wBACzB,QAAQ,GAAG,cAAc;wBACzB,MAAK;oBACT,KAAK,uBAAuB;wBACxB,QAAQ,GAAG,aAAa;wBACxB,MAAK;oBACT,KAAK,EAAE;wBACH,MAAK;iBACZ;gBAED,IAAI,cAAc,GAAG,EAAE;gBACvB,KAAiB,UAAwB,EAAxB,2BAAS,CAAC,cAAc,EAAxB,cAAwB,EAAxB,IAAwB,EAAE;oBAAtC,IAAI,IAAI;oBACT,IAAI,IAAI,IAAI,QAAQ,EAAE;wBAClB,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC;qBAC5B;iBACJ;gBACD,IAAI,sBAAS,CAAC,cAAc,CAAC,KAAK,CAAC,WAAC,IAAI,QAAC,KAAK,QAAQ,EAAd,CAAc,CAAC,EAAE;oBACrD,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC;iBAChC;gBAED,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC,KAAK,aAAa,EAAE;oBACpE,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC;iBAC/B;gBAED,IAAI,CAAC,GAAG,8EAA8E;gBACtF,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC5C,CAAC,GAAG,CAAC,GAAI,cAAc,CAAC,CAAC,CAAC,GAAG,GAAG;iBACnC;gBACD,CAAC,GAAG,CAAC,GAAG,yDAAyD,CAAC;gBAClE,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;YACrC,CAAC;SACV;QACK;YACI,MAAM,EAAE,2BAA2B;YACnC,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,UAAU,EAAE;gBACpF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,kBAAkB,EAAE;gBACxF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,YAAY,EAAE;gBAClF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,YAAY,EAAE;aACpF;YACD,UAAU,EAAE,UAAU,OAAO,EAAE,EAAU,EAAE,KAAc;gBACrD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAE3E,IAAI,QAAQ,GAAG,EAAE;gBACjB,QAAQ,aAAa,CAAC,EAAE,EAAE;oBACtB,KAAK,sBAAsB;wBACvB,QAAQ,GAAG,YAAY;wBACvB,MAAK;oBACT,KAAK,kBAAkB;wBACnB,QAAQ,GAAG,QAAQ;wBACnB,MAAK;oBACT,KAAK,kBAAkB;wBACnB,QAAQ,GAAG,QAAQ;wBACnB,MAAK;oBACT,KAAK,oBAAoB;wBACrB,QAAQ,GAAG,UAAU;wBACrB,MAAK;oBACT,KAAK,EAAE;wBACH,MAAK;iBACZ;gBAED,IAAI,qBAAqB,GAAG,EAAE;gBAC9B,KAAiB,UAAwB,EAAxB,2BAAS,CAAC,cAAc,EAAxB,cAAwB,EAAxB,IAAwB,EAAE;oBAAtC,IAAI,IAAI;oBACT,IAAI,IAAI,IAAI,QAAQ,EAAE;wBAClB,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC;qBACnC;iBACJ;gBACD,IAAI,sBAAS,CAAC,cAAc,CAAC,KAAK,CAAC,WAAC,IAAI,QAAC,KAAK,QAAQ,EAAd,CAAc,CAAC,EAAE;oBACrD,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC;iBACvC;gBACD,IAAI,CAAC,GAAG,+BAA+B;gBACvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,qBAAqB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACnD,CAAC,GAAG,CAAC,GAAG,cAAc,GAAG,qBAAqB,CAAC,CAAC,CAAC,GAAG,eAAe;iBACtE;gBACD,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;gBAElB,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;gBAEjC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,kBAAQ;oBACjC,IAAM,gBAAgB,GAAG,2CAAyC;oBAClE,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC;gBACpD,CAAC,CAAC;YACN,CAAC;SACV;QACD;YACU,MAAM,EAAE,sBAAsB;YAC9B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,eAAe,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aACvH;YACD,UAAU,EAAE,UAAU,OAAO,EAAE,EAAU,EAAE,KAAc;gBACrD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC1C,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,IAAI,GAAG,YAAY;gBACvB,aAAa,CAAC,KAAK,GAAG,IAAI;gBAC1B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;YAC/B,CAAC;SACV;QACD;YACU,MAAM,EAAE,kBAAkB;YAC1B,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,UAAU,EAAC;aAC7E;YACD,UAAU,EAAE,UAAU,OAAO,EAAE,EAAU,EAAE,KAAc;gBACrD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC1C,2BAAM,EAAE,uBAAM,CAAuD;gBAE3E,IAAG,CAAC,aAAa,CAAC,WAAW,EAC7B;oBACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC;oBAClC,IAAI,GAAG,GAAG,4CAA4C,GAAG,IAAI,GAAG,oBAAoB;oBACpF,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;iBACnC;qBAED;oBACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC;oBACnC,IAAI,GAAG,GAAG,4CAA4C,GAAG,KAAK,GAAG,oBAAoB;oBACrF,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;iBACnC;YACO,CAAC;SACJ;QACD;YACI,MAAM,EAAE,kBAAkB;YAC1B,OAAO,EAAE;gBACL,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,qBAAqB,EAAE;gBAChE,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,uBAAuB,EAAE,MAAM,EAAE,YAAY,EAAE;aACvF;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC5C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,QAAQ,aAAa,CAAC,EAAE,EACxB;oBACI,KAAK,uBAAuB;wBACxB,gBAAgB,CAAC,MAAM,CAAC,CAAC;wBACzB,MAAM;oBACV,KAAK,qBAAqB;wBACtB,IAAI,MAAI,GAAG,CAAC,CAAC,aAAa,CAAC,WAAW,CAAC;wBACvC,IAAI,QAAQ,GAAG,iHAGhB,MAAI,+GAGP,CAAC;wBACG,IAAI,GAAG,GAAG,uCAAmC,QAAQ,YAAS,CAAC;wBAC/D,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,UAAC,QAAQ;4BAErC,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAChC;gCACI,aAAa,CAAC,cAAc,CAAC,MAAI,CAAC,CAAC;6BACtC;wBACL,CAAC,CAAC;wBACF,MAAM;iBACb;gBACD,aAAa,CAAC,cAAc,EAAE,CAAC;YACnC,CAAC;SACV;QACK;YACI,MAAM,EAAE,cAAc;YACtB,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,iBAAiB,EAAE;gBACrF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,cAAc,EAAC;aACpH;YACD,UAAU,EAAE,UAAU,OAAO,EAAE,EAAU,EAAE,KAAc;gBACrD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC1C,2BAAM,EAAE,uBAAM,CAAuD;gBAC/D,IAAI,QAAQ,GAAG,aAAa,CAAC,WAAW,CAAC;gBACzC,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACI,KAAK,mBAAmB;wBACpB,IAAI,GAAG,GAAG,uEAAuE,GAAG,CAAC,QAAQ,CAAC;wBAC9F,GAAG,IAAI,kDAAkD,CAAC;wBAC1D,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,MAAM;oBACV,KAAK,qBAAqB;wBACtB,IAAI,QAAQ,EACZ;4BACI,oBAAoB,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;4BAC5C,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;yBACvC;6BAED;4BACI,oBAAoB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;4BAC3C,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;yBACtC;wBACD,MAAM;iBACb;YACL,CAAC;SACV;QACD;YACU,MAAM,EAAE,sBAAsB;YACvC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,cAAc,EAAE;gBAClH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,UAAU,EAAE;gBACrG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,eAAe,EAAE;gBACpH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,aAAa,EAAE;gBAC9G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,eAAe,EAAE;gBAC/G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,6BAA6B,EAAE;aAClG;YACQ,UAAU,EAAE,UAAU,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC3D,2BAAM,CAAsC;gBAClD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAErC,IAAG,aAAa,CAAC,EAAE,KAAK,oBAAoB,EAC5C;oBACC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;iBACpB;qBAED;oBACC,IAAI,aAAa,CAAC,WAAW,EAC7B;wBACC,aAAa,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;wBACpC,IAAI,aAAa,GAAG,sBAAS,CAAC,KAAK,CAAC,MAAM,CAAC;wBAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,EAAE,EACtC;4BACC,IAAI,sBAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,aAAa,CAAC,MAAM,EACtD;gCACC,sBAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;6BACnC;yBACD;wBACD,YAAY,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,sBAAS,CAAC,KAAK,CAAC,CAAC,CAAC;qBACvE;yBAED;wBACC,EAAE,CAAC,WAAW,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;qBACrC;iBACD;YACO,CAAC;SACJ;QACP,OAAO;KACJ;CACJ;AAEU,sBAAc,GAAgB;IACxC,MAAM,EAAE,uBAAuB;IAC/B,MAAM,EAAE;QACP;YACC,MAAM,EAAE,0BAA0B;YAClC,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS;oBAC5B,MAAM,EAAE,uBAAuB;oBAC/B,MAAM,EAAE,eAAe;iBACvB;gBACD;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS;oBAC5B,MAAM,EAAE,qBAAqB;oBAC7B,MAAM,EAAE,gBAAgB;oBACxB,SAAS,EAAE,IAAI;iBACf;aACD;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,GAAW;gBACf,IAAI,gBAAwB;gBAC5B,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC7B,KAAK,uBAAuB;wBAC3B,GAAG,GAAG,uQAMW;wBACjB,gBAAgB,GAAG,wCAAoC,GAAG,aAAU;wBACpE,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC;wBAChD,MAAK;oBACN,KAAK,qBAAqB;wBACzB,GAAG,GAAG,sQAMW;wBACjB,gBAAgB,GAAG,wCAAoC,GAAG,aAAU;wBACpE,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,gBAAgB,CAAC;wBAEhD,MAAK;iBACN;gBAED,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE;oBAC/B,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,UAAC,MAAoB,IAAK,aAAM,CAAC,cAAc,CAAC,KAAK,CAAC,EAA5B,CAA4B,CAAC;oBAClF,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC;gBACnC,CAAC,CAAC;YAGH,CAAC;SACD;QACD;YACC,MAAM,EAAE,sBAAsB;YAC9B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aACzG;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAGT;gBAEX,IAAI,IAAI,GAAG,6BAA6B;gBACxC,aAAa,CAAC,KAAK,GAAG,IAAI;gBAC1B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;YACxC,CAAC;SACD;QACD;YACC,MAAM,EAAE,gBAAgB;YACxB,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC3G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,8BAA8B,EAAE,MAAM,EAAE,qBAAqB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aAClI;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,CAED;gBAEX,IAAI,IAAI;gBACR,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACC,KAAK,kBAAkB;wBACtB,IAAI,GAAG,wBAAwB;wBAC/B,MAAK;oBACN,KAAK,8BAA8B;wBAClC,IAAI,GAAG,mCAAmC;wBAC1C,MAAK;oBACN;wBACC,OAAM;iBACP;gBACD,aAAa,CAAC,KAAK,GAAG,IAAI;gBAC1B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;YACxC,CAAC;SACD;QACD;YACC,MAAM,EAAE,uBAAuB;YAC/B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,cAAc,EAAE,SAAS,EAAC,IAAI,EAAE;gBACjG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,YAAY,EAAE;aACpF;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAGT;gBAEX,IAAI,GAAG,GAAG,oGAAoG;gBAC9G,GAAG,IAAI,aAAa,CAAC,MAAM,KAAK,oBAAoB;gBACpD,GAAG,IAAI,gFAAgF;gBAEvF,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;gBAEnC,MAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE;oBAC/B,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,UAAC,MAAoB,IAAK,aAAM,CAAC,cAAc,CAAC,KAAK,CAAC,EAA5B,CAA4B,CAAC;oBAClF,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC;gBACnC,CAAC,CAAC;YACH,CAAC;SACD;QACD;YACC,MAAM,EAAE,kBAAkB;YAC1B,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,kBAAkB;oBAC1B,MAAM,EAAE,YAAY;oBACpB,WAAW,EAAE,CAAC,aAAa,CAAC;oBAC5B,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAClF,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,iBAAiB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACzF,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACrF,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,iBAAiB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACvF,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,aAAa,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;qBACjF;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAChE,2BAAM,CAED;wBACX,IAAI,IAAI,GAAG,EAAE;wBAEb,QAAQ,IAAI,CAAC,MAAM,EAAE;4BACpB,KAAK,kBAAkB;gCACtB,IAAI,GAAG,0BAA0B;gCACjC,MAAK;4BACN,KAAK,oBAAoB;gCACxB,IAAI,GAAG,4BAA4B;gCACnC,MAAK;4BACN,KAAK,qBAAqB;gCACzB,IAAI,GAAG,6BAA6B;gCACpC,MAAK;4BACN,KAAK,kBAAkB;gCACtB,IAAI,GAAG,0BAA0B;gCACjC,MAAK;4BACN,KAAK,gBAAgB;gCACpB,IAAI,GAAG,wBAAwB;gCAC/B,MAAK;yBACN;wBACD,IAAI,CAAC,KAAK,GAAG,IAAI;wBACjB,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;oBACxC,CAAC;iBACD;aACD;SACD;QACD;YACC,MAAM,EAAE,oBAAoB;YAC5B,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,uCAAuC;oBAC/C,MAAM,EAAE,oBAAoB;oBAC5B,WAAW,EAAE,CAAC,aAAa,CAAC;oBAC5B,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,uCAAuC,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAC/G,EAAE,MAAM,EAAE,2CAA2C,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACnH,EAAE,MAAM,EAAE,kDAAkD,EAAE,MAAM,EAAE,yBAAyB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAC/H,EAAE,MAAM,EAAE,4CAA4C,EAAE,MAAM,EAAE,sBAAsB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACtH,EAAE,MAAM,EAAE,sCAAsC,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAC9G,EAAE,MAAM,EAAE,0CAA0C,EAAE,MAAM,EAAE,0BAA0B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACxH,EAAE,MAAM,EAAE,2CAA2C,EAAE,MAAM,EAAE,sBAAsB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACrH,EAAE,MAAM,EAAE,4CAA4C,EAAE,MAAM,EAAE,8BAA8B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAC9H,EAAE,MAAM,EAAE,+CAA+C,EAAE,MAAM,EAAE,8BAA8B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACjI,EAAE,MAAM,EAAE,iDAAiD,EAAE,MAAM,EAAE,+BAA+B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACpI,EAAE,MAAM,EAAE,sCAAsC,EAAE,MAAM,EAAE,iCAAiC,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAC3H,EAAE,MAAM,EAAE,4CAA4C,EAAE,MAAM,EAAE,iCAAiC,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACjI,EAAE,MAAM,EAAE,2CAA2C,EAAE,MAAM,EAAE,6BAA6B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAC5H,EAAE,MAAM,EAAE,uCAAuC,EAAE,MAAM,EAAE,yBAAyB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACpH,EAAE,MAAM,EAAE,iDAAiD,EAAE,MAAM,EAAE,8BAA8B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;qBACnI;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAChE,2BAAM,EAAE,uBAAM,CAGT;wBACX,IAAI,IAAI,GAAG,EAAE;wBACb,QAAQ,IAAI,CAAC,MAAM,EAAE;4BACpB,KAAK,uCAAuC;gCAC3C,IAAI,GAAG,kCAAkC,CAAC;gCAC1C,MAAM;4BACP,KAAK,2CAA2C;gCAC/C,IAAI,GAAG,iCAAiC,CAAC;gCACzC,MAAM;4BACP,KAAK,kDAAkD;gCACtD,IAAI,GAAG,iCAAiC,CAAC;gCACzC,MAAM;4BACP,KAAK,4CAA4C;gCAChD,IAAI,GAAG,kCAAkC,CAAC;gCAC1C,MAAM;4BACP,KAAK,sCAAsC;gCAC1C,IAAI,GAAG,gCAAgC,CAAC;gCACxC,MAAM;4BACP,KAAK,0CAA0C;gCAC9C,IAAI,GAAG,gCAAgC,CAAC;gCACxC,MAAM;4BACP,KAAK,2CAA2C;gCAC/C,IAAI,GAAG,iCAAiC,CAAC;gCACzC,MAAM;4BACP,KAAK,4CAA4C;gCAChD,IAAI,GAAG,gCAAgC,CAAC;gCACxC,MAAM;4BACP,KAAK,+CAA+C;gCACnD,IAAI,GAAG,oCAAoC,CAAC;gCAC5C,MAAM;4BACP,KAAK,iDAAiD;gCACrD,IAAI,GAAG,gCAAgC,CAAC;gCACxC,MAAM;4BACP,KAAK,sCAAsC;gCAC1C,IAAI,GAAG,gCAAgC;gCACvC,MAAK;4BACN,KAAK,4CAA4C;gCAChD,IAAI,GAAG,kCAAkC,CAAC;gCAC1C,MAAM;4BACP,KAAK,2CAA2C;gCAC/C,IAAI,GAAG,iCAAiC,CAAC;gCACzC,MAAM;4BACP,KAAK,uCAAuC;gCAC3C,IAAI,GAAG,kCAAkC,CAAC;gCAC1C,MAAM;4BACP,KAAK,iDAAiD;gCACrD,IAAI,GAAG,0CAA0C,CAAC;gCAClD,MAAM;4BACP;gCACC,MAAM;yBACP;wBACD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;wBAClB,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBACzC,CAAC;iBACD;aACD;SACD;QACD;YACC,MAAM,EAAE,iBAAiB;YACzB,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,kCAAkC;oBAC1C,MAAM,EAAE,8BAA8B;oBACtC,WAAW,EAAE,CAAC,aAAa,CAAC;oBAC5B,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,kCAAkC,EAAE,MAAM,EAAE,8BAA8B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACpH,EAAE,MAAM,EAAE,uCAAuC,EAAE,MAAM,EAAE,yBAAyB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAClG,EAAE,MAAM,EAAE,mCAAmC,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAC3G,EAAE,MAAM,EAAE,6CAA6C,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACvI,EAAE,MAAM,EAAE,oCAAoC,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBAC5G,EAAE,MAAM,EAAE,6CAA6C,EAAE,MAAM,EAAE,uBAAuB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;wBACtG,EAAE,MAAM,EAAE,yCAAyC,EAAE,MAAM,EAAE,6BAA6B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;qBAC5I;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAC9C,2BAAM,EAAE,uBAAM,CAGR;wBACZ,IAAI,IAAI,GAAG,EAAE,CAAC;wBAChC,QAAQ,IAAI,CAAC,MAAM,EAAE;4BACC,KAAK,kCAAkC;gCACnC,IAAI,GAAG,iCAAiC,CAAC;gCACzC,MAAM;4BACV,KAAK,uCAAuC;gCACxC,IAAI,GAAG,kCAAkC,CAAC;gCAC1C,MAAM;4BACV,KAAK,mCAAmC;gCACpC,IAAI,GAAG,kCAAkC,CAAC;gCAC1C,MAAM;4BACV,KAAK,oCAAoC;gCACrC,IAAI,GAAG,mCAAmC,CAAC;gCAC3C,MAAM;4BACV,KAAK,6CAA6C;gCAC9C,IAAI,GAAG,wCAAwC,CAAC;gCAChD,MAAM;4BACV,KAAK,yCAAyC;gCAC1C,IAAI,GAAG,kCAAkC,CAAC;gCAC1C,MAAM;4BACV,KAAK,6CAA6C;gCAC9C,IAAI,GAAG,2CAA2C,CAAC;gCACnD,MAAM;4BACV;gCACI,OAAO;yBAChC;wBACiB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;wBAClB,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBAC3D,CAAC;iBACD;aACD;SACD;QACD;YACC,MAAM,EAAE,gBAAgB;YACxB,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,cAAc,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aAC7G;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAGR;gBACZ,IAAI,IAAY,CAAC;gBACjB,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACC,KAAK,gBAAgB;wBACpB,IAAI,GAAG,sBAAsB,CAAC;wBAC9B,MAAM;iBACP;gBACD,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACzC,CAAC;SACD;QACD;YACC,MAAM,EAAE,0BAA0B;YAClC,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,uCAAuC;oBAC/C,MAAM,EAAE,WAAW;oBACnB,WAAW,EAAE,CAAC,aAAa,CAAC;oBAC5B,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,uCAAuC,EAAE,MAAM,EAAE,WAAW,EAAE;wBACxE,EAAE,MAAM,EAAE,gDAAgD,EAAE,MAAM,EAAE,cAAc,EAAE;qBACpF;oBACH,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAChE,2BAAM,EAAE,uBAAM,CAGT;wBAEX,IAAI,IAAI,GAAG,EAAE;wBACb,QAAO,IAAI,CAAC,MAAM,EAAC;4BAClB,KAAK,uCAAuC;gCAC3C,IAAI,GAAG,oCAAoC;gCAC3C,MAAK;4BACN,KAAK,gDAAgD;gCACpD,IAAI,GAAG,uCAAuC;gCAC9C,MAAK;yBACN;wBACD,IAAI,CAAC,KAAK,GAAG,IAAI;wBACjB,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;oBACxC,CAAC;iBACD;aACD;SAAC;QACD;YACC,MAAM,EAAE,wBAAwB;YAChC,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,iBAAiB;oBACzB,MAAM,EAAE,UAAU;oBAClB,WAAW,EAAE,CAAC,aAAa,CAAC;oBAC5B,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,UAAU,EAAE;wBACjD,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,aAAa,EAAE;qBACzD;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAChE,2BAAM,EAAE,uBAAM,CAGT;wBACX,IAAI,IAAI,GAAG,EAAE;wBACb,QAAQ,IAAI,CAAC,MAAM,EAAE;4BACpB,KAAK,iBAAiB;gCACrB,IAAI,GAAG,8BAA8B;gCACrC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,sGAAsG,CAAC,CAAC;gCAClI,MAAK;4BACN,KAAK,sBAAsB;gCAC1B,IAAI,GAAG,6BAA6B;gCACpC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,qGAAqG,CAAC,CAAC;gCACjI,MAAK;4BACN;gCACC,OAAM;yBACP;wBACD,IAAI,CAAC,KAAK,GAAG,IAAI;wBACjB,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;oBACxC,CAAC;iBACW;gBACD;oBACX,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,2BAA2B;oBACnC,MAAM,EAAE,UAAU;oBAClB,WAAW,EAAE,CAAC,aAAa,CAAC;oBAC5B,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,UAAU,EAAE;wBACnD,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,gBAAgB,EAAE;qBACvD;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB;wBACtC,2BAAM,CAGD;wBACX,QAAQ,IAAI,CAAC,MAAM,EAAE;4BACpB,KAAK,mBAAmB;gCACvB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,+GAA+G,CAAC,CAAC;gCAC3I,MAAK;4BACN,KAAK,iBAAiB;gCACrB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,4GAA4G,CAAC,CAAC;gCACxI,MAAK;4BACN;gCACC,OAAM;yBACP;oBACF,CAAC;iBACD;aACD;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;YAChD,CAAC;SACD;QACD;YACC,MAAM,EAAE,qBAAqB;YAC7B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aAC/G;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBACzC,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACrC,IAAI,IAAI,GAAG,gCAAgC,CAAC;gBAC5C,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACzC,CAAC;SACD,EAAE,OAAO;KACV;CACD;AAEU,kBAAU,GAAgB;IACpC,MAAM,EAAE,mBAAmB;IAC3B,MAAM,EAAE;QACP;YACC,MAAM,EAAE,mBAAmB;YAC3B,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,2CAA2C,EAAE,MAAM,EAAE,4BAA4B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC;oBACvH,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,2CAA2C,EAAE,MAAM,EAAE,4BAA4B,EAAE;wBAC7F,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,kBAAkB,EAAE;wBACjE,EAAE,MAAM,EAAE,uCAAuC,EAAE,MAAM,EAAE,sBAAsB,EAAE;wBACnF,EAAE,MAAM,EAAE,+CAA+C,EAAE,MAAM,EAAE,8BAA8B,EAAE;qBACnG;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAChE,2BAAM,EAAE,uBAAM,CAAuD;wBAG3E,IAAI,IAAI,GAAG,EAAE;wBACb,QAAQ,IAAI,CAAC,MAAM,EAAE;4BACpB,KAAK,2CAA2C;gCAC/C,IAAI,GAAG,yBAAyB;gCAChC,MAAK;4BACN,KAAK,yBAAyB;gCAC7B,IAAI,GAAG,SAAS;gCAChB,MAAK;4BACN,KAAK,uCAAuC;gCAC3C,IAAI,GAAG,qBAAqB;gCAC5B,MAAK;4BACN,KAAK,+CAA+C;gCACnD,IAAI,GAAG,4BAA4B;gCACnC,MAAK;4BACN;gCACC,OAAM;yBACP;wBACD,IAAI,CAAC,KAAK,GAAG,IAAI;wBACjB,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;oBACxC,CAAC;iBACD;aACD;SACD;QACD;YACC,MAAM,EAAE,mBAAmB;YAC3B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE,MAAM,EAAC,iBAAiB,EAAE;gBAC7I,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAC,iBAAiB,EAAE;aACzG;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBACzC,2BAAM,CAAqC;gBACjD,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBACpC,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC7B,KAAK,yBAAyB;wBAC7B,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE;4BAC/B,IAAI,wBAAwB,GAAG,4EAA0E;4BACzG,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,wBAAwB,CAAC;4BACnC,MAAM,CAAC,IAAI,CAAC,0BAA0B,EAAE,kBAAQ;gCAE5C,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC;4BACtC,CAAC,CAAC,CAAC;4BACxB,oBAAoB,CAAC,iBAAiB,EAAE,cAAc,CAAC;yBACvD;6BAAM;4BACN,IAAI,wBAAwB,GAAG,6EAA2E;4BAC1G,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,wBAAwB,CAAC;4BACnC,MAAM,CAAC,IAAI,CAAC,0BAA0B,EAAE,kBAAQ;gCAE5C,aAAa,CAAC,iBAAiB,CAAC;4BACpC,CAAC,CAAC,CAAC;yBACxB;wBACD,MAAM;oBAEP,KAAK,qBAAqB;wBACzB,IAAG,CAAC,aAAa,CAAC,WAAW,EAAE;4BAC9B,oBAAoB,CAAC,iBAAiB,EAAE,cAAc,CAAC;yBACvD;6BAAM;4BACN,aAAa,CAAC,iBAAiB,CAAC;yBAChC;wBACD,MAAM;iBACP;YACF,CAAC;SACD;QACD;YACC,MAAM,EAAE,0BAA0B;YAClC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,uBAAuB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aAChI;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBACpC,IAAG,CAAC,aAAa,CAAC,WAAW,EAC7B;oBACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBACnC,oBAAoB,CAAC,kBAAkB,EAAE,IAAI,CAAC;iBAC9C;qBAED;oBACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;oBACpC,oBAAoB,CAAC,kBAAkB,EAAE,KAAK,CAAC;iBAC/C;YAGF,CAAC;SACD;QACD;YACC,MAAM,EAAE,iBAAiB;YACzB,OAAO,EAAE;gBACI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,2BAA2B,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE;gBACvG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,iBAAiB,EAAE;aACnH;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU;gBAE5B,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACrC,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;oBACI,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBACnC,oBAAoB,CAAC,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;iBACpD;qBAED;oBACI,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;oBACpC,oBAAoB,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC;iBACpD;YACL,CAAC;SACJ;QACP;YACC,MAAM,EAAE,mBAAmB;YAC3B,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM;oBACzB,MAAM,EAAE,wBAAwB;oBAChC,MAAM,EAAE,qBAAqB;iBAC7B;aACD;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,aAAa,CAAC,cAAc,EAAE;gBAC9B,IAAI,yBAAyB,GAAG,wGAAwG;gBACxI,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,yBAAyB,CAAC;YAC1D,CAAC;SACD;QACD;YACC,MAAM,EAAE,+BAA+B;YACvC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,wBAAwB,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,gBAAgB,EAAE;gBACrH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,cAAc,EAAC;aACxG;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,aAAa,CAAC,MAAM,KAAK,wBAAwB,EACrD;oBACC,IAAG,CAAC,aAAa,CAAC,WAAW,EAC7B;wBACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBACnC,oBAAoB,CAAC,gBAAgB,EAAE,IAAI,CAAC;qBAC5C;yBAED;wBACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;wBACpC,oBAAoB,CAAE,gBAAgB,EAAE,KAAK,CAAC;qBAC9C;iBACD;qBACI,IAAI,aAAa,CAAC,MAAM,KAAK,qBAAqB,EACvD;oBACC,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;wBACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBACnC,oBAAoB,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;qBAC3C;yBAED;wBACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;wBACpC,oBAAoB,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;qBAC5C;iBACD;YACF,CAAC;SACD;QACD;YACC,MAAM,EAAE,oBAAoB;YAC5B,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM;oBACzB,MAAM,EAAE,uBAAuB;oBAC/B,MAAM,EAAE,gCAAgC;oBACxC,WAAW,EAAE,CAAC,aAAa,CAAC;iBAC5B;gBACD;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM;oBACzB,MAAM,EAAE,0BAA0B;oBAClC,MAAM,EAAE,eAAe;oBACvB,MAAM,EAAC,kBAAkB;iBACzB;gBACD;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM;oBACzB,MAAM,EAAE,iBAAiB;oBACzB,MAAM,EAAE,OAAO;oBACf,MAAM,EAAE,UAAU;iBAClB;aACD;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,CAED;gBACX,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACC,KAAK,uBAAuB;wBAC3B,aAAa,CAAC,KAAK,GAAG,YAAY;wBAClC,yBAAyB,CAAC,MAAM,EAAE,YAAY,CAAC;wBAC/C,MAAM;oBACP,KAAK,0BAA0B;wBAC9B,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;4BACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;4BACnC,oBAAoB,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;yBAC/C;6BAED;4BACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;4BACpC,oBAAoB,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;yBAChD;wBACD,MAAM;oBACP,KAAK,iBAAiB;wBACrB,aAAa,CAAC,KAAK,GAAG,uBAAuB;wBAC7C,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;4BACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;4BACd,mBAAmB,CAAC,MAAM,EAAE,uBAAuB,CAAC,CAAC;4BAErD,IAAI,eAAe,GAAG,2IAA2I,CAAC;4BAClK,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;4BAChE,oBAAoB,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;yBACvC;6BAED;4BACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;4BACpC,qBAAqB,CAAC,MAAM,EAAE,uBAAuB,CAAC;4BACtD,oBAAoB,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;yBACxC;wBACD,MAAM;iBACP;YACF,CAAC;SACD;QACD,OAAO;KACP;CACD;AAEU,oBAAY,GAAgB;IACtC,MAAM,EAAE,0BAA0B;IAClC,MAAM,EAAE;QACP;YACC,MAAM,EAAE,0BAA0B;YAClC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,sBAAsB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC1H,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,eAAe,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC9G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC/F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACvG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,WAAW,EAAE;gBACpG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,eAAe,EAAE;gBAC/F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gCAAgC,EAAE,MAAM,EAAE,0BAA0B,EAAE;aAC3G;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAClB,2BAAM,EAAE,uBAAM,CAGR;gBAEZ,IAAI,IAAI,GAAG,EAAE,CAAC;gBAC1B,QAAQ,aAAa,CAAC,MAAM,EAAE;oBACd,KAAK,qBAAqB;wBACtB,IAAI,GAAG,yBAAyB,CAAC;wBACjC,MAAM;oBACV,KAAK,gBAAgB;wBACjB,IAAI,GAAG,qBAAqB,CAAC;wBAC7B,MAAM;oBACV,KAAK,kBAAkB;wBACnB,IAAI,GAAG,uBAAuB,CAAC;wBAC/B,MAAM;oBACV,KAAK,iBAAiB;wBAClB,IAAI,GAAG,sBAAsB,CAAC;wBAC9B,MAAM;oBACV,KAAK,gCAAgC;wBACjC,IAAI,mBAAmB,GAAG,kGAAkG,CAAC;wBAC7H,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC;wBACpD,aAAa,CAAC,cAAc,EAAE,CAAC;wBAC/B,MAAM;oBACV,KAAK,kBAAkB;wBACnB,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;4BACI,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;4BACnC,oBAAoB,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;yBAC3C;6BAED;4BACI,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;4BACpC,oBAAoB,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;yBAC5C;wBACD,MAAM;oBACV,KAAK,mBAAmB;wBACpB,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;4BACI,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;4BACnC,oBAAoB,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;yBAC5C;6BAED;4BACI,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;4BACpC,oBAAoB,CAAC,YAAY,EAAE,KAAK,CAAC;yBAC5C;wBACD,MAAM;oBACV;wBACI,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;iBACjD;gBAAA,CAAC;gBACF,IAAI,IAAI,KAAK,EAAE,EACf;oBACI,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;oBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;iBAC3C;YACd,CAAC;SACD;QACD;YACC,MAAM,EAAE,8BAA8B;YACtC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,eAAe,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAClH;oBACC,MAAM,EAAE,mCAAmC;oBAC3C,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,0BAA0B;oBAClC,WAAW,EAAE,CAAC,aAAa,CAAC;oBAC5B,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,wCAAwC,EAAE,MAAM,EAAE,0BAA0B,EAAE;wBACxF,EAAE,MAAM,EAAE,sCAAsC,EAAE,MAAM,EAAE,wBAAwB,EAAE;qBACpF;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAEhE,2BAAM,CAED;wBACX,IAAI,IAAI,GAAG,EAAE;wBAEb,QAAQ,IAAI,CAAC,MAAM,EACnB;4BACC,KAAK,wCAAwC;gCAC5C,IAAI,GAAG,gCAAgC;gCACvC,MAAK;4BACN,KAAK,sCAAsC;gCAC1C,IAAI,GAAG,8BAA8B;gCACrC,MAAK;yBACN;wBACD,IAAI,CAAC,KAAK,GAAG,IAAI;wBACjB,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;oBACxC,CAAC;iBACD;aACD;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CACT;gBAEC,IAAI,IAAI,GAAG,EAAE;gBACb,IAAI,cAAc,GAAG,CAAC,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;gBACxD,cAAc,CAAC,KAAK,GAAG,wBAAwB,CAAC;gBAC5D,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACC,KAAK,oBAAoB;wBACxB,IAAI,GAAG,wBAAwB,CAAC;wBAChC,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;wBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;wBACxC,MAAM;iBACP;YACF,CAAC;SACD;QACD;YACC,MAAM,EAAE,yBAAyB;YACjC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,0BAA0B,EAAE,MAAM,EAAE,wBAAwB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC1H,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,0BAA0B,EAAE,MAAM,EAAE,wBAAwB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACtI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,0CAA0C,EAAE,MAAM,EAAE,0BAA0B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aACpK;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CACT;gBAEX,IAAI,IAAI,GAAG,EAAE;gBACb,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACC,KAAK,0BAA0B;wBAC9B,IAAI,GAAG,wCAAwC,CAAC;wBAChD,MAAM;oBACP,KAAK,0BAA0B;wBAC9B,IAAI,GAAG,wCAAwC,CAAC;wBAC9B,MAAM;oBACV,KAAK,0CAA0C;wBAC7D,IAAI,GAAG,sDAAsD,CAAC;wBAC5C,MAAM;iBACzB;gBACD,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACzC,CAAC;SACD;QACD;YACC,MAAM,EAAE,2BAA2B;YACnC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,4BAA4B,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACpI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,0BAA0B,EAAE,MAAM,EAAE,kBAAkB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAChI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,0CAA0C,EAAE,MAAM,EAAE,4BAA4B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aAC1J;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CACT;gBAEX,IAAI,IAAI,GAAG,EAAE;gBACb,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACC,KAAK,4BAA4B;wBAChC,IAAI,GAAG,4CAA4C,CAAC;wBACpD,MAAM;oBACP,KAAK,0BAA0B;wBAC9B,IAAI,GAAG,0CAA0C,CAAC;wBAClD,MAAM;oBACP,KAAK,0CAA0C;wBAC9C,IAAI,GAAG,wDAAwD,CAAC;wBAChE,MAAM;iBACP;gBACD,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACzC,CAAC;SACD;QACD;YACC,MAAM,EAAE,gCAAgC;YACxC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,kDAAkD,EAAE,MAAM,EAAE,0CAA0C,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAChL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,sCAAsC,EAAE,MAAM,EAAE,4BAA4B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACtJ,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE,0BAA0B,EAAE,MAAM,EAAE,8BAA8B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aAC5I;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CACT;gBAEX,IAAI,IAAI,GAAG,EAAE;gBACb,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACC,KAAK,kDAAkD;wBACtD,IAAI,GAAG,yDAAyD,CAAC;wBACjE,MAAM;oBACP,KAAK,sCAAsC;wBAC1C,IAAI,GAAG,6CAA6C,CAAC;wBACrD,MAAM;oBACP,KAAK,0BAA0B;wBAC9B,IAAI,GAAG,mCAAmC,CAAC;wBAC3C,MAAM;iBACP;gBACD,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACzC,CAAC;SACD;QACD;YACC,MAAM,EAAE,0BAA0B;YAClC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,EAAE,gBAAgB,EAAE,MAAM,EAAE,SAAS,EAAE;gBAC5E,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,MAAM,EAAE,SAAS,EAAE;aAC7E;SACD;QACD,OAAO;KACP;CACD;AAEU,eAAO,GAAgB;IACjC,MAAM,EAAE,iBAAiB;IACzB,MAAM,EAAE;QACP;YACC,MAAM,EAAE,sBAAsB;YAC9B,OAAO,EAAE;gBAKR,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,kBAAkB,EAAE;aAC7D;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAE3E,IAAI,GAAG,GAAG,0BAA0B;gBACpC,GAAG,IAAI,sCAAsC;gBAC7C,GAAG,IAAI,SAAS;gBAChB,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,GAAG,CAAC;gBACnC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,UAAC,QAAQ;oBAChC,IAAG,QAAQ,CAAC,KAAK,KAAK,SAAS,EAC/B;wBACmB,IAAI,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC;wBACzB,IAAI,OAAO,GAAG,IAAI,kCAAc,CAAC,GAAG,EAAE,QAAQ,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;qBAC3G;gBACF,CAAC,CAAC;YACH,CAAC;SACD;QACD;YACC,MAAM,EAAE,yBAAyB;YACjC,OAAO,EAAE;gBACR,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE;gBAC5C,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE;aAC5C;SACD;QACD;YACC,MAAM,EAAE,kBAAkB;YAC1B,OAAO,EAAE;gBACR,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAC,WAAW,EAAE;aACtE;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBACnC,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACjD,IAAG,CAAC,aAAa,CAAC,WAAW,EAC7B;oBACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBACpB,oBAAoB,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;iBACvD;qBAED;oBACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;oBACrB,oBAAoB,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;iBACxD;YACF,CAAC;SACD;QACD;YACC,MAAM,EAAE,0BAA0B;YAClC,OAAO,EAAE;gBACR,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,qBAAqB,EAAE;aACrE;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAE/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,CAAqC;gBACrC,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;oBACI,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC;oBAClC,oBAAoB,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;iBACnD;qBAED;oBACI,oBAAoB,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;oBACjD,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;iBACvC;YACL,CAAC;SACJ;QACD;YACL,MAAM,EAAE,yBAAyB;YACjC,OAAO,EAAE;gBACR,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,EAAC,eAAe,EAAE;gBAC7E,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAC,mBAAmB,EAAC;aACtF;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBACpC,IAAG,CAAC,aAAa,CAAC,WAAW,EAC7B;oBACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC;oBAClC,QAAO,aAAa,CAAC,MAAM,EAC3B;wBACC,KAAK,mBAAmB;4BACvB,oBAAoB,CAAC,eAAe,EAAE,IAAI,CAAC;4BAC3C,MAAK;wBACN,KAAK,oBAAoB;4BACxB,oBAAoB,CAAC,mBAAmB,EAAE,IAAI,CAAC;4BAC/C,MAAK;qBACN;iBACD;qBAED;oBACC,QAAO,aAAa,CAAC,MAAM,EAC3B;wBACC,KAAK,mBAAmB;4BACvB,oBAAoB,CAAC,eAAe,EAAE,KAAK,CAAC;4BAC5C,MAAK;wBACN,KAAK,oBAAoB;4BACxB,oBAAoB,CAAC,mBAAmB,EAAE,KAAK,CAAC;4BAChD,MAAK;qBACN;oBACD,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;iBACpC;YACF,CAAC;SACD;QACD;YACC,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE;gBACR,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAC,YAAY,EAAC;aAC7D;YACD,UAAU,EAAE,UAAU,OAAO,EAAE,EAAE,EAAE,KAAK;gBACvC,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACrC,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;oBACC,oBAAoB,CAAE,YAAY,EAAE,IAAI,CAAC,CAAC;oBAC1C,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;iBACnC;qBAED;oBACC,oBAAoB,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;oBAC1C,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;iBACpC;YAEF,CAAC;SACD;QACD,OAAO;KACP;CACD;AAEU,gBAAQ,GAAgB;IAClC,MAAM,EAAE,iBAAiB;IACzB,MAAM,EAAE;QACP;YACC,MAAM,EAAE,gBAAgB;YACxB,OAAO,EAAE;gBACR,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,aAAa,EAAE;gBACrD,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,YAAY,EAAE;gBAClD,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,aAAa,EAAE;gBACpD,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,aAAa,EAAE;aACrD;SACD;QACD;YACC,MAAM,EAAE,uBAAuB;YAC/B,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,uBAAuB;oBAC/B,MAAM,EAAE,kBAAkB;oBAC1B,aAAa,EAAE;wBACd,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,uBAAuB,EAAE;wBACjE,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,iBAAiB,EAAE;wBACtD,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,oBAAoB,EAAE;wBAC5D,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,kBAAkB,EAAE;wBACxD,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,wBAAwB,EAAE;wBACnE,EAAE,MAAM,EAAE,wBAAwB,EAAE,MAAM,EAAE,oBAAoB,EAAE;qBAClE;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAChE,2BAAM,CAED;wBACX,IAAI,WAAW,GAAG,EAAE;wBACpB,QAAQ,IAAI,CAAC,MAAM,EACnB;4BACC,KAAK,oBAAoB;gCACxB,WAAW,GAAG,UAAU;gCACxB,MAAK;4BACN,KAAK,eAAe;gCACnB,WAAW,GAAG,KAAK;gCACnB,MAAK;4BACN,KAAK,kBAAkB;gCACtB,WAAW,GAAG,QAAQ;gCACtB,MAAK;4BACN,KAAK,gBAAgB;gCACpB,WAAW,GAAG,MAAM;gCACpB,MAAM;4BACP,KAAK,qBAAqB;gCACzB,WAAW,GAAG,WAAW;gCACzB,MAAM;4BACP,KAAK,wBAAwB;gCAC5B,WAAW,GAAG,cAAc;gCAC5B,MAAM;4BACP;gCACC,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC;yBAC1C;wBAED,IAAI,GAAG,GAAG,oCAAoC,GAAG,WAAW,GAAG,iBAAiB,CAAC;wBAC/D,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,MAAM,CAAC,cAAc,EAAE,CAAC;oBAC3C,CAAC;iBACD;aACD;SACD;QACD;YACC,MAAM,EAAE,6BAA6B;YACrC,OAAO,EAAE;gBACI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,4BAA4B,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC/H,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,4BAA4B,EAAE,MAAM,EAAE,cAAc,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACxI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,uBAAuB,EAAE,MAAM,EAAE,8BAA8B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACvI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,uBAAuB,EAAE,MAAM,EAAE,8BAA8B,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACvI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,qBAAqB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC3H,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAClH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,6BAA6B,EAAE,MAAM,EAAE,mBAAmB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAClI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,2BAA2B,EAAE,MAAM,EAAE,qBAAqB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAClI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,6BAA6B,EAAE,MAAM,EAAE,yBAAyB,EAAE;gBAC1G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,4BAA4B,EAAE,MAAM,EAAE,wBAAwB,EAAE;gBACxG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,qCAAqC,EAAE,MAAM,EAAE,cAAc,EAAE;gBACvG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,2BAA2B,EAAE,MAAM,EAAE,iBAAiB,EAAE;aAGhG;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBACnC,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,IAAI,GAAG,EAAE,CAAC;gBAC1B,QAAQ,aAAa,CAAC,MAAM,EAAE;oBACd,KAAK,4BAA4B;wBAC7B,IAAI,GAAG,+CAA+C,CAAC;wBACvD,MAAM;oBACV,KAAK,uBAAuB;wBACxB,IAAI,GAAG,0CAA0C,CAAC;wBAClD,MAAM;oBACV,KAAK,uBAAuB;wBACxB,IAAI,GAAG,0CAA0C,CAAC;wBAClD,MAAM;oBACV,KAAK,oBAAoB;wBACrB,IAAI,GAAG,wCAAwC,CAAC;wBAChD,MAAM;oBACV,KAAK,qBAAqB;wBACtB,IAAI,GAAG,yCAAyC,CAAC;wBACjD,MAAM;oBACV,KAAK,6BAA6B;wBAC9B,IAAI,GAAG,+CAA+C,CAAC;wBACvD,MAAM;oBACV,KAAK,2BAA2B;wBAC5B,IAAI,GAAG,8CAA8C,CAAC;wBACtD,MAAM;oBACV,KAAK,4BAA4B;wBAC7B,IAAI,GAAG,+CAA+C,CAAC;wBACvD,MAAM;oBACV,KAAK,6BAA6B;wBAC9B,IAAI,GAAG,uCAAuC,CAAC;wBAC/C,8BAA8B,CAAC,MAAM,CAAC,CAAC;wBACvC,aAAa,CAAC,cAAc,EAAE,CAAC;wBAC/B,MAAM;oBACV,KAAK,4BAA4B;wBAC7B,IAAI,GAAG,qCAAqC,CAAC;wBAC7C,8BAA8B,CAAC,MAAM,CAAC,CAAC;wBACvC,aAAa,CAAC,cAAc,EAAE,CAAC;wBAC/B,MAAM;oBACV,KAAK,qCAAqC;wBACtC,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,yDAAyD,CAAC,CAAC;wBAC1F,8BAA8B,CAAC,MAAM,CAAC,CAAC;wBACvC,aAAa,CAAC,cAAc,EAAE,CAAC;wBAC/B,MAAM;oBACV,KAAK,2BAA2B;wBAC5B,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,8CAA8C,CAAC,CAAC;wBAC/E,8BAA8B,CAAC,MAAM,CAAC,CAAC;wBACvC,aAAa,CAAC,cAAc,EAAE,CAAC;wBAC/B,MAAM;oBACV;wBACI,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;iBACjD;gBACD,IAAI,IAAI,EACR;oBACI,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,UAAC,QAAQ;wBAExC,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAChC;4BACI,8BAA8B,CAAC,MAAM,CAAC,CAAC;4BACvC,IAAI,WAAS,GAAG,aAAa,CAAC,EAAE,CAAC;4BACjC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAC,CAAe;gCAElD,IAAI,CAAC,CAAC,EAAE,KAAK,WAAS,EACtB;oCACI,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;iCAC1B;4BACL,CAAC,CAAC,CAAC;yBACN;oBACL,CAAC,CAAC,CAAC;oBACH,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;oBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;iBACvD;YACF,CAAC;SACD;QACD;YACC,MAAM,EAAE,wBAAwB;YAChC,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,oBAAoB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC5H,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aACzG;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,IAAI,GAAG,EAAE;gBACb,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC7B,KAAK,yBAAyB;wBAC7B,IAAI,GAAG,oCAAoC;wBAC3C,MAAK;oBACN,KAAK,iBAAiB;wBACrB,IAAI,GAAG,oCAAoC;wBAC3C,MAAK;oBACN;wBACC,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC;iBAC1C;gBACD,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,UAAC,QAAQ;oBAC3C,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAAE;wBACjC,8BAA8B,CAAC,MAAM,CAAC;wBACtC,IAAI,WAAS,GAAG,aAAa,CAAC,EAAE;wBAChC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAC,CAAe;4BACrD,IAAI,CAAC,CAAC,EAAE,KAAK,WAAS,EAAE;gCACvB,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC;6BACtB;wBACF,CAAC,CAAC;qBACF;gBAEF,CAAC,CAAC;gBACF,aAAa,CAAC,KAAK,GAAG,IAAI;gBAC1B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;YACxC,CAAC;SACD;QACD;YACC,MAAM,EAAE,uBAAuB;YAC/B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,uBAAuB,EAAE,MAAM,EAAE,cAAc,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACpH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,kBAAkB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aAC3H;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,IAAI,IAAI,GAAG,EAAE;gBACb,QAAQ,aAAa,CAAC,MAAM,EAAE;oBAC7B,KAAK,uBAAuB;wBAC3B,IAAI,GAAG,mCAAmC;wBAC1C,MAAK;oBACN,KAAK,0BAA0B;wBAC9B,IAAI,GAAG,iCAAiC;wBACxC,MAAK;oBACN;wBACC,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC;iBAC1C;gBAED,MAAM,CAAC,IAAI,CAAC,qBAAqB,EAAE,UAAC,QAAQ;oBAC3C,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAAE;wBACjC,8BAA8B,CAAC,MAAM,CAAC;wBACtC,IAAI,WAAS,GAAG,aAAa,CAAC,MAAM;wBACpC,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,UAAC,CAAe;4BACrD,IAAI,CAAC,CAAC,MAAM,KAAK,WAAS,EAAE;gCAC3B,CAAC,CAAC,cAAc,CAAC,IAAI,CAAC;6BACtB;wBACF,CAAC,CAAC;qBACF;gBAEF,CAAC,CAAC;gBACF,aAAa,CAAC,KAAK,GAAG,IAAI;gBAC1B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC;YACxC,CAAC;SACD;QACD;YACC,MAAM,EAAE,yBAAyB;YACjC,OAAO,EAAE;gBACI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,uBAAuB,EAAE;gBACjG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,eAAe,EAAE;gBACzF,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,sCAAsC,EAAE,MAAM,EAAE,mBAAmB,EAAE;gBACtH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,uBAAuB,EAAE,MAAM,EAAE,kBAAkB,EAAE;aAC1F;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAuD;gBAC3E,QAAQ,aAAa,CAAC,MAAM,EAAE;oBACd,KAAK,yBAAyB;wBAC1B,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,2FAA2F,CAAC,CAAC;wBACvH,MAAM;oBACV,KAAK,yBAAyB;wBAC1B,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,2FAA2F,CAAC,CAAC;wBACvH,MAAM;oBACV,KAAK,sCAAsC;wBACvC,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,yGAAyG,CAAC,CAAC;wBACrI,MAAM;oBACV,KAAK,uBAAuB;wBACxB,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,kGAAkG,CAAC,CAAC;wBAC9H,MAAM;oBACV;wBACI,OAAO;iBAC1B;gBACW,aAAa,CAAC,cAAc,EAAE,CAAC;YAC5C,CAAC;SACD;QACD,OAAO;KACP;CACD;AAEU,kBAAU,GAAgB;IACpC,MAAM,EAAE,oBAAoB;IACzB,MAAM,EAAE;QACJ;YACL,MAAM,EAAE,qBAAqB;YAC7B,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC3F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC1G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,cAAc,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAClI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,qBAAqB,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBACnH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aAClH;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBACnC,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,IAAI,GAAG,EAAE,CAAC;gBAC1B,QAAQ,aAAa,CAAC,MAAM,EAAE;oBACd,KAAK,gBAAgB;wBACjB,IAAI,GAAG,aAAa,CAAC;wBACrB,MAAM;oBACV,KAAK,kBAAkB;wBACnB,IAAI,GAAG,eAAe,CAAC;wBACvB,MAAM;oBACV,KAAK,qBAAqB;wBACtB,IAAI,GAAG,kBAAkB,CAAC;wBAC1B,MAAM;oBACV,KAAK,oBAAoB;wBACrB,IAAI,GAAG,iBAAiB,CAAC;wBACzB,MAAM;oBACV,KAAK,sBAAsB;wBACvB,IAAI,GAAG,mBAAmB,CAAC;wBAC3B,MAAM;oBACV;wBACI,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;iBAC7D;gBACW,aAAa,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,yBAAyB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACrD,CAAC;SACD;QACD;YACC,MAAM,EAAE,kCAAkC;YAC1C,OAAO,EAAE;gBACR,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE;aACzF;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBACpC,IAAG,CAAC,aAAa,CAAC,WAAW,EAC7B;oBACC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBACnC,oBAAoB,CAAC,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBAClC,EAAE,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;iBACvC;qBAED;oBACC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;oBACpC,oBAAoB,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC;iBACjD;YACF,CAAC;SACD;QACD;YACC,MAAM,EAAE,oCAAoC;YAC5C,OAAO,EAAE;gBACR;oBACC,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,QAAQ;oBAC3B,MAAM,EAAE,8BAA8B;oBACtC,MAAM,EAAE,qBAAqB;oBACd,aAAa,EAAE;wBACX,EAAE,MAAM,EAAE,oCAAoC,EAAE,MAAM,EAAE,qBAAqB,EAAE;wBAC/E,EAAE,MAAM,EAAE,iCAAiC,EAAE,MAAM,EAAE,qBAAqB,EAAE;wBAC5E,EAAE,MAAM,EAAE,yCAAyC,EAAE,MAAM,EAAE,yBAAyB,EAAE;wBAC1G,EAAE,MAAM,EAAE,yCAAyC,EAAE,MAAM,EAAE,yBAAyB,EAAE;wBACxF,EAAE,MAAM,EAAE,iCAAiC,EAAE,MAAM,EAAE,2BAA2B,EAAE;wBAClF,EAAE,MAAM,EAAE,8BAA8B,EAAE,MAAM,EAAE,wBAAwB,EAAE;wBAC5E,EAAE,MAAM,EAAE,+BAA+B,EAAE,MAAM,EAAE,yBAAyB,EAAE;wBAC9E,EAAE,MAAM,EAAE,gCAAgC,EAAE,MAAM,EAAE,0BAA0B,EAAE;wBAC9D,EAAE,MAAM,EAAE,wCAAwC,EAAE,MAAM,EAAE,4BAA4B,EAAE;wBAC1F,EAAE,MAAM,EAAE,0BAA0B,EAAE,MAAM,EAAE,mBAAmB,EAAE;qBACrF;oBACD,aAAa,EAAE,UAAC,OAAO,EAAE,IAAoB,EAAE,MAAwB;wBAChE,2BAAM,CAED;wBACX,IAAI,IAAI,GAAG,EAAE;wBACb,QAAQ,IAAI,CAAC,MAAM,EACnB;4BACC,KAAK,iCAAiC;gCACrC,IAAI,GAAG,QAAQ,CAAC;gCAChB,MAAK;4BACN,KAAK,8BAA8B;gCAClC,IAAI,GAAG,KAAK,CAAC;gCACb,MAAK;4BACN,KAAK,+BAA+B;gCACnC,IAAI,GAAG,MAAM,CAAC;gCACd,MAAK;4BACN,KAAK,gCAAgC;gCACpC,IAAI,GAAG,OAAO,CAAC;gCACf,MAAM;4BACP,KAAK,yCAAyC;gCAC7C,IAAI,GAAG,WAAW,CAAC;gCACnB,MAAM;4BACP,KAAK,yCAAyC;gCAC7C,IAAI,GAAG,WAAW,CAAC;gCACnB,MAAM;4BACP,KAAK,oCAAoC;gCACxC,IAAI,GAAG,WAAW,CAAC;gCACnB,MAAM;4BACP,KAAK,iCAAiC;gCACrC,IAAI,GAAG,QAAQ,CAAC;gCAChB,MAAM;4BACP,KAAK,wCAAwC;gCAC5C,IAAI,GAAG,aAAa,CAAC;gCACG,MAAM;4BACV,KAAK,0BAA0B;gCACnD,IAAI,GAAG,MAAM,CAAC;gCACd,MAAM;4BACP;gCACC,OAAO,CAAC,KAAK,CAAC,0BAA0B,CAAC;yBAC1C;wBAED,IAAI,GAAG,GAAG,gDAAgD,GAAG,IAAI,GAAG,qBAAqB,CAAC;wBACxE,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,MAAM,CAAC,cAAc,EAAE,CAAC;oBAC3C,CAAC;iBACD;gBACD,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,mCAAmC,EAAE,MAAM,EAAE,wBAAwB,EAAC;aAC3G;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU;gBAC/B,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBAC/B,2BAAM,EAAE,uBAAM,CAAwD;gBAChE,IAAI,GAAW,CAAC;gBAChB,IAAI,aAAa,CAAC,MAAM,KAAK,mCAAmC,EAChE;oBACI,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;wBACI,GAAG,GAAG,mDAAmD,CAAC;wBAC1D,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC/B,GAAG,GAAG,sCAAsC,CAAC;wBAC7C,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;qBAClC;yBAED;wBACI,GAAG,GAAG,oDAAoD,CAAC;wBAC3D,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;qBAClC;iBACJ;YACL,CAAC;SACV;QACD;YACC,MAAM,EAAE,0BAA0B;YACzB,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,iBAAiB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAClH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kCAAkC,EAAE,MAAM,EAAE,eAAe,EAAE;gBAClG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,oBAAoB,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,YAAY,EAAE;gBACpG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,6BAA6B,EAAE,MAAM,EAAE,kBAAkB,EAAE;gBACnG,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,yBAAyB,EAAE,MAAM,EAAE,cAAc,EAAE;gBAC3F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,2BAA2B,EAAE,MAAM,EAAE,gBAAgB,EAAE;gBAC/F,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,4CAA4C,EAAE,MAAM,EAAE,yBAAyB,EAAE;gBACzH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,yCAAyC,EAAE,MAAM,EAAE,yBAAyB,EAAE;aAClI;YACQ,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAEtC,2BAAM,EAAE,uBAAM,CAAwD;gBACxF,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBACpC,IAAI,GAAW,CAAC;gBAChB,QAAQ,aAAa,CAAC,MAAM,EAChB;oBACI,KAAK,oBAAoB;wBACrB,IAAI,CAAC,aAAa,CAAC,WAAW,EAC9B;4BACI,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;4BACnC,oBAAoB,CAAC,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;4BACjD,IAAI,aAAa,CAAC,MAAM,KAAK,QAAQ,EACrC;gCACI,EAAE,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;6BAC3B;yBACJ;6BAED;4BACI,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;4BACpC,oBAAoB,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC;yBACpD;wBACD,MAAM;oBACzB,KAAK,6BAA6B;wBACjC,GAAG,GAAG,wCAAwC,CAAC;wBAC/C,MAAM;oBACP,KAAK,yBAAyB;wBAC7B,GAAG,GAAG,qCAAqC,CAAC;wBAC5C,MAAM;oBACP,KAAK,2BAA2B;wBAC/B,GAAG,GAAG,uCAAuC,CAAC;wBAC9C,MAAM;oBACP,KAAK,kCAAkC;wBACtC,GAAG,GAAG,2CAA2C,CAAC;wBAChC,MAAM;oBACV,KAAK,4CAA4C;wBAC7C,GAAG,GAAG,0FAA0F;wBAChG,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;wBAClC,GAAG,IAAI,sEAAsE,CAAC;wBAC9E,MAAM;oBACV,KAAK,yCAAyC;wBAC1C,GAAG,GAAG,sFAAsF;wBAC5F,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;wBAClC,GAAG,IAAI,kEAAkE,CAAC;wBAC1E,MAAM;oBACV,KAAK,kBAAkB;wBACnB,aAAa,CAAC,KAAK,GAAG,kBAAkB,CAAC;wBACzC,yBAAyB,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;wBACtD,MAAM;iBACzB;gBACD,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAC/B,aAAa,CAAC,cAAc,EAAE,CAAC;YAChC,CAAC;SACK;QACD;YACL,MAAM,EAAE,sCAAsC;YAC9C,OAAO,EAAE;gBACI,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,aAAa,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAC5G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,kBAAkB,EAAE,MAAM,EAAE,eAAe,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;gBAChH,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,6BAA6B,EAAE,MAAM,EAAE,yBAAyB,EAAE,WAAW,EAAE,CAAC,aAAa,CAAC,EAAE;aACjJ;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,GAAW,CAAC;gBACJ,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACI,KAAK,gBAAgB;wBACjB,aAAa,CAAC,KAAK,GAAG,sBAAsB,CAAC;wBAC7C,yBAAyB,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;wBAC1D,MAAM;oBACV,KAAK,kBAAkB;wBACnB,aAAa,CAAC,KAAK,GAAG,kBAAkB,CAAC;wBACzC,yBAAyB,CAAC,MAAM,EAAE,kBAAkB,CAAC,CAAC;wBACtD,MAAM;oBACV,KAAK,6BAA6B;wBAC9B,aAAa,CAAC,KAAK,GAAG,oBAAoB,CAAC;wBAC3C,yBAAyB,CAAC,MAAM,EAAE,oBAAoB,CAAC,CAAC;wBACxD,MAAM;iBACb;gBACD,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAC3C,aAAa,CAAC,cAAc,EAAE,CAAC;YAChC,CAAC;SACK;QACD;YACL,MAAM,EAAE,kCAAkC;YACjC,OAAO,EAAE;gBACL,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,mCAAmC,EAAE,MAAM,EAAE,wBAAwB,EAAE;gBAC5G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,iCAAiC,EAAE,MAAM,EAAE,cAAc,EAAE;gBAC5G,EAAE,IAAI,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,EAAE,mCAAmC,EAAE,MAAM,EAAE,gBAAgB,EAAE;aACpG;YACD,UAAU,EAAE,UAAC,OAAO,EAAE,EAAU,EAAE,KAAc;gBAC/C,IAAI,aAAa,GAAG,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,2BAAM,EAAE,uBAAM,CAAwD;gBAC5E,IAAI,GAAW,CAAC;gBACJ,QAAQ,aAAa,CAAC,MAAM,EAC5B;oBACI,KAAK,mCAAmC;wBACpC,GAAG,GAAG,8CAA8C,CAAC;wBACrD,MAAM;oBACV,KAAK,iCAAiC;wBAClC,GAAG,GAAG,4CAA4C,CAAC;wBACnD,MAAM;oBACV,KAAK,mCAAmC;wBACpC,GAAG,GAAG,8CAA8C,CAAC;wBACrD,MAAM;iBACb;gBACb,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAC/B,aAAa,CAAC,cAAc,EAAE,CAAC;YAChC,CAAC;SACD;QACD,OAAO;KACP;CACD;;;;;;;;ACr0FD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,gEAAgE,QAAQ;AACxE;AACA;AACA;AACA,QAAQ,QAAQ;AAChB;AACA;AACA,SAAS,QAAQ;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,mEAAmE,OAAO;AAC1E,SAAS,QAAQ;AACjB;AACA;AACA;AACA,MAAM,OAAO,EAAE,QAAQ;AACvB;AACA;AACA,SAAS,OAAO,QAAQ,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kBAAkB;AAC5D;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;ACrKA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,8BAA8B;AACpD,sBAAsB,8BAA8B;AACpD,sBAAsB,8BAA8B;;AAEpD;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,mBAAmB,OAAO;AACzD,+BAA+B,mBAAmB,OAAO;AACzD,+BAA+B,mBAAmB,OAAO;AACzD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD,wCAAwC;AACxC,wCAAwC;AACxC;;AAEA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA,sDAAsD;AACtD,wCAAwC;AACxC,wCAAwC;AACxC;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA,eAAe,UAAU;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yCAAyC;AAC5D,mBAAmB,yCAAyC;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,wCAAwC;AAC3D,mBAAmB,yCAAyC;AAC5D,mBAAmB,yCAAyC;AAC5D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uCAAuC;AAC1D,mBAAmB,wCAAwC;AAC3D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+DAA+D,WAAW;AAC1E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2DAA2D,wBAAwB;;AAEnF;AACA;AACA,2CAA2C,wBAAwB;AACnE;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,8EAA8E,4BAA4B,gBAAgB;AAC1H,8EAA8E,2BAA2B,gBAAgB;AACzH,qDAAqD,oDAAoD,gBAAgB;AACzH,qDAAqD,oDAAoD,gBAAgB;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,uBAAuB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,0BAA0B;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA,KAAK,kBAAkB,YAAY,kBAAkB;AACrD;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4BAA4B,YAAY;;AAExC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE;AACjE,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE;AACjE,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AACjF,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AACjF;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,UAAU,OAAO,UAAU,OAAO,SAAS;AACnF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS,IAA0C;AACnD,IAAI,kCAAO,aAAa,kBAAkB;AAAA,oGAAC;AAC3C;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;AC1qCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,gBAAgB,mBAAO,CAAC,EAAW;AACnC,cAAc,mBAAO,CAAC,EAAS;AAC/B,kBAAkB,mBAAO,CAAC,EAAW;AACrC;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,wBAAwB;AACnC;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,WAAW;AACtB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,EAAE;AACb,WAAW,WAAW;AACtB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,gBAAgB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,WAAW;AACtB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uDAAuD,gBAAgB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,EAAE;AACb,WAAW,WAAW;AACtB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,WAAW,EAAE;AACb,WAAW,WAAW;AACtB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,WAAW,EAAE;AACb,WAAW,SAAS;AACpB;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,WAAW,EAAE;AACb,WAAW,SAAS;AACpB;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;;;;;;;;ACvRa;;AAEb,sBAAsB,mBAAO,CAAC,EAAkB;;AAEhD,2CAA2C,IAAI;;AAE/C;AACA;AACA,4BAA4B,UAAU;AACtC;;AAEA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA,QAAQ,yBAAyB;AACjC;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;;;;;;;;AC/bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,gEAAgE,IAAI;AACpE;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,KAAK,IAAI;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI,QAAQ,IAAI;AACzB,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA;AACA,KAAK,OAAO;AACZ;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB;AAC7D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C,qCAAqC;AACrC;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,eAAe,mBAAO,CAAC,EAAW;AAClC,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,iBAAiB,KAAK,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,cAAc;AACxD;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,YAAY;AACvB;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,eAAe,mBAAO,CAAC,EAAW;AAClC,gBAAgB,mBAAO,CAAC,EAAY;AACpC,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,mBAAmB,mBAAO,CAAC,EAAc;AACzC,qBAAqB,mBAAO,CAAC,EAAgB;AAC7C,gBAAgB,mBAAO,CAAC,CAAW;AACnC,gBAAgB,mBAAO,CAAC,EAAW;AACnC;AACA;AACA;AACA;AACA,kCAAkC,KAAK;AACvC,KAAK,MAAM;AACX;AACA;AACA,aAAa,KAAK,GAAG,MAAM;AAC3B;AACA;AACA,SAAS,KAAK,gDAAgD,MAAM;AACpE;AACA;AACA;AACA,cAAc,iBAAiB,GAAG,mBAAmB,OAAO;AAC5D;AACA;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB;AAC7D;AACA,eAAe,OAAO;AACtB,eAAe,kBAAkB;AACjC;AACA,8CAA8C,iBAAiB;AAC/D,yCAAyC,mBAAmB;AAC5D,yCAAyC,cAAc;AACvD;AACA;AACA;AACA;AACA;AACA,wCAAwC,gBAAgB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB,GAAG,mBAAmB;AAC9D,QAAQ,cAAc,uBAAuB;AAC7C;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,0DAA0D,KAAK;AAC/D;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,eAAe;AACzD;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,gBAAgB,mBAAO,CAAC,EAAY;AACpC,cAAc,mBAAO,CAAC,CAAU;AAChC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,wDAAwD,QAAQ;AAChE,cAAc,SAAS,yCAAyC,WAAW;AAC3E;AACA;AACA;AACA;AACA,mBAAmB,QAAQ,aAAa,SAAS,eAAe,WAAW;AAC3E;AACA;AACA,SAAS,QAAQ,KAAK,SAAS,SAAS,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,cAAc;AACxD;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,4BAA4B,OAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;AC5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,gBAAgB,mBAAO,CAAC,EAAY;AACpC,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,mBAAmB,mBAAO,CAAC,EAAc;AACzC,sBAAsB,mBAAO,CAAC,EAAiB;AAC/C,sBAAsB,mBAAO,CAAC,EAAiB;AAC/C,qBAAqB,mBAAO,CAAC,EAAgB;AAC7C,uBAAuB,mBAAO,CAAC,EAAkB;AACjD,6BAA6B,mBAAO,CAAC,EAAwB;AAC7D,gBAAgB,mBAAO,CAAC,CAAW;AACnC,oBAAoB,mBAAO,CAAC,EAAe;AAC3C;AACA;AACA;AACA,sEAAsE,KAAK;AAC3E,0BAA0B,MAAM;AAChC,KAAK,MAAM,6CAA6C,UAAU;AAClE;AACA;AACA;AACA,cAAc,KAAK,UAAU,MAAM,WAAW,MAAM;AACpD,QAAQ;AACR;AACA;AACA;AACA,SAAS,KAAK,KAAK,MAAM,SAAS,MAAM;AACxC,eAAe,UAAU;AACzB;AACA,iDAAiD,iBAAiB;AAClE,IAAI,oBAAoB,GAAG,oBAAoB,GAAG,mBAAmB;AACrE,IAAI,qBAAqB,GAAG,2BAA2B;AACvD,IAAI,kBAAkB;AACtB;AACA;AACA;AACA;AACA,0CAA0C,aAAa;AACvD;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,sEAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB,GAAG,oBAAoB,GAAG,oBAAoB;AAC5E,QAAQ,mBAAmB,GAAG,qBAAqB,OAAO;AAC1D,6BAA6B;AAC7B;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,WAAW,eAAe;AAC1B;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,uEAAuE,KAAK;AAC5E;AACA;AACA;AACA,cAAc,KAAK;AACnB;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,oBAAoB;AAC9D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,gEAAgE,KAAK;AACrE;AACA;AACA;AACA,cAAc,KAAK;AACnB;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,oBAAoB;AAC9D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,+DAA+D,KAAK;AACpE;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mBAAmB;AAC7D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,iEAAiE,KAAK;AACtE;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,qBAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qBAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qBAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qBAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,gBAAgB,mBAAO,CAAC,CAAW;AACnC;AACA;AACA;AACA,uEAAuE,OAAO;AAC9E;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,2BAA2B;AACrE;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C,qCAAqC;AACrC;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;;;;;;;;ACvHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,gBAAgB,mBAAO,CAAC,EAAY;AACpC,cAAc,mBAAO,CAAC,CAAU;AAChC,iBAAiB,mBAAO,CAAC,CAAa;AACtC,qBAAqB,mBAAO,CAAC,EAAgB;AAC7C,iBAAiB,mBAAO,CAAC,EAAY;AACrC,mBAAmB,mBAAO,CAAC,EAAc;AACzC,mBAAmB,mBAAO,CAAC,EAAc;AACzC,qBAAqB,mBAAO,CAAC,EAAgB;AAC7C,gBAAgB,mBAAO,CAAC,CAAW;AACnC,oBAAoB,mBAAO,CAAC,EAAe;AAC3C,gBAAgB,mBAAO,CAAC,EAAW;AACnC;AACA;AACA;AACA,0DAA0D,KAAK;AAC/D;AACA;AACA;AACA,KAAK,KAAK;AACV;AACA;AACA;AACA,MAAM,KAAK;AACX;AACA;AACA,SAAS,KAAK;AACd;AACA;AACA;AACA,qDAAqD,mBAAmB;AACxE,IAAI,eAAe,GAAG,iBAAiB,GAAG,iBAAiB;AAC3D,IAAI,iBAAiB,GAAG,mBAAmB,GAAG,kBAAkB;AAChE,IAAI,cAAc;AAClB;AACA;AACA;AACA;AACA,0CAA0C,iBAAiB;AAC3D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,eAAe,sCAAsC;AACrD;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA,iBAAiB,eAAe;AAChC;AACA,kCAAkC,mBAAmB;AACrD;AACA;AACA,sDAAsD,+CAA+C,EAAE;AACvG;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB,GAAG,eAAe;AAC5D,QAAQ,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB;AACjE,QAAQ,mBAAmB,GAAG,kBAAkB,MAAM,cAAc;AACpE,mBAAmB;AACnB;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,4CAA4C,EAAE;AAC/G,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mDAAmD,0BAA0B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,8BAA8B;AAC1E,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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AY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb,qBAAqB,mBAAO,CAAC,EAAsB;AACnD;AACA,iBAAiB,mBAAO,CAAC,EAAkB;AAC3C;AACA,mBAAmB,mBAAO,CAAC,EAAoB;AAC/C;AACA,mBAAmB,mBAAO,CAAC,EAAoB;AAC/C;AACA,gBAAgB,mBAAO,CAAC,EAAiB;AACzC;AACA,oBAAoB,mBAAO,CAAC,EAAqB;AACjD;AACA,eAAe,mBAAO,CAAC,EAAgB;AACvC;AACA,sBAAsB,mBAAO,CAAC,EAAuB;AACrD;AACA,sBAAsB,mBAAO,CAAC,EAAuB;AACrD;AACA,qBAAqB,mBAAO,CAAC,EAAsB;AACnD;AACA,uBAAuB,mBAAO,CAAC,EAAwB;AACvD;AACA,6BAA6B,mBAAO,CAAC,EAA8B;AACnE;AACA,mBAAmB,mBAAO,CAAC,EAAoB;AAC/C;AACA,qBAAqB,mBAAO,CAAC,EAAsB;AACnD;AACA,gBAAgB,mBAAO,CAAC,CAAiB;AACzC;AACA,oBAAoB,mBAAO,CAAC,EAAqB;AACjD;AACA,gBAAgB,mBAAO,CAAC,EAAiB;AACzC;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACb;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA,gBAAgB,mBAAO,CAAC,EAAY;AACpC,cAAc,mBAAO,CAAC,CAAU;AAChC,mBAAmB,mBAAO,CAAC,EAAc;AACzC,gBAAgB,mBAAO,CAAC,EAAW;AACnC,eAAe,mBAAO,CAAC,EAAU;AACjC,mBAAmB,mBAAO,CAAC,EAAc;AACzC,gBAAgB,mBAAO,CAAC,CAAW;AACnC,oBAAoB,mBAAO,CAAC,EAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,iBAAiB;AAC7D;AACA;AACA,2CAA2C,cAAc,MAAM;AAC/D,qDAAqD,iBAAiB;AACtE;AACA,sDAAsD,iBAAiB;AACvE,IAAI,kBAAkB,oCAAoC,cAAc;AACxE;AACA;AACA;AACA;AACA;AACA,0CAA0C,kBAAkB;AAC5D;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB,GAAG,cAAc,GAAG,aAAa;AAC/D,QAAQ,kBAAkB,sCAAsC;AAChE,YAAY,aAAa;AACzB,oBAAoB,iBAAiB,qBAAqB,iBAAiB;AAC3E,QAAQ,kBAAkB,wBAAwB,cAAc;AAChE;AACA,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,wCAAwC;AACnE;AACA;AACA;AACA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;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","file":"webviewer-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 80);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 69850978176c647879f7","/// <reference path=\"global-decl.d.ts\" />\r\nimport { settings } from './app-settings'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { VSRibbon } from '../ribbon/index'\r\nimport { appStates } from './app-states'\r\nimport * as w from '../ribbon/widget'\r\nimport { PaneTemplate } from '../app-panes/template/pane-template'\r\n\r\nimport * as appPanes from '../app-panes'\r\n\r\nimport { NativeLoadingModal } from './native-loading-modal/native-loading-modal'\r\nimport { PaneStack } from '../app-panes/template/pane-stack';\r\nimport { CanvasStack } from '../app-panes/template/canvas-stack';\r\nimport { MinimizedPaneStack } from '../app-panes/template/minimized-pane-stack';\r\n\r\nimport { findPaneButton } from '../ribbon/widget';\r\nimport { ProgressContainer } from './progressbar/progress-container';\r\nimport { stringify } from 'querystring'\r\n\r\n\r\ndeclare var vsClient: VSWebClient;\r\ndeclare var _InitialPanes: PaneLayout[];\r\ndeclare var _ShowErrorAlerts: boolean;\r\ndeclare var _PaneLock: boolean;\r\ndeclare var _DisabledPanes: string[];\r\ndeclare var _IgnoredErrors: string[];\r\n\r\n\r\n/**\texports */\r\nexport let vsRibbon: VSRibbon\r\nexport let modeltreePane: appPanes.Modeltree\r\nexport let propertiesPane: appPanes.PropertyPane\r\nexport let viewPane: appPanes.ViewPane\r\nexport let settingsPane: appPanes.SettingsPane\r\nexport let measurementPane: appPanes.MeasurementPane\r\nexport let transformPane: appPanes.TransformPane\r\nexport let draftAnglePane: appPanes.DraftAnglePane\r\nexport let markupPane: appPanes.MarkupPane\r\nexport let markupPane_Reduced: appPanes.MarkupPane_Reduced\r\nexport let sectionPane: appPanes.SectionPane\r\nexport let quickComparePane: appPanes.QuickComparePane\r\nexport let projectedAreaPane: appPanes.ProjectedAreaPane\r\nexport let exactComparePane: appPanes.ExactComparePane\r\nexport let mirrorPane: appPanes.MirrorPane\r\nexport let filterPane: appPanes.FilterPane\r\nexport let flyThroughPane: appPanes.FlyThroughPane\r\nexport let distortionPane: appPanes.DistortionPane\r\nexport let visibilityTestPane: appPanes.VisibilityTestPane\r\nexport let wallthicknessPane: appPanes.WallthicknessPane\r\nexport let drillholePane: appPanes.DrillholePane\r\nexport let neutralAxisPane: appPanes.NeutralAxisPane\r\nexport let neighbourhoodSearchPane: appPanes.NeighbourhoodSearchPane\r\nexport let textSearchPane: appPanes.TextSearchPane\r\nexport let selectionsPane: appPanes.SelectionsPane\r\nexport let commandPane: appPanes.CommandPane\r\nexport let bomPane: appPanes.BOMPane\r\nexport let clashPane: appPanes.ClashPane\r\nexport let calloutPane: appPanes.CalloutPane\r\nexport let splitPane: appPanes.SplitPane\r\nexport let explodePane: appPanes.ExplodePane\r\nexport let animationPane: appPanes.AnimationPane\r\nexport let geometryToolsPane: appPanes.GeometryToolsPane\r\nexport let bandAnalysisPane: appPanes.BandAnalysisPane\r\n\r\nexport interface PaneLayout\r\n{\r\n\tpaneId: string,\r\n\tpos: number,\r\n\tminimized: boolean,\r\n\tvisible: boolean\r\n}\r\n\r\n/** Layout variables */\r\nexport let leftWrapper: HTMLElement;\r\nexport let leftUpperWrapper: HTMLElement;\r\nexport let leftLowerWrapper: HTMLElement;\r\nexport let rightWrapper: HTMLElement;\r\nexport let rightUpperWrapper: HTMLElement;\r\nexport let rightLowerWrapper: HTMLElement;\r\nexport let canvasWrapper: HTMLElement;\r\n\r\nexport let leftUpperStack: PaneStack;\r\nexport let leftLowerStack: PaneStack;\r\nexport let rightUpperStack: PaneStack;\r\nexport let rightLowerStack: PaneStack;\r\nexport let canvasStack: CanvasStack;\r\nlet paneState: number[] = [0, 0, 0, 0];\r\nlet leftVerticalDividerDelta: number = 0;\r\nlet rightVerticalDividerDelta: number = 0;\r\nlet lastLeftVerticalDividerDelta: number = 0;\r\nlet lastRightVerticalDividerDelta: number = 0;\r\nlet leftHorizontalDividerDelta: number = 0;\r\nlet lastLeftHorizontalDividerDelta: number = 0;\r\nlet lastRightHorizontalDividerDelta: number = 0;\r\nlet dividerInMouseDrag: boolean = false;\r\nlet dividerInTouchDrag: boolean = false;\r\n\r\nlet leftPaneWidth: number = 20;\r\nlet rightPaneWidth: number = 20;\r\nlet leftPaneHeight: number = 50;\r\nlet rightPaneHeight: number = 50;\r\n\r\nexport let leftMinimizedPaneStack: MinimizedPaneStack;\r\nexport let rightMinimizedPaneStack: MinimizedPaneStack;\r\n\r\nexport let draggedPane: string;\r\n\r\nexport function setDraggedPane(id: string)\r\n{\r\n\tdraggedPane = id;\r\n}\r\n\r\nexport function paneStackIncrement (pos: number)\r\n{\r\n    let paneCount = paneState[pos];\r\n    let resizeClient: boolean = false;\r\n    if (paneCount === 0)\r\n    {\r\n        switch (pos)\r\n        {\r\n            case 0:\r\n                resizeClient = paneState[1] === 0;\r\n                break;\r\n            case 1:\r\n                resizeClient = paneState[0] === 0;\r\n                break;\r\n            case 2:\r\n                resizeClient = paneState[3] === 0;\r\n                break;\r\n            case 3:\r\n                resizeClient = paneState[2] === 0;\r\n                break;\r\n        }\r\n    }\r\n    paneResize(resizeClient);\r\n    paneState[pos]++;\r\n}\r\n\r\nexport function paneStackDecrement (pos: number)\r\n{\r\n    let paneCount = paneState[pos];\r\n    let resizeClient: boolean = false;\r\n    if (paneCount === 1)\r\n    {\r\n        switch (pos)\r\n        {\r\n            case 0:\r\n                resizeClient = paneState[1] === 0;\r\n                break;\r\n            case 1:\r\n                resizeClient = paneState[0] === 0;\r\n                break;\r\n            case 2:\r\n                resizeClient = paneState[3] === 0;\r\n                break;\r\n            case 3:\r\n                resizeClient = paneState[2] === 0;\r\n                break;\r\n        }\r\n    }\r\n    paneResize(resizeClient);\r\n    paneState[pos]--;\r\n}\r\n\r\n\r\n//Progressbar\r\nlet uiBlocker: HTMLElement;\r\nlet uiBlockerText: HTMLElement;\r\nexport let progressContainer: ProgressContainer;\r\n\r\nexport function initProgressContainer (anchorEl: HTMLElement)\r\n{\r\n\tprogressContainer = new ProgressContainer(anchorEl, vsClient);\r\n}\r\n\r\n/** global variables */\r\nlet wvApp: HTMLElement\r\nlet wvRibbon\r\nlet statusBox: HTMLElement\r\n\r\ninterface VSError\r\n{\r\n\tcode: string,\r\n\tinfo: string,\r\n\tmethod: string\r\n}\r\ninterface PaneConfig\r\n{\r\n\tpane: PaneTemplate\r\n}\r\n\r\ninterface PaneConfigs\r\n{\r\n\t[index: string]: PaneConfig\r\n}\r\n\r\nexport let paneConfigs: PaneConfigs = {}\r\n\r\ninterface MessageItem\r\n{\r\n\tcode: number,\r\n\tinfo: string,\r\n\tmethod: string,\r\n\tmessage: string,\r\n\ttype: string\r\n}\r\n\r\n\r\n\r\nlet wvCanvas: HTMLDivElement\r\nlet wvDock: HTMLElement\r\n\r\n//Native loading modal\r\ndeclare var _NativeLoadingModal: boolean\r\nlet nativeLoadingModal: boolean\r\nlet nativeLoadingModalWindow: NativeLoadingModal\r\n\r\nexport function translate(langKey)\r\n{\r\n\tlet lang = settings.lang;\r\n\tif (_lang_data[langKey] && _lang_data[langKey][lang])\r\n\t{\r\n\t\treturn _lang_data[langKey][lang];\r\n\t}\r\n\telse if (_custom_lang_data[langKey] && _custom_lang_data[langKey][lang])\r\n\t{\r\n\t\treturn _custom_lang_data[langKey][lang];\r\n\t}\r\n\telse if (_lang_data[langKey] && _lang_data[langKey]['ENU'])\r\n\t{\r\n\t\treturn _lang_data[langKey]['ENU'];\r\n\t}\r\n\telse if (_custom_lang_data[langKey] && _custom_lang_data[langKey]['ENU'])\r\n\t{\r\n\t\treturn _custom_lang_data[langKey]['ENU'];\r\n\t}\r\n\treturn langKey;\r\n}\r\n\r\n\r\nexport function serializedLoad(fileList: string[], init: boolean)\r\n{\r\n\tlet isNative: boolean;\r\n\tif (init)\r\n\t{\r\n\t\tisNative = fileOpen(fileList.shift());\r\n\t}\r\n\telse\r\n\t{\r\n\t\tisNative = importFile(fileList.shift());\r\n\t}\r\n\tif (isNative && fileList.length > 0)\r\n\t{\r\n\t\tvsClient.once('@NativeLoad', res =>\r\n\t\t{\r\n\t\t\tserializedLoad(fileList, false);\r\n\t\t})\r\n\t}\r\n\telse if(fileList.length > 0)\r\n\t{\r\n\t\tserializedLoad(fileList, false);\r\n\t}\r\n}\r\n\r\nexport function openNativeLoadingModal (filename, cb, hideRememberMe: boolean = false)\r\n{\r\n    try\r\n    {\r\n        if (_NativeLoadingModal)\r\n        {\r\n            nativeLoadingModal = _NativeLoadingModal;\r\n        }\r\n    }\r\n    catch (e)\r\n    {\r\n        nativeLoadingModal = false;\r\n    }\r\n    let fileNameParts = filename.toLowerCase().split('.');\r\n    let nativeLoadingSettings = localStorage.getItem('nativeLoadingSettings');\r\n    let nativeLoadingSettingsObject = { rememberMe: false };\r\n    if (nativeLoadingSettings !== null)\r\n    {\r\n        nativeLoadingSettingsObject = JSON.parse(nativeLoadingSettings);\r\n    }\r\n    let excludedFileFormats = ['3dvs', 'vsxml', 'dxf', 'dwf', 'dwg', 'mil', 'txt', 'xml', 'cg4',\r\n        'catdrawing', 'cgm', 'drw', 'ger', ' tiff', 'bmp', 'webp', '906', '907',\r\n        'gbr', 'cs-ger', 'ss-ger', 'phd', 'gif', 'plt', 'jpeg', 'jpg', 'jp2', 'xls', 'xlsx',\r\n        'ppt', 'pptx', 'doc', 'docx', 'dgn', 'odg', 'odp', 'ods', 'odt', 'png', 'dft', 'slddrw', 'tif'];\r\n\r\n    if (excludedFileFormats.indexOf(fileNameParts[fileNameParts.length - 1]) === -1\r\n        && (nativeLoadingSettingsObject && (nativeLoadingSettingsObject.rememberMe !== true || hideRememberMe)) && nativeLoadingModal === true)\r\n    {\r\n        if (!nativeLoadingModalWindow)\r\n        {\r\n            nativeLoadingModalWindow = new NativeLoadingModal(vsClient, filename, cb, hideRememberMe);\r\n        }\r\n        else\r\n        {\r\n            nativeLoadingModalWindow.setFile(filename);\r\n            nativeLoadingModalWindow.setCallback(cb);\r\n        }\r\n        nativeLoadingModalWindow.show();\r\n        return true;\r\n        //Modal applies settings\r\n    }\r\n    else\r\n    {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function fileOpen(filename)\r\n{\r\n    appStates.fileName = filename;\r\n    let showModal = openNativeLoadingModal(filename, vsClient.OpenFile.bind(vsClient));\r\n    if (!showModal)\r\n    {\r\n        deactivateInteraction(vsClient);\r\n        vsClient.OpenFile(filename);\r\n        canvasStack.setTabTitle(filename.split(\"/\")[filename.split(\"/\").length - 1]);\r\n    }\r\n    return showModal;\r\n}\r\n\r\n\r\n//Wrapper for VSWebClient import function\r\nexport function importFile(filename)\r\n{\r\n    let showModal = openNativeLoadingModal(filename, vsClient.ImportFile.bind(vsClient));\r\n    if (!showModal)\r\n    {\r\n        vsClient.ImportFile(filename);\r\n    }\r\n    return showModal;\r\n}\r\n\r\n//Wrapper for VSWebClient save function\r\nexport function saveFile(filename)\r\n{\r\n\tvsClient.SaveFile(filename);\r\n}\r\n\r\n\r\n// layout\r\nexport function prependPane(paneId: string)\r\n{\r\n\ttry\r\n        {\r\n            if (_DisabledPanes.indexOf(paneId) !== -1)\r\n            {\r\n                return { paneId, isVisible: false }\r\n            }\r\n        }\r\n        catch (e)\r\n        {\r\n        }\r\n        if (appStates.popoutPanes.indexOf(paneId) !== -1)\r\n        {\r\n            return { paneId, isVisible: false }\r\n        }\r\n        let panePos = 3;\r\n        let paneConf;\r\n        let paneArrLength = appStates.panes.length;\r\n        let newPane = true;\r\n        for (let i = 0; i < paneArrLength; i++)\r\n        {\r\n            if (appStates.panes[i].paneId === paneId)\r\n            {\r\n                appStates.panes[i].visible = true;\r\n                paneConf = appStates.panes[i];\r\n                panePos = appStates.panes[i].pos;\r\n                newPane = false;\r\n            }\r\n        }\r\n        if (newPane)\r\n        {\r\n            paneConf = {\r\n                paneId: paneId,\r\n                pos: 3,\r\n                minimized: false,\r\n                visible: true\r\n            };\r\n            appStates.panes.push(paneConf);\r\n        }\r\n        localStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n        let pane = paneConfigs[paneId]['pane'];\r\n        if (paneConf.minimized)\r\n        {\r\n            switch (panePos)\r\n            {\r\n                case 1:\r\n                    pane.setStack(leftUpperStack);\r\n                    leftMinimizedPaneStack.registerPane(pane, paneId);\r\n                    break;\r\n                case 2:\r\n                    pane.setStack(leftLowerStack);\r\n                    leftMinimizedPaneStack.registerPane(pane, paneId);\r\n                    break;\r\n                case 3:\r\n                    pane.setStack(rightUpperStack);\r\n                    rightMinimizedPaneStack.registerPane(pane, paneId);\r\n                case 4:\r\n                    pane.setStack(rightLowerStack);\r\n                    rightMinimizedPaneStack.registerPane(pane, paneId);\r\n                    break;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            switch (panePos)\r\n            {\r\n                case 1:\r\n                    if (!leftUpperStack.isVisible && leftLowerStack.isVisible)\r\n                    {\r\n                        leftUpperStack.addPane(pane, paneId);\r\n                        leftUpperStack.resize(leftUpperStack.height, false);\r\n                        leftLowerStack.resize(leftLowerStack.height, false);\r\n                    }\r\n                    else if (!leftLowerStack.isVisible)\r\n                    {\r\n                        leftUpperStack.addPane(pane, paneId);\r\n                        leftUpperStack.resize('100%', false);\r\n                    }\r\n                    else\r\n                    {\r\n                        leftUpperStack.addPane(pane, paneId);\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    if (!leftLowerStack.isVisible && leftUpperStack.isVisible)\r\n                    {\r\n                        leftLowerStack.addPane(pane, paneId);\r\n                        leftUpperStack.resize(leftUpperStack.height, false);\r\n                        leftLowerStack.resize(leftLowerStack.height, false);\r\n                    }\r\n                    else if (!leftUpperStack.isVisible)\r\n                    {\r\n                        leftLowerStack.addPane(pane, paneId);\r\n                        leftLowerStack.resize('100%', false);\r\n                    }\r\n                    else\r\n                    {\r\n                        leftLowerStack.addPane(pane, paneId);\r\n                    }\r\n                    break;\r\n                case 3:\r\n                    if (!rightUpperStack.isVisible && rightLowerStack.isVisible)\r\n                    {\r\n                        rightUpperStack.addPane(pane, paneId);\r\n                        rightUpperStack.resize(rightUpperStack.height, false);\r\n                        rightLowerStack.resize(rightLowerStack.height, false);\r\n                    }\r\n                    else if (!rightLowerStack.isVisible)\r\n                    {\r\n                        rightUpperStack.addPane(pane, paneId);\r\n                        rightUpperStack.resize('100%', false);\r\n                    }\r\n                    else\r\n                    {\r\n                        rightUpperStack.addPane(pane, paneId);\r\n                    }\r\n                    break;\r\n                case 4:\r\n                    if (!rightLowerStack.isVisible && rightUpperStack.isVisible)\r\n                    {\r\n                        rightLowerStack.addPane(pane, paneId);\r\n                        rightUpperStack.resize(rightUpperStack.height, false);\r\n                        rightLowerStack.resize(rightLowerStack.height, false);\r\n                    }\r\n                    else if (!rightUpperStack.isVisible)\r\n                    {\r\n                        rightLowerStack.addPane(pane, paneId);\r\n                        rightLowerStack.resize('100%', false);\r\n                    }\r\n                    else\r\n                    {\r\n                        rightLowerStack.addPane(pane, paneId);\r\n                    }\r\n                    break;\r\n            }\r\n\r\n        }\r\n}\r\n\r\nexport function resetPanes(resetUI: boolean)\r\n{\r\n    let s = '<Call Method=\"ActivateInteraction\"><Interaction>Deactivate_AllInteractions</Interaction></Call>'\r\n    vsClient.command.executeXML(s);\r\n\r\n    vsRibbon.classes['Interaction'].forEach((button: w.BaseButton) =>\r\n    {\r\n        button.applyHighlight(false);\r\n    });\r\n    let length = appStates.popoutPanes.length;\r\n    for (let i = 0; i < length; i++)\r\n\t{\r\n\t\tappStates.popedOutWindows[i].close();\r\n\t}\r\n\tif (resetUI)\r\n\t{\r\n\t\tappStates.panes = [\r\n\t\t\t{ paneId: 'wv-modeltree', pos: 1, minimized: false, visible: true },\r\n\t\t\t{ paneId: 'wv-views', pos: 1, minimized: false, visible: true },\r\n\t\t\t{ paneId: 'wv-properties', pos: 2, minimized: false, visible: true }\r\n\t\t]\r\n\t\t//Add default panes from local storage\r\n\t\ttry\r\n\t\t{\r\n\t\t\tappStates.panes = JSON.parse(JSON.stringify(_InitialPanes));\r\n\t\t}\r\n\t\tcatch (e) { }\r\n\t\tlocalStorage.removeItem('panePositions');\r\n\t\tlocalStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n\t\tlocalStorage.removeItem('WVLeftPaneStackHeight');\r\n\t\tlocalStorage.removeItem('WVLeftPaneStackWidth');\r\n\t\tlocalStorage.removeItem('WVRightPaneStackHeight');\r\n\t\tlocalStorage.removeItem('WVRightPaneStackWidth');\r\n\t\tlocalStorage.removeItem('WVleftMinimizedPaneWidth');\r\n\t\tlocalStorage.removeItem('WVrightMinimizedPaneWidth');\r\n\r\n\r\n\t\tleftWrapper.style.width = '20%';\r\n\t\trightWrapper.style.width = '20%';\r\n\t\tleftPaneWidth = 20;\r\n\t\trightPaneWidth = 20;\r\n\t\tleftPaneHeight = 50;\r\n\t\trightPaneHeight = 50;\r\n\t\tlastLeftVerticalDividerDelta = 0;\r\n\t\tlastRightVerticalDividerDelta = 0;\r\n\t\tlastLeftHorizontalDividerDelta = 0;\r\n\t\tlastRightHorizontalDividerDelta = 0;\r\n\t}\r\n\r\n\tappStates.interactionMode = [];\r\n\tappStates.lastInteractionModes = [];\r\n\r\n\tleftLowerStack.reset(resetUI);\r\n\tleftUpperStack.reset(resetUI);\r\n\trightLowerStack.reset(resetUI);\r\n\trightUpperStack.reset(resetUI);\r\n\tlet openPaneCount = appStates.panes.length;\r\n\tfor (let i = 0; i < openPaneCount; i++)\r\n\t{\r\n\t\tlet pane = appStates.panes[i];\r\n\t\tif (appStates.defaultPanes.indexOf(pane.paneId) !== -1 && pane.visible && appStates.popoutPanes.indexOf(pane.paneId) === -1)\r\n\t\t{\r\n\t\t\tprependPane(pane.paneId);\r\n\t\t}\r\n\t\tif (pane.paneId === 'wv-settings' && pane.visible && appStates.popoutPanes.indexOf(pane.paneId) === -1)\r\n\t\t{\r\n\t\t\tprependPane(pane.paneId);\r\n\t\t}\r\n\t}\r\n\tpaneResize();\r\n\t$('#wv-modeltree-pane-tab').click();\r\n}\r\n\r\n\r\nfunction createPanes()\r\n{\r\n\tlet paneId = undefined\r\n\r\n\tsettingsPane = new appPanes.SettingsPane('wv-settings', 'ID_RIBBON_SETTINGS');\r\n\r\n\tpaneConfigs['wv-settings'] = {\r\n\t\tpane: settingsPane,\r\n\t};\r\n\r\n\r\n\tmodeltreePane = new appPanes.Modeltree('wv-modeltree', 'ID_RIBBON_MODEL_TREE');\r\n\tpaneConfigs['wv-modeltree'] = {\r\n\t\tpane: modeltreePane\r\n\t};\r\n\r\n\tpropertiesPane = new appPanes.PropertyPane('wv-properties', 'ID_RIBBON_PROPERTIES');\r\n\tpaneConfigs['wv-properties'] = {\r\n\t\tpane: propertiesPane\r\n\t};\r\n\r\n\tviewPane = new appPanes.ViewPane('wv-views', 'ID_RIBBON_VIEWS');\r\n\tpaneConfigs['wv-views'] = {\r\n\t\tpane: viewPane\r\n\t};\r\n\r\n\r\n\tselectionsPane = new appPanes.SelectionsPane('wv-selections', 'ID_SELECTIONS_WND');\r\n\tpaneConfigs['wv-selections'] = {\r\n\t\tpane: selectionsPane\r\n\t};\r\n\r\n\tmeasurementPane = new appPanes.MeasurementPane('wv-measurement', 'ID_RIBBON_MEASUREMENT');\r\n\tpaneConfigs['wv-measurement'] = {\r\n\t\tpane: measurementPane\r\n    };\r\n\r\n\ttransformPane = new appPanes.TransformPane('wv-transform', 'ID_RIBBON_TRANSFORM');\r\n\tpaneConfigs['wv-transform'] = {\r\n\t\tpane: transformPane\r\n\t}\r\n\r\n\tcommandPane = new appPanes.CommandPane('wv-command', 'Commands');\r\n\tpaneConfigs['wv-command'] = {\r\n\t\tpane: commandPane\r\n\t};\r\n\r\n\tdraftAnglePane = new appPanes.DraftAnglePane('wv-draftangle', 'ID_RIBBON_DRAFT_ANGLE');\r\n\tpaneConfigs['wv-draftangle'] = {\r\n\t\tpane: draftAnglePane\r\n\t};\r\n\r\n\tmarkupPane = new appPanes.MarkupPane('wv-markup', 'ID_RIBBON_3D_MARKUP');\r\n\tpaneConfigs['wv-markup'] = {\r\n\t\tpane: markupPane\r\n    };\r\n\r\n    markupPane_Reduced = new appPanes.MarkupPane_Reduced('wv-markup-reduced', 'ID_RIBBON_3D_MARKUP');\r\n\tpaneConfigs['wv-markup-reduced'] = {\r\n\t\tpane: markupPane_Reduced\r\n\t};\r\n\r\n\tsectionPane = new appPanes.SectionPane('wv-section', 'ID_RIBBON_SECTION');\r\n\tpaneConfigs['wv-section'] = {\r\n\t\tpane: sectionPane\r\n\t};\r\n\r\n\tquickComparePane = new appPanes.QuickComparePane('wv-quickcompare', 'ID_RIBBON_COMPARE');\r\n\tpaneConfigs['wv-quickcompare'] = {\r\n\t\tpane: quickComparePane\r\n\t};\r\n\r\n\tprojectedAreaPane = new appPanes.ProjectedAreaPane('wv-projectedarea', 'ID_RIBBON_PROJECTED_AREA');\r\n\tpaneConfigs['wv-projectedarea'] = {\r\n\t\tpane: projectedAreaPane\r\n\t};\r\n\r\n\texactComparePane = new appPanes.ExactComparePane('wv-exactcompare', 'ID_RIBBON_BREP_PART');\r\n\tpaneConfigs['wv-exactcompare'] = {\r\n\t\tpane: exactComparePane\r\n\t};\r\n\r\n\tmirrorPane = new appPanes.MirrorPane('wv-mirror', 'ID_RIBBON_MIRROR');\r\n\tpaneConfigs['wv-mirror'] = {\r\n\t\tpane: mirrorPane\r\n\t};\r\n\r\n\tfilterPane = new appPanes.FilterPane('wv-filter', 'ID_RIBBON_SEARCH');\r\n\tpaneConfigs['wv-filter'] = {\r\n\t\tpane: filterPane\r\n\t};\r\n\r\n\tflyThroughPane = new appPanes.FlyThroughPane('wv-flythrough', 'ID_RIBBON_FLYTHROUGH');\r\n\tpaneConfigs['wv-flythrough'] = {\r\n\t\tpane: flyThroughPane\r\n\t};\r\n\r\n\tdistortionPane = new appPanes.DistortionPane('wv-distortion', 'ID_RIBBON_DISTORT');\r\n\tpaneConfigs['wv-distortion'] = {\r\n\t\tpane: distortionPane\r\n\t};\r\n\r\n\tvisibilityTestPane = new appPanes.VisibilityTestPane('wv-visibilitytest', 'ID_VISIBILITY_TEST');\r\n\tpaneConfigs['wv-visibilitytest'] = {\r\n\t\tpane: visibilityTestPane\r\n\t};\r\n\r\n\twallthicknessPane = new appPanes.WallthicknessPane('wv-wallthickness', 'ID_RIBBON_WALL_THICKNESS');\r\n\tpaneConfigs['wv-wallthickness'] = {\r\n\t\tpane: wallthicknessPane\r\n\t};\r\n\r\n\tdrillholePane = new appPanes.DrillholePane('wv-drillhole', 'ID_DRILLHOLE_WND');\r\n\tpaneConfigs['wv-drillhole'] = {\r\n\t\tpane: drillholePane\r\n\t};\r\n\r\n\tneutralAxisPane = new appPanes.NeutralAxisPane('wv-neutralaxis', 'ID_RIBBON_NEUTRAL_AXIS');\r\n\tpaneConfigs['wv-neutralaxis'] = {\r\n\t\tpane: neutralAxisPane\r\n\t};\r\n\r\n\tneighbourhoodSearchPane = new appPanes.NeighbourhoodSearchPane('wv-neighbourhoodsearch', 'ID_NEIGHBOURHOOD_SEARCH_WND');\r\n\tpaneConfigs['wv-neighbourhoodsearch'] = {\r\n\t\tpane: neighbourhoodSearchPane\r\n\t};\r\n\r\n\tbomPane = new appPanes.BOMPane('wv-bom', 'ID_RIBBON_BOM');\r\n\tpaneConfigs['wv-bom'] = {\r\n\t\tpane: bomPane\r\n    };\r\n\r\n    clashPane = new appPanes.ClashPane('wv-clash', 'ID_RIBBON_CLASH_DETECTION');\r\n\tpaneConfigs['wv-clash'] = {\r\n\t\tpane: clashPane\r\n\t};\r\n\r\n\tcalloutPane = new appPanes.CalloutPane('wv-callout', 'ID_CALLOUTS_WND');\r\n\tpaneConfigs['wv-callout'] = {\r\n\t\tpane: calloutPane\r\n\t};\r\n\r\n\ttextSearchPane = new appPanes.TextSearchPane('wv-textsearch', 'ID_TEXT_SEARCH_WND');\r\n\tpaneConfigs['wv-textsearch'] = {\r\n\t\tpane: textSearchPane\r\n\t};\r\n\r\n\tsplitPane = new appPanes.SplitPane('wv-split', 'ID_RIBBON_SPLIT');\r\n\tpaneConfigs['wv-split'] = {\r\n\t\tpane: splitPane\r\n    };\r\n\r\n    explodePane = new appPanes.ExplodePane('wv-explode', 'ID_RIBBON_EXPLODE');\r\n\tpaneConfigs['wv-explode'] = {\r\n\t\tpane: explodePane\r\n    };\r\n\r\n    animationPane = new appPanes.AnimationPane('wv-animation', 'ID_RIBBON_ANIMATION');\r\n\tpaneConfigs['wv-animation'] = {\r\n\t\tpane: animationPane\r\n    };\r\n\r\n    geometryToolsPane = new appPanes.GeometryToolsPane('wv-geometry-tools', 'ID_RIBBON_GEOMETRY_TOOLS');\r\n\tpaneConfigs['wv-geometry-tools'] = {\r\n\t\tpane: geometryToolsPane\r\n    };\r\n\r\n    bandAnalysisPane = new appPanes.BandAnalysisPane('wv-bandanalysis', 'ID_BAND_ANALYSIS_WND');\r\n\tpaneConfigs['wv-bandanalysis'] = {\r\n\t\tpane: bandAnalysisPane\r\n\t};\r\n\r\n}\r\n\r\nfunction resizeClient(viewportWidth, viewportHeight, callResize: boolean = true)\r\n{\r\n\tlet layoutHeight = Math.max(viewportHeight - wvRibbon.offsetHeight, settings.minHeight - wvRibbon.offsetHeight)\r\n\r\n\tif (viewportHeight === wvDock.clientHeight)\r\n\t{\r\n\t\tlayoutHeight = viewportHeight;\r\n    }\r\n    let width = appStates.fullScreenMode ? wvDock.clientWidth : wvDock.clientWidth - leftWrapper.clientWidth - rightWrapper.clientWidth - 4;\r\n\tlet height = wvDock.clientHeight;\r\n\r\n\tif (leftMinimizedPaneStack.isVisible)\r\n\t{\r\n\t\twidth -= 20;\r\n\t}\r\n\tif (rightMinimizedPaneStack.isVisible)\r\n\t{\r\n\t\twidth -= 20;\r\n    }\r\n    wvDock.style.height = layoutHeight + 'px';\r\n    if (callResize)\r\n    {\r\n        vsClient.resize(width, layoutHeight - 24);\r\n    }\r\n\r\n    leftWrapper.style.height = 'calc(100% - ' + (wvRibbon.clientHeight) + 'px)';\r\n    canvasWrapper.style.height = 'calc(100% - ' + (wvRibbon.clientHeight - 1) + 'px)';\r\n    canvasWrapper.style.width = (width + 5) + 'px';\r\n    rightWrapper.style.height = 'calc(100% - ' + (wvRibbon.clientHeight) + 'px)';\r\n\tleftUpperStack.resize(undefined);\r\n\tleftLowerStack.resize(undefined);\r\n\trightUpperStack.resize(undefined);\r\n\trightLowerStack.resize(undefined);\r\n}\r\n\r\nexport function resizeHandler()\r\n{\r\n\tlet viewportWidth = Math.min(window.innerWidth, document.documentElement.offsetWidth)\r\n\tlet viewportHeight = Math.max(window.innerHeight, document.documentElement.offsetHeight)\r\n\r\n\tappStates.ribbonWidth = viewportWidth\r\n\tappStates.ribbonWidth = viewportWidth\r\n\tif (appStates.ribbonWidth < 600)\r\n\t{\r\n\t\tappStates.ribbonWidth = 600\r\n\t}\r\n\r\n    vsRibbon.render()\r\n    setTimeout(() => { resizeClient(viewportWidth, viewportHeight, true), 100 });\r\n}\r\n\r\nexport function showSessionRestoreDialog (sessions: any[])\r\n{\r\n    //Variables\r\n    let selectedSessions: string[] = [];\r\n    let sessionRows: HTMLElement[] = [];\r\n    //UI\r\n    let overlay = document.createElement('div');\r\n    overlay.className = 'fullscreen-loading-wrapper';\r\n    document.body.appendChild(overlay);\r\n\r\n\r\n    let sessionBox = document.createElement('div');\r\n    sessionBox.className = 'session-box';\r\n    overlay.appendChild(sessionBox);\r\n\r\n    let title = document.createElement('div');\r\n    title.textContent = 'Restore sessions'\r\n    sessionBox.appendChild(title);\r\n\r\n    let showAllRow = document.createElement('div');\r\n    showAllRow.className = 'session-select-all-row';\r\n    showAllRow.textContent = 'Select all'\r\n    sessionBox.appendChild(showAllRow);\r\n\r\n    let selectAllIcon = document.createElement('i');\r\n    selectAllIcon.className = 'fal fa-square session-select-all-icon';\r\n    showAllRow.onclick = e =>\r\n    {\r\n        let iconEl = $(selectAllIcon);\r\n        if (iconEl.hasClass('fa-square'))\r\n        {\r\n            selectedSessions = sessions.map(s => { return s.Id });\r\n        }\r\n        else\r\n        {\r\n            selectedSessions = [];\r\n        }\r\n        iconEl.toggleClass('fa-square');\r\n        iconEl.toggleClass('fa-check-square');\r\n        sessionRows.forEach((row: HTMLElement) =>\r\n        {\r\n            let rowEl = $(row);\r\n            rowEl.toggleClass('fa-square');\r\n            rowEl.toggleClass('fa-check-square');\r\n        });\r\n    };\r\n    showAllRow.appendChild(selectAllIcon);\r\n\r\n    sessions.forEach((session, index: number) =>\r\n    {\r\n        let row = document.createElement('div');\r\n        row.className = 'session-row';\r\n        session.Lifetime = parseInt(session.Lifetime) / 60000;\r\n        let startedMinute = session.Lifetime > 1 ? Math.round(session.Lifetime) + ' minute(s)' : '< 1 minute';\r\n        row.textContent = 'Session ' + (index + 1) + ', started ' + startedMinute + ' ago';\r\n        row.id = session;\r\n        let icon = document.createElement('i');\r\n        icon.className = 'fal fa-square session-select-icon';\r\n        row.onclick = e =>\r\n        {\r\n            $(icon).toggleClass('fa-square');\r\n            $(icon).toggleClass('fa-check-square');\r\n            if (selectedSessions.indexOf(session.Id) === -1)\r\n            {\r\n                selectedSessions.push(session.Id);\r\n            }\r\n            else\r\n            {\r\n                selectedSessions.splice(selectedSessions.indexOf(session.Id), 1);\r\n            }\r\n        };\r\n        row.appendChild(icon);\r\n        sessionRows.push(icon);\r\n        sessionBox.appendChild(row);\r\n    });\r\n\r\n    let continueButton = document.createElement('button');\r\n    continueButton.textContent = 'OK';\r\n    continueButton.className = 'session-continue-button';\r\n    continueButton.onclick = e =>\r\n    {\r\n        sessions.forEach(session =>\r\n        {\r\n            let xml = '<Request Type=\"CloseSessions\">';\r\n            if (selectedSessions.indexOf(session.Id) === -1)\r\n            {\r\n                xml += '<Session>' + session.Id + '</Session>';\r\n            }\r\n            xml += '</Request>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        let url: string = window.location.origin + window.location.pathname.replace('/index.html', '/');\r\n        selectedSessions.forEach((session: string) =>\r\n        {\r\n            window.open(url + 'index.html?session=' + session, '_blank');\r\n        });\r\n        selectedSessions = undefined;\r\n        sessionRows = undefined;\r\n        vsClient.connect();\r\n        if (appStates.backendToken)\r\n        {\r\n            vsClient.SessionToken( appStates.backendToken);\r\n        }\r\n        $(overlay).remove();\r\n    }\r\n    sessionBox.appendChild(continueButton);\r\n}\r\n\r\nexport function toast(success: boolean)\r\n{\r\n    let toastWrapper = document.createElement('div');\r\n    toastWrapper.className = 'toast';\r\n    toastWrapper.style.backgroundColor = success ? 'darkgreen' : 'darkred';\r\n\r\n    let toastIcon = document.createElement('i');\r\n    toastIcon.className = success ? 'far fa-check' : 'far fa-exclamation';\r\n    toastWrapper.appendChild(toastIcon);\r\n\r\n    document.body.appendChild(toastWrapper);\r\n    setTimeout(() =>\r\n    {\r\n        toastWrapper.remove();\r\n    }, 2000);\r\n}\r\n\r\nexport function openStatusBox(message: MessageItem)\r\n{\r\n    let ignoredInfo = ['WARN_NO_STATE_CHANGE', 'ERR_SCENE_ID_NOT_FOUND', 'ERR_VIEW_ID_NOT_FOUND', 'ERR_ID_ALREADY_EXISTS'];\r\n    try\r\n    {\r\n        if (_IgnoredErrors && _IgnoredErrors.length > 0)\r\n        {\r\n            ignoredInfo = ignoredInfo.concat(_IgnoredErrors);\r\n        }\r\n    }\r\n    catch(e){}\r\n    if (ignoredInfo.indexOf(message.info) === -1)\r\n    {\r\n        let box = $(statusBox);\r\n        box.hide();\r\n        box.empty();\r\n        let closeIcon = document.createElement('i');\r\n        closeIcon.className = 'fa fa-times status-box-close-icon';\r\n        closeIcon.onclick = e =>\r\n        {\r\n            box.hide();\r\n        };\r\n        statusBox.appendChild(closeIcon);\r\n        let typeClass: string = 'status-message-wrapper';\r\n        let messageWrapper = document.createElement('div');\r\n        switch (message.type)\r\n        {\r\n            //NOT existing at the moment\r\n            case 'Warning':\r\n                typeClass += ' status-type-info';\r\n                break;\r\n            case 'Error':\r\n                typeClass += ' status-type-error';\r\n                break;\r\n            //NOT existing at the moment\r\n            case 'Progress':\r\n                typeClass += ' status-type-progress';\r\n                break;\r\n            case 'SocketError':\r\n                typeClass += ' status-type-error';\r\n                break;\r\n            default:\r\n                typeClass += ' status-type-info';\r\n                break;\r\n        }\r\n        messageWrapper.className = typeClass;\r\n\r\n        let titleEl = document.createElement('div');\r\n        titleEl.textContent = message.method;\r\n        titleEl.className = 'status-box-title';\r\n        messageWrapper.appendChild(titleEl);\r\n\r\n        let codeEl = document.createElement('div');\r\n        codeEl.innerHTML = translate(message.message).replace(/\\\\n/g, '\\r');\r\n        codeEl.className = 'status-box-code';\r\n        messageWrapper.appendChild(codeEl);\r\n\r\n        statusBox.appendChild(messageWrapper);\r\n        box.show();\r\n        setTimeout(() =>\r\n        {\r\n            if (message.type !== 'SocketError')\r\n            {\r\n                box.hide();\r\n            }\r\n        }, 5000);\r\n    }\r\n}\r\n\r\nfunction isFullscreen(el)\r\n{\r\n\treturn el.webkitFullscreenElement || el.msFullscreenElement || el.mozFullScreenElement || el.fullscreenElement;\r\n}\r\n\r\nexport function init()\r\n{\r\n\r\n\t//Check version and clear old local storage entries\r\n\tlet version = localStorage.getItem('WVVersion');\r\n\t//TODO: Actual version; HARD CODED!\r\n\tif (version !== '18')\r\n\t{\r\n\t\tlocalStorage.removeItem('panePositions');\r\n\t\tlocalStorage.removeItem('WVColWidth');\r\n\t\tlocalStorage.setItem('WVVersion', '18');\r\n\t}\r\n\t//Set the pane lock\r\n\ttry\r\n\t{\r\n\t\tappStates.lockPanes = _PaneLock;\r\n\t}\r\n\tcatch (e) { }\r\n    $(document).on('mozfullscreenchange webkitfullscreenchange fullscreenchange', (e) =>\r\n    {\r\n        let ribbonToggle = $('#wv-ribbon-toggle-ribbon');\r\n        appStates.fullScreenMode = !appStates.fullScreenMode;\r\n        let fullscreen = isFullscreen(document);\r\n        if (!fullscreen)\r\n        {\r\n            canvasStack.minimize();\r\n            let ribbonVis = localStorage.getItem('WVRibbonVis');\r\n            if (ribbonVis === 'true' && ribbonToggle.hasClass('fa-chevron-right'))\r\n            {\r\n                vsRibbon.toggleVisibility(false, true);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            canvasStack.maximize();\r\n            if (ribbonToggle.hasClass('fa-chevron-down'))\r\n            {\r\n                vsRibbon.toggleVisibility(false, true);\r\n            }\r\n        }\r\n    });\r\n\r\n\twvApp = document.getElementById('wv-app')\r\n\twvRibbon = document.getElementById('wv-ribbon')\r\n\r\n\tthis.uiBlocker = document.createElement('div');\r\n    this.uiBlocker.className = 'fullscreen-loading-wrapper';\r\n\r\n    this.uiBlockerText = document.createElement('span');\r\n    this.uiBlockerText.className = 'fullscreen-loading-text';\r\n    this.uiBlockerText.textContent = \"\";\r\n    this.uiBlocker.appendChild(this.uiBlockerText);\r\n\r\n\tlet spinnerIcon = document.createElement('i');\r\n\tspinnerIcon.className = 'fullscreen-loading-icon fal fa-spinner-third fa-spin';\r\n\tthis.uiBlocker.appendChild(spinnerIcon);\r\n\r\n\tthis.blockUI();\r\n\r\n\tvsClient.on('SendSessionReady', ev =>\r\n\t{\r\n\t\tthis.unblockUI();\r\n\t\t$(statusBox).hide();\r\n\t})\r\n\r\n\tstatusBox = document.createElement('div');\r\n\tstatusBox.className = 'status-box-wrapper';\r\n\t$(statusBox).hide();\r\n\twvApp.appendChild(statusBox);\r\n\r\n\tvsRibbon = new VSRibbon(wvRibbon)\r\n\tvsRibbon.initialize()\r\n\r\n\twvDock = document.getElementById('wv-dock') as HTMLDivElement\r\n\twvDock.style.height = window.innerHeight - wvRibbon.offsetHeight + 'px'\r\n\r\n\tcreatePanes()\r\n\r\n\r\n\twindow.onresize = resizeHandler\r\n\tif (navigator.platform === 'iPad' && navigator.userAgent.match('CriOS'))\r\n\t{\r\n\t\twindow.onorientationchange = () =>\r\n\t\t{\r\n\t\t\tsetTimeout(e =>\r\n\t\t\t{\r\n\t\t\t\tresizeHandler();\r\n\t\t\t\tpaneResize();\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n\r\n\t//Add default panes from local storage\r\n\ttry\r\n\t{\r\n\t\tlet length = _InitialPanes.length;\r\n\t\tfor (let i = 0; i < length; i++)\r\n\t\t{\r\n\r\n\t\t\tlet pane = JSON.parse(JSON.stringify(_InitialPanes[i]));\r\n\t\t\tlet visibility = pane.visible;\r\n\t\t\tif (visibility && appStates.defaultPanes.indexOf(pane.paneId) === -1)\r\n\t\t\t{\r\n\t\t\t\tappStates.defaultPanes.push(pane.paneId);\r\n\t\t\t}\r\n\t\t}\r\n\t\tappStates.panes = JSON.parse(JSON.stringify(_InitialPanes));\r\n\t}\r\n\tcatch (e) { }\r\n\r\n\t//Apply custom pane positioning from local storage\r\n\tlet customPanePositioning = localStorage.getItem('panePositions');\r\n\tif (customPanePositioning !== null && !appStates.lockPanes)\r\n\t{\r\n\t\tappStates.panes = JSON.parse(customPanePositioning);\r\n\t}\r\n\tlet leftMinimizedPanePanel = document.createElement('div');\r\n\tleftMinimizedPanePanel.className = 'minimized-pane-panel';\r\n\tleftMinimizedPanePanel.id = 'left-minimized-pane-panel';\r\n\tleftMinimizedPanePanel.style.left = '0';\r\n\r\n\tleftWrapper = document.createElement('div');\r\n\tleftWrapper.className = 'pane-wrapper';\r\n    leftWrapper.style.height = 'calc(100% - ' + (wvRibbon.clientHeight + 8) + 'px)';\r\n\tleftWrapper.id = 'left-pane-wrapper';\r\n\r\n\tleftUpperWrapper = document.createElement('div');\r\n\tleftUpperWrapper.className = 'pane-upper-wrapper';\r\n\r\n\tlet leftHorizontalDivider = document.createElement('div');\r\n\tleftHorizontalDivider.className = 'horizontal-pane-divider';\r\n\r\n\tleftLowerWrapper = document.createElement('div');\r\n\tleftLowerWrapper.className = 'pane-lower-wrapper';\r\n\r\n\tlet leftVerticalDivider = document.createElement('div');\r\n\tleftVerticalDivider.className = 'vertical-pane-divider';\r\n\tleftVerticalDivider.style.right = '-5px';\r\n\r\n\tleftWrapper.appendChild(leftUpperWrapper);\r\n\tleftWrapper.appendChild(leftLowerWrapper);\r\n\tleftWrapper.appendChild(leftVerticalDivider);\r\n\r\n\tcanvasWrapper = document.createElement('div');\r\n    canvasWrapper.className = 'canvas-wrapper';\r\n    canvasWrapper.style.height = 'calc(100% - ' + (wvRibbon.clientHeight - 1) + 'px)';\r\n\tcanvasStack = new CanvasStack(canvasWrapper, vsClient);\r\n\r\n\twvCanvas = canvasStack.addScene('0');\r\n\r\n\r\n\tlet rightVerticalDivider = document.createElement('div');\r\n\trightVerticalDivider.className = 'vertical-pane-divider';\r\n    rightVerticalDivider.style.left = '-5px';\r\n    rightVerticalDivider.style.borderRight = '1px solid #c8c8c8';\r\n\r\n\trightWrapper = document.createElement('div');\r\n\trightWrapper.className = 'pane-wrapper';\r\n\trightWrapper.id = 'right-pane-wrapper';\r\n\trightWrapper.style.right = '0';\r\n\trightWrapper.style.height = 'calc(100% - ' + (wvRibbon.clientHeight + 8) + 'px)';\r\n\r\n\trightUpperWrapper = document.createElement('div');\r\n\trightUpperWrapper.className = 'pane-upper-wrapper';\r\n\r\n\tlet rightHorizontalDivider = document.createElement('div');\r\n\trightHorizontalDivider.className = 'horizontal-pane-divider';\r\n\r\n\r\n\trightLowerWrapper = document.createElement('div');\r\n\trightLowerWrapper.className = 'pane-lower-wrapper';\r\n\r\n\trightWrapper.appendChild(rightVerticalDivider);\r\n\trightWrapper.appendChild(rightUpperWrapper);\r\n\trightWrapper.appendChild(rightLowerWrapper);\r\n\r\n\tlet rightMinimizedPanePanel = document.createElement('div');\r\n\trightMinimizedPanePanel.className = 'minimized-pane-panel';\r\n\trightMinimizedPanePanel.id = 'right-minimized-pane-panel';\r\n\trightMinimizedPanePanel.style.right = '0';\r\n\r\n\r\n\twvDock.appendChild(leftMinimizedPanePanel);\r\n\twvDock.appendChild(leftWrapper);\r\n\twvDock.appendChild(canvasWrapper);\r\n\twvDock.appendChild(rightWrapper);\r\n\twvDock.appendChild(rightMinimizedPanePanel);\r\n\r\n\tleftMinimizedPaneStack = new MinimizedPaneStack('left');\r\n\trightMinimizedPaneStack = new MinimizedPaneStack('right');\r\n\tleftUpperStack = new PaneStack(leftUpperWrapper, leftMinimizedPaneStack, 0);\r\n\tleftLowerStack = new PaneStack(leftLowerWrapper, leftMinimizedPaneStack, 1);\r\n\trightUpperStack = new PaneStack(rightUpperWrapper, rightMinimizedPaneStack, 2);\r\n    rightLowerStack = new PaneStack(rightLowerWrapper, rightMinimizedPaneStack, 3);\r\n    leftUpperWrapper.appendChild(leftHorizontalDivider);\r\n    rightUpperWrapper.appendChild(rightHorizontalDivider);\r\n\r\n\tlet leftUpperDropTarget = document.createElement('div');\r\n\tleftUpperDropTarget.className = 'left-drop-target pane-drop';\r\n\tleftUpperDropTarget.textContent = '1';\r\n\tleftUpperDropTarget.style.top = '20%';\r\n\r\n\twvDock.appendChild(leftUpperDropTarget);\r\n\t$(leftUpperDropTarget).hide();\r\n\r\n\tlet leftLowerDropTarget = document.createElement('div');\r\n\tleftLowerDropTarget.className = 'left-drop-target pane-drop';\r\n\tleftLowerDropTarget.textContent = '2';\r\n\tleftLowerDropTarget.style.bottom = '20%';\r\n\r\n\twvDock.appendChild(leftLowerDropTarget);\r\n\t$(leftLowerDropTarget).hide();\r\n\r\n\tlet rightUpperDropTarget = document.createElement('div');\r\n\trightUpperDropTarget.className = 'right-drop-target pane-drop';\r\n\trightUpperDropTarget.textContent = '3';\r\n\trightUpperDropTarget.style.top = '20%';\r\n\r\n\twvDock.appendChild(rightUpperDropTarget);\r\n\t$(rightUpperDropTarget).hide();\r\n\r\n\tlet rightLowerDropTarget = document.createElement('div');\r\n\trightLowerDropTarget.className = 'right-drop-target pane-drop';\r\n\trightLowerDropTarget.textContent = '4';\r\n\trightLowerDropTarget.style.bottom = '20%';\r\n\r\n\twvDock.appendChild(rightLowerDropTarget);\r\n\t$(rightLowerDropTarget).hide();\r\n\r\n\t//Add event listener\r\n\tif (!appStates.lockPanes)\r\n\t{\r\n\t\t//Divider listener\r\n\t\tleftHorizontalDivider.addEventListener('mousedown', handleLeftHorizontalDown);\r\n\t\tleftVerticalDivider.addEventListener('mousedown', handleLeftVerticalDown);\r\n\t\trightVerticalDivider.addEventListener('mousedown', handleRightVerticalDown);\r\n\t\trightHorizontalDivider.addEventListener('mousedown', handleRightHorizontalDown);\r\n\r\n\t\t$(leftHorizontalDivider).kendoTouch({\r\n\t\t\tdragstart: e =>\r\n            {\r\n                if (!dividerInMouseDrag)\r\n                {\r\n                    leftHorizontalDividerDelta = e.touch.y.location;\r\n                    dividerInTouchDrag = true;\r\n                }\r\n\t\t\t},\r\n\t\t\tdrag: e =>\r\n            {\r\n                if (dividerInTouchDrag)\r\n                {\r\n                    let delta = e.touch.y.location - leftHorizontalDividerDelta;\r\n                    let relativeDelta = delta / wvDock.clientHeight * 100;\r\n                    leftUpperStack.resize((leftPaneHeight + relativeDelta + lastLeftHorizontalDividerDelta) + '%', false);\r\n                    leftLowerStack.resize((100 - (leftPaneHeight + relativeDelta + lastLeftHorizontalDividerDelta)) + '%', false);\r\n                }\r\n\t\t\t},\r\n\t\t\tdragend: e =>\r\n            {\r\n                if (dividerInTouchDrag)\r\n                {\r\n                    let relativeDelta = (e.touch.y.location - leftHorizontalDividerDelta) / wvDock.clientHeight * 100;\r\n                    localStorage.setItem('WVLeftPaneStackHeight', (leftPaneHeight + relativeDelta + lastLeftHorizontalDividerDelta).toString());\r\n                    lastLeftHorizontalDividerDelta = lastLeftHorizontalDividerDelta + relativeDelta;\r\n                    leftHorizontalDividerDelta = 0;\r\n                    dividerInTouchDrag = false;\r\n                }\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(leftVerticalDivider).kendoTouch({\r\n\t\t\tdragstart: e =>\r\n            {\r\n                if (!dividerInMouseDrag)\r\n                {\r\n                    leftVerticalDividerDelta = e.touch.x.location;\r\n                    dividerInTouchDrag = true;\r\n                }\r\n\t\t\t},\r\n\t\t\tdrag: e =>\r\n            {\r\n                if (dividerInTouchDrag)\r\n                {\r\n                    let delta = e.touch.x.location - leftVerticalDividerDelta;\r\n                    let relativeDelta = delta / wvDock.clientWidth * 100;\r\n                    leftWrapper.style.width = (leftPaneWidth + relativeDelta + lastLeftVerticalDividerDelta) + '%';\r\n                }\r\n            },\r\n\t\t\tdragend: e =>\r\n            {\r\n                if (dividerInTouchDrag)\r\n                {\r\n                    let relativeDelta = (e.touch.x.location - leftVerticalDividerDelta) / wvDock.clientWidth * 100;\r\n                    localStorage.setItem('WVLeftPaneStackWidth', (leftPaneWidth + relativeDelta + lastLeftVerticalDividerDelta).toString());\r\n                    lastLeftVerticalDividerDelta = lastLeftVerticalDividerDelta + relativeDelta;\r\n                    leftVerticalDividerDelta = 0;\r\n                    let offsetMinimizePanel = 0;\r\n                    if (leftMinimizedPaneStack.isVisible)\r\n                    {\r\n                        offsetMinimizePanel += 20;\r\n                    }\r\n                    canvasWrapper.style.left = 'calc(' + (leftPaneWidth + lastLeftVerticalDividerDelta) + '% + ' + offsetMinimizePanel + 'px)';\r\n                    if (rightMinimizedPaneStack.isVisible)\r\n                    {\r\n                        offsetMinimizePanel += 20;\r\n                    }\r\n                    let width = wvDock.clientWidth - leftWrapper.clientWidth - rightWrapper.clientWidth - offsetMinimizePanel;\r\n                    let height = wvDock.clientHeight;\r\n                    resizeClient(width, height);\r\n                    canvasWrapper.style.width = width + 'px';\r\n                    dividerInTouchDrag = false;\r\n                }\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(rightVerticalDivider).kendoTouch({\r\n\t\t\tdragstart: e =>\r\n            {\r\n                if (!dividerInMouseDrag)\r\n                {\r\n                    rightVerticalDividerDelta = e.touch.x.location;\r\n                    dividerInTouchDrag = true;\r\n                }\r\n\t\t\t},\r\n\t\t\tdrag: e =>\r\n            {\r\n                if (dividerInTouchDrag)\r\n                {\r\n                    let delta = rightVerticalDividerDelta - e.touch.x.location;\r\n                    let relativeDelta = delta / wvDock.clientWidth * 100;\r\n                    rightWrapper.style.width = (rightPaneWidth + relativeDelta + lastRightVerticalDividerDelta) + '%';\r\n                }\r\n\t\t\t},\r\n\t\t\tdragend: e =>\r\n            {\r\n                if (dividerInTouchDrag)\r\n                {\r\n                    let relativeDelta = (rightVerticalDividerDelta - e.touch.x.location) / wvDock.clientWidth * 100;\r\n                    localStorage.setItem('WVRightPaneStackWidth', (rightPaneWidth + relativeDelta + lastRightVerticalDividerDelta).toString());\r\n                    lastRightVerticalDividerDelta = lastRightVerticalDividerDelta + relativeDelta;\r\n                    rightVerticalDividerDelta = 0;\r\n                    let offsetMinimizePanel = 0;\r\n                    if (leftMinimizedPaneStack.isVisible)\r\n                    {\r\n                        offsetMinimizePanel += 20;\r\n                    }\r\n                    if (rightMinimizedPaneStack.isVisible)\r\n                    {\r\n                        offsetMinimizePanel += 20;\r\n                    }\r\n                    let width = wvDock.clientWidth - leftWrapper.clientWidth - rightWrapper.clientWidth - 4 - offsetMinimizePanel;\r\n                    let height = wvDock.clientHeight;\r\n                    resizeClient(width, height);\r\n                    dividerInTouchDrag = false;\r\n                }\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(rightHorizontalDivider).kendoTouch({\r\n\t\t\tdragstart: e =>\r\n            {\r\n                if (!dividerInMouseDrag)\r\n                {\r\n                    rightVerticalDividerDelta = e.touch.y.location;\r\n                    dividerInTouchDrag = true;\r\n                }\r\n\t\t\t},\r\n\t\t\tdrag: e =>\r\n            {\r\n                if (dividerInTouchDrag)\r\n                {\r\n                    let delta = e.touch.y.location - rightVerticalDividerDelta;\r\n                    let relativeDelta = delta / wvDock.clientHeight * 100;\r\n                    rightUpperStack.resize((rightPaneHeight + relativeDelta + lastRightHorizontalDividerDelta) + '%', false);\r\n                    rightLowerStack.resize((100 - (rightPaneHeight + relativeDelta + lastRightHorizontalDividerDelta)) + '%', false);\r\n                }\r\n\t\t\t},\r\n\t\t\tdragend: e =>\r\n            {\r\n                if (dividerInTouchDrag)\r\n                {\r\n                    let relativeDelta = (e.touch.y.location - rightVerticalDividerDelta) / wvDock.clientHeight * 100;\r\n                    localStorage.setItem('WVRightPaneStackHeight', (rightPaneHeight + relativeDelta + lastRightHorizontalDividerDelta).toString());\r\n                    lastRightHorizontalDividerDelta = lastRightHorizontalDividerDelta + relativeDelta;\r\n                    rightVerticalDividerDelta = 0;\r\n                    dividerInTouchDrag = false;\r\n                }\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//Drag & drop listener\r\n\t\tleftUpperDropTarget.ondrop = e =>\r\n\t\t{\r\n\t\t\t$(leftWrapper).show();\r\n\t\t\tdropPane(e, 1);\r\n\t\t};\r\n\t\tleftUpperDropTarget.ondragover = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\t$(leftUpperDropTarget).addClass('allow-pane-drop');\r\n\t\t};\r\n\t\tleftUpperDropTarget.ondragleave = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\t$(leftUpperDropTarget).removeClass('allow-pane-drop');\r\n\t\t};\r\n\r\n\t\tleftLowerDropTarget.ondrop = e =>\r\n\t\t{\r\n\t\t\t$(leftWrapper).show();\r\n\t\t\tdropPane(e, 2);\r\n\t\t};\r\n\t\tleftLowerDropTarget.ondragover = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\t$(leftLowerDropTarget).addClass('allow-pane-drop');\r\n\t\t};\r\n\t\tleftLowerDropTarget.ondragleave = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\t$(leftLowerDropTarget).removeClass('allow-pane-drop');\r\n\t\t};\r\n\r\n\t\trightUpperDropTarget.ondrop = e =>\r\n\t\t{\r\n\t\t\t$(rightWrapper).show();\r\n\t\t\tdropPane(e, 3);\r\n\t\t};\r\n\t\trightUpperDropTarget.ondragover = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\t$(rightUpperDropTarget).addClass('allow-pane-drop');\r\n\t\t};\r\n\t\trightUpperDropTarget.ondragleave = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\t$(rightUpperDropTarget).removeClass('allow-pane-drop');\r\n\t\t};\r\n\r\n\t\trightLowerDropTarget.ondrop = e =>\r\n\t\t{\r\n\t\t\t$(rightWrapper).show();\r\n\t\t\tdropPane(e, 4);\r\n\t\t};\r\n\t\trightLowerDropTarget.ondragover = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\t$(rightLowerDropTarget).addClass('allow-pane-drop');\r\n\t\t};\r\n\t\trightLowerDropTarget.ondragleave = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\t$(rightLowerDropTarget).removeClass('allow-pane-drop');\r\n\t\t};\r\n\t}\r\n\telse\r\n\t{\r\n\t\tleftHorizontalDivider.style.pointerEvents = 'none';\r\n\t\tleftVerticalDivider.style.pointerEvents = 'none';\r\n\t\trightVerticalDivider.style.pointerEvents = 'none';\r\n\t\trightHorizontalDivider.style.pointerEvents = 'none';\r\n\t}\r\n\r\n\tlet width = wvDock.clientWidth - leftWrapper.clientWidth - rightWrapper.clientWidth;\r\n\tlet height = wvDock.clientHeight;\r\n\tlet openPaneCount = appStates.panes.length;\r\n\tfor (let i = 0; i < openPaneCount; i++)\r\n\t{\r\n\t\tlet pane = appStates.panes[i];\r\n\t\tlet button = findPaneButton(pane.paneId);\r\n\t\tif (appStates.defaultPanes.indexOf(pane.paneId) !== -1 && pane.visible && appStates.popoutPanes.indexOf(pane.paneId) === -1)\r\n\t\t{\r\n\t\t\tprependPane(pane.paneId);\r\n\t\t\tif (button)\r\n\t\t\t{\r\n\t\t\t\tbutton.applyHighlight(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (pane.paneId === 'wv-settings' && pane.visible && appStates.popoutPanes.indexOf(pane.paneId) === -1)\r\n\t\t{\r\n\t\t\tprependPane(pane.paneId);\r\n\t\t\tif (button)\r\n\t\t\t{\r\n\t\t\t\tbutton.applyHighlight(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tappStates.panes[i].visible = false;\r\n\t\t}\r\n\t}\r\n\tlocalStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n\r\n\tif (localStorage.getItem('WVLeftPaneStackWidth') !== null)\r\n\t{\r\n\t\tleftPaneWidth = parseFloat(localStorage.getItem('WVLeftPaneStackWidth'));\r\n\t\tleftWrapper.style.width = leftPaneWidth + '%';\r\n\t}\r\n\r\n\tif (localStorage.getItem('WVRightPaneStackWidth') !== null)\r\n\t{\r\n\t\trightPaneWidth = parseFloat(localStorage.getItem('WVRightPaneStackWidth'));\r\n\t\trightWrapper.style.width = rightPaneWidth + '%';\r\n\t}\r\n\r\n\tif (localStorage.getItem('WVLeftPaneStackHeight') !== null)\r\n\t{\r\n\t\tlet newHeight = parseFloat(localStorage.getItem('WVLeftPaneStackHeight'));\r\n\t\tleftPaneHeight = newHeight;\r\n\t\tleftUpperStack.resize(newHeight + '%');\r\n\t\tleftLowerStack.resize((100 - newHeight) + '%');\r\n\t}\r\n\r\n\tif (localStorage.getItem('WVRightPaneStackHeight') !== null)\r\n\t{\r\n\t\tlet newHeight = parseFloat(localStorage.getItem('WVRightPaneStackHeight'));\r\n\t\trightPaneHeight = newHeight;\r\n\t\trightUpperStack.resize(newHeight + '%');\r\n\t\trightLowerStack.resize((100 - newHeight) + '%');\r\n\t}\r\n\r\n\tpaneResize();\r\n\t$('#wv-modeltree-pane-tab').click();\r\n\r\n\t$(wvCanvas).kendoTouch({\r\n\t\tminHold: 400,\r\n\t\thold: function (e)\r\n\t\t{\r\n\t\t\tif (appStates.interactionMode.indexOf('Flythrough') === -1)\r\n\t\t\t{\r\n\t\t\t\tvsClient.vsCanvas.rightClickTimeStamp = -1;\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\twvCanvas.addEventListener('contextmenu', ev =>\r\n\t{\r\n\t\tev.preventDefault();\r\n\t\t$('#contextMenu').remove();\r\n\t\t$(document).off('mousedown', vsClient.vsCanvas.closeContextMenu);\r\n\t\t$(document).off('keyup', vsClient.vsCanvas.closeContextMenu);\r\n\t\tif (vsClient.vsCanvas.rightClickTimeStamp && (ev.timeStamp - vsClient.vsCanvas.rightClickTimeStamp < 200 || vsClient.vsCanvas.rightClickTimeStamp === -1))\r\n\t\t{\r\n\t\t\tvsClient.vsCanvas.createContextMenu(ev);\r\n\t\t}\r\n    });\r\n\r\n\tvsClient.on('ShowMessageBox', err =>\r\n    {\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif (_ShowErrorAlerts)\r\n\t\t\t{\r\n\t\t\t\tlet message: MessageItem = {\r\n\t\t\t\t\tcode: parseInt(err.ErrorCode),\r\n\t\t\t\t\tinfo: err.ErrorInfo,\r\n\t\t\t\t\tmethod: err.Identifier,\r\n\t\t\t\t\tmessage: translate('ID_' + err.ErrorInfo),\r\n\t\t\t\t\ttype: err.Type[1]\r\n\t\t\t\t};\r\n\t\t\t\topenStatusBox(message);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (e) { }\r\n\t});\r\n\treturn wvCanvas;\r\n}\r\n\r\nexport function blockUI (descr?: string)\r\n{\r\n    this.uiBlockerText.textContent = descr !== undefined ? descr : '';\r\n    if (!wvApp.contains(this.uiBlocker))\r\n    {\r\n        wvApp.appendChild(this.uiBlocker);\r\n    }\r\n}\r\n\r\nexport function unblockUI ()\r\n{\r\n    if (wvApp && wvApp.contains(this.uiBlocker))\r\n    {\r\n        wvApp.removeChild(this.uiBlocker);\r\n    }\r\n}\r\n\r\nfunction handleLeftHorizontalDown(e)\r\n{\r\n    if (!dividerInTouchDrag)\r\n    {\r\n        e.preventDefault();\r\n        leftHorizontalDividerDelta = e.pageY;\r\n        dividerInMouseDrag = true;\r\n        document.addEventListener('mousemove', handleLeftHorizontalMove);\r\n        document.addEventListener('mouseup', handleLeftHorizontalUp);\r\n    }\r\n}\r\n\r\nfunction handleLeftHorizontalMove(e)\r\n{\r\n    if (dividerInMouseDrag)\r\n    {\r\n        let delta = e.pageY - leftHorizontalDividerDelta;\r\n        let relativeDelta = delta / wvDock.clientHeight * 100;\r\n        leftUpperStack.resize((leftPaneHeight + relativeDelta + lastLeftHorizontalDividerDelta) + '%', false);\r\n        leftLowerStack.resize((100 - (leftPaneHeight + relativeDelta + lastLeftHorizontalDividerDelta)) + '%', false);\r\n    }\r\n}\r\n\r\nfunction handleLeftHorizontalUp(e)\r\n{\r\n    if (dividerInMouseDrag)\r\n    {\r\n        let relativeDelta = (e.pageY - leftHorizontalDividerDelta) / wvDock.clientHeight * 100;\r\n        localStorage.setItem('WVLeftPaneStackHeight', (leftPaneHeight + relativeDelta + lastLeftHorizontalDividerDelta).toString());\r\n        lastLeftHorizontalDividerDelta = lastLeftHorizontalDividerDelta + relativeDelta;\r\n        leftHorizontalDividerDelta = 0;\r\n        dividerInMouseDrag = false;\r\n        document.removeEventListener('mousemove', handleLeftHorizontalMove);\r\n        document.removeEventListener('mouseup', handleLeftHorizontalUp);\r\n    }\r\n}\r\n\r\nfunction handleRightHorizontalDown(e)\r\n{\r\n    if (!dividerInTouchDrag)\r\n    {\r\n        e.preventDefault();\r\n        rightVerticalDividerDelta = e.pageY;\r\n        dividerInMouseDrag = true;\r\n        document.addEventListener('mousemove', handleRightHorizontalMove);\r\n        document.addEventListener('mouseup', handleRightHorizontalUp);\r\n    }\r\n}\r\n\r\nfunction handleRightHorizontalMove(e)\r\n{\r\n    if (dividerInMouseDrag)\r\n    {\r\n        let delta = e.pageY - rightVerticalDividerDelta;\r\n        let relativeDelta = delta / wvDock.clientHeight * 100;\r\n        rightUpperStack.resize((rightPaneHeight + relativeDelta + lastRightHorizontalDividerDelta) + '%', false);\r\n        rightLowerStack.resize((100 - (rightPaneHeight + relativeDelta + lastRightHorizontalDividerDelta)) + '%', false);\r\n    }\r\n}\r\n\r\nfunction handleRightHorizontalUp(e)\r\n{\r\n    if (dividerInMouseDrag)\r\n    {\r\n        let relativeDelta = (e.pageY - rightVerticalDividerDelta) / wvDock.clientHeight * 100;\r\n        localStorage.setItem('WVRightPaneStackHeight', (rightPaneHeight + relativeDelta + lastRightHorizontalDividerDelta).toString());\r\n        lastRightHorizontalDividerDelta = lastRightHorizontalDividerDelta + relativeDelta;\r\n        rightVerticalDividerDelta = 0;\r\n        dividerInMouseDrag = false;\r\n        document.removeEventListener('mousemove', handleRightHorizontalMove);\r\n        document.removeEventListener('mouseup', handleRightHorizontalUp);\r\n    }\r\n}\r\n\r\nfunction handleLeftVerticalDown(e)\r\n{\r\n    if (!dividerInTouchDrag)\r\n    {\r\n        e.preventDefault();\r\n        leftVerticalDividerDelta = e.pageX;\r\n        dividerInMouseDrag = true;\r\n        document.addEventListener('mousemove', handleLeftVerticalMove);\r\n        document.addEventListener('mouseup', handleLeftVerticalUp);\r\n    }\r\n}\r\n\r\nfunction handleLeftVerticalMove(e)\r\n{\r\n    if (dividerInMouseDrag)\r\n    {\r\n        let delta = e.pageX - leftVerticalDividerDelta;\r\n        let relativeDelta = delta / wvDock.clientWidth * 100;\r\n        leftWrapper.style.width = (leftPaneWidth + relativeDelta + lastLeftVerticalDividerDelta) + '%';\r\n    }\r\n}\r\n\r\nfunction handleLeftVerticalUp(e)\r\n{\r\n    if (dividerInMouseDrag)\r\n    {\r\n        let relativeDelta = (e.pageX - leftVerticalDividerDelta) / wvDock.clientWidth * 100;\r\n        localStorage.setItem('WVLeftPaneStackWidth', (leftPaneWidth + relativeDelta + lastLeftVerticalDividerDelta).toString());\r\n        lastLeftVerticalDividerDelta = lastLeftVerticalDividerDelta + relativeDelta;\r\n        leftVerticalDividerDelta = 0;\r\n        document.removeEventListener('mousemove', handleLeftVerticalMove);\r\n        document.removeEventListener('mouseup', handleLeftVerticalUp);\r\n        let offsetMinimizePanel = 0;\r\n        if (leftMinimizedPaneStack.isVisible)\r\n        {\r\n            offsetMinimizePanel += 20;\r\n        }\r\n        canvasWrapper.style.left = 'calc(' + (leftPaneWidth + lastLeftVerticalDividerDelta) + '% + ' + offsetMinimizePanel + 'px)';\r\n        if (rightMinimizedPaneStack.isVisible)\r\n        {\r\n            offsetMinimizePanel += 20;\r\n        }\r\n        let width = wvDock.clientWidth - leftWrapper.clientWidth - rightWrapper.clientWidth - offsetMinimizePanel;\r\n        let height = wvDock.clientHeight;\r\n        dividerInMouseDrag = false;\r\n        resizeClient(width, height);\r\n        canvasWrapper.style.width = width + 'px';\r\n    }\r\n}\r\n\r\nfunction handleRightVerticalDown(e)\r\n{\r\n    if (!dividerInTouchDrag)\r\n    {\r\n        e.preventDefault();\r\n        rightVerticalDividerDelta = e.pageX;\r\n        dividerInMouseDrag = true;\r\n        document.addEventListener('mousemove', handleRightVerticalMove);\r\n        document.addEventListener('mouseup', handleRightVerticalUp);\r\n    }\r\n}\r\n\r\nfunction handleRightVerticalMove(e)\r\n{\r\n    if (dividerInMouseDrag)\r\n    {\r\n        let delta = rightVerticalDividerDelta - e.pageX;\r\n        let relativeDelta = delta / wvDock.clientWidth * 100;\r\n        rightWrapper.style.width = (rightPaneWidth + relativeDelta + lastRightVerticalDividerDelta) + '%';\r\n    }\r\n}\r\n\r\nfunction handleRightVerticalUp(e)\r\n{\r\n    if (dividerInMouseDrag)\r\n    {\r\n        let relativeDelta = (rightVerticalDividerDelta - e.pageX) / wvDock.clientWidth * 100;\r\n        localStorage.setItem('WVRightPaneStackWidth', (rightPaneWidth + relativeDelta + lastRightVerticalDividerDelta).toString());\r\n        lastRightVerticalDividerDelta = lastRightVerticalDividerDelta + relativeDelta;\r\n        rightVerticalDividerDelta = 0;\r\n        document.removeEventListener('mousemove', handleRightVerticalMove);\r\n        document.removeEventListener('mouseup', handleRightVerticalUp);\r\n        let offsetMinimizePanel = 0;\r\n        if (leftMinimizedPaneStack.isVisible)\r\n        {\r\n            offsetMinimizePanel += 20;\r\n        }\r\n        if (rightMinimizedPaneStack.isVisible)\r\n        {\r\n            offsetMinimizePanel += 20;\r\n        }\r\n        let width = wvDock.clientWidth - leftWrapper.clientWidth - rightWrapper.clientWidth - offsetMinimizePanel;\r\n        let height = wvDock.clientHeight;\r\n        dividerInMouseDrag = false;\r\n        canvasWrapper.style.width = width + 'px';\r\n        resizeClient(width, height);\r\n    }\r\n}\r\n\r\n\r\nfunction dropPane(e: Event, pos: number)\r\n{\r\n\te.preventDefault();\r\n\tlet paneArrLength = appStates.panes.length;\r\n\tfor (let i = 0; i < paneArrLength; i++)\r\n\t{\r\n\t\tif (appStates.panes[i].paneId === draggedPane)\r\n\t\t{\r\n\t\t\tif (appStates.panes[i].pos === pos)\r\n\t\t\t{\r\n\t\t\t\tclosePane(draggedPane);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tappStates.panes[i].pos = pos;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function closePane(paneId: string, poppedOut: boolean = false)\r\n{\r\n\tlet length = appStates.panes.length;\r\n\tfor (let i = 0; i < length; i++)\r\n\t{\r\n\t\tif (appStates.panes[i].paneId === paneId)\r\n\t\t{\r\n\t\t\tlet pane = appStates.panes[i];\r\n\t\t\tif (pane.visible)\r\n\t\t\t{\r\n\t\t\t\tswitch (pane.pos)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tleftUpperStack.closePaneById(pane.paneId, pane.minimized, poppedOut);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tleftLowerStack.closePaneById(pane.paneId, pane.minimized, poppedOut);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\trightUpperStack.closePaneById(pane.paneId, pane.minimized, poppedOut);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\trightLowerStack.closePaneById(pane.paneId, pane.minimized, poppedOut);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function paneResize(clientResize: boolean = false)\r\n{\r\n\tlet offsetMinimizePanel = 0;\r\n\tif (leftMinimizedPaneStack.isVisible)\r\n\t{\r\n\t\toffsetMinimizePanel += 20;\r\n\t}\r\n\tcanvasWrapper.style.left = 'calc(' + (leftPaneWidth + lastLeftVerticalDividerDelta) + '% + ' + offsetMinimizePanel + 'px)';\r\n\tif (!leftUpperStack.isVisible && leftLowerStack.isVisible)\r\n\t{\r\n\t\tleftLowerStack.resize('100%', false);\r\n\t}\r\n\telse if (leftUpperStack.isVisible && !leftLowerStack.isVisible)\r\n\t{\r\n\t\tleftUpperStack.resize('100%', false);\r\n\t}\r\n\tif (!rightUpperStack.isVisible && rightLowerStack.isVisible)\r\n\t{\r\n        rightLowerStack.resize('100%', false);\r\n\t}\r\n\telse if (rightUpperStack.isVisible && !rightLowerStack.isVisible)\r\n\t{\r\n\t\trightUpperStack.resize('100%', false);\r\n\t}\r\n\r\n\tif (!leftUpperStack.isVisible && !leftLowerStack.isVisible)\r\n\t{\r\n\t\t$(leftWrapper).hide();\r\n\t\tcanvasWrapper.style.left = 'calc(0% + ' + offsetMinimizePanel + 'px)';\r\n\t}\r\n\tif (!rightUpperStack.isVisible && !rightLowerStack.isVisible)\r\n\t{\r\n\t\t$(rightWrapper).hide();\r\n\t}\r\n\tif (leftUpperStack.isVisible || leftLowerStack.isVisible)\r\n\t{\r\n\t\t$(leftWrapper).show();\r\n\t}\r\n\tif (rightUpperStack.isVisible || rightLowerStack.isVisible)\r\n\t{\r\n\t\t$(rightWrapper).show();\r\n\t}\r\n\tif (rightMinimizedPaneStack.isVisible)\r\n\t{\r\n\t\toffsetMinimizePanel += 20;\r\n\t}\r\n\tlet width = wvDock.clientWidth - leftWrapper.clientWidth - rightWrapper.clientWidth - offsetMinimizePanel;\r\n\tlet height = wvDock.clientHeight;\r\n    canvasWrapper.style.width = width + 'px';\r\n    resizeClient(width, height, clientResize);\r\n}\r\n\r\n\r\nfunction activateInteraction(client: VSWebClient, action: string)\r\n{\r\n\tvar s = '<Call Method=\"ActivateInteraction\"><Interaction>' + action + '</Interaction></Call>'\r\n\tclient.command.executeXMLAsync(s)\r\n}\r\n\r\nexport function deactivateInteraction(client: VSWebClient, mode: string = 'AllInteractions_')\r\n{\r\n\r\n\tlet modeCategory = mode.split('_')[0]\r\n\tlet categoryToDeactivate = 'Deactivate_' + modeCategory\r\n\r\n\tvar s = '<Call Method=\"ActivateInteraction\"><Interaction>' + categoryToDeactivate + '</Interaction></Call>'\r\n\tclient.command.executeXMLAsync(s)\r\n}\r\n\r\nfunction handleActivateInteraction(client: VSWebClient, mode: string, interactionArray: string[])\r\n{\r\n\tlet interaction = getInteractionForPane(mode, interactionArray)\r\n\tif (appStates.interactionMode.indexOf(interaction) === -1)\r\n\t{\r\n\t\tactivateInteraction(client, interaction)\r\n\t} else\r\n\t{\r\n\t\tdeactivateInteraction(client, interaction)\r\n\t}\r\n}\r\n\r\nexport function getInteractionForPane(paneId, interActionArray)\r\n{\r\n    let interactionPrefix;\r\n\tswitch (paneId)\r\n\t{\r\n        case 'wv-measurement':\r\n            interactionPrefix = 'Measurement';\r\n            break;\r\n        case 'wv-section':\r\n            interactionPrefix = 'Section';\r\n            break;\r\n        case 'wv-transform':\r\n            interactionPrefix = 'Transformation';\r\n            break;\r\n        case 'wv-draftangle':\r\n            interactionPrefix = 'DraftAngle';\r\n            break;\r\n        case 'wv-markup':\r\n        case 'wv-markup-reduced':\r\n            interactionPrefix = 'Markup';\r\n            break;\r\n        case 'wv-flythrough':\r\n            interactionPrefix = 'Flythrough';\r\n            break;\r\n        default:\r\n            interactionPrefix = undefined;\r\n            break;\r\n    }\r\n    let interaction = interactionPrefix;\r\n    for (var i = 0; i < interActionArray.length; i++)\r\n    {\r\n        let modePrefix = interActionArray[i].split('_')[0]\r\n        if (modePrefix === interactionPrefix)\r\n        {\r\n            interaction = interActionArray[i];\r\n        }\r\n    }\r\n    return interaction;\r\n}\r\n\r\nexport function popout(paneId: string, langId: string)\r\n{\r\n\tlet uid = appStates.sessionUID;\r\n\tappStates.popoutPanes.push(paneId);\r\n\tlet panesArr = appStates.panes;\r\n\tlet panesLength = panesArr.length;\r\n\tlet width: number;\r\n\tlet height: number;\r\n\tlet leftWidth = localStorage.getItem('WVLeftPaneStackWidth') !== null ? parseFloat(localStorage.getItem('WVLeftPaneStackWidth')) : leftPaneWidth;\r\n\tlet rightWidht = localStorage.getItem('WVRightPaneStackWidth') !== null ? parseFloat(localStorage.getItem('WVRightPaneStackWidth')) : rightPaneWidth;\r\n\tlet leftHeight = localStorage.getItem('WVLeftPaneStackHeight') !== null ? parseFloat(localStorage.getItem('WVLeftPaneStackHeight')) : leftPaneHeight;\r\n\tlet rightHeight = localStorage.getItem('WVRightPaneStackHeight') !== null ? parseFloat(localStorage.getItem('WVRightPaneStackHeight')) : rightPaneHeight;\r\n\t//Get pane size from current position\r\n\tfor (let i = 0; i < panesLength; i++)\r\n\t{\r\n\t\tif (panesArr[i].paneId === paneId)\r\n\t\t{\r\n\t\t\tlet pos = panesArr[i].pos;\r\n\t\t\tswitch (pos)\r\n\t\t\t{\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\twidth = leftWidth;\r\n\t\t\t\t\theight = leftHeight;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\twidth = leftWidth;\r\n\t\t\t\t\theight = 100 - leftHeight;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\twidth = rightWidht;\r\n\t\t\t\t\theight = rightHeight;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\twidth = rightWidht;\r\n\t\t\t\t\theight = 100 - rightHeight;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\twidth = document.body.offsetWidth * (width / 100);\r\n\theight = document.body.offsetHeight * (height / 100);\r\n\tif (paneId === 'wv-modeltree')\r\n\t{\r\n\t\tlet newWindow = window.open(\"popout-index.html?pane=\" + paneId + \"&langId=\" + langId + \"&uid=\" + uid, \"\", \"location=no, titlebar=no, menubar=no, status=no, left=30, height=\" + height + \", width=\" + width);\r\n\t\tnewWindow.focus();\r\n\t\tappStates.popedOutWindows.push(newWindow);\r\n        vsClient.on('GetNodeTooltip', getTreeTooltip);\r\n        newWindow.onload = e =>\r\n        {\r\n            newWindow.onbeforeunload = e =>\r\n            {\r\n                let index = appStates.popoutPanes.indexOf(paneId);\r\n                appStates.popedOutWindows.splice(index, 1);\r\n                appStates.popoutPanes.splice(index, 1);\r\n                prependPane(paneId);\r\n                localStorage.removeItem('WVSelectedNodes' + uid);\r\n                localStorage.removeItem('WVCommand' + uid);\r\n                vsClient.removeListener('GetNodeTooltip', getTreeTooltip);\r\n                localStorage.removeItem('WVTreeTooltip' + uid);\r\n            }\r\n        }\r\n        localStorage.setItem('WVTreeViewUpdated' + uid, JSON.stringify(this.modeltreePane.treeItemsInfo));\r\n    }\r\n\telse if (paneId === 'wv-views')\r\n\t{\r\n\t\tlet newWindow = window.open(\"popout-index.html?pane=\" + paneId + \"&langId=\" + langId + \"&uid=\" + uid, \"\", \"location=no, titlebar=no, menubar=no, status=no, left=30, height=\" + height + \", width=\" + width);\r\n\t\tnewWindow.focus();\r\n        appStates.popedOutWindows.push(newWindow);\r\n        vsClient.on('ConfigurationViewChanged', changeViewOnPopout);\r\n        vsClient.on('ConfigurationViewPlayStart', startViewPlayOnPopout);\r\n        vsClient.on('ConfigurationViewPlayFinish', stopViewPlayOnPopout);\r\n        let getConfigurationView = '<Call Method=\"GetConfigurationViewInformation\"><Image>true</Image></Call>';\r\n        newWindow.onload = e =>\r\n        {\r\n            newWindow.onbeforeunload = e =>\r\n            {\r\n                let index = appStates.popoutPanes.indexOf(paneId);\r\n                appStates.popedOutWindows.splice(index, 1);\r\n                appStates.popoutPanes.splice(index, 1);\r\n                prependPane(paneId);\r\n                vsClient.removeListener('ConfigurationViewChanged', changeViewOnPopout);\r\n                vsClient.removeListener('ConfigurationViewPlayStart', startViewPlayOnPopout);\r\n                vsClient.removeListener('ConfigurationViewPlayFinish', stopViewPlayOnPopout);\r\n                vsClient.command.executeXML(getConfigurationView);\r\n                localStorage.removeItem('WVConfigurationViewInformation' + uid);\r\n                localStorage.removeItem('WVActivateView' + uid);\r\n                localStorage.removeItem('WVViewsData' + uid);\r\n                localStorage.removeItem('WVConfigurationViewChanged' + uid);\r\n                localStorage.removeItem('WVConfigurationPlayMode' + uid);\r\n            }\r\n        }\r\n\t\tvsClient.command.executeXML(getConfigurationView);\r\n\t}\r\n\telse if (paneId === 'wv-selections')\r\n\t{\r\n\t\tlet newWindow = window.open(\"popout-index.html?pane=\" + paneId + \"&langId=\" + langId + \"&uid=\" + uid, \"\", \"location=no, titlebar=no, menubar=no, status=no, left=30, height=\" + height + \", width=\" + width);\r\n\t\tnewWindow.focus();\r\n\t\tappStates.popedOutWindows.push(newWindow);\r\n        vsClient.on('SavedSelectionsChanged', selectionPaneChange);\r\n        vsClient.on('GetSavedSelections', selectionPaneChange);\r\n\t\tvsClient.on('NewScene3D', newScene);\r\n        vsClient.on('OpenFile', newScene);\r\n        newWindow.onload = e =>\r\n        {\r\n            let xml = '<Call Method=\"GetSavedSelections\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            newWindow.onbeforeunload = e =>\r\n            {\r\n                let index = appStates.popoutPanes.indexOf(paneId);\r\n                appStates.popedOutWindows.splice(index, 1);\r\n                appStates.popoutPanes.splice(index, 1);\r\n                prependPane(paneId);\r\n                vsClient.removeListener('SavedSelectionsChanged', selectionPaneChange);\r\n                vsClient.removeListener('GetSavedSelections', selectionPaneChange);\r\n                vsClient.removeListener('NewScene3D', newScene);\r\n                vsClient.removeListener('OpenFile', newScene);\r\n                localStorage.removeItem('WVSaveNodes' + appStates.sessionUID);\r\n                localStorage.removeItem('WVNewScene' + appStates.sessionUID);\r\n            }\r\n        }\r\n    }\r\n    else\r\n\t{\r\n\t\tlet templateName = mapPaneIdToTemplate(paneId);\r\n\t\tlet template = '<Call Method=\"GetTemplate\"><Type>' + templateName + '</Type></Call>';\r\n\t\tvsClient.command.executeXML(template);\r\n\t\tvsClient.once('GetTemplate.' + templateName, (response: any) =>\r\n\t\t{\r\n\t\t\tvsClient.command.executeXML('<Call Method=\"GetSceneSettings\"></Call>');\r\n            vsClient.once('GetSceneSettings', e =>\r\n            {\r\n                let templateObj = response['Source']['Template'];\r\n                localStorage.setItem('WV' + paneId + uid, JSON.stringify(templateObj));\r\n                if (templateObj['Event'])\r\n                {\r\n                    if (paneId === 'wv-filter')\r\n                    {\r\n                        templateObj['Event'] = 'GetAllGeometryColors';\r\n                    }\r\n                    vsClient.on(templateObj['Event'], registerEventForPopouts);\r\n                }\r\n                let newWindow = window.open(\"popout-index.html?pane=\" + paneId + \"&langId=\" + langId + \"&uid=\" + uid, \"\", \"location=no, titlebar=no, menubar=no, status=no, left=30, height=\" + height + \", width=\" + width);\r\n                newWindow.focus();\r\n                appStates.popedOutWindows.push(newWindow);\r\n                newWindow.onload = e =>\r\n                {\r\n                    if (paneId === 'wv-explode')\r\n                    {\r\n                        let initExplodeValues = {\r\n                            MaxDepth: explodePane.maxExplodeSteps,\r\n                            ExplodedSteps: explodePane.explodeStep,\r\n                            ExplodeDistance: explodePane.explodeDistance\r\n                        };\r\n                        vsClient.addListener('GetMaxTreeDepth', getMaxExplodeDepth);\r\n                        localStorage.setItem('WVInitialExplode' + appStates.sessionUID, JSON.stringify(initExplodeValues));\r\n                    }\r\n                    newWindow.onbeforeunload = e =>\r\n                    {\r\n                        let index = appStates.popoutPanes.indexOf(paneId);\r\n                        appStates.popedOutWindows.splice(index, 1);\r\n                        appStates.popoutPanes.splice(index, 1);\r\n                        prependPane(paneId);\r\n                        vsClient.removeListener(templateObj['Event'], registerEventForPopouts);\r\n                        vsClient.removeListener('GetMaxTreeDepth', getMaxExplodeDepth);\r\n                        localStorage.removeItem('WV' + paneId + uid);\r\n                        localStorage.removeItem('WV' + e['Type'] + uid);\r\n                        if (paneId === 'wv-bom')\r\n                        {\r\n                            vsClient.removeListener('GetBillOfMaterial', getBOM);\r\n                            localStorage.removeItem('WVBOMReceived' + uid);\r\n                            vsClient.removeListener('GenerateBOMCalloutIds', generateBOMIds);\r\n                            localStorage.removeItem('WVBOMIdsCreated' + uid);\r\n                        }\r\n                        else if (paneId === 'wv-clash')\r\n                        {\r\n                            vsClient.removeListener('ClashResultUpdated', getClash);\r\n                            localStorage.removeItem('WVClashComputed' + uid);\r\n                        }\r\n                    }\r\n                };\r\n            });\r\n        });\r\n        if (paneId === 'wv-bom')\r\n        {\r\n            vsClient.addListener('GetBillOfMaterial', getBOM);\r\n            vsClient.addListener('GenerateBOMCalloutIds', generateBOMIds);\r\n        }\r\n        else if (paneId === 'wv-clash')\r\n        {\r\n            vsClient.addListener('ClashResultUpdated', getClash);\r\n        }\r\n\t}\r\n\tclosePane(paneId, true);\r\n}\r\n\r\nfunction getMaxExplodeDepth(res)\r\n{\r\n\tlocalStorage.setItem('WVMaxExplodeDepth' + appStates.sessionUID, JSON.stringify(res));\r\n}\r\n\r\nfunction getBOM (res)\r\n{\r\n    localStorage.setItem('WVBOMReceived' + appStates.sessionUID, JSON.stringify(res));\r\n}\r\n\r\nfunction getClash (res)\r\n{\r\n    localStorage.setItem('WVClashComputed' + appStates.sessionUID, JSON.stringify(res));\r\n}\r\n\r\nfunction generateBOMIds (res)\r\n{\r\n    localStorage.setItem('WVBOMIdsCreated' + appStates.sessionUID, JSON.stringify(res));\r\n}\r\n\r\nfunction getTreeTooltip(res)\r\n{\r\n\tlocalStorage.setItem('WVTreeTooltip' + appStates.sessionUID, JSON.stringify(res));\r\n}\r\n\r\nfunction selectionPaneChange(res)\r\n{\r\n\tlocalStorage.setItem('WVSaveNodes' + appStates.sessionUID, JSON.stringify(res));\r\n}\r\n\r\nfunction changeViewOnPopout (event)\r\n{\r\n    localStorage.setItem('WVConfigurationViewChanged' + appStates.sessionUID, JSON.stringify(event));\r\n}\r\n\r\nfunction startViewPlayOnPopout (event)\r\n{\r\n    localStorage.setItem('WVConfigurationPlayMode' + appStates.sessionUID, JSON.stringify(event));\r\n}\r\n\r\nfunction stopViewPlayOnPopout (event)\r\n{\r\n    let stopMode = { Stop: true };\r\n    localStorage.setItem('WVConfigurationPlayMode' + appStates.sessionUID, JSON.stringify(stopMode));\r\n}\r\n\r\nfunction newScene(res)\r\n{\r\n\tlocalStorage.setItem('WVNewScene' + appStates.sessionUID, JSON.stringify(res));\r\n}\r\n\r\nfunction registerEventForPopouts(e)\r\n{\r\n\tif (e['Method'] && e['Method'] === 'GetAllGeometryColors')\r\n\t{\r\n\t\te['Type'] = 'GetAllGeometryColors';\r\n\t}\r\n\tlocalStorage.setItem('WV' + e['Type'] + appStates.sessionUID, JSON.stringify(e));\r\n}\r\n\r\nexport function mapCountry (lang: string)\r\n{\r\n    switch (lang)\r\n    {\r\n        case 'ENU':\r\n            return 'en';\r\n        case 'DEU':\r\n            return 'de';\r\n        case 'ITA':\r\n            return 'it';\r\n        case 'ESP':\r\n            return 'es';\r\n        case 'FRA':\r\n            return 'fr';\r\n        case 'KOR':\r\n            return 'kor';\r\n        case 'CHS':\r\n            return 'zh';\r\n        case 'JPN':\r\n            return 'ja';\r\n        default:\r\n            return 'en';\r\n    }\r\n}\r\n\r\n\r\nexport function mapPaneIdToTemplate(paneId)\r\n{\r\n\tswitch (paneId)\r\n\t{\r\n\t\tcase 'wv-settings':\r\n\t\t\treturn 'SettingsPane';\r\n\t\tcase 'wv-modeltree':\r\n\t\t\treturn 'Custom_ModelTree';\r\n\t\tcase 'wv-views':\r\n\t\t\treturn 'Custom_Views';\r\n\t\tcase 'wv-distortion':\r\n\t\t\treturn 'DistortionPane';\r\n\t\tcase 'wv-draftangle':\r\n\t\t\treturn 'DraftAnglePane';\r\n\t\tcase 'wv-exactcompare':\r\n\t\t\treturn 'ExactComparePane';\r\n\t\tcase 'wv-filter':\r\n\t\t\treturn 'FilterPane';\r\n\t\tcase 'wv-flythrough':\r\n\t\t\treturn 'FlyThroughPane';\r\n\t\tcase 'wv-markup':\r\n            return 'MarkupPane';\r\n        case 'wv-markup-reduced':\r\n            return 'MarkupPane_Reduced';\r\n        case 'wv-measurement':\r\n            return 'MeasurementPane';\r\n        case 'wv-mirror':\r\n            return 'MirrorPane';\r\n\t\tcase 'wv-projectedarea':\r\n\t\t\treturn 'ProjectedAreaPane';\r\n\t\tcase 'wv-properties':\r\n\t\t\treturn 'PropertiesPane';\r\n\t\tcase 'wv-quickcompare':\r\n\t\t\treturn 'QuickComparePane';\r\n\t\tcase 'wv-section':\r\n\t\t\treturn 'SectionPane';\r\n\t\tcase 'wv-textsearch':\r\n\t\t\treturn 'TextSearchPane';\r\n\t\tcase 'wv-transform':\r\n\t\t\treturn 'TransformPane';\r\n\t\tcase 'wv-visibilitytest':\r\n\t\t\treturn 'VisibilityTest';\r\n\t\tcase 'wv-wallthickness':\r\n\t\t\treturn 'WallThicknessPane';\r\n\t\tcase 'wv-drillhole':\r\n\t\t\treturn 'DrillholePane';\r\n\t\tcase 'wv-neutralaxis':\r\n\t\t\treturn 'NeutralAxisPane';\r\n\t\tcase 'wv-neighbourhoodsearch':\r\n\t\t\treturn 'NeighbourhoodSearchPane';\r\n\t\tcase 'wv-appsettings':\r\n\t\t\treturn 'Custom_AppSettings';\r\n\t\tcase 'wv-bom':\r\n\t\t\treturn 'BOMPane';\r\n\t\tcase 'wv-callout':\r\n\t\t\treturn 'CalloutPane';\r\n\t\tcase 'wv-split':\r\n            return 'SplitPane';\r\n        case 'wv-explode':\r\n            return 'ExplodePane';\r\n        case 'wv-animation':\r\n            return 'AnimationPane';\r\n        case 'wv-geometry-tools':\r\n            return 'GeometryToolsPane';\r\n        case 'wv-clash':\r\n            return 'ClashPane';\r\n        case 'wv-bandanalysis':\r\n            return 'BandAnalysisPane';\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/ui.ts","import { PaneStack } from \"./pane-stack\";\r\nimport { appStates } from \"../../app/app-states\";\r\nimport { settings } from \"../../app/app-settings\";\r\nimport { VSWebClient } from '../../base/vsweb-client-impl'\r\nimport { PaneAdapter } from \"../../pane\";\r\ndeclare var vsClient: VSWebClient;\r\ndeclare var _PanePresets: any;\r\n\r\nexport abstract class PaneTemplate\r\n{\r\n    mount: HTMLElement\r\n    langId: string\r\n    title: string\r\n    wrapperEl: HTMLElement\r\n    stack: PaneStack\r\n    paneId: string\r\n    lang: string = 'ENU'\r\n    adapter: PaneAdapter\r\n    //Presets\r\n    hasPresets: boolean = false\r\n    activePreset: string\r\n    init: boolean = false\r\n    noAdapter: boolean = false\r\n    abstract changeLang(lang: string)\r\n\r\n    abstract addMethods()\r\n\r\n    update = (param?: any) =>\r\n    {\r\n\r\n    }\r\n\r\n    addEventListener = () =>\r\n    {\r\n\r\n    }\r\n\r\n    constructor (paneId: string, langId: string)\r\n    {\r\n        this.langId = langId;\r\n        this.paneId = paneId;\r\n        this.wrapperEl = document.createElement('div');\r\n        this.wrapperEl.id = paneId;\r\n        this.wrapperEl.classList.add('pane');\r\n        this.wrapperEl.classList.add(paneId);\r\n        this.wrapperEl.style.height = '100%';\r\n        try\r\n        {\r\n            if (_PanePresets[paneId])\r\n            {\r\n                this.hasPresets = true;\r\n            }\r\n        }\r\n        catch (e) { }\r\n    }\r\n\r\n    setStack(stack: PaneStack)\r\n    {\r\n        this.stack = stack;\r\n        this.wrapperEl.style.width = '100%';\r\n    }\r\n\r\n    registerInStack(contentArea: HTMLElement, minimizedTable?: HTMLTableElement)\r\n    {\r\n        $(contentArea).empty();\r\n        this.stack.checkForPresets(this.paneId, minimizedTable);\r\n        this.mount = contentArea;\r\n        this.mount.appendChild(this.wrapperEl);\r\n        let prevEvent = this.searchForEvent(this.paneId);\r\n        if (prevEvent && (this.adapter || this.noAdapter))\r\n        {\r\n            this.update(prevEvent);\r\n        }\r\n        else if ((this.adapter || this.noAdapter))\r\n        {\r\n            this.update();\r\n        }\r\n        if (appStates.clientInitialized)\r\n        {\r\n            if (((this.lang !== settings.lang) || !this.init) && (this.adapter || this.noAdapter))\r\n            {\r\n\r\n                this.changeLang(settings.lang);\r\n                let xml = '<Call Method=\"GetSceneSettings\"></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n        }\r\n        this.addMethods();\r\n        if (this.paneId === 'wv-modeltree')\r\n        {\r\n            this.addEventListener();\r\n        }\r\n        this.lang = settings.lang;\r\n        this.init = true;\r\n    }\r\n\r\n    searchForEvent(paneId: string)\r\n    {\r\n        let prevEvent: string;\r\n        switch (paneId)\r\n        {\r\n\r\n            case 'wv-properties':\r\n                prevEvent = localStorage.getItem('WVNodePropertiesChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            case 'wv-measurement':\r\n                prevEvent = localStorage.getItem('WVMeasurementChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            case 'wv-transform':\r\n                prevEvent = localStorage.getItem('WVTransformChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            case 'wv-section':\r\n                prevEvent = localStorage.getItem('WVSectionChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            case 'wv-textsearch':\r\n                prevEvent = localStorage.getItem('WVTextSearchChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            case 'wv-draftangle':\r\n                prevEvent = localStorage.getItem('WVDraftAngleChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            case 'wv-neighbourhoodsearch':\r\n                prevEvent = localStorage.getItem('WVNeighbourhoodSearchChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            case 'wv-projectedarea':\r\n                prevEvent = localStorage.getItem('WVProjectedAreaChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            case 'wv-wallthickness':\r\n                prevEvent = localStorage.getItem('WVWallthicknessValuesChanged' + appStates.sessionUID);\r\n                if (prevEvent !== null)\r\n                {\r\n                    return JSON.parse(prevEvent);\r\n                }\r\n                else\r\n                {\r\n                    return undefined;\r\n                }\r\n            default:\r\n                return undefined;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/template/pane-template.ts","export type VisualStatus = 'shown' | 'hidden'\r\n\r\nexport { Item } from './item'\r\nexport { PaneAdapter } from './adapter'\r\nexport {\r\n\tVisual,\r\n\tFolder,\r\n\tEntry,\r\n\tTextBox,\r\n\tInput,\r\n\tCheckbox,\r\n\tFlag,\r\n\tButton,\r\n\tPropertyAttributes,\r\n\tSelect,\r\n\tColorPicker,\r\n\tSlider,\r\n\tKeyValue\r\n} from './widgets'\r\n\r\n\r\n\r\nexport function modifySettings(settings, path: string[], value) {\r\n\tlet current = settings\r\n\tfor (var i = 0; i < path.length - 1; i++) {\r\n\t\tcurrent = current[path[i]]\r\n\t}\r\n\r\n\tcurrent[path[i]] = value\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./pane/index.ts","interface ChildObj {\r\n\t__text__: string,\r\n\t__ordinal__: string[]\r\n}\r\n\r\nexport function parseXML(str: string): any {\r\n\r\n\tlet parser = new DOMParser()\r\n\tlet doc = parser.parseFromString(str, 'application/xml')\r\n\r\n\tlet result: ChildObj = {\r\n\t\t'__text__': '',\r\n\t\t'__ordinal__': []\r\n\t}\r\n\r\n\tlet root = doc.documentElement\r\n\r\n\tfunction traverse(e: Element, parentObj: any) {\r\n\t\tlet childObj: ChildObj | string = undefined\r\n\t\tchildObj = {\r\n\t\t\t'__text__': '',\r\n\t\t\t'__ordinal__': []\r\n\t\t}\r\n\t\t// from the attributes\r\n\t\tfor (let i = 0; i < e.attributes.length; i++) {\r\n\t\t\tlet key = e.attributes[i].name\r\n\t\t\tchildObj[key] = e.attributes[i].value\r\n\t\t\tchildObj['__ordinal__'].push(key)\r\n\t\t}\r\n\r\n\t\t// from the text node\r\n\t\tif (e.childNodes.length == 1 && e.childNodes[0].nodeType === 3) {\r\n\t\t\tlet textContent = (e.textContent).trim()\r\n\t\t\tif (e.attributes.length > 0) {\r\n\t\t\t\tchildObj['__text__'] = textContent\r\n\t\t\t} else {\r\n\t\t\t\tchildObj = textContent\r\n\t\t\t}\r\n\t\t} else if (e.childNodes.length == 0 && e.attributes.length == 0) {\r\n\t\t\tchildObj = ''\r\n\t\t}\r\n\r\n\t\tif(parentObj) {\r\n\t\t\tif (parentObj[e.nodeName]) {\r\n\t\t\t\tif (Array.isArray(parentObj[e.nodeName]))\r\n\t\t\t\t{\r\n\t\t\t\t\tparentObj[e.nodeName].push(childObj)\r\n\t\t\t\t\tparentObj['__ordinal__'].push(e.nodeName)\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\tlet lastObj = parentObj[e.nodeName]\r\n\t\t\t\t\tparentObj[e.nodeName] = []\r\n\t\t\t\t\tparentObj[e.nodeName].push(lastObj)\r\n\t\t\t\t\tparentObj[e.nodeName].push(childObj)\r\n\t\t\t\t\tparentObj['__ordinal__'].push(e.nodeName)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof parentObj === \"string\") {\r\n\t\t\t\t\tparentObj = childObj\r\n\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\tif (e.nodeName === 'Option')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tparentObj[e.nodeName] = []\r\n\t\t\t\t\t\tparentObj[e.nodeName].push(childObj)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tparentObj[e.nodeName] = childObj\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparentObj['__ordinal__'].push(e.nodeName)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Note: \"children\" property not supported in IE, only childElementCount\r\n\t\tfor (let i = 0; i < e.childNodes.length; i++) {\r\n\t\t\tlet children = e.childNodes\r\n\t\t\tlet childNode = children.item(i)\r\n\r\n\t\t\tif (childNode instanceof Element) {\r\n\t\t\t\ttraverse(childNode as Element, childObj)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\ttraverse(root, result)\r\n\r\n\treturn result\r\n}\r\n\r\nfunction createXMLNode(path: string[], attrs: string[]): Document {\r\n\tlet doc = document.implementation.createDocument(null, '', null)\r\n\r\n\tlet parentElement: HTMLElement | Document = doc\r\n\tlet currentElement: HTMLElement\r\n\tfor (let pathName of path) {\r\n\t\tcurrentElement = doc.createElement(pathName)\r\n\t\tparentElement.appendChild(currentElement)\r\n\t\tparentElement = currentElement\r\n\t}\r\n\r\n\tif (attrs.length > 0) {\r\n\t\tfor (let i = 0; i < attrs.length; i++) {\r\n\t\t\tconst name_val = attrs[i].split('=')\r\n\t\t\tconst name=name_val[0]\r\n\t\t\tconst value = name_val[1]\r\n\t\t\tdoc.firstElementChild.setAttribute(name, value)\r\n\t\t}\r\n\t}\r\n\r\n\treturn doc\r\n}\r\n\r\n\r\nexport function serializeWithValue(settingsPath: string[], value: string, attrs: string[]=[]): string {\r\n\r\n\tlet doc = createXMLNode(settingsPath, attrs)\r\n\tlet q = settingsPath.join(' ')\r\n\tlet element = doc.querySelector(q)\r\n\telement.textContent = value\r\n\r\n\tlet serializer = new XMLSerializer()\r\n\treturn serializer.serializeToString(doc)\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./base/DOMXMLParser.ts","import { PaneLayout } from \"./ui\";\r\n\r\ntype TouchStatus = '2-touches' | 'pinch' | 'pan' | 'end' | 'cancel'\r\n// type LefButtonStatus = 'Rotate' | 'RectZoom' | 'RectSelect'\r\n\r\nclass AppStates {\r\n\r\n    //Session\r\n    session: string\r\n    backendToken: string\r\n    sessionUrlClose: string\r\n\r\n    //VisShare session\r\n    VisShareSpec: string = \"\"\r\n\r\n\tlastPagePosX\r\n\tlastPagePosY\r\n\r\n\tribbonWidth = 0\r\n\tribbonAvailable = 0\r\n\tribbonVis = true\r\n    fullScreenMode = false\r\n    //Colors\r\n    mainColor: string = 'rgb(214, 124, 28)'\r\n\r\n\tclientInitialized = false\r\n\r\n    fileLoaded = false\r\n    nodesSelected: boolean = false\r\n    selectionMode = 'Select'\r\n    lastSelectionModeModifier: 'None'\r\n\tinteractionMode: string[] = []\r\n\tlastInteractionModes = []\r\n\trenderingModes = []\r\n\tpageCount: string = '' \r\n    fileName: string\r\n    fileType: string\r\n\r\n\t// mouse pointer\r\n\tmouseActive = false\r\n\tmouseLeftButtonDown = false\r\n\tmouseLeftButtonMode = 'RectZoom'\r\n\tmouseRightButtonMode = 'Rotate'\r\n    mouseMiddleButtonMode = 'Pan'\r\n    drawRect: boolean = true\r\n\t// touch\r\n\ttouchActive = false\r\n\ttouchGestureActive = false\r\n\ttouchStatus: TouchStatus = 'cancel'\r\n\tongoingTouches: Touch[] = []\r\n\ttouchDist: number = -1\r\n\ttouchMid: number[] = []\r\n\r\n\tlastGestureDistance = 0;\r\n\tlastGestureDelta = 0;\r\n\tlastGestureCenterX = 0;\r\n    lastGestureCenterY = 0;\r\n\r\n    //Last mouse click\r\n    lastMouseX = 0;\r\n    lastMouseY = 0;\r\n\tactivePath: string = '';\r\n\r\n\t//panes\r\n\tpanes: PaneLayout[] = [\r\n\t\t{ paneId: 'wv-modeltree', pos: 1, minimized: false, visible: true },\r\n\t\t{ paneId: 'wv-views', pos: 1, minimized: false, visible: true },\r\n\t\t{ paneId: 'wv-properties', pos: 2, minimized: false, visible: true }\r\n\t];\r\n\tdefaultPanes = [];\r\n\tcontainersChanged = false;\r\n\tcommandPaneOpened = false;\r\n\tlockPanes = false;\r\n    popoutPanes: string[] = [];\r\n    popedOutWindows: Window[] = [];\r\n    sessionUID: number;\r\n    preventGlobalKeyEvents: boolean = false;\r\n    //QS mode\r\n    qsMode: boolean = false;\r\n\r\n\t//About dialog\r\n\r\n    //From left to right\r\n    aboutLinks = [\r\n        \"https://viewer.kisters.de/en/kisters-products/3dviewstation-webviewer.html\",\r\n        \"https://viewer.kisters.de/help/webviewer\",\r\n        \"http://viewer.kisters.de/en/news/news.html\",\r\n        \"https://viewer.kisters.de/en/blog.html\",\r\n        \"https://www.youtube.com/user/KistersViewer\",\r\n        \"https://twitter.com/KistersViewer\",\r\n        \"https://www.facebook.com/KistersViewer\"\r\n    ];\r\n\r\n    //Version\r\n    version = '';\r\n\r\n    //Mapping pane to help category link\r\n    paneHelpLinks = {\r\n        'wv-views': '3dvs_wv_tut_functions_views.php',\r\n        'wv-draftangle': '3dvs_wv_tut_functions_draft.php',\r\n        'wv-exactcompare': '3dvs_wv_tut_functions_comparison.php',\r\n        'wv-filter': '3dvs_wv_tut_functions_filter.php',\r\n        'wv-flythrough': '3dvs_wv_tut_functions_flythroughmode.php',\r\n        'wv-markup': '3dvs_wv_tut_functions_annotations.php',\r\n        'wv-markup-reduced': '3dvs_wv_tut_functions_annotations.php',\r\n        'wv-measurement': '3dvs_wv_tut_functions_measurement.php',\r\n        'wv-mirror': '3dvs_wv_tut_functions_transformations.php',\r\n        'wv-projectedarea': '3dvs_wv_tut_functions_projectedarea.php',\r\n        'wv-properties': '3dvs_wv_tut_functions_propertiesselectedobjects.php',\r\n        'wv-quickcompare': '3dvs_wv_tut_functions_comparison.php',\r\n        'wv-section': '3dvs_wv_tut_functions_section.php',\r\n        'wv-transform': '3dvs_wv_tut_functions_transformations.php',\r\n        'wv-wallthickness': '3dvs_wv_tut_functions_wallthicknessheatmap.php',\r\n        'wv-neutralaxis': '3dvs_wv_tut_functions_neutralaxis.php',\r\n        'wv-neighbourhoodsearch': '3dvs_wv_tut_functions_neighborhoodsearch.php',\r\n        'wv-bom': '3dvs_wv_tut_functions_techdocandbom_bom.php',\r\n        'wv-callout': '3dvs_wv_tut_functions_techdocandbom_callouts.php',\r\n        'wv-explode': '3dvs_wv_tut_functions_transformations.php',\r\n        'wv-clash': '3dvs_wv_tut_functions_clashdetection.php',\r\n        'wv-selections': '3dvs_wv_tut_functions_savingselections.php'\r\n    };\r\n\r\n\tconstructor() {\r\n\r\n\t}\r\n\r\n\treset() {\r\n        this.selectionMode = 'Select';\r\n        this.interactionMode = [];\r\n        this.renderingModes = [];\r\n        this.pageCount = '';\r\n        this.lastInteractionModes = [];\r\n        this.preventGlobalKeyEvents = false;\r\n        this.resetMouse();\r\n        this.resetTouch();\r\n\t}\r\n\r\n\tresetMouse() {\r\n        this.mouseActive = false;\r\n        this.mouseLeftButtonDown = false;\r\n        this.mouseLeftButtonMode = 'RectZoom';\r\n\t}\r\n\r\n\tresetTouch() {\r\n        this.touchActive = false;\r\n        this.touchGestureActive = false;\r\n        this.touchStatus = 'cancel';\r\n        this.ongoingTouches = [];\r\n        this.touchDist = -1;\r\n        this.touchMid = [];\r\n\r\n        this.lastGestureDistance = 0;\r\n        this.lastGestureDelta = 0;\r\n        this.lastGestureCenterX = 0;\r\n\t\tthis.lastGestureCenterY = 0;\r\n\t}\r\n}\r\n\r\nexport var appStates = new AppStates()\n\n\n// WEBPACK FOOTER //\n// ./app/app-states.ts","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\n/**\n * Retrieve the Unicode code point at the specified index in the specified\n * string.\n *\n * @param {string} str The string from which to retrieve the Unicode code\n *                     point.\n * @param {number} index The specified index.\n *\n * @returns {number} The Unicode code point at the specified position.\n *\n * @private\n */\nfunction getCodePoint(str, index) {\n    var size = str.length;\n    if (index < 0 || index >= size) {\n        return undefined;\n    }\n    var first = str.charCodeAt(index);\n    if (first >= 0xD800 && first <= 0xDBFF && size > index + 1) {\n        var second = str.charCodeAt(index + 1);\n        if (second >= 0xDC00 && second <= 0xDFFF) {\n            return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        }\n    }\n    return first;\n}\nexports.getCodePoint = getCodePoint;\n/**\n * Determines whether a number is an integer.\n *\n * @param {number} value The number to check.\n *\n * @returns {boolean} Whether or not the number is an integer.\n *\n * @private\n */\nfunction isInteger(value) {\n    return typeof value === \"number\" &&\n        isFinite(value) &&\n        Math.floor(value) === value;\n}\nexports.isInteger = isInteger;\n/**\n * Returns true if the specified value are of any of the specified types, as\n * determined by the Object.prototype.toString.call function.\n *\n * @param {*} val The specified value.\n * @param {...string[]} types The specified types.\n *\n * @returns {boolean} Whether or not the specified value are of any of the\n *                    specified types.\n *\n * @private\n */\nfunction isType(val) {\n    var types = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        types[_i - 1] = arguments[_i];\n    }\n    for (var _a = 0, types_1 = types; _a < types_1.length; _a++) {\n        var type = types_1[_a];\n        if (Object.prototype.toString.call(val) === \"[object \" + type + \"]\") {\n            return true;\n        }\n    }\n    return false;\n}\nexports.isType = isType;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/utils.js\n// module id = 5\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar utils_1 = require(\"../utils\");\n/**\n * Represents an XML node.\n *\n * This class is the root class of the XML node hierarchy. It should not be\n * directly instantiated; one of its subclasses should be used instead.\n *\n * @protected\n */\nvar XmlNode = (function () {\n    /**\n     * Initializes a new instance of the {@link XmlNode} class.\n     */\n    function XmlNode() {\n        this._parent = undefined;\n        this._children = [];\n    }\n    Object.defineProperty(XmlNode.prototype, \"parent\", {\n        /**\n         * Gets the parent of this node.\n         *\n         * @returns {XmlNode} The parent of this node.\n         */\n        get: function () {\n            return this._parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets this node's children.\n     *\n     * Throws an exception if this node cannot have any children. Consult the\n     * appropriate subclass documentation for more details.\n     *\n     * @returns {XmlNode[]} This node's children.\n     */\n    XmlNode.prototype.children = function () {\n        return this._children.slice();\n    };\n    /**\n     * Inserts the specified node into this node's children at the specified\n     * index. The node is not inserted if it is already present. If this node\n     * already has a parent, it is removed from that parent.\n     *\n     * Throws an exception if this node cannot have any children, or if the\n     * specified node cannot be added at the specified index. Consult the\n     * appropriate subclass documentation for more details.\n     *\n     * @param {XmlNode} node   The node to insert.\n     * @param {number} [index] The index at which to insert the node. Nodes at\n     *                         or after the index are shifted to the right. If\n     *                         no index is specified, the node is inserted at\n     *                         the end.\n     *\n     * @returns {XmlNode} The node inserted into this node's children, or\n     *                    undefined if no node was inserted.\n     */\n    XmlNode.prototype.insertChild = function (node, index) {\n        if (index === void 0) { index = this._children.length; }\n        if (!(node instanceof XmlNode)) {\n            throw new TypeError(\"node should be an instance of XmlNode\");\n        }\n        else if (!utils_1.isType(index, \"Number\") || !utils_1.isInteger(index)) {\n            throw new TypeError(\"index should be an integer\");\n        }\n        else if (index < 0 || index > this._children.length) {\n            throw new RangeError(\"index should respect children array bounds\");\n        }\n        if (this._children.indexOf(node) === -1) {\n            if (!utils_1.isType(node.parent, \"Undefined\")) {\n                node.parent.removeChild(node);\n            }\n            node._parent = this;\n            this._children.splice(index, 0, node);\n            return node;\n        }\n        return undefined;\n    };\n    /**\n     * Gets the node that follows this one, or undefined if no such node\n     * exists or if this node has no parent.\n     *\n     * @returns {XmlNode} The node that follows this one, or undefined if no\n     *                    such node exists or if this node has no parent.\n     */\n    XmlNode.prototype.next = function () {\n        if (utils_1.isType(this.parent, \"Undefined\")) {\n            return undefined;\n        }\n        else if (this.parent._children.indexOf(this) ===\n            this.parent._children.length - 1) {\n            return undefined;\n        }\n        return this.parent._children[this.parent._children.indexOf(this) + 1];\n    };\n    /**\n     * Gets the node that is previous to this one, or undefined if no such node\n     * exists or if this node has no parent.\n     *\n     * @returns {XmlNode} The node that is previous to this one, or undefined\n     *                    if no such node exists or if this node has no parent.\n     */\n    XmlNode.prototype.prev = function () {\n        if (utils_1.isType(this.parent, \"Undefined\")) {\n            return undefined;\n        }\n        else if (this.parent._children.indexOf(this) === 0) {\n            return undefined;\n        }\n        return this.parent._children[this.parent._children.indexOf(this) - 1];\n    };\n    /**\n     * Removes this node from its parent if this node has a parent.\n     *\n     * @returns {XmlNode} This node's parent, or undefined if it has no parent.\n     */\n    XmlNode.prototype.remove = function () {\n        if (!utils_1.isType(this.parent, \"Undefined\")) {\n            var parent_1 = this.parent;\n            this.parent.removeChild(this);\n            return parent_1;\n        }\n        return undefined;\n    };\n    /**\n     * Removes the specified node from this node's children.\n     *\n     * Throws an exception if this node cannot have any children, or if the\n     * specified node cannot be removed. Consult the appropriate subclass\n     * documentation for more details.\n     *\n     * @param {XmlNode} node The node to remove.\n     *\n     * @returns {boolean} Whether a node was removed.\n     */\n    XmlNode.prototype.removeChild = function (node) {\n        if (!(node instanceof XmlNode)) {\n            throw new Error(\"node should be an instance of XmlNode\");\n        }\n        var index = this._children.indexOf(node);\n        if (index !== -1) {\n            node._parent = undefined;\n            this._children.splice(index, 1);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Removes the node at the specified index from this node's children.\n     *\n     * Throws an exception if this node cannot have any children, or if the\n     * node at the specified index cannot be removed. Consult the appropriate\n     * subclass documentation for more details.\n     *\n     * @param {number} index The index at which the node to be removed is\n     *                       located.\n     *\n     * @returns {XmlNode} The node that was removed, or undefined if no node\n     *                    was removed.\n     */\n    XmlNode.prototype.removeChildAtIndex = function (index) {\n        if (!utils_1.isType(index, \"Number\") || !utils_1.isInteger(index)) {\n            throw new TypeError(\"index should be a number\");\n        }\n        else if (index < 0 || index >= this._children.length) {\n            throw new RangeError(\"index should respect children array bounds\");\n        }\n        var node = this._children[index];\n        node._parent = undefined;\n        this._children.splice(index, 1);\n        return node;\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlNode.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        throw new Error(\"toString not implemented for XmlNode\");\n    };\n    /**\n     * Returns the root node of the current hierarchy. If this node has no\n     * parent, this node itself is returned.\n     *\n     * @returns {XmlNode} The root node of the current hierarchy.\n     */\n    XmlNode.prototype.top = function () {\n        if (utils_1.isType(this.parent, \"Undefined\")) {\n            return this;\n        }\n        else {\n            return this.parent.top();\n        }\n    };\n    /**\n     * Gets the parent of this node.\n     *\n     * @returns {XmlNode} The parent of this node.\n     */\n    XmlNode.prototype.up = function () {\n        return this.parent;\n    };\n    return XmlNode;\n}());\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlNode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlNode.js\n// module id = 6\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\n/**\n * Verifies that the specified string only contains characters permitted by the\n * XML specification.\n *\n * @param {string} str The string to validate.\n *\n * @returns {boolean} Whether the specified string only contains characters\n *                    permitted by the XML specification.\n *\n * @private\n */\nfunction validateChar(str) {\n    var charRegex = \"\\\\u0009|\\\\u000A|\\\\u000D|[\\\\u0020-\\\\uD7FF]\";\n    var surrogateCharRegex = \"[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]\";\n    return new RegExp(\"^((\" + charRegex + \")|(\" + surrogateCharRegex + \"))*$\")\n        .test(str);\n}\nexports.validateChar = validateChar;\n/**\n * Verifies that the specified string only contains a single character, and\n * that this character is permitted by the XML specification.\n *\n * @param {string} str The string to validate.\n *\n * @returns {boolean} Whether the specified string only contains a single\n *                    character, and that this character is permitted by the\n *                    XML specification.\n *\n * @private\n */\nfunction validateSingleChar(str) {\n    if (str.length === 1) {\n        return new RegExp(\"^\\\\u0009|\\\\u000A|\\\\u000D|[\\\\u0020-\\\\uD7FF]$\")\n            .test(str);\n    }\n    else if (str.length === 2) {\n        return new RegExp(\"^[\\\\uD800-\\\\uDBFF][\\\\uDC00-\\\\uDFFF]$\").test(str);\n    }\n    else {\n        return false;\n    }\n}\nexports.validateSingleChar = validateSingleChar;\n/**\n * Verifies that the specified string only contains characters permitted by the\n * XML specification for names.\n *\n * @param {string} str The string to validate.\n *\n * @returns {boolean} Whether the specified string only contains characters\n *                    permitted by the XML specification for names.\n *\n * @private\n */\nfunction validateName(str) {\n    if (str.length === 0) {\n        return false;\n    }\n    var nameStartChar = \":|[A-Z]|_|[a-z]|[\\\\u00C0-\\\\u00D6]|[\\\\u00D8-\\\\u00F6]\" +\n        \"|[\\\\u00F8-\\\\u02FF]|[\\\\u0370-\\\\u037D]|[\\\\u037F-\\\\u1FFF]\"\n        +\n            \"|[\\\\u200C-\\\\u200D]|[\\\\u2070-\\\\u218F]|[\\\\u2C00-\\\\u2FEF]\"\n        +\n            \"|[\\\\u3001-\\\\uD7FF]|[\\\\uF900-\\\\uFDCF]|[\\\\uFDF0-\\\\uFFFD]\";\n    var nameStartCharWithSurrogatePair = \"[\\\\uD800-\\\\uDB7F][\\\\uDC00-\\\\uDFFF]\";\n    var nameChar = nameStartChar + \"|-|\\\\.|[0-9]|\\\\u00B7|[\\\\u0300-\\\\u036F]\" +\n        \"|[\\\\u203F-\\\\u2040]\";\n    var nameCharWithSurrogatePair = nameChar + \"|\" +\n        nameStartCharWithSurrogatePair;\n    if (new RegExp(\"^\" + nameStartChar + \"$\").test(str.charAt(0))) {\n        if (str.length === 1) {\n            return true;\n        }\n        return new RegExp(\"^(\" + nameCharWithSurrogatePair + \")+$\")\n            .test(str.substr(1));\n    }\n    else if (str.length >= 2) {\n        if (new RegExp(\"^\" + nameStartCharWithSurrogatePair + \"$\")\n            .test(str.substr(0, 2))) {\n            if (str.length === 2) {\n                return true;\n            }\n            return new RegExp(\"^(\" + nameCharWithSurrogatePair + \")+$\")\n                .test(str.substr(2));\n        }\n    }\n    return false;\n}\nexports.validateName = validateName;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/validate.js\n// module id = 7\n// module chunks = 0","export class WVTooltip \r\n{\r\n\tanchorEl: HTMLElement\r\n\twrapperEl: HTMLElement\r\n\ttitleEl: HTMLElement\r\n\tattributeWrapper: HTMLElement\r\n\tattributesRow: HTMLElement[] = []\r\n\ttitle: string\r\n\tattributes: string[] = []\r\n\torientation: string = 'top'\r\n\ttriggerTime: number = 1000\r\n\tisActive: boolean = false\r\n\tkey: string\r\n\r\n\tconstructor(anchorEl: HTMLElement)\r\n\t{\r\n\t\tthis.anchorEl = anchorEl;\r\n\t\tthis.wrapperEl = document.createElement('div');\r\n\t\tthis.wrapperEl.className = 'webviewer-tooltip-wrapper';\r\n\r\n\t\tthis.titleEl = document.createElement('span');\r\n\t\tthis.titleEl.className = 'webviewer-tooltip-title';\r\n\r\n\t\tthis.attributeWrapper = document.createElement('ul');\r\n\t\tthis.attributeWrapper.className = 'webviewer-tooltip-attributes-wrapper';\r\n\t\t$(this.attributeWrapper).hide();\r\n\r\n\t\tthis.wrapperEl.appendChild(this.titleEl);\r\n\t\tthis.wrapperEl.appendChild(this.attributeWrapper);\r\n\r\n\t\tthis.anchorEl.onmouseenter = e =>\r\n\t\t{\r\n\t\t\tthis.isActive = true;\r\n\t\t\tsetTimeout(() =>\r\n\t\t\t{\r\n\t\t\t\tif (this.isActive && document.getElementsByClassName('webviewer-tooltip-wrapper').length === 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.show();\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.isActive)\r\n\t\t\t\t{\r\n\t\t\t\t\t$('.webviewer-tooltip-wrapper').each(function ()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.show();\r\n\t\t\t\t}\r\n\t\t\t}, this.triggerTime);\r\n\t\t};\r\n\r\n\t\tthis.anchorEl.onmouseleave = e =>\r\n\t\t{\r\n\t\t\tthis.isActive = false;\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t}\r\n\r\n\taddAttribute(attribute: string)\r\n\t{\r\n\t\tif (attribute === \"\" || attribute === undefined)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.attributes.length === 0)\r\n\t\t{\r\n\t\t\t$(this.attributeWrapper).show();\r\n\t\t}\r\n\t\tlet attributeRow = document.createElement('li');\r\n\t\tattributeRow.className = 'webviewer-tooltip-attribute';\r\n\t\tattributeRow.innerHTML = attribute.replace(/\\\\n/g, '\\r');\r\n\r\n\t\tthis.attributes.push(attribute);\r\n\t\tthis.attributesRow.push(attributeRow);\r\n\t\tthis.attributeWrapper.appendChild(attributeRow);\r\n\t}\r\n\r\n\tshow()\r\n\t{\r\n\t\tlet topPos = this.anchorEl.getBoundingClientRect().top;\r\n\t\tif ((!this.title || this.title === \"\" || this.title === null) && this.attributesRow.length === 0 || topPos === 0)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdocument.body.appendChild(this.wrapperEl);\r\n\t\tif (this.wrapperEl.offsetWidth + this.anchorEl.getBoundingClientRect().left > document.body.offsetWidth)\r\n\t\t{\r\n\t\t\tthis.wrapperEl.style.left = document.body.offsetWidth - this.wrapperEl.offsetWidth + 'px';\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.wrapperEl.style.left = this.anchorEl.getBoundingClientRect().left + 'px';\r\n\t\t}\r\n\t\tlet height = this.wrapperEl.offsetHeight;\r\n\t\tif (this.orientation === 'top')\r\n\t\t{\r\n\t\t\t//Orientation is 'top' but the space is not enough\r\n\t\t\tif (topPos - height < 0)\r\n\t\t\t{\r\n\t\t\t\tthis.wrapperEl.style.bottom = (document.body.offsetHeight - topPos - this.anchorEl.offsetHeight - 5) + 'px';\r\n\t\t\t}\r\n\t\t\t//Orientation is 'top' and the space is sufficient\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.wrapperEl.style.bottom = (document.body.offsetHeight - topPos + 5) + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t//Orientation is 'bottom' but the space is not enough\r\n\t\t\tif (topPos + height > document.body.offsetHeight)\r\n\t\t\t{\r\n\t\t\t\tthis.wrapperEl.style.bottom = (document.body.offsetHeight - topPos + 5) + 'px';\r\n\t\t\t}\r\n\t\t\t//Orientation is 'bottom' and the space is sufficient\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.wrapperEl.style.bottom = (document.body.offsetHeight - topPos - height - this.anchorEl.offsetHeight - 5) + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thide()\r\n\t{\r\n\t\t$(this.wrapperEl).remove();\r\n\t}\r\n\r\n\tsetTitle(title: string)\r\n    {\r\n        this.title = title;\r\n        this.titleEl.innerHTML = title ? title.replace(/\\\\n/g, '\\r') : '';\r\n\t}\r\n\r\n\tsetOrientation(orientation: string)\r\n\t{\r\n\t\tthis.orientation = orientation;\r\n\t}\r\n\r\n\tsetTriggerTime(triggerTime: number)\r\n\t{\r\n\t\tthis.triggerTime = triggerTime;\r\n\t}\r\n\r\n\tremoveAttributes()\r\n\t{\r\n\t\tthis.attributes = [];\r\n\t\tlet length = this.attributesRow.length;\r\n\t\tfor (let i = 0; i < length; i++)\r\n\t\t{\r\n\t\t\t$(this.attributesRow[i]).remove();\r\n\t\t}\r\n\t\tthis.attributesRow = [];\r\n\t\t$(this.attributeWrapper).hide();\r\n\t}\r\n\r\n\tsetKey(key: string)\r\n\t{\r\n\t\tthis.key = key;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/tooltip.ts","export var settings = {\r\n\tlang: 'ENU',\r\n\tappId: 'wv-app',\r\n\tribbonId: 'wv-ribbon',\r\n\tdockId: 'wv-dock',\r\n\tminWidth: 600,\r\n\tminHeight: 480,\r\n\tribbon: {\r\n\t\texpandablesContainerId: 'wv-ribbon-expandables',\r\n\t\tdropdownsContainerId: 'wv-ribbon-dropdowns',\r\n\t\tdropdownItemHeight: 30,\r\n\t\tbuttonWidth: 70,\r\n\t\ttabPageHeight: 90,\r\n\t\tbuttonMouseHoverColor: 'rgb(132,203,234)',\r\n\t\tbuttonHighlightColor: 'rgb(255, 198, 98)',\r\n\t\tbuttonDefaultColor: ''\r\n\t},\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/app-settings.ts","import { settings } from '../app/app-settings'\r\nimport { appStates } from '../app/app-states'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { WVTooltip } from '../app/tooltip';\r\ndeclare var vsClient: VSWebClient;\r\n\r\ndeclare var _lang_data: any\r\ndeclare var _custom_lang_data: any\r\ndeclare var _functions: Object\r\n\r\nexport\r\n{\r\n\tWidget, VisibleWidget, BaseButton, Button, Buttonlet, Group, Tab, Column,\r\n\tDropdownItem, DropdownButton, Input, SplittedDropdownButton, DynamicDropdownItem\r\n}\r\n\r\nexport type WidgetCallback = (target: Widget, context?: Widget) => any\r\nexport type GroupCallback = (context: any, id: string, group: Group) => void\r\nexport type DropdownCallback = (context: any, item: DropdownItem, dropdown: DropdownButton) => void\r\nexport type SplittedDropdownCallback = (context: any, item: DynamicDropdownItem, dropdown: SplittedDropdownButton) => void\r\nexport type InputCallback = (context: any, id: string, ev: Event) => void\r\n\r\nexport var initHightlightedButtons: BaseButton[] = []\r\n\r\nexport enum WidgetType\r\n{\r\n\tButton = 1,\r\n\tButtonLet,\r\n\tDropdown,\r\n\tInput,\r\n\tSplittedDropdown\r\n}\r\n\r\n\r\nexport interface WidgetOption\r\n{\r\n\ttype?: WidgetType\r\n\tlangId: string\r\n\ticonId?: string\r\n\thighlight?: boolean\r\n\tpaneId?: string\r\n\tdropdownItems?: WidgetOption[]\r\n\tdropdownClick?: DropdownCallback\r\n\tdynamicDropdownItems?: WidgetOption[]\r\n\tsplittedDropdownClick?: SplittedDropdownCallback\r\n\tribbonClass?: string[],\r\n\tinputCallback?: InputCallback,\r\n    disabled?: boolean,\r\n    interaction?: string\r\n}\r\n\r\nexport interface GroupOption\r\n{\r\n\tlangId?: string\r\n\twidgets: WidgetOption[]\r\n\tgroupClick?: GroupCallback\r\n}\r\n\r\nexport interface TabOption\r\n{\r\n\tlangId: string\r\n\tgroups: GroupOption[]\r\n}\r\n\r\nlet ribbonWidgets = {}\r\n\r\nlet paneWidgets = {}\r\n\r\nconst SVG_NS = 'http://www.w3.org/2000/svg'\r\nconst XLINK_NS = 'http://www.w3.org/1999/xlink'\r\n\r\n///////////////////////////////////////////////////////////////////////////////\r\n//  helper functions\r\n///////////////////////////////////////////////////////////////////////////////\r\n\r\nexport function findPaneButton(paneId: string): BaseButton\r\n{\r\n\tvar widget = paneWidgets[paneId]\r\n\tif (widget && widget instanceof BaseButton)\r\n\t{\r\n\t\treturn widget\r\n\t} else\r\n\t{\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function findButton(id: string): BaseButton\r\n{\r\n\tvar widget = ribbonWidgets[id]\r\n\tif (widget && widget instanceof BaseButton)\r\n\t{\r\n\t\treturn widget\r\n\t} else\r\n\t{\r\n\t\treturn undefined\r\n\t}\r\n}\r\n\r\nexport function findGroup(id: string): Group\r\n{\r\n\tvar widget = ribbonWidgets[id]\r\n\tif (widget && widget instanceof Group)\r\n\t{\r\n\t\treturn widget\r\n\t} else\r\n\t{\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nexport function findDropdownItem(id: string): DropdownItem\r\n{\r\n\tvar widget = ribbonWidgets[id]\r\n\tif (widget && widget instanceof DropdownItem)\r\n\t{\r\n\t\treturn widget\r\n\t} else\r\n\t{\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nexport function findDynamicDropdownItem(id: string): DynamicDropdownItem\r\n{\r\n\tvar widget = ribbonWidgets[id]\r\n\tif (widget && widget instanceof DynamicDropdownItem)\r\n\t{\r\n\t\treturn widget\r\n\t} else\r\n\t{\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nexport function findInput(id: string): Input\r\n{\r\n\tvar widget = ribbonWidgets[id]\r\n\tif (widget && widget instanceof Input)\r\n\t{\r\n\t\treturn widget\r\n\t} else\r\n\t{\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\n\r\nfunction allocID(langId: string)\r\n{\r\n\tlet lookupValue = ribbonWidgets[langId]\r\n\tlet allocatedID = langId\r\n\tlet count = 0\r\n\r\n\twhile (lookupValue instanceof VisibleWidget)\r\n\t{\r\n\t\tcount++\r\n\t\tallocatedID = `${langId}_${count}`\r\n\t\tlookupValue = ribbonWidgets[allocatedID]\r\n\t}\r\n\r\n\treturn allocatedID\r\n}\r\n\r\nabstract class Widget\r\n{\r\n\trenderTarget: HTMLElement\r\n    visible: boolean\r\n\tabstract render(container: HTMLElement): void\r\n}\r\n\r\nabstract class VisibleWidget extends Widget\r\n{\r\n\tel: HTMLElement\r\n\tlangId: string\r\n\tid: string\r\n\tpaneId: string\r\n\tvisible: boolean\r\n    event: string\r\n\r\n\tconstructor(langId: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.visible = true\r\n\t\tthis.langId = langId\r\n\t\tthis.id = allocID(langId)\r\n\t\tribbonWidgets[this.id] = this\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif (this.id in _functions && _functions[this.id] === false)\r\n\t\t\t{\r\n\t\t\t\tthis.visible = false\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (e)\r\n\t\t{\r\n\t\t\tthis.visible = true\r\n\t\t}\r\n\t}\r\n\r\n\tget text(): string\r\n\t{\r\n\t\tlet queryID = this.langId\r\n\r\n\t\tif (_lang_data[queryID] && _lang_data[queryID][settings.lang])\r\n\t\t{\r\n\t\t\treturn _lang_data[queryID][settings.lang]\r\n\t\t} else if (_custom_lang_data && _custom_lang_data[queryID] && _custom_lang_data[queryID][settings.lang])\r\n\t\t{\r\n\t\t\treturn _custom_lang_data[queryID][settings.lang]\r\n\t\t} else if (_lang_data[queryID] && _lang_data[queryID]['ENU'])\r\n\t\t{\r\n\t\t\treturn _lang_data[queryID]['ENU']\r\n\t\t}\r\n\t\telse if (_custom_lang_data && _custom_lang_data[queryID] && _custom_lang_data[queryID]['ENU'])\r\n\t\t{\r\n\t\t\treturn _custom_lang_data[queryID]['ENU']\r\n\t\t}\r\n\t\t{\r\n\t\t\treturn queryID\r\n\t\t}\r\n\t}\r\n}\r\n\r\nabstract class BaseButton extends VisibleWidget\r\n{\r\n\r\n\tisHighlight: boolean = false\r\n\tevent: string\r\n\tprotected icon: SVGSVGElement\r\n\tprotected iconId: string\r\n\r\n\tconstructor(id: string)\r\n\t{\r\n\t\tsuper(id)\r\n\t}\r\n\r\n\tsetIconId(iconId: string)\r\n\t{\r\n\t\tthis.iconId = iconId\r\n\t}\r\n\r\n\tgetIconId(): string\r\n\t{\r\n\t\treturn this.iconId\r\n\t}\r\n\r\n\tapplyHighlight(isHighlight: boolean)\r\n\t{\r\n\t\tthis.isHighlight = isHighlight\r\n\t\tif (this.isHighlight)\r\n\t\t{\r\n\t\t\tthis.el.classList.add('ribbon-button-highlighted')\r\n\t\t} else\r\n\t\t{\r\n\t\t\tthis.el.classList.remove('ribbon-button-highlighted')\r\n\t\t}\r\n\t}\r\n\r\n\tflashHighlight()\r\n    {\r\n        $(this.el).addClass('ribbon-button-highlight-flash');\r\n        setTimeout(() =>\r\n        {\r\n            $(this.el).removeClass('ribbon-button-highlight-flash');\r\n        }, 150);\r\n\t}\r\n\r\n\tapplyIcon()\r\n\t{\r\n\t\tif (typeof this.icon === 'undefined')\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet useEl\r\n\t\tif (!this.icon.hasChildNodes())\r\n\t\t{\r\n\t\t\tuseEl = document.createElementNS(SVG_NS, 'use')\r\n\t\t\tthis.icon.appendChild(useEl)\r\n\t\t}\r\n\t\tuseEl = <SVGUseElement>this.icon.firstChild\r\n\t\tuseEl.setAttributeNS(XLINK_NS, 'href', '#' + this.iconId)\r\n\t}\r\n}\r\n\r\nclass Button extends BaseButton\r\n{\r\n\r\n\r\n\tlabel: HTMLElement\r\n\ttooltip: WVTooltip\r\n\tisSmall: boolean = false\r\n\tpaneId: string\r\n\r\n\tconstructor(id: string, paneId: string)\r\n\t{\r\n\t\tsuper(id)\r\n\t\tthis.paneId = paneId\r\n\t\tthis.el = document.createElement('div')\r\n\t\tthis.el.id = this.id\r\n\t\tthis.el.classList.add('ribbon-button')\r\n\r\n\r\n\t\tthis.icon = <SVGSVGElement>document.createElementNS(SVG_NS, 'svg')\r\n\r\n\t\tthis.icon.setAttribute('class', 'ribbon-button-icon')\r\n\r\n\t\tthis.icon.setAttribute('width', '95%')\r\n\t\tthis.icon.setAttribute('height', '60%')\r\n\r\n\t\tthis.label = document.createElement('div')\r\n\t\tthis.label.classList.add('ribbon-button-text')\r\n\t\tthis.label.style.height = '40%'\r\n\t\tthis.label.style.textAlign = 'center'\r\n\t\tthis.label.style.lineHeight = '90%'\r\n\r\n\t\tthis.el.appendChild(this.icon)\r\n\t\tthis.el.appendChild(this.label)\r\n\r\n\t}\r\n\r\n\trender(groupElement: HTMLElement)\r\n\t{\r\n\t\tif (this.visible === false)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.applyIcon()\r\n\t\tthis.label.textContent = this.text\r\n\t\tif (this.tooltip)\r\n\t\t{\r\n\t\t\tthis.tooltip.setTitle(this.text);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.tooltip = new WVTooltip(this.el);\r\n\t\t\tthis.tooltip.setOrientation('bottom');\r\n\t\t\tthis.tooltip.setTitle(this.text);\r\n\t\t}\r\n\r\n\t\tif (this.renderTarget !== groupElement)\r\n\t\t{\r\n\t\t\tthis.renderTarget = groupElement\r\n\t\t\tgroupElement.appendChild(this.el)\r\n\t\t}\r\n\t\tif (this.paneId)\r\n\t\t{\r\n\t\t\tpaneWidgets[this.paneId] = this\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass Buttonlet extends BaseButton\r\n{\r\n\r\n\r\n\tlabel: HTMLElement\r\n\ttooltip: WVTooltip\r\n\tpaneId: string\r\n\r\n\tconstructor(id: string, disabled: boolean, paneId: string)\r\n\t{\r\n\t\tsuper(id)\r\n\t\tthis.paneId = paneId\r\n\t\tthis.el = document.createElement('div')\r\n\t\tthis.el.id = this.id\r\n\t\tthis.el.classList.add('ribbon-buttonlet')\r\n\r\n\t\tthis.icon = <SVGSVGElement>document.createElementNS(SVG_NS, 'svg')\r\n\t\tthis.icon.setAttribute('class', 'ribbon-buttonlet-icon')\r\n\r\n\t\tthis.icon.setAttribute('width', '20px')\r\n\t\tthis.icon.setAttribute('height', '100%')\r\n\r\n\t\tthis.label = document.createElement('span')\r\n\t\tthis.label.classList.add('ribbon-buttonlet-text')\r\n\r\n\t\tthis.el.appendChild(this.icon)\r\n\t\tthis.el.appendChild(this.label)\r\n\r\n\t\tif (disabled)\r\n\t\t{\r\n\t\t\tthis.el.style.pointerEvents = 'none'\r\n\t\t}\r\n\r\n\t}\r\n\r\n\trender(buttonColumn: HTMLElement)\r\n\t{\r\n\t\tif (this.visible === false)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.applyIcon()\r\n\t\tthis.label.textContent = this.text\r\n\t\tif (this.tooltip)\r\n\t\t{\r\n\t\t\tthis.tooltip.setTitle(this.text);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.tooltip = new WVTooltip(this.el);\r\n\t\t\tthis.tooltip.setOrientation('bottom');\r\n\t\t\tthis.tooltip.setTitle(this.text);\r\n\t\t}\r\n\t\tif (this.renderTarget !== buttonColumn)\r\n\t\t{\r\n\t\t\tthis.renderTarget = buttonColumn\r\n\t\t\tbuttonColumn.appendChild(this.el)\r\n\t\t}\r\n\t\tif (this.paneId)\r\n\t\t\t{\r\n\t\t\t\tpaneWidgets[this.paneId] = this\r\n\t\t\t}\r\n\t}\r\n}\r\n\r\nclass Column extends Widget\r\n{\r\n\r\n\tel: HTMLElement\r\n\twidgets: Array<VisibleWidget> = []\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.el = document.createElement('div')\r\n\t\tthis.el.classList.add('ribbon-column')\r\n\r\n\t}\r\n\r\n\tget capacity(): number\r\n\t{\r\n\t\treturn this.widgets.length\r\n\t}\r\n\r\n\r\n\taddButtonLet(buttonlet: Buttonlet)\r\n\t{\r\n\t\tthis.widgets.push(buttonlet)\r\n\t}\r\n\r\n\testimate()\r\n\t{\r\n\t\tlet estVal = this.el.offsetWidth\r\n\r\n\t\treturn estVal\r\n\t}\r\n\r\n\trender(groupContent: HTMLElement)\r\n\t{\r\n\t\tfor (let widget of this.widgets)\r\n\t\t{\r\n\t\t\twidget.render(this.el)\r\n\t\t}\r\n\r\n\t\tif (this.renderTarget !== groupContent)\r\n\t\t{\r\n\t\t\tthis.renderTarget = groupContent\r\n\t\t\tgroupContent.appendChild(this.el)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass DropdownButton extends BaseButton\r\n{\r\n\r\n\r\n\tlabel: HTMLElement\r\n\tlabelText: HTMLElement\r\n\tlabelExpand: HTMLElement\r\n\ttooltip: WVTooltip\r\n\titems: DropdownItem[] = []\r\n\tactiveItem: DropdownItem = undefined\r\n\tpaneId: string\r\n\tdropdownList: HTMLElement\r\n\r\n\tpublic itemClickCallback: (item: DropdownItem, button: DropdownButton) => any\r\n\r\n\tconstructor(id, paneId)\r\n\t{\r\n        super(id);\r\n        this.paneId = paneId;\r\n        this.el = document.createElement('div');\r\n        this.el.id = this.id;\r\n        this.el.classList.add('ribbon-dropdown-button');\r\n        this.el.style.width = settings.ribbon.buttonWidth + 'px';\r\n\r\n\r\n        let xmlns = 'http://www.w3.org/2000/svg';\r\n        this.icon = <SVGSVGElement> document.createElementNS(xmlns, 'svg');\r\n        this.icon.setAttribute('class', 'ribbon-dropdown-button-icon');\r\n\r\n        this.icon.setAttribute('width', '100%');\r\n        this.icon.setAttribute('height', '60%');\r\n\r\n\r\n        this.label = document.createElement('div');\r\n        this.label.classList.add('ribbon-dropdown-button-text');\r\n\r\n        this.labelText = document.createElement('span');\r\n        this.labelText.classList.add('ribbon-dropdown-text');\r\n        this.labelExpand = document.createElement('div');\r\n        this.labelExpand.className = 'fa fa-sort-down ribbon-dropdown-button-expand-icon';\r\n\r\n        this.label.appendChild(this.labelText);\r\n        this.label.appendChild(this.labelExpand);\r\n\r\n        this.el.appendChild(this.icon);\r\n        this.el.appendChild(this.label);\r\n\r\n        this.dropdownList = document.createElement('div');\r\n        this.dropdownList.className = 'ribbon-dropdown-list';\r\n        this.dropdownList.style.display = 'none';\r\n        this.dropdownList.addEventListener('mouseleave', ev =>\r\n        {\r\n            this.dropdownList.style.display = 'none';\r\n        });\r\n\r\n        let container = document.getElementById(settings.ribbon.dropdownsContainerId);\r\n        container.appendChild(this.dropdownList);\r\n\r\n\t\tthis.label.addEventListener('click', () =>\r\n\t\t{\r\n\t\t\tif (this.dropdownList.style.display === 'none')\r\n\t\t\t{\r\n                this.dropdownList.style.display = '';\r\n                let boundingRect = this.label.getBoundingClientRect();\r\n                let top = boundingRect.bottom;\r\n                let left = boundingRect.left;\r\n\r\n                this.dropdownList.style.top = top + 'px';\r\n                this.dropdownList.style.left = left + 'px';\r\n\t\t\t} else\r\n\t\t\t{\r\n                this.dropdownList.style.display = 'none';\r\n\t\t\t}\r\n\t\t})\r\n\r\n        this.label.addEventListener('mouseleave', ev =>\r\n        {\r\n            let boundingRect = this.label.getBoundingClientRect();\r\n            if (ev.pageY < boundingRect.bottom - 1)\r\n            {\r\n                this.dropdownList.style.display = 'none';\r\n            }\r\n        });\r\n\t}\r\n\r\n\taddItems(itemsOptions: WidgetOption[])\r\n\t{\r\n\t\tfor (let options of itemsOptions)\r\n\t\t{\r\n            let item = new DropdownItem(options.langId, this);\r\n            item.setIconId(options.iconId);\r\n            if (options.interaction)\r\n            {\r\n                item.event = options.interaction;\r\n            }\r\n            this.items.push(item);\r\n\t\t}\r\n        this.activeItem = this.items[0];\r\n\t}\r\n\r\n\taddClick(context: any, dropdownCallback: DropdownCallback)\r\n\t{\r\n        this.icon.addEventListener('click', ev =>\r\n        {\r\n            dropdownCallback(context, this.activeItem, this);\r\n            this.setIconId(this.activeItem.getIconId());\r\n            this.applyIcon();\r\n        });\r\n\r\n        this.dropdownList.addEventListener('click', ev =>\r\n        {\r\n            let target = ev.target as HTMLElement;\r\n            let dropdownItemEl;\r\n            if (target.classList.contains('ribbon-dropdown-item'))\r\n            {\r\n                dropdownItemEl = target;\r\n            } else\r\n            {\r\n                dropdownItemEl = target.parentElement;\r\n            }\r\n            this.activeItem = findDropdownItem(dropdownItemEl.id);\r\n            dropdownCallback(context, this.activeItem, this);\r\n\r\n            this.labelText.textContent = this.activeItem.text;\r\n            this.el.title = this.activeItem.text;\r\n\r\n            this.setIconId(this.activeItem.getIconId());\r\n            this.applyIcon();\r\n        });\r\n    }\r\n\r\n    applyHighlight (val: boolean)\r\n    {\r\n        this.activeItem.isHighlight = val;\r\n        this.isHighlight = val;\r\n        if (this.isHighlight)\r\n        {\r\n            $(this.icon).addClass('ribbon-button-highlighted');\r\n            $(this.label).addClass('ribbon-button-highlighted');\r\n        } else\r\n        {\r\n            $(this.icon).removeClass('ribbon-button-highlighted');\r\n            $(this.label).removeClass('ribbon-button-highlighted');\r\n            this.activeItem.setHighlight(false);\r\n        }\r\n    }\r\n\r\n    flashHighlight ()\r\n    {\r\n        $(this.icon).addClass('ribbon-button-highlighted');\r\n        $(this.label).addClass('ribbon-button-highlighted');\r\n        setTimeout(() =>\r\n        {\r\n            $(this.icon).removeClass('ribbon-button-highlighted');\r\n            $(this.label).removeClass('ribbon-button-highlighted');\r\n        }, 150);\r\n    }\r\n\r\n\trender(groupElement: HTMLElement)\r\n\t{\r\n\t\tif (this.visible === false)\r\n\t\t{\r\n            return;\r\n\t\t}\r\n        this.applyIcon();\r\n\r\n        this.labelText.textContent = this.activeItem.text;\r\n\t\tif (this.tooltip)\r\n\t\t{\r\n\t\t\tthis.tooltip.setTitle(this.activeItem.text);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.tooltip = new WVTooltip(this.el);\r\n\t\t\tthis.tooltip.setOrientation('bottom');\r\n\t\t\tthis.tooltip.setTitle(this.activeItem.text);\r\n\t\t}\r\n\r\n\t\tfor (let item of this.items)\r\n\t\t{\r\n            item.render(this.dropdownList);\r\n\t\t}\r\n\r\n        if (this.renderTarget !== groupElement)\r\n\t\t{\r\n            this.renderTarget = groupElement;\r\n            groupElement.appendChild(this.el);\r\n\t\t}\r\n\t\tif (this.paneId)\r\n\t\t{\r\n            paneWidgets[this.paneId] = this;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass DropdownItem extends BaseButton\r\n{\r\n\r\n\r\n\tlabel: HTMLElement\r\n\tdropdownButton: DropdownButton\r\n\r\n\tconstructor(id: string, dropdownButton: DropdownButton)\r\n\t{\r\n        super(id);\r\n        this.dropdownButton = dropdownButton;\r\n        this.el = document.createElement('div');\r\n        this.el.id = this.id;\r\n        this.el.classList.add('ribbon-dropdown-item');\r\n        this.el.style.height = settings.ribbon.dropdownItemHeight + 'px';\r\n        this.el.style.display = 'flex';\r\n\r\n        let xmlns = 'http://www.w3.org/2000/svg';\r\n        this.icon = <SVGSVGElement> document.createElementNS(xmlns, 'svg');\r\n        this.icon.setAttribute('class', 'ribbon-dropdown-item-icon');\r\n\r\n        this.icon.setAttribute('width', '16px');\r\n        this.icon.setAttribute('height', '100%');\r\n\r\n        this.label = document.createElement('span');\r\n        this.label.classList.add('ribbon-dropdown-item-text');\r\n\r\n        this.el.appendChild(this.icon);\r\n        this.el.appendChild(this.label);\r\n\t}\r\n\r\n\tapplyHighlight(val: boolean)\r\n\t{\r\n\t\tthis.dropdownButton.items.forEach(item =>\r\n\t\t{\r\n\t\t\tif (item !== this)\r\n\t\t\t{\r\n                item.isHighlight = false;\r\n                item.el.style.backgroundColor = '';\r\n\t\t\t}\r\n\t\t})\r\n        this.dropdownButton.applyHighlight(val);\r\n        this.setHighlight(val);\r\n\t}\r\n\r\n\tsetHighlight(val: boolean)\r\n    {\r\n        this.isHighlight = val;\r\n\t\tif (this.isHighlight)\r\n        {\r\n            this.el.classList.add('ribbon-button-highlighted');\r\n        } else\r\n        {\r\n            this.el.classList.remove('ribbon-button-highlighted');\r\n        }\r\n    }\r\n\r\n    activate ()\r\n    {\r\n        this.dropdownButton.activeItem = this;\r\n        this.dropdownButton.setIconId(this.iconId);\r\n        this.setHighlight(true);\r\n        this.dropdownButton.applyHighlight(true);\r\n        this.dropdownButton.render(this.dropdownButton.renderTarget);\r\n    }\r\n\r\n\r\n\trender(dropdownList: HTMLElement)\r\n\t{\r\n\t\tif (this.visible === false)\r\n\t\t{\r\n            return;\r\n\t\t}\r\n        this.applyIcon();\r\n        this.label.textContent = this.text;\r\n\r\n\r\n\t\tif (this.renderTarget !== dropdownList)\r\n\t\t{\r\n            this.renderTarget = dropdownList;\r\n            dropdownList.appendChild(this.el);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass Input extends VisibleWidget\r\n{\r\n\tconstructor(id: string)\r\n\t{\r\n\t\tsuper(id)\r\n\r\n\t\tthis.el = document.createElement('input')\r\n\t\t\t; (this.el as HTMLInputElement).type = 'text'\r\n\t\tthis.el.id = this.id\r\n\t\tthis.el.classList.add('ribbon-input')\r\n\t}\r\n\r\n\taddInputCallback(context: any, callback: InputCallback)\r\n\t{\r\n\t\tthis.el.addEventListener('keydown', ev =>\r\n\t\t{\r\n\t\t\tcallback(context, this.id, ev)\r\n\t\t})\r\n\t}\r\n\r\n\trender(target: HTMLElement)\r\n\t{\r\n\t\tif (this.visible === false)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (this.renderTarget !== target)\r\n\t\t{\r\n\t\t\tthis.renderTarget = target\r\n\t\t\ttarget.appendChild(this.el)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass Group extends VisibleWidget\r\n{\r\n\r\n\tgroupContent: HTMLElement\r\n\tgroupName: HTMLElement\r\n\r\n\tconfiguration: Array<Widget> = []\r\n\r\n\tcompactGroup: HTMLElement\r\n\tcompactIcon: SVGSVGElement\r\n\tcompactGroupName: HTMLElement\r\n\tcompactExpander: HTMLElement\r\n\tcompactExpanded: HTMLElement\r\n\texpandable: HTMLElement\r\n\r\n\tprivate isCompact: boolean = false\r\n\r\n\tconstructor(id: string)\r\n\t{\r\n\t\tsuper(id)\r\n\r\n\t\tthis.el = document.createElement('div')\r\n\t\tthis.el.id = this.id\r\n\t\tthis.el.classList.add('ribbon-group')\r\n\r\n\t\tthis.groupContent = document.createElement('div')\r\n\t\tthis.groupContent.classList.add('ribbon-group-content')\r\n\r\n\t\tthis.groupName = document.createElement('div')\r\n\t\tthis.groupName.classList.add('ribbon-group-name')\r\n\r\n\t\tthis.el.appendChild(this.groupContent)\r\n\t\tthis.el.appendChild(this.groupName)\r\n\r\n\t\tthis.compactGroup = document.createElement('div')\r\n\t\tthis.compactGroup.classList.add('ribbon-compact-group')\r\n\t\tthis.compactGroup.style.width = settings.ribbon.buttonWidth + 'px'\r\n\t\tthis.compactGroup.style.height = '100%'\r\n        this.compactGroup.style.display = 'inline-block'\r\n        this.compactGroup.id = this.id + '_Compact';\r\n\r\n\t\tthis.compactIcon = <SVGSVGElement>document.createElementNS(SVG_NS, 'svg')\r\n\t\tthis.compactIcon.setAttribute('class', 'ribbon-compact-icon')\r\n\t\tlet useEl = document.createElementNS(SVG_NS, 'use')\r\n\t\tthis.compactIcon.appendChild(useEl)\r\n\r\n\t\tthis.compactGroupName = document.createElement('div')\r\n\t\tthis.compactGroupName.classList.add('ribbon-compact-name')\r\n\r\n\t\tthis.compactExpander = document.createElement('div')\r\n\t\tthis.compactExpander.classList.add('ribbon-compact-expander')\r\n\t\tthis.compactExpander.classList.add('fa')\r\n\t\tthis.compactExpander.classList.add('fa-sort-down')\r\n\r\n\r\n\t\tthis.compactGroup.appendChild(this.compactIcon)\r\n\t\tthis.compactGroup.appendChild(this.compactGroupName)\r\n\t\tthis.compactGroup.appendChild(this.compactExpander)\r\n\r\n\t\tthis.expandable = document.createElement('div')\r\n\t\tthis.expandable.classList.add('ribbon-expandable')\r\n\t\tthis.expandable.style.display = 'none'\r\n\t\tthis.expandable.tabIndex = 100\r\n\r\n\t\tthis.compactGroup.addEventListener('click', () =>\r\n\t\t{\r\n\t\t\tif (this.expandable.style.display === 'none')\r\n\t\t\t{\r\n\t\t\t\tthis.expandable.style.display = 'flex'\r\n\t\t\t\tthis.expandable.focus()\r\n\t\t\t\tlet boundingRect = this.compactGroup.getBoundingClientRect()\r\n\t\t\t\tlet top = boundingRect.bottom\r\n\t\t\t\tlet left = boundingRect.left\r\n\r\n\t\t\t\tthis.expandable.style.top = top + 'px'\r\n\t\t\t\tif ((left + this.expandable.offsetWidth) > document.body.offsetWidth)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.expandable.style.left = (left + (document.body.offsetWidth - (left + this.expandable.offsetWidth))) + 'px';\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.expandable.style.left = left + 'px'\r\n\t\t\t\t}\r\n\t\t\t\tthis.expandable.style.height = settings.ribbon.tabPageHeight + 'px'\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\tthis.expandable.style.display === 'none'\r\n\t\t\t}\r\n\r\n\t\t})\r\n\r\n\t\tthis.expandable.addEventListener('blur', ev =>\r\n\t\t{\r\n\t\t\tsetTimeout(() =>\r\n\t\t\t{\r\n\t\t\t\tif (this.expandable.style.display !== 'none')\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.expandable.style.display = 'none'\r\n\t\t\t\t}\r\n\t\t\t}, 200)\r\n\t\t})\r\n\r\n\t\tlet container = document.getElementById(settings.ribbon.expandablesContainerId)\r\n\t\tcontainer.appendChild(this.expandable)\r\n\t}\r\n\r\n\taddButton(options: WidgetOption): Button\r\n\t{\r\n\t\tlet button = new Button(options.langId, options.paneId)\r\n\t\tbutton.setIconId(options.iconId)\r\n\t\tif (options.highlight)\r\n\t\t{\r\n\t\t\tbutton.isHighlight = true\r\n\t\t\tinitHightlightedButtons.push(button)\r\n\t\t}\r\n\t\tthis.configuration.push(button)\r\n\t\treturn button\r\n\t}\r\n\r\n\taddButtonlet(options: WidgetOption): Buttonlet\r\n\t{\r\n\t\tlet buttonlet = new Buttonlet(options.langId, options.disabled, options.paneId)\r\n\t\tbuttonlet.setIconId(options.iconId)\r\n\t\tif (options.highlight || buttonlet.isHighlight)\r\n\t\t{\r\n\t\t\tbuttonlet.isHighlight = true\r\n\t\t\tinitHightlightedButtons.push(buttonlet)\r\n\t\t}\r\n\r\n\t\tlet last = this.configuration[this.configuration.length - 1]\r\n\t\tif (last === undefined || !(last instanceof Column) || (<Column>last).capacity >= 3)\r\n\t\t{\r\n\t\t\tlet buttonColumn = new Column()\r\n\t\t\tbuttonColumn.addButtonLet(buttonlet)\r\n\t\t\tthis.configuration.push(buttonColumn)\r\n\t\t} else\r\n\t\t{\r\n\t\t\t(<Column>last).widgets.push(buttonlet)\r\n\t\t}\r\n\r\n\t\treturn buttonlet\r\n\t}\r\n\r\n\taddDropdown(options: WidgetOption): DropdownButton\r\n\t{\r\n\t\tlet dropdown = new DropdownButton(options.langId, options.paneId)\r\n\t\tdropdown.setIconId(options.iconId)\r\n\t\tdropdown.addItems(options.dropdownItems)\r\n\r\n\t\tthis.configuration.push(dropdown)\r\n\r\n\t\treturn dropdown\r\n\t}\r\n\r\n\taddSplittedDropdown(options: WidgetOption): SplittedDropdownButton\r\n\t{\r\n\t\tlet dropdown = new SplittedDropdownButton(options.langId, options.paneId)\r\n\t\tdropdown.setIconId(options.iconId)\r\n\t\tdropdown.addItems(options.dynamicDropdownItems)\r\n\r\n\t\tthis.configuration.push(dropdown)\r\n\r\n\t\treturn dropdown\r\n\t}\r\n\r\n\taddInput(option: WidgetOption): Input\r\n\t{\r\n\t\tlet input = new Input(option.langId)\r\n\r\n\t\tthis.configuration.push(input)\r\n\r\n\t\treturn input\r\n\t}\r\n\r\n\tprivate findFirstSVGId(): string\r\n\t{\r\n\t\tlet svgId: string\r\n\t\tfor (let widget of this.configuration)\r\n\t\t{\r\n\t\t\tif (widget instanceof Button || widget instanceof DropdownButton)\r\n\t\t\t{\r\n\t\t\t\tsvgId = widget.getIconId()\r\n\t\t\t\treturn svgId\r\n\t\t\t} else if (widget instanceof Column)\r\n\t\t\t{\r\n\t\t\t\tlet column = <Column>widget\r\n\t\t\t\tfor (let columnChild of column.widgets)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (columnChild instanceof BaseButton)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet buttonLet = <BaseButton>columnChild\r\n\t\t\t\t\t\tsvgId = buttonLet.getIconId()\r\n\t\t\t\t\t\treturn svgId\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ''\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tapplyCompactIcon()\r\n\t{\r\n\t\tlet useEl = <SVGUseElement>this.compactIcon.firstChild\r\n\t\tlet svgId = this.findFirstSVGId()\r\n\t\tuseEl.setAttributeNS(XLINK_NS, 'href', '#' + svgId)\r\n\t}\r\n\r\n\tget compact(): boolean\r\n\t{\r\n\t\treturn this.isCompact\r\n\t}\r\n\r\n\tset compact(required: boolean)\r\n\t{\r\n\r\n\t\tthis.isCompact = required\r\n\t}\r\n\r\n\testimate(): number\r\n\t{\r\n\t\t// taking the padding and border into account\r\n\r\n\t\tif (this.compact)\r\n\t\t{\r\n\t\t\treturn settings.ribbon.buttonWidth + 1\r\n\t\t}\r\n\r\n\t\t//10px padding from content and 6px padding from parent\r\n\t\tlet accWidth = 16\r\n\r\n\t\tfor (let widget of this.configuration)\r\n\t\t{\r\n\t\t\tif (widget instanceof Column)\r\n\t\t\t{\r\n\t\t\t\tlet buttonColumn = <Column>widget\r\n\t\t\t\taccWidth += buttonColumn.estimate()\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\taccWidth += settings.ribbon.buttonWidth\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn accWidth\r\n\t}\r\n\r\n\trender(tabPage: HTMLElement)\r\n\t{\r\n\t\tlet toAppend = false\r\n\t\tif (this.renderTarget !== tabPage)\r\n\t\t{\r\n\t\t\tthis.renderTarget = tabPage\r\n\t\t\ttoAppend = true\r\n\t\t}\r\n        let width = 0\r\n\t\tif (this.isCompact && (this.configuration.length > 1))\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tthis.renderTarget.removeChild(this.el)\r\n\t\t\t} catch (error)\r\n\t\t\t{\r\n\t\t\t}\r\n\r\n\t\t\tthis.applyCompactIcon()\r\n\t\t\tthis.compactGroupName.textContent = this.text\r\n\r\n\r\n\t\t\tfor (let widget of this.configuration)\r\n\t\t\t{\r\n\t\t\t\twidget.render(this.expandable)\r\n\t\t\t}\r\n\r\n\t\t\tthis.renderTarget.appendChild(this.compactGroup)\r\n\t\t\treturn\r\n\t\t} else\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tthis.renderTarget.removeChild(this.compactGroup)\r\n\t\t\t} catch (error)\r\n\t\t\t{\r\n\t\t\t}\r\n\r\n\t\t\tthis.groupName.textContent = this.text\r\n\t\t\tthis.renderTarget.appendChild(this.el)\r\n\t\t\tfor (let widget of this.configuration)\r\n\t\t\t{\r\n\t\t\t\twidget.render(this.groupContent)\r\n\t\t\t\tif (widget instanceof VisibleWidget || widget instanceof Column)\r\n\t\t\t\t{\r\n\t\t\t\t\twidth += widget.el.clientWidth\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.groupName.style.width = width + 'px'\r\n\t\tif (toAppend)\r\n\t\t{\r\n\t\t\tthis.renderTarget.appendChild(this.el)\r\n\t\t}\r\n\t}\r\n\r\n\tgetWidgets(): Array<VisibleWidget>\r\n\t{\r\n\t\tlet widgets = []\r\n\t\tfor (let widget of this.configuration)\r\n\t\t{\r\n\t\t\tif (widget instanceof Button)\r\n\t\t\t{\r\n\t\t\t\tlet button = <Button>widget\r\n\t\t\t\twidgets.push(button)\r\n\t\t\t} else if (widget instanceof Column)\r\n\t\t\t{\r\n\t\t\t\tlet buttonColumn = <Column>widget\r\n\t\t\t\tfor (let widget of buttonColumn.widgets)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (widget instanceof Buttonlet)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet columnChild = <VisibleWidget>widget\r\n\t\t\t\t\t\twidgets.push(columnChild)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (widget instanceof DropdownButton)\r\n\t\t\t{\r\n\t\t\t\tlet dropdown = <DropdownButton>widget\r\n\t\t\t\twidgets.push(dropdown)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn widgets\r\n\t}\r\n\r\n\taddClick(context: any, callback: GroupCallback)\r\n\t{\r\n\t\tlet onclick = (ev: MouseEvent) =>\r\n\t\t{\r\n\t\t\tif (ev.currentTarget)\r\n\t\t\t{\r\n\t\t\t\tlet id = (ev.currentTarget as HTMLElement).id\r\n\t\t\t\tcallback(context, id, this)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tlet widgets = this.getWidgets()\r\n\t\tfor (let widget of widgets)\r\n\t\t{\r\n\t\t\twidget.el.addEventListener('click', onclick)\r\n\t\t}\r\n\t}\r\n\r\n\tgetButtonById(id: string)\r\n\t{\r\n\t\treturn findButton(id)\r\n\t}\r\n}\r\n\r\n\r\nclass Tab extends VisibleWidget\r\n{\r\n\r\n\tpage: HTMLElement\r\n\tgroups: Array<Group> = []\r\n\ttabName: HTMLElement\r\n\r\n\tconstructor(id: string)\r\n\t{\r\n\t\tsuper(id)\r\n\r\n\t\tthis.el = document.createElement('li')\r\n\t\tthis.el.id = this.id\r\n\t\tthis.el.classList.add('ribbon-tab')\r\n\r\n\t\tthis.tabName = document.createElement('span')\r\n\t\tthis.tabName.classList.add('ribbon-tab-name')\r\n\r\n\t\tthis.el.appendChild(this.tabName)\r\n\r\n\t\tthis.page = document.createElement('div')\r\n\t\tthis.page.classList.add('ribbon-tab-page')\r\n\r\n\r\n\t}\r\n\r\n\taddGroup(group: Group)\r\n\t{\r\n\t\tthis.groups.push(group)\r\n\t}\r\n\r\n\ttryShrink()\r\n\t{\r\n\t\tlet i = this.groups.length - 1;\r\n\t\tfor ( ; i > -1; i--)\r\n\t\t{\r\n\t\t\tif (!this.groups[i].compact)\r\n\t\t\t{\r\n\t\t\t\tthis.groups[i].compact = true\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.renderGroups()\r\n\r\n\t\tlet estimatedWidth\r\n\t\testimatedWidth = this.estimate()\r\n\r\n\t\tif (estimatedWidth > appStates.ribbonWidth && i > 0)\r\n\t\t{\r\n\t\t\tthis.tryShrink()\r\n\t\t} else\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tshow()\r\n\t{\r\n\t\tlet hasCompactChild = false;\r\n\t\tthis.groups.forEach(group =>\r\n        {\r\n\t\t\tif (group.compact)\r\n\t\t\t{\r\n\t\t\t\thasCompactChild = true;\r\n\t\t\t}\r\n            group.compact = false;\r\n\t\t})\r\n\t\t//Render ribbon non-compact to calculate the right widths if the old state had compact childs\r\n\t\tif (hasCompactChild)\r\n\t\t{\r\n            this.render(this.renderTarget);\r\n\t\t}\r\n        $(this.el).addClass('ribbon-header-active-tab');\r\n        this.page.style.display = '';\r\n\r\n        let estimatedWidth;\r\n        estimatedWidth = this.estimate();\r\n\r\n\t\tif (estimatedWidth > appStates.ribbonWidth)\r\n\t\t{\r\n            this.tryShrink();\r\n        }\r\n        else\r\n\t\t{\r\n            this.render(this.renderTarget);\r\n\t\t}\r\n\t}\r\n\r\n\thide()\r\n    {\r\n        $(this.el).removeClass('ribbon-header-active-tab');\r\n\t\t//this.el.style.border = '0px'\r\n\t\t//this.el.style.background = 'transparent'\r\n\t\tthis.page.style.display = 'none'\r\n\t}\r\n\r\n\taddToHeader(ribbonHeader: HTMLElement)\r\n\t{\r\n\t\tribbonHeader.appendChild(this.el)\r\n\t\tthis.tabName.textContent = this.text\r\n\t\tthis.hide()\r\n\t}\r\n\r\n\testimate(): number\r\n\t{\r\n\t\t// take the border width into account\r\n\t\tlet accWidth = 2 + 20\r\n\t\tfor (let group of this.groups)\r\n\t\t{\r\n\t\t\tlet groupWidth = group.estimate()\r\n\t\t\taccWidth += groupWidth\r\n\t\t}\r\n\t\treturn accWidth\r\n\t}\r\n\r\n\trenderGroups()\r\n\t{\r\n\t\tfor (let group of this.groups)\r\n\t\t{\r\n\t\t\tgroup.render(this.page)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\trender(ribbonBody?: HTMLElement)\r\n\t{\r\n\t\tlet hasNewTarget = false\r\n\t\tif (this.renderTarget !== ribbonBody)\r\n\t\t{\r\n\t\t\thasNewTarget = true\r\n\t\t\tthis.renderTarget = ribbonBody\r\n\t\t}\r\n\r\n\t\tthis.renderGroups()\r\n\r\n\t\tif (hasNewTarget)\r\n\t\t{\r\n\t\t\tthis.renderTarget.appendChild(this.page)\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nclass SplittedDropdownButton extends BaseButton\r\n{\r\n\r\n\r\n\tlabel: HTMLElement\r\n\tlabelText: HTMLElement\r\n\tlabelExpand: HTMLElement\r\n\titems: DynamicDropdownItem[] = []\r\n\tactiveItem: DynamicDropdownItem = undefined\r\n\ttooltip: WVTooltip\r\n\tpaneId: string\r\n\r\n\tdropdownList: HTMLElement\r\n\r\n\tpublic itemClickCallback: (item: DynamicDropdownItem, button: SplittedDropdownButton) => any\r\n\r\n\tconstructor(id, paneId)\r\n\t{\r\n        super(id);\r\n        this.paneId = paneId;\r\n        this.el = document.createElement('div');\r\n        this.el.id = this.id;\r\n        this.el.classList.add('ribbon-dropdown-button');\r\n        this.el.style.width = settings.ribbon.buttonWidth + 'px';\r\n\r\n        let xmlns = 'http://www.w3.org/2000/svg';\r\n        this.icon = <SVGSVGElement> document.createElementNS(xmlns, 'svg');\r\n        this.icon.setAttribute('class', 'ribbon-dropdown-button-icon');\r\n\r\n        this.icon.setAttribute('width', '100%');\r\n        this.icon.setAttribute('height', '60%');\r\n\r\n\r\n        this.label = document.createElement('div');\r\n        this.label.className ='ribbon-dropdown-button-text';\r\n\r\n        this.labelText = document.createElement('span');\r\n        this.labelText.className = 'ribbon-dropdown-text';\r\n        this.labelExpand = document.createElement('div');\r\n        this.labelExpand.className = 'fa fa-sort-down ribbon-dropdown-button-expand-icon';\r\n\r\n        this.label.appendChild(this.labelText);\r\n        this.label.appendChild(this.labelExpand);\r\n\r\n        this.el.appendChild(this.icon);\r\n        this.el.appendChild(this.label);\r\n\r\n\r\n        this.dropdownList = document.createElement('div');\r\n        this.dropdownList.style.fontSize = '12px';\r\n        this.dropdownList.className = 'ribbon-dropdown-list splitted-dropdown-list';\r\n        this.dropdownList.style.display = 'none';\r\n        this.dropdownList.addEventListener('mouseleave', ev =>\r\n        {\r\n            this.dropdownList.style.display = 'none';\r\n        });\r\n\r\n        let container = document.getElementById(settings.ribbon.dropdownsContainerId);\r\n        container.appendChild(this.dropdownList);\r\n\r\n        this.label.addEventListener('click', () =>\r\n        {\r\n            if (this.dropdownList.style.display === 'none')\r\n            {\r\n                this.dropdownList.style.display = '';\r\n                let boundingRect = this.label.getBoundingClientRect();\r\n                let top = boundingRect.bottom;\r\n                let left = boundingRect.left;\r\n\r\n                this.dropdownList.style.top = top + 'px';\r\n                this.dropdownList.style.left = left + 'px';\r\n            } else\r\n            {\r\n                this.dropdownList.style.display = 'none';\r\n            }\r\n        });\r\n\r\n        this.icon.addEventListener('mouseenter', ev =>\r\n        {\r\n            if (!this.isHighlight)\r\n            {\r\n                this.icon.style.backgroundColor = settings.ribbon.buttonMouseHoverColor;\r\n            }\r\n        });\r\n        this.icon.addEventListener('mouseleave', ev =>\r\n        {\r\n            if (!this.isHighlight)\r\n            {\r\n                this.icon.style.backgroundColor = settings.ribbon.buttonDefaultColor;\r\n            }\r\n        });\r\n        this.label.addEventListener('mouseenter', ev =>\r\n        {\r\n            if (!this.isHighlight)\r\n            {\r\n                this.label.style.backgroundColor = settings.ribbon.buttonMouseHoverColor;\r\n            }\r\n        });\r\n        this.label.addEventListener('mouseleave', ev =>\r\n        {\r\n            if (!this.isHighlight)\r\n            {\r\n                this.label.style.backgroundColor = settings.ribbon.buttonDefaultColor;\r\n            }\r\n            let boundingRect = this.label.getBoundingClientRect();\r\n            if (ev.pageY < boundingRect.bottom - 1)\r\n            {\r\n                this.dropdownList.style.display = 'none';\r\n            }\r\n        });\r\n\r\n        vsClient.on('@OpenedFile', (file) =>\r\n        {\r\n            this.addItem(file);\r\n        });\r\n\t}\r\n\r\n\taddItem(langId: string)\r\n\t{\r\n\t\tlet item = new DynamicDropdownItem(langId, this)\r\n\t\tif (this.items.filter(function (it) { return it.langId == langId }).length > 0)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.items.push(item)\r\n\t\tthis.render(this.renderTarget)\r\n\t}\r\n\r\n\taddItems(itemsOptions: WidgetOption[])\r\n\t{\r\n\t\tfor (let options of itemsOptions)\r\n\t\t{\r\n\t\t\tlet item = new DynamicDropdownItem(options.langId, this)\r\n\t\t\titem.setIconId(options.iconId)\r\n\t\t\tthis.items.push(item)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\taddClick(context: any, dropdownCallback: SplittedDropdownCallback)\r\n\t{\r\n\t\tthis.icon.addEventListener('click', ev =>\r\n\t\t{\r\n\t\t\tdropdownCallback(context, undefined, this)\r\n\t\t})\r\n\r\n\t\tthis.dropdownList.addEventListener('click', ev =>\r\n\t\t{\r\n\t\t\tev.preventDefault();\r\n\t\t\tev.stopPropagation();\r\n\t\t\tlet target = ev.target as HTMLElement\r\n\t\t\tlet dropdownItemEl\r\n\t\t\tif (target.classList.contains('ribbon-dropdown-item'))\r\n\t\t\t{\r\n\t\t\t\tdropdownItemEl = target\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\tdropdownItemEl = target.parentElement\r\n\t\t\t}\r\n\t\t\tthis.activeItem = findDynamicDropdownItem(dropdownItemEl.id)\r\n\t\t\tdropdownCallback(context, this.activeItem, this)\r\n\r\n\t\t})\r\n\t}\r\n\r\n\r\n\trender(groupElement: HTMLElement)\r\n\t{\r\n\t\tif (this.visible === false)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.applyIcon()\r\n\r\n\t\tthis.labelText.textContent = this.text\r\n\t\tif (this.tooltip)\r\n\t\t{\r\n\t\t\tthis.tooltip.setTitle(this.text);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.tooltip = new WVTooltip(this.el);\r\n\t\t\tthis.tooltip.setOrientation('bottom');\r\n\t\t\tthis.tooltip.setTitle(this.text);\r\n\t\t}\r\n\r\n\t\tfor (let item of this.items)\r\n\t\t{\r\n\t\t\titem.render(this.dropdownList)\r\n\t\t}\r\n\r\n\t\tif (this.renderTarget !== groupElement)\r\n\t\t{\r\n\t\t\tthis.renderTarget = groupElement\r\n\t\t\tgroupElement.appendChild(this.el)\r\n\t\t}\r\n\t\tif (this.paneId)\r\n\t\t{\r\n\t\t\tpaneWidgets[this.paneId] = this\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass DynamicDropdownItem extends BaseButton\r\n{\r\n\r\n\r\n\tlabel: HTMLElement\r\n\tdropdownButton: SplittedDropdownButton\r\n\r\n\tconstructor(id: string, dropdownButton: SplittedDropdownButton)\r\n\t{\r\n\t\tsuper(id)\r\n\t\tthis.dropdownButton = dropdownButton\r\n\t\tthis.el = document.createElement('div')\r\n\t\tthis.el.id = this.id\r\n\t\tthis.el.classList.add('ribbon-dropdown-item')\r\n\t\tthis.el.style.height = settings.ribbon.dropdownItemHeight + 'px'\r\n\t\tthis.el.style.display = 'flex'\r\n\r\n\t\tlet xmlns = 'http://www.w3.org/2000/svg'\r\n\t\tthis.icon = <SVGSVGElement>document.createElementNS(xmlns, 'svg')\r\n\t\tthis.icon.setAttribute('class', 'ribbon-dropdown-item-icon')\r\n\r\n\t\tthis.icon.setAttribute('width', '16px')\r\n\t\tthis.icon.setAttribute('height', '100%')\r\n\r\n\t\tthis.label = document.createElement('span')\r\n\t\tthis.label.classList.add('ribbon-dropdown-item-text')\r\n\r\n\t\tthis.el.appendChild(this.icon)\r\n\t\tthis.el.appendChild(this.label)\r\n\t}\r\n\r\n\r\n\trender(dropdownList: HTMLElement)\r\n\t{\r\n\t\tif (this.visible === false)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.applyIcon()\r\n\t\tthis.label.textContent = this.text\r\n\r\n\t\tif (this.renderTarget !== dropdownList)\r\n\t\t{\r\n\t\t\tthis.renderTarget = dropdownList\r\n\t\t\tdropdownList.appendChild(this.el)\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ribbon/widget.ts","import { Item } from './'\r\nimport { CustomPalette } from './custom-palette'\r\nimport { WVTooltip } from '../app/tooltip';\r\nimport * as ui from '../app/ui'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { appStates } from '../app/app-states';\r\nimport { filter, re } from 'mathjs';\r\ndeclare var vsClient: VSWebClient\r\nvar tinycolor = require(\"tinycolor2\");\r\n\r\nexport interface FlagOption \r\n{\r\n\tvalue: string,\r\n\tdisplayName: string\r\n};\r\n\r\nexport abstract class Visual {\r\n\titem: Item\r\n\tel: HTMLTableDataCellElement\r\n\ttext: string = ''\r\n\r\n\tconstructor(item: Item) {\r\n\t\tthis.item = item\r\n\t\tthis.el = document.createElement('td')\r\n\t\tthis.el.classList.add('pane-item-visual')\r\n\r\n\t}\r\n\r\n\tabstract constructHTML(target: HTMLTableRowElement)\r\n\tabstract setUIValue(val: any)\r\n\tabstract setText(text: string)\r\n\tabstract setTooltip(text: string)\r\n\r\n\thighlightSearchString(searchString: string)\r\n\t{\r\n\t}\r\n\r\n\tgetText(): string {\r\n\t\treturn this.text\r\n\t}\r\n\r\n}\r\n\r\nexport class KeyValue extends Visual {\r\n\titem: Item\r\n\tentries: Entry [] = new Array<Entry>()\r\n\tkeyEl: HTMLTableDataCellElement\r\n\tkeyElWrapper: HTMLElement\r\n\trow: HTMLElement\r\n\r\n\tconstructor(item: Item) {\r\n\t\tsuper(item)\r\n\t\tthis.keyEl = document.createElement('td')\r\n\t\tthis.keyEl.classList.add('key-value-key')\r\n\t\tthis.el.classList.add('key-value-value')\r\n\r\n\t}\r\n\r\n\tconstructHTML(target: HTMLTableRowElement) {\r\n\r\n\t\tthis.row = target;\r\n\t}\r\n\r\n\tsetText(text: string) {\r\n\t}\r\n\r\n\tsetTooltip(text: string) {\r\n\t}\r\n\r\n\tsetUIValue(val: any) {\r\n\t}\r\n\r\n\taddEntry(entry: Entry) {\r\n        this.entries.push(entry);\r\n\t\tif (this.entries.length < 2)\r\n\t\t{\r\n\t\t\tapplyIndent(entry.el, this.item.indent);\r\n\t\t\tthis.row.appendChild(entry.el);\r\n            entry.tooltip.setTitle(entry.key);\r\n            entry.el.style.textOverflow = 'initial';\r\n\t\t\t$(entry.item.el).remove();\r\n\t\t}\r\n\t\telse{\r\n            this.row.appendChild(entry.el);\r\n            entry.el.style.textOverflow = 'initial';\r\n\t\t\t$(entry.item.el).remove();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport class Folder extends Visual {\r\n    item: Item\r\n    text: string\r\n    expander: HTMLElement\r\n    boldText: HTMLElement\r\n    key: string\r\n    tooltip: WVTooltip\r\n\r\n    static minus = 'fa-minus-square'\r\n    static plus = 'fa-plus-square'\r\n\r\n    collapse = (alterIcon = false, emit = true) =>\r\n    {\r\n        if (alterIcon)\r\n        {\r\n            this.expander.classList.remove(Folder.minus);\r\n            this.expander.classList.add(Folder.plus);\r\n        }\r\n        this.item.children.forEach(item =>\r\n        {\r\n            item.hide();\r\n                });\r\n        if (emit)\r\n        {\r\n            this.item.context.emit('user-input', this, this.item.id ? this.item.id + '_HIDE' : 'toggle-folder-visibility');\r\n        }\r\n    }\r\n\r\n    expand = (alterIcon = false, emit = true) =>\r\n    {\r\n        if (alterIcon)\r\n        {\r\n            this.expander.classList.remove(Folder.plus);\r\n            this.expander.classList.add(Folder.minus);\r\n        }\r\n        this.item.children.forEach(item =>\r\n        {\r\n            item.show(emit);\r\n        })\r\n        if (emit)\r\n        {\r\n            this.item.context.emit('user-input', this, this.item.id ? this.item.id + '_SHOW' : 'toggle-folder-visibility');\r\n        }\r\n    }\r\n\r\n    constructor (item: Item)\r\n    {\r\n        super(item)\r\n        this.el.colSpan = 2;\r\n\r\n        this.expander = document.createElement('i');\r\n        this.expander.classList.add('far');\r\n        this.expander.classList.add(Folder.minus);\r\n        this.expander.addEventListener('click', ev =>\r\n        {\r\n            if (this.expander.classList.contains(Folder.minus))\r\n            {\r\n                this.collapse(true, true);\r\n            } else if (this.expander.classList.contains(Folder.plus))\r\n            {\r\n                this.expand(true, true);\r\n            }\r\n        })\r\n\r\n        this.tooltip = new WVTooltip(this.el);\r\n\r\n        let spacing = document.createElement('span');\r\n        spacing.textContent = ' ';\r\n        spacing.classList.add('pane-item-spacing');\r\n\r\n        this.boldText = document.createElement('b');\r\n        this.boldText.textContent = this.getText();\r\n        this.key = this.getText();\r\n\r\n        this.el.appendChild(this.expander);\r\n        this.el.appendChild(spacing);\r\n        this.el.appendChild(this.boldText);\r\n\r\n        this.el.classList.add('pane-item-group');\r\n        if (item.id)\r\n        {\r\n            this.item.el.id = item.id;\r\n        }\r\n    }\r\n\r\n    highlightSearchString (searchString: string)\r\n    {\r\n        if (!searchString)\r\n        {\r\n            this.boldText.innerHTML = this.key;\r\n            return;\r\n        }\r\n        let length = searchString.length;\r\n        let start = this.key.toLowerCase().indexOf(searchString);\r\n        let titleLength = this.key.length;\r\n        let formattedTitle = \"\";\r\n\r\n        if (start !== -1)\r\n        {\r\n            for (let i = 0; i < titleLength; i++)\r\n            {\r\n                if (i >= start && i < start + length)\r\n                {\r\n                    formattedTitle += '<span class=\"pane-search-text-highlight\">' + this.key[i] + '</span>';\r\n                }\r\n                else\r\n                {\r\n                    formattedTitle += this.key[i];\r\n                }\r\n            }\r\n            this.boldText.innerHTML = formattedTitle;\r\n        }\r\n        else\r\n        {\r\n            this.boldText.innerHTML = this.key;\r\n        }\r\n    }\r\n\r\n    constructHTML (target: HTMLTableRowElement)\r\n    {\r\n        applyIndent(this.el, this.item.indent);\r\n        target.appendChild(this.el);\r\n    }\r\n\r\n    setText (text: string)\r\n    {\r\n        this.boldText.textContent = text;\r\n        this.key = text;\r\n    }\r\n\r\n    setTooltip (text: string)\r\n    {\r\n        this.tooltip.setTitle(text);\r\n    }\r\n\r\n    setUIValue (val: any)\r\n    {\r\n    }\r\n\r\n}\r\n\r\nexport class Entry extends Visual {\r\n\titem: Item\r\n\tnameEl: HTMLTableDataCellElement\r\n\tprefix: string\r\n\tprefixEl: HTMLElement\r\n\tkey: string\r\n\ttooltip: WVTooltip\r\n\r\n    constructor (item: Item, isButton: boolean = false)\r\n    {\r\n        super(item)\r\n        this.key = this.getText()\r\n        this.nameEl = document.createElement('td')\r\n        this.nameEl.classList.add('pane-item-entry-name')\r\n        if (!isButton)\r\n        {\r\n            this.nameEl.textContent = this.getText()\r\n        }\r\n        if (this.item.prefix)\r\n        {\r\n            this.prefixEl = document.createElement('span')\r\n            this.prefixEl.classList.add('pane-prefix-item')\r\n            this.prefixEl.textContent = this.item.prefix\r\n            this.el.appendChild(this.prefixEl)\r\n        }\r\n        this.tooltip = new WVTooltip(this.nameEl);\r\n\r\n\r\n        this.el.style.position = 'relative';\r\n    }\r\n\r\n    highlightSearchString (searchString: string)\r\n    {\r\n        if (!searchString)\r\n        {\r\n            this.nameEl.innerHTML = this.key;\r\n            return;\r\n        }\r\n        let length = searchString.length;\r\n        let start = this.key.toLowerCase().indexOf(searchString);\r\n        let titleLength = this.key.length;\r\n        let formattedTitle = \"\";\r\n\r\n        if (start !== -1)\r\n        {\r\n            for (let i = 0; i < titleLength; i++)\r\n            {\r\n                if (i >= start && i < start + length)\r\n                {\r\n                    formattedTitle += '<span class=\"pane-search-text-highlight\">' + this.key[i] + '</span>';\r\n                }\r\n                else\r\n                {\r\n                    formattedTitle += this.key[i];\r\n                }\r\n            }\r\n            this.nameEl.innerHTML = formattedTitle;\r\n        }\r\n        else\r\n        {\r\n            this.nameEl.innerHTML = this.key;\r\n        }\r\n\t}\r\n\r\n\tconstructHTML(target: HTMLTableRowElement) {\r\n        applyIndent(this.nameEl, this.item.indent);\r\n        target.appendChild(this.nameEl);\r\n        target.appendChild(this.el);\r\n\t}\r\n\r\n    setText (text: string)\r\n    {\r\n        this.key = text;\r\n        if (!(this.item.visual instanceof Button))\r\n        {\r\n            this.nameEl.textContent = text;\r\n        }\r\n\t}\r\n\r\n\tsetTooltip(text: string) {\r\n\t\tthis.tooltip.setTitle(text);\r\n\t}\r\n\r\n\tsetUIValue(val: any) {\r\n        this.el.textContent = val;\r\n        this.item.value = val;\r\n\t}\r\n\r\n}\r\n\r\nexport class TextBox extends Entry {\r\n    textElement: HTMLElement;\r\n    constructor (item: Item)\r\n    {\r\n        super(item);\r\n        this.textElement = document.createElement('span');\r\n        this.textElement.classList.add('pane-item-entry-text');\r\n        if (item.id)\r\n        {\r\n            this.textElement.id = item.id;\r\n        }\r\n        this.el.appendChild(this.textElement);\r\n    }\r\n\r\n\tsetUIValue(val: any) {\r\n        this.textElement.textContent = val;\r\n        this.item.value = val;\r\n\t\tif (typeof val === 'string')\r\n\t\t{\r\n\t\t\tif (this.item.suffix)\r\n\t\t\t{\r\n\t\t\t\tif (this.item.suffix === '')\r\n\t\t\t\t{\r\n                    val = parseFloat(val) + this.item.suffix;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n                    val = parseFloat(val) + \" \" + this.item.suffix;\r\n\t\t\t\t}\r\n\t\t\t}\r\n            this.textElement.textContent = val;\r\n\t\t} else\r\n\t\t{\r\n            let text = '';\r\n\t\t\tif (val['Unit']) {\r\n\t\t\t\tif (val['Unit'] === '')\r\n\t\t\t\t{\r\n                    text = `${val['__text__']}${val['Unit']}`;\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n                    text = `${val['__text__']} ${val['Unit']}`;\r\n\t\t\t\t}\r\n\t\t\t}\r\n            this.textElement.textContent = text;\r\n        }\r\n\t}\r\n}\r\n\r\nexport class Input extends Entry {\r\n\tinputEl: HTMLElement\r\n    changeSubmitted: boolean\r\n    unit: string\r\n\r\n\tconstructor(item: Item) {\r\n\t\tsuper(item);\r\n\t\tthis.inputEl = document.createElement('div');\r\n\t\tthis.inputEl.classList.add('pane-item-entry-input');\r\n\t\tthis.inputEl.contentEditable = 'true';\r\n\t\tif(item.id)\r\n\t\t{\r\n\t\t\tthis.inputEl.id = item.id;\r\n\t\t}\r\n\t\tthis.el.appendChild(this.inputEl);\r\n\r\n        this.inputEl.addEventListener('keyup', ev =>\r\n        {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n        });\r\n\r\n        this.inputEl.addEventListener('focus', ev =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n            if (!this.item.triggeredByEvent && !this.item.triggeredBySetting)\r\n            {\r\n                return;\r\n            }\r\n            this.changeSubmitted = false;\r\n            if (this.item.suffix || this.unit || (this.item.inputType === 'Float' || this.item.inputType === 'Integer'))\r\n            {\r\n                setTimeout(() =>\r\n                {\r\n                    this.inputEl.textContent = parseFloat(this.inputEl.textContent).toString();\r\n                    selectText(this.inputEl);\r\n                }, 100);\r\n            }\r\n            else\r\n            {\r\n                selectText(this.inputEl);\r\n            }\r\n        });\r\n\r\n\t\tthis.inputEl.addEventListener('blur', ev =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = false;\r\n\t\t\tif (!this.item.triggeredByEvent && !this.item.triggeredBySetting || this.changeSubmitted)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet val = this.inputEl.textContent;\r\n\t\t\tif (this.item.suffix)\r\n\t\t\t{\r\n\t\t\t\tval = this.item.suffix === '%' ? (parseFloat(this.inputEl.textContent) / 100).toString() : parseFloat(this.inputEl.textContent).toString();\r\n\t\t\t}\r\n\t\t\tthis.item.context.emit(\r\n\t\t\t\t'user-input',\r\n\t\t\t\tthis,\r\n\t\t\t\tval);\r\n\t\t})\r\n\r\n\t\tif (this.item.inputType !== 'Text')\r\n\t\t{\r\n\t\t\tthis.inputEl.addEventListener('keydown', ev =>\r\n\t\t\t{\r\n\t\t\t\tif (ev.keyCode === 13)\r\n\t\t\t\t{\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\tif (!this.item.triggeredByEvent && !this.item.triggeredBySetting)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet val = this.inputEl.textContent;\r\n\t\t\t\t\tif (this.item.suffix)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tval = this.item.suffix === '%' ? (parseFloat(this.inputEl.textContent) / 100).toString() : parseFloat(this.inputEl.textContent).toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.item.context.emit(\r\n\t\t\t\t\t\t'user-input',\r\n\t\t\t\t\t\tthis,\r\n\t\t\t\t\t\tval);\r\n\t\t\t\t\tthis.changeSubmitted = true;\r\n\t\t\t\t\tthis.inputEl.blur();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tsetUIValue(val: any)\r\n    {\r\n        this.item.value = val;\r\n        if (typeof val === 'string')\r\n        {\r\n            if (this.item.suffix)\r\n            {\r\n                if (this.item.suffix === '')\r\n                {\r\n                    val = parseFloat(val) + this.item.suffix;\r\n                }\r\n                else\r\n                {\r\n                    val = (this.item.suffix === '%' ? parseFloat(val) * 100 : parseFloat(val)) + \" \" + this.item.suffix;\r\n                }\r\n            }\r\n            this.inputEl.textContent = val;\r\n        }\r\n        else\r\n        {\r\n            let text = '';\r\n            this.unit = val['Unit'];\r\n            if (val['Unit'])\r\n            {\r\n                if (val['Unit'] === '')\r\n                {\r\n                    text = `${val['__text__']}${val['Unit']}`;\r\n                }\r\n                else\r\n                {\r\n                    text = `${val['__text__']} ${val['Unit']}`;\r\n                }\r\n            }\r\n            this.inputEl.textContent = text;\r\n        }\r\n    }\r\n}\r\n\r\nexport class MultiBox extends Entry {\r\n    inputEl: HTMLElement\r\n    changeSubmitted: boolean\r\n    boxWrapperEl: HTMLElement\r\n    buttonEl: HTMLElement\r\n    unselectedBoxEl: HTMLElement\r\n    selectedBoxEl: HTMLElement\r\n    unselectedFilterString: string\r\n    selectedFilterString: string\r\n    viewUnselectedItems: string[] = []\r\n    viewSelectedItems: string[] = []\r\n    unselectedItems: string[] = []\r\n    selectedItems: string[] = []\r\n    leftSelection: string[] = []\r\n    rightSelection: string[] = []\r\n\r\n\tconstructor(item: Item) {\r\n\t\tsuper(item);\r\n\t\tif(item.id)\r\n\t\t{\r\n\t\t\tthis.inputEl.id = item.id;\r\n        }\r\n        //Wrapper\r\n        this.boxWrapperEl = document.createElement('span');\r\n        this.boxWrapperEl.className = 'pane-item-entry-box-wrapper';\r\n        //Input\r\n        this.inputEl = document.createElement('div');\r\n        this.inputEl.className = 'pane-item-entry-input';\r\n        this.inputEl.contentEditable = 'true';\r\n        this.inputEl.style.width = 'calc(100% - 20px)';\r\n        this.inputEl.style.whiteSpace = 'nowrap';\r\n        this.inputEl.style.overflow = 'hidden';\r\n        //Icon\r\n        this.buttonEl = document.createElement('i');\r\n        this.buttonEl.className = 'fas fa-ellipsis-h';\r\n        this.buttonEl.style.marginLeft = '5px';\r\n        this.buttonEl.style.bottom = '2px';\r\n        this.buttonEl.style.position = 'relative';\r\n        this.buttonEl.style.cursor = 'pointer';\r\n        this.boxWrapperEl.appendChild(this.inputEl);\r\n        this.boxWrapperEl.appendChild(this.buttonEl);\r\n        this.el.appendChild(this.boxWrapperEl);\r\n        this.el.appendChild(this.boxWrapperEl);\r\n\r\n        //Modal creation\r\n        this.buttonEl.onclick = e =>\r\n        {\r\n            this.item.context.emit('user-input', this, 'multi-box-open');\r\n            //Wrapper\r\n            let modalWrapperEl = document.createElement('div');\r\n            modalWrapperEl.className = 'pane-multi-box-modal-wrapper';\r\n            //Columns\r\n            let leftColEl = document.createElement('div');\r\n            leftColEl.className = 'pane-multi-box-modal-col';\r\n            modalWrapperEl.appendChild(leftColEl);\r\n            let middleColEl = document.createElement('div');\r\n            middleColEl.className = 'pane-multi-box-modal-icon-col';\r\n            modalWrapperEl.appendChild(middleColEl);\r\n            let rightColEl = document.createElement('div');\r\n            rightColEl.className = 'pane-multi-box-modal-col';\r\n            modalWrapperEl.appendChild(rightColEl);\r\n            let endColEl = document.createElement('div');\r\n            endColEl.className = 'pane-multi-box-modal-icon-col';\r\n            modalWrapperEl.appendChild(endColEl);\r\n            //Cancel icon\r\n            let cancelIcon = document.createElement('i');\r\n            cancelIcon.className = 'pane-multi-box-modal-close-icon fas fa-times';\r\n            cancelIcon.onclick = e =>\r\n            {\r\n                modalWrapperEl.remove();\r\n            }\r\n            endColEl.appendChild(cancelIcon);\r\n            //Filter\r\n            let filterUnselectedEl = document.createElement('input');\r\n            filterUnselectedEl.className = 'pane-multi-box-modal-input';\r\n            let filterUnselectedSearchIcon = document.createElement('i');\r\n            filterUnselectedSearchIcon.className = 'pane-multi-box-modal-input-icon fas fa-search';\r\n            filterUnselectedSearchIcon.style.left = 'calc(40% - 12px)';\r\n            filterUnselectedSearchIcon.onclick = e =>\r\n            {\r\n                if (filterUnselectedEl.value && filterUnselectedEl.value !== '')\r\n                {\r\n                    this.resetSelection(false);\r\n                    filterUnselectedEl.value = '';\r\n                    this.unselectedFilterString = undefined;\r\n                    $(filterUnselectedSearchIcon).removeClass('fa-times').addClass('fa-search');\r\n                    filterUnselectedSearchIcon.style.cursor = '';\r\n                    this.filter(false);\r\n                }\r\n            }\r\n            filterUnselectedEl.oninput = e =>\r\n            {\r\n                this.resetSelection(false);\r\n                if (!filterUnselectedEl.value || filterUnselectedEl.value === '' || filterUnselectedEl.value === null)\r\n                {\r\n                    $(filterUnselectedSearchIcon).removeClass('fa-times').addClass('fa-search');\r\n                    filterUnselectedSearchIcon.style.cursor = '';\r\n                }\r\n                else\r\n                {\r\n                    $(filterUnselectedSearchIcon).removeClass('fa-search').addClass('fa-times');\r\n                    filterUnselectedSearchIcon.style.cursor = 'pointer';\r\n                }\r\n                this.unselectedFilterString = filterUnselectedEl.value;\r\n                this.filter(false);\r\n            }\r\n            leftColEl.appendChild(filterUnselectedSearchIcon);\r\n            leftColEl.appendChild(filterUnselectedEl);\r\n            let filterSelectedEl = document.createElement('input');\r\n            filterSelectedEl.className = 'pane-multi-box-modal-input';\r\n            let filterSelectedSearchIcon = document.createElement('i');\r\n            filterSelectedSearchIcon.className = 'pane-multi-box-modal-input-icon fas fa-search';\r\n            filterSelectedSearchIcon.style.right = 'calc(10% + 20px)';\r\n            filterSelectedSearchIcon.onclick = e =>\r\n            {\r\n                if (filterSelectedEl.value && filterSelectedEl.value !== '')\r\n                {\r\n                    this.resetSelection(true);\r\n                    filterSelectedEl.value = '';\r\n                    this.selectedFilterString = undefined;\r\n                    $(filterSelectedSearchIcon).removeClass('fa-times').addClass('fa-search');\r\n                    filterSelectedSearchIcon.style.cursor = '';\r\n                    this.filter(true);\r\n                }\r\n            }\r\n            filterSelectedEl.oninput = e =>\r\n            {\r\n                this.resetSelection(true);\r\n                if (!filterSelectedEl.value || filterSelectedEl.value === '' || filterSelectedEl.value === null)\r\n                {\r\n                    $(filterSelectedSearchIcon).removeClass('fa-times').addClass('fa-search');\r\n                    filterSelectedSearchIcon.style.cursor = '';\r\n                }\r\n                else\r\n                {\r\n                    $(filterSelectedSearchIcon).removeClass('fa-search').addClass('fa-times');\r\n                    filterSelectedSearchIcon.style.cursor = 'pointer';\r\n                }\r\n                this.selectedFilterString = filterSelectedEl.value;\r\n                this.filter(true);\r\n            }\r\n            rightColEl.appendChild(filterSelectedSearchIcon);\r\n            rightColEl.appendChild(filterSelectedEl);\r\n            //Boxes\r\n            this.unselectedBoxEl = document.createElement('div');\r\n            this.unselectedBoxEl.className = 'pane-multi-box-box-wrapper';\r\n            leftColEl.appendChild(this.unselectedBoxEl);\r\n            this.selectedBoxEl = document.createElement('div');\r\n            this.selectedBoxEl.className = 'pane-multi-box-box-wrapper';\r\n            rightColEl.appendChild(this.selectedBoxEl);\r\n            //Icons\r\n            let selectAllIcon = document.createElement('i');\r\n            selectAllIcon.className = 'pane-multi-box-modal-icon fas fa-chevron-double-right';\r\n            selectAllIcon.onclick = e =>\r\n            {\r\n                this.leftSelection = this.unselectedItems;\r\n                this.applySelection(true, false);\r\n            }\r\n            middleColEl.appendChild(selectAllIcon);\r\n            let selectIcon = document.createElement('i');\r\n            selectIcon.className = 'pane-multi-box-modal-icon fas fa-chevron-right';\r\n            selectIcon.onclick = e =>\r\n            {\r\n                this.applySelection(true, false);\r\n            }\r\n            middleColEl.appendChild(selectIcon);\r\n            let unselectIcon = document.createElement('i');\r\n            unselectIcon.className = 'pane-multi-box-modal-icon fas fa-chevron-left';\r\n            unselectIcon.onclick = e =>\r\n            {\r\n                this.applySelection(false, true);\r\n            }\r\n            middleColEl.appendChild(unselectIcon);\r\n            let unselectAllIcon = document.createElement('i');\r\n            unselectAllIcon.className = 'pane-multi-box-modal-icon fas fa-chevron-double-left';\r\n            unselectAllIcon.onclick = e =>\r\n            {\r\n                this.rightSelection = this.selectedItems;\r\n                this.applySelection(false, true);\r\n            }\r\n            middleColEl.appendChild(unselectAllIcon);\r\n            //Up/down icons\r\n            let allUpIcon = document.createElement('i');\r\n            allUpIcon.className = 'pane-multi-box-modal-icon fas fa-chevron-double-up';\r\n            allUpIcon.onclick = e =>\r\n            {\r\n                for (let i = 0; i < this.rightSelection.length; i++)\r\n                {\r\n                    let item = this.rightSelection[i];\r\n                    let index = this.viewSelectedItems.indexOf(item);\r\n                    let origIndex = this.selectedItems.indexOf(item);\r\n                    this.viewSelectedItems.splice(index, 1);\r\n                    this.viewSelectedItems.unshift(item);\r\n                    this.selectedItems.splice(origIndex, 1);\r\n                    this.selectedItems.unshift(item);\r\n                }\r\n                this.applySelection(false, false);\r\n            }\r\n            let upIcon = document.createElement('i');\r\n            upIcon.className = 'pane-multi-box-modal-icon fas fa-chevron-up';\r\n            upIcon.onclick = e =>\r\n            {\r\n                for (let i = 0; i < this.viewSelectedItems.length; i++)\r\n                {\r\n                    let item = this.viewSelectedItems[i];\r\n                    let isInSelection = this.rightSelection.indexOf(item) !== -1;\r\n                    let origIndex = this.selectedItems.indexOf(item);\r\n                    if (isInSelection && i !== 0)\r\n                    {\r\n                        this.viewSelectedItems[i] = this.viewSelectedItems[i - 1];\r\n                        this.viewSelectedItems[i - 1] = item;\r\n                        let lowerPosInOrig = this.selectedItems.indexOf(this.viewSelectedItems[i]);\r\n                        this.selectedItems[origIndex] = this.selectedItems[lowerPosInOrig];\r\n                        this.selectedItems[lowerPosInOrig] = item;\r\n                    }\r\n                }\r\n                this.applySelection(false, false);\r\n            }\r\n            let allDownIcon = document.createElement('i');\r\n            allDownIcon.className = 'pane-multi-box-modal-icon fas fa-chevron-double-down';\r\n            allDownIcon.onclick = e =>\r\n            {\r\n                for (let i = 0; i < this.rightSelection.length; i++)\r\n                {\r\n                    let item = this.rightSelection[i];\r\n                    let index = this.viewSelectedItems.indexOf(item);\r\n                    let origIndex = this.selectedItems.indexOf(item);\r\n                    this.viewSelectedItems.splice(index, 1);\r\n                    this.viewSelectedItems.push(item);\r\n                    this.selectedItems.splice(origIndex, 1);\r\n                    this.selectedItems.push(item);\r\n                }\r\n                this.applySelection(false, false);\r\n            }\r\n            let downIcon = document.createElement('i');\r\n            downIcon.className = 'pane-multi-box-modal-icon fas fa-chevron-down';\r\n            downIcon.onclick = e =>\r\n            {\r\n                for (let i = this.viewSelectedItems.length - 1; i >= 0; i--)\r\n                {\r\n                    let item = this.viewSelectedItems[i];\r\n                    let isInSelection = this.rightSelection.indexOf(item) !== -1;\r\n                    let origIndex = this.selectedItems.indexOf(item);\r\n                    if (isInSelection && i < this.viewSelectedItems.length - 1)\r\n                    {\r\n                        this.viewSelectedItems[i] = this.viewSelectedItems[i + 1];\r\n                        this.viewSelectedItems[i + 1] = item;\r\n                        let lowerPosInOrig = this.selectedItems.indexOf(this.viewSelectedItems[i]);\r\n                        this.selectedItems[origIndex] = this.selectedItems[lowerPosInOrig];\r\n                        this.selectedItems[lowerPosInOrig] = item;\r\n                    }\r\n                }\r\n                this.applySelection(false, false);\r\n            }\r\n            endColEl.appendChild(allUpIcon);\r\n            endColEl.appendChild(upIcon);\r\n            endColEl.appendChild(downIcon);\r\n            endColEl.appendChild(allDownIcon);\r\n            //Submit buttons\r\n            let submitButton = document.createElement('button');\r\n            submitButton.textContent = 'OK';\r\n            submitButton.className = 'pane-multi-box-modal-submit-button';\r\n            submitButton.onclick = e =>\r\n            {\r\n                modalWrapperEl.remove();\r\n                let val = this.selectedItems.join(';');\r\n                this.item.context.emit(\r\n                    'user-input',\r\n                    this,\r\n                    val);\r\n            }\r\n            endColEl.appendChild(submitButton)\r\n            document.body.appendChild(modalWrapperEl);\r\n        }\r\n\r\n        this.inputEl.addEventListener('keyup', ev =>\r\n        {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n        });\r\n\r\n        this.inputEl.addEventListener('focus', ev =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n            if (!this.item.triggeredByEvent && !this.item.triggeredBySetting)\r\n            {\r\n                return;\r\n            }\r\n            this.changeSubmitted = false;\r\n            selectText(this.inputEl);\r\n        });\r\n\r\n        this.inputEl.addEventListener('blur', ev =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = false;\r\n            if (!this.item.triggeredByEvent && !this.item.triggeredBySetting || this.changeSubmitted)\r\n            {\r\n                return;\r\n            }\r\n            let val = this.inputEl.textContent;\r\n            this.item.context.emit(\r\n                'user-input',\r\n                this,\r\n                val);\r\n        });\r\n\r\n        this.inputEl.addEventListener('keydown', ev =>\r\n        {\r\n            if (ev.keyCode === 13)\r\n            {\r\n                ev.preventDefault();\r\n                if (!this.item.triggeredByEvent && !this.item.triggeredBySetting)\r\n                {\r\n                    return;\r\n                }\r\n                let val = this.inputEl.textContent;\r\n                if (this.item.suffix)\r\n                {\r\n                    val = parseFloat(this.inputEl.textContent).toString();\r\n                }\r\n                this.item.context.emit(\r\n                    'user-input',\r\n                    this,\r\n                    val);\r\n                this.changeSubmitted = true;\r\n                this.inputEl.blur();\r\n            }\r\n        })\r\n    }\r\n\r\n    filter (inSelection: boolean)\r\n    {\r\n        let filterString = inSelection ? this.selectedFilterString : this.unselectedFilterString;\r\n        let arr = inSelection ? this.selectedItems : this.unselectedItems;\r\n        if (inSelection)\r\n        {\r\n            this.viewSelectedItems = [];\r\n        }\r\n        else\r\n        {\r\n            this.viewUnselectedItems = [];\r\n        }\r\n        if (filterString && filterString !== '' && filterString !== null)\r\n        {\r\n            arr.forEach((item: string) =>\r\n            {\r\n                if (item.toLowerCase().indexOf(filterString.toLowerCase()) !== -1)\r\n                {\r\n                    if (inSelection)\r\n                    {\r\n                        this.viewSelectedItems.push(item);\r\n                    }\r\n                    else\r\n                    {\r\n                        this.viewUnselectedItems.push(item)\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else\r\n        {\r\n            if (inSelection)\r\n            {\r\n                this.viewSelectedItems = arr.slice();\r\n            }\r\n            else\r\n            {\r\n                this.viewUnselectedItems = arr.slice();\r\n            }\r\n        }\r\n        this.createViewList(inSelection);\r\n    }\r\n\r\n    computeLists (props, attr)\r\n    {\r\n        this.selectedItems = [];\r\n        this.unselectedItems = [];\r\n        this.viewUnselectedItems = [];\r\n        this.viewSelectedItems = [];\r\n        this.selectedFilterString = \"\";\r\n        this.unselectedFilterString = \"\";\r\n        let options = this.item.value.split(';');\r\n        if (!(options.length === 1 && options[0] === \"\"))\r\n        {\r\n            this.selectedItems = options;\r\n        }\r\n        let properties;\r\n        if (props && props.Properties)\r\n        {\r\n            properties = Array.isArray(props.Properties) ? props.Properties : [props.Properties];\r\n            properties.forEach((prop: string, index: number) =>\r\n            {\r\n                properties[index] = '@' + prop;\r\n            });\r\n        }\r\n        if (attr && attr.Attribute)\r\n        {\r\n            let attributes = Array.isArray(attr.Attribute) ? attr.Attribute : [attr.Attribute];\r\n            attributes = attributes.concat(properties);\r\n            attributes.forEach((attribute: string) =>\r\n            {\r\n                if (options.indexOf(attribute) === -1)\r\n                {\r\n                    this.unselectedItems.push(attribute);\r\n                }\r\n            });\r\n        }\r\n        this.viewSelectedItems = this.selectedItems.slice();\r\n        this.viewUnselectedItems = this.unselectedItems.slice();\r\n        this.applySelection(false, false);\r\n    }\r\n\r\n    resetSelection (inSelection: boolean)\r\n    {\r\n        if (inSelection)\r\n        {\r\n            this.rightSelection = [];\r\n            this.selectedItems.forEach((item: string) =>\r\n            {\r\n                let el = document.getElementById(item);\r\n                if (el)\r\n                {\r\n                    el.style.backgroundColor = 'white';\r\n                }\r\n            });\r\n        }\r\n        else\r\n        {\r\n            this.leftSelection = [];\r\n            this.unselectedItems.forEach((item: string) =>\r\n            {\r\n                let el = document.getElementById(item);\r\n                if (el)\r\n                {\r\n                    el.style.backgroundColor = 'white';\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    createViewList (inSelection: boolean)\r\n    {\r\n        if (!inSelection)\r\n        {\r\n            $(this.unselectedBoxEl).empty();\r\n            this.viewUnselectedItems.forEach(item =>\r\n            {\r\n                let rowEl = document.createElement('div');\r\n                rowEl.className = 'pane-multi-box-box-row';\r\n                let isProp = item.startsWith('@');\r\n                let displayVal = isProp ? item.replace('@', '') : item;\r\n                rowEl.textContent = displayVal;\r\n                rowEl.id = item;\r\n                if (isProp)\r\n                {\r\n                    rowEl.style.fontStyle = 'italic';\r\n                }\r\n                let index = this.leftSelection.indexOf(item);\r\n                if (index !== -1)\r\n                {\r\n                    rowEl.style.backgroundColor = 'rgb(160, 160, 160)';\r\n                }\r\n                rowEl.onclick = e =>\r\n                {\r\n                    index = this.leftSelection.indexOf(item);\r\n                    if (index !== -1)\r\n                    {\r\n                        this.leftSelection.splice(index, 1);\r\n                        rowEl.style.backgroundColor = 'white';\r\n                    }\r\n                    else\r\n                    {\r\n                        this.leftSelection.push(item);\r\n                        rowEl.style.backgroundColor = 'rgb(160, 160, 160)';\r\n                    }\r\n                }\r\n                this.unselectedBoxEl.appendChild(rowEl);\r\n            });\r\n        }\r\n        else\r\n        {\r\n            $(this.selectedBoxEl).empty();\r\n            this.viewSelectedItems.forEach(item =>\r\n            {\r\n                let rowEl = document.createElement('div');\r\n                rowEl.className = 'pane-multi-box-box-row';\r\n                let isProp = item.startsWith('@');\r\n                let displayVal = isProp ? item.replace('@', '') : item;\r\n                rowEl.textContent = displayVal;\r\n                rowEl.id = item;\r\n                if (isProp)\r\n                {\r\n                    rowEl.style.fontStyle = 'italic';\r\n                }\r\n                let index = this.rightSelection.indexOf(item);\r\n                if (index !== -1)\r\n                {\r\n                    rowEl.style.backgroundColor = 'rgb(160, 160, 160)';\r\n                }\r\n                rowEl.onclick = e =>\r\n                {\r\n                    index = this.rightSelection.indexOf(item);\r\n                    if (index !== -1)\r\n                    {\r\n                        this.rightSelection.splice(index, 1);\r\n                        rowEl.style.backgroundColor = 'white';\r\n                    }\r\n                    else\r\n                    {\r\n                        this.rightSelection.push(item);\r\n                        rowEl.style.backgroundColor = 'rgb(160, 160, 160)';\r\n                    }\r\n                }\r\n                this.selectedBoxEl.appendChild(rowEl);\r\n            });\r\n        }\r\n    }\r\n\r\n    applySelection (addToSelection: boolean, removeFromSelection: boolean)\r\n    {\r\n        if (addToSelection)\r\n        {\r\n            this.selectedItems = this.selectedItems.concat(this.leftSelection);\r\n            this.unselectedItems = this.unselectedItems.filter(item =>\r\n            {\r\n                let index = this.leftSelection.indexOf(item);\r\n                return index === -1;\r\n            });\r\n            this.leftSelection = [];\r\n        }\r\n        else if(removeFromSelection)\r\n        {\r\n            this.unselectedItems = this.unselectedItems.concat(this.rightSelection);\r\n            this.selectedItems = this.selectedItems.filter(item =>\r\n            {\r\n                let index = this.rightSelection.indexOf(item);\r\n                return index === -1;\r\n            });\r\n            this.rightSelection = [];\r\n        }\r\n        this.filter(true);\r\n        this.filter(false);\r\n    }\r\n\r\n\tsetUIValue(val: any)\r\n    {\r\n        this.item.value = val;\r\n        if (typeof val === 'string')\r\n        {\r\n            this.inputEl.textContent = val;\r\n        }\r\n        else\r\n        {\r\n            let text = '';\r\n            this.inputEl.textContent = text;\r\n        }\r\n    }\r\n}\r\n\r\nexport class Checkbox extends Entry\r\n{\r\n    boxEl: HTMLElement\r\n    handleEl: HTMLElement\r\n\thiddenCheckbox: HTMLInputElement\r\n\twrapperEl: HTMLElement\r\n\tval: boolean = false\r\n\tisFlagOption: boolean = false\r\n\r\n\tconstructor(item: Item, isFlagOption?: boolean)\r\n    {\r\n\t\tsuper(item);\r\n\t\tif (isFlagOption)\r\n\t\t{\r\n\t\t\tthis.isFlagOption = isFlagOption\r\n\t\t}\r\n\t\tthis.wrapperEl = document.createElement('div');\r\n\t\tthis.wrapperEl.className = \"pane-switch-wrapper\";\r\n\t\tthis.wrapperEl.style.marginLeft = '5px';\r\n\t\tthis.el.appendChild(this.wrapperEl);\r\n        //Hidden checkbox\r\n        this.hiddenCheckbox = document.createElement('input');\r\n        this.hiddenCheckbox.type = 'checkbox';\r\n\t\tthis.hiddenCheckbox.style.display = 'none';\r\n\t\tthis.hiddenCheckbox.value = this.val.toString();\r\n\t\tif (this.item.id)\r\n\t\t{\r\n\t\t\tthis.hiddenCheckbox.id = item.id;\r\n\t\t}\r\n        this.wrapperEl.appendChild(this.hiddenCheckbox);\r\n        //Box element\r\n        this.boxEl = document.createElement('div');\r\n        this.boxEl.className = 'switch-wrapper switch-off';\r\n        this.wrapperEl.appendChild(this.boxEl);\r\n        //Handle element\r\n        this.handleEl = document.createElement('div')\r\n        this.handleEl.className = 'switch-handle';\r\n        this.boxEl.appendChild(this.handleEl);\r\n\r\n\t\tthis.boxEl.onclick = e =>\r\n\t\t{\r\n\t\t\tlet val = this.val ? 'false' : 'true';\r\n\t\t\tthis.setUIValue(val);\r\n\t\t\tif (this.isFlagOption)\r\n\t\t\t{\r\n\t\t\t\tthis.item.context.emit('flag-option-changed', this, this.val);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (!this.item.triggeredByEvent && !this.item.triggeredBySetting && !item.id)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.item.context.emit('user-input', this, this.val);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n    setUIValue(val)\r\n\t{\r\n        this.val = (val === 'true');\r\n        this.item.value = this.val;\r\n        this.hiddenCheckbox.value = val;\r\n        if (this.val)\r\n        {\r\n            $(this.boxEl).removeClass('switch-off').addClass('switch-on');\r\n        }\r\n        else\r\n        {\r\n            $(this.boxEl).removeClass('switch-on').addClass('switch-off');\r\n        }\r\n\r\n    }\r\n\r\n    setKey(key)\r\n    {\r\n        this.key = key.toString();\r\n    }\r\n\r\n}\r\n\r\nexport class Flag extends Folder {\r\n\tinputEl: HTMLInputElement\r\n\tflagValue: string\r\n\toptions: FlagOption[]\r\n\tactivatedOptionsValue: string[]\r\n\tstate: boolean\r\n\ttoggle: any\r\n\r\n\tconstructor(item: Item) {\r\n\t\tsuper(item);\r\n\t\tthis.state = false;\r\n        this.item.context.on('flag-option-changed', (context, value) =>\r\n        {\r\n            let index = this.activatedOptionsValue.indexOf(context.item.text);\r\n            if (value)\r\n            {\r\n                if (index === -1)\r\n                {\r\n                    this.activatedOptionsValue.push(context.item.text);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (index != -1)\r\n                {\r\n                    this.activatedOptionsValue.splice(index, 1);\r\n                }\r\n            }\r\n            this.item.context.emit('user-input', this, this.activatedOptionsValue.join(' '))\r\n        });\r\n\t}\r\n\r\n\taddOptions(options: FlagOption[]) \r\n\t{\r\n\t\tthis.options = options;\r\n\t\toptions.forEach(option =>\r\n\t\t{\r\n\t\t\tlet item = new Item(this.item.context, option.displayName);\r\n\t\t\tthis.item.children.push(item);\r\n\t\t\titem.parent = this.item;\r\n\t\t\titem.value = option.value;\r\n\t\t\titem.visual = new Checkbox(item, true);\r\n\t\t});\r\n\t}\r\n\r\n\tsetUIValue(val: any) {\r\n\t\tthis.activatedOptionsValue = (val as string).split(' ');\r\n\t\tfor (let child of this.item.children) \r\n\t\t{\r\n            let input = child.visual as Checkbox;\r\n            input.setUIValue((this.activatedOptionsValue.indexOf(child.text) !== -1) ? 'true' : 'false');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class Button extends Entry {\r\n\tbuttonEl: HTMLButtonElement\r\n    constructor (item: Item)\r\n    {\r\n\t\tsuper(item, true)\r\n\t\tthis.buttonEl = document.createElement('button')\r\n\t\tthis.buttonEl.classList.add('pane-item-entry-button')\r\n\t\tthis.buttonEl.textContent = item.text\r\n\t\tthis.buttonEl.id = item.id;\r\n\t\tthis.el.appendChild(this.buttonEl)\r\n\t}\r\n\r\n\tsetUIValue(val: any) {\r\n\r\n\t}\r\n}\r\n\r\nexport class PropertyAttributes extends Entry {\r\n\tlistEl: HTMLElement\r\n\tconstructor(item: Item) {\r\n\t\tsuper(item)\r\n\t\tthis.listEl = document.createElement('div')\r\n\t\tthis.el.appendChild(this.listEl)\r\n\t}\r\n\r\n\tfill(list) {\r\n\r\n\r\n\t\tfor (let [k, v] of list) {\r\n\t\t\tlet ulEl = document.createElement('div')\r\n\t\t\tulEl.textContent = k + ': ' + v\r\n\t\t\tthis.listEl.appendChild(ulEl)\r\n\t\t}\r\n\t}\r\n\r\n\tclear() {\r\n\t\twhile (this.listEl.firstChild) {\r\n\t\t\tthis.listEl.removeChild(this.listEl.firstChild)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class Select extends Entry {\r\n\tselectEl: HTMLSelectElement\r\n\tconstructor(item: Item) {\r\n\t\tsuper(item)\r\n\t\tthis.selectEl = document.createElement('select')\r\n\t\tthis.selectEl.classList.add('pane-item-entry-select')\r\n\t\tif(item.id)\r\n\t\t{\r\n\t\t\tthis.selectEl.id = item.id\r\n\t\t}\r\n\r\n        this.el.appendChild(this.selectEl)\r\n\t\tif (!this.item.triggeredByEvent && !this.item.triggeredBySetting && !item.id)\r\n        {\r\n            return\r\n        }\r\n\t\tthis.selectEl.onchange = () => {\r\n\t\t\tthis.item.context.emit('user-input', this, this.selectEl.value)\r\n\t\t}\r\n\r\n\t}\r\n\r\n    setUIValue (val: any)\r\n    {\r\n        this.item.value = val;\r\n        this.selectEl.value = val;\r\n\t}\r\n\r\n    addOptions (displays: string[], optionsVals: string[])\r\n    {\r\n\t\tfor (let i = 0; i < displays.length; i++) {\r\n\t\t\tlet el = document.createElement('option')\r\n\t\t\tel.textContent = displays[i]\r\n\t\t\tel.value = optionsVals[i]\r\n\t\t\tthis.selectEl.appendChild(el)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction hexToRgba(hex) {\r\n\tvar bigint, r, g, b, a;\r\n\t// Remove '#' character or '0x'\r\n\tvar aRgb\r\n\tif (hex[0] == '#') {\r\n\t\taRgb = hex.substr(1)\r\n\t} else {\r\n\t\taRgb = hex.substr(2)\r\n\t}\r\n\r\n\r\n\tbigint = parseInt(aRgb, 16);\r\n\r\n\tr = (bigint >> 16) & 255;\r\n\tg = (bigint >> 8) & 255;\r\n\tb = bigint & 255;\r\n\tvar rgb = r + \",\" + g + \",\" + b;\r\n\ta = ((bigint >> 24) & 255) / 255;\r\n\r\n\treturn {\r\n\t\ta: a,\r\n\t\tr: r,\r\n\t\tg: g,\r\n\t\tb: b\r\n\t}\r\n}\r\n\r\nexport class ColorPicker extends Entry {\r\n\tcolorpicker: HTMLElement\r\n\tpalette: CustomPalette\r\n\tisDefaultSet: boolean = false\r\n\talpha: number // [0, 1]\r\n\tshowAlpha: boolean\r\n\r\n\tconstructor(item: Item) {\r\n        super(item);\r\n\r\n        this.colorpicker = document.createElement('span');\r\n        this.colorpicker.classList.add('pane-item-entry-colorpicker');\r\n\r\n        this.el.appendChild(this.colorpicker);\r\n\r\n        this.colorpicker.addEventListener('click', ev =>\r\n        {\r\n            this.openPalette();\r\n        }, false);\r\n\t}\r\n\r\n\topenPalette() {\r\n        let activeColor = this.colorpicker.dataset['lastPickedColor'];\r\n        this.palette = new CustomPalette(activeColor, this.showAlpha);\r\n        this.palette.on('customColorChosen', color => this.updateElementState(color));\r\n\t}\r\n\r\n\tupdateElementState(color)\r\n\t{\r\n        this.colorpicker.dataset['lastPickedColor'] = color;\r\n        this.colorpicker.style.backgroundColor = color;\r\n        let hashHex = tinycolor(color).toHexString();\r\n        if (color.indexOf('rgba') !== -1)\r\n        {\r\n            let alpha = Math.round(tinycolor(color)._a * 255).toString(16);\r\n            hashHex = hashHex.replace('#', '#' + alpha);\r\n        }\r\n        this.item.value = hashHex;\r\n        if (!this.item.triggeredByEvent && !this.item.triggeredBySetting)\r\n        {\r\n            return;\r\n        }\r\n        this.item.context.emit('user-input', this, hashHex);\r\n\t}\r\n\r\n\thtml(): HTMLElement {\r\n        return this.el;\r\n\t}\r\n\r\n    setUIValue (hexColor: any)\r\n    {\r\n        let RGBAColor = hexToRgba(hexColor);\r\n        this.item.value = hexColor;\r\n        this.alpha = RGBAColor.a;\r\n        let cssColor;\r\n\t\tif(this.showAlpha) {\r\n            cssColor = `rgba(${RGBAColor.r}, ${RGBAColor.g}, ${RGBAColor.b}, ${this.alpha})`;\r\n\t\t}\r\n\t\telse {\r\n            cssColor = `rgb(${RGBAColor.r}, ${RGBAColor.g}, ${RGBAColor.b})`;\r\n\t\t}\r\n\t\tif (!this.isDefaultSet) {\r\n            this.colorpicker.dataset['defaultColor'] = cssColor;\r\n            this.isDefaultSet = true;\r\n\t\t}\r\n\r\n        this.colorpicker.dataset['lastPickedColor'] = cssColor;\r\n        this.colorpicker.style.backgroundColor = cssColor;\r\n\t}\r\n}\r\n\r\nexport class Slider extends Entry\r\n{\r\n\tsliderOffset: number\r\n\tsliderWidth: number\r\n\tinputEl: HTMLInputElement\r\n\tfedBar: HTMLElement\r\n\thandleEl: HTMLElement\r\n\twrapperEl: HTMLElement\r\n\thasTouchHandler: boolean = false\r\n\r\n\tconstructor(item: Item)\r\n\t{\r\n\t\tsuper(item);\r\n\t\tthis.wrapperEl = document.createElement('div');\r\n\t\tthis.wrapperEl.className = \"pane-item-entry-wrapper\";\r\n\t\tthis.sliderOffset = 0;\r\n\t\tthis.sliderWidth = 0;\r\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\r\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\r\n\t\tthis.handleMouseUp = this.handleMouseUp.bind(this);\r\n\r\n\t\tthis.el.appendChild(this.wrapperEl);\r\n\t\t//Input\r\n\t\tthis.inputEl = document.createElement('input');\r\n\t\tthis.inputEl.className = 'slider-value-input';\r\n\t\tthis.inputEl.min = '0';\r\n\t\tthis.inputEl.max = '100';\r\n\t\tthis.inputEl.style.width = '25px';\r\n\t\tthis.inputEl.onblur = ev =>\r\n\t\t{\r\n\t\t\tthis.item.context.emit('user-input', this, parseFloat(this.inputEl.value) / 100);\r\n            this.setUIValue(parseFloat(this.inputEl.value) / 100);\r\n            this.item.value = parseFloat(this.inputEl.value) / 100;\r\n\t\t};\r\n\r\n\t\tthis.inputEl.onchange = ev =>\r\n\t\t{\r\n\t\t\tthis.handleInputChanged(ev);\r\n\t\t};\r\n\t\tthis.wrapperEl.appendChild(this.inputEl);\r\n\r\n\t\t//Slider wrapper\r\n\t\tlet sliderWrapper = document.createElement('div');\r\n\t\tsliderWrapper.className = 'slider-wrapper';\r\n\t\tsliderWrapper.style.width = 'calc(100% - 50px)';\r\n\t\tthis.wrapperEl.appendChild(sliderWrapper);\r\n\r\n\t\t//Slider bar (whole)\r\n\t\tlet sliderBar = document.createElement('div');\r\n\t\tsliderBar.style.position = 'relative';\r\n\t\tsliderBar.className = 'slider-bar';\r\n\t\tsliderWrapper.appendChild(sliderBar);\r\n\r\n\t\t//Slider bar fed\r\n\t\tthis.fedBar = document.createElement('span');\r\n\t\tthis.fedBar.className = 'slider-bar-filled';\r\n\t\tsliderBar.appendChild(this.fedBar);\r\n\t\t//Slider handle\r\n\t\tthis.handleEl = document.createElement('div');\r\n\t\tthis.handleEl.style.marginLeft = '0';\r\n\t\t$(this.handleEl).addClass('slider-handle draggable');\r\n\t\tsliderBar.appendChild(this.handleEl);\r\n\t\tthis.handleEl.addEventListener('touchstart', this.handleMouseDown)\r\n\t\tthis.handleEl.onmousedown = ev =>\r\n\t\t{\r\n\t\t\tthis.handleMouseDown(ev);\r\n\t\t}\r\n\r\n\t\tsliderBar.onmousedown = ev =>\r\n\t\t{\r\n\t\t\tthis.handleClick(ev);\r\n\t\t};\r\n\r\n\t\t//Slider bar empty\r\n\t\tlet emptyBar = document.createElement('span');\r\n\t\temptyBar.className = 'slider-bar-empty';\r\n\t\temptyBar.style.width = '100%';\r\n\t\tsliderBar.appendChild(emptyBar);\r\n\t}\r\n\r\n\tsetUIValue(val)\r\n\t{\r\n\t\tlet initialSet = false;\r\n        if (this.inputEl.value === '' || !this.inputEl.value || this.inputEl.value === undefined)\r\n        {\r\n            initialSet = true;\r\n        }\r\n        this.inputEl.value = Math.round(val * 100) + '';\r\n        if (initialSet || parseFloat(this.handleEl.style.left.replace('%', \"\")) !== val )\r\n\t\t{\r\n\t\t\tlet sliderWidth = $(this.inputEl).next().children().first().width();\r\n\t\t\tlet positionAbsolute = sliderWidth * val;\r\n\t\t\tlet fullElementWidth = sliderWidth;\r\n\t\t\tlet positionRelativeToFullWidth;\r\n\t\t\tif (positionAbsolute <= 5)\r\n\t\t\t{\r\n\t\t\t\tpositionRelativeToFullWidth = '0px';\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tpositionRelativeToFullWidth = 100 / (fullElementWidth / positionAbsolute) + '%';\r\n\t\t\t}\r\n\t\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n\t\t\tthis.fedBar.style.width = positionRelativeToFullWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tsetKey(key)\r\n\t{\r\n\t\tthis.key = key.toString();\r\n\t}\r\n\r\n\thandleInputChanged(e)\r\n\t{\r\n\t\tlet val = e.target.value;\r\n\t\tlet sliderWidth = $(e.target).next().children().first().width();\r\n\t\tlet positionAbsolute = (sliderWidth / 100) * val;\r\n\t\tlet fullElementWidth = sliderWidth;\r\n\t\tlet positionRelativeToFullWidth;\r\n\t\tif (positionAbsolute <= 5)\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = '0px';\r\n\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = 100 / (fullElementWidth / positionAbsolute) + '%';\r\n\t\t}\r\n\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n\t\tthis.fedBar.style.width = positionRelativeToFullWidth;\r\n        this.item.context.emit('user-input', this, val / 100);\r\n        this.item.value = val / 100;\r\n\t}\r\n\r\n\thandleClick(e)\r\n\t{\r\n\t\tthis.sliderWidth = $(e.target).width();\r\n\t\tthis.sliderOffset = $(e.target).offset().left;\r\n\t\tlet positionAbsolute = Math.min(Math.max(0, (e.pageX - this.sliderOffset)), this.sliderWidth);\r\n\t\tlet valueRelativeToHundred = 100 / (this.sliderWidth / positionAbsolute);\r\n\t\tlet fullElementWidth = this.sliderWidth;\r\n\t\tlet positionRelativeToFullWidth;\r\n\t\tif (positionAbsolute <= 5)\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = '0px';\r\n\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = 100 / (fullElementWidth / positionAbsolute) + '%';\r\n\t\t}\r\n\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n\t\tthis.fedBar.style.width = positionRelativeToFullWidth;\r\n\t\tthis.setUIValue(valueRelativeToHundred / 100);\r\n        this.item.context.emit('user-input', this, valueRelativeToHundred / 100);\r\n        this.item.value = valueRelativeToHundred / 100;\r\n\t}\r\n\r\n\thandleMouseMove = function (e)\r\n\t{\r\n\t\tlet positionAbsolute: number;\r\n\t\tif (e.touches)\r\n\t\t{\r\n\t\t\tpositionAbsolute = Math.min(Math.max(0, (e.touches[0].pageX - this.sliderOffset)), this.sliderWidth);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionAbsolute = Math.min(Math.max(0, (e.pageX - this.sliderOffset)), this.sliderWidth);\r\n\t\t}\r\n\t\tlet valueRelativeToHundred = 100 / (this.sliderWidth / positionAbsolute);\r\n\t\tlet fullElementWidth = this.sliderWidth;\r\n\t\tlet positionRelativeToFullWidth;\r\n\t\tif (positionAbsolute <= 5)\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = '0px';\r\n\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = 100 / (fullElementWidth / positionAbsolute) + '%';\r\n\t\t}\r\n\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n\t\tthis.fedBar.style.width = positionRelativeToFullWidth;\r\n\t\tthis.setUIValue(valueRelativeToHundred / 100);\r\n\t}\r\n\r\n\thandleMouseUp = function (e)\r\n\t{\r\n\t\tlet positionAbsolute: number;\r\n\t\tif (e.touches)\r\n\t\t{\r\n\t\t\tpositionAbsolute = Math.min(Math.max(0, (e.changedTouches[0].pageX - this.sliderOffset - 5)), this.sliderWidth);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionAbsolute = Math.min(Math.max(0, (e.pageX - this.sliderOffset - 5)), this.sliderWidth);\r\n\t\t}\r\n\t\tlet valueRelativeToHundred = 100 / (this.sliderWidth / positionAbsolute);\r\n\t\tthis.setUIValue(valueRelativeToHundred / 100);\r\n        this.item.context.emit('user-input', this, valueRelativeToHundred / 100);\r\n        this.item.value = valueRelativeToHundred / 100;\r\n\t\tdocument.removeEventListener('mouseup', this.handleMouseUp);\r\n\t\tdocument.removeEventListener('mousemove', this.handleMouseMove);\r\n\t\tdocument.removeEventListener('touchmove', this.handleMouseMove)\r\n\t\tdocument.removeEventListener('touchend', this.handleMouseUp)\r\n\t}\r\n\r\n\thandleMouseDown = function (e)\r\n\t{\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tthis.sliderOffset = $(e.target).parent().offset().left;\r\n\t\tthis.sliderWidth = $(e.target).parent().width();\r\n\t\tdocument.addEventListener('mouseup', this.handleMouseUp);\r\n\t\tdocument.addEventListener('mousemove', this.handleMouseMove);\r\n\t\tdocument.addEventListener('touchmove', this.handleMouseMove)\r\n\t\tdocument.addEventListener('touchend', this.handleMouseUp)\r\n\t}\r\n}\r\n\r\nexport class SingleSwitch\r\n{\r\n    boxEl: HTMLElement\r\n    handleEl: HTMLElement\r\n\thiddenCheckbox: HTMLInputElement\r\n\twrapperEl: HTMLElement\r\n\tparent: HTMLElement\r\n\tval: string\r\n\ttitleEl: HTMLElement\r\n\r\n    constructor(parent: HTMLElement, title: string, val: string, clickCallback: any)\r\n    {\r\n\t\tthis.parent = parent;\r\n\t\tthis.wrapperEl = document.createElement('div')\r\n\t\tthis.wrapperEl.className = \"pane-inline-switch-wrapper\";\r\n\t\tthis.titleEl = document.createElement('div');\r\n\t\tthis.parent.appendChild(this.wrapperEl);\r\n        //Hidden checkbox\r\n        this.hiddenCheckbox = document.createElement('input');\r\n        this.hiddenCheckbox.type = 'checkbox';\r\n        this.hiddenCheckbox.value = this.val;\r\n\t\tthis.hiddenCheckbox.style.display = 'none';\r\n        this.wrapperEl.appendChild(this.hiddenCheckbox);\r\n        //Title element\r\n        this.titleEl.className = 'pane-inline-switch-title';\r\n        this.setKey(title);\r\n        this.wrapperEl.appendChild(this.titleEl);\r\n        //Box element\r\n        this.boxEl = document.createElement('div');\r\n\t\tthis.boxEl.className = 'switch-wrapper switch-on';\r\n        this.wrapperEl.appendChild(this.boxEl);\r\n        //Handle element\r\n        this.handleEl = document.createElement('div');\r\n        this.handleEl.className = 'switch-handle';\r\n        this.boxEl.appendChild(this.handleEl);\r\n\r\n\t\tthis.wrapperEl.onclick = e =>\r\n        {\r\n            let val = this.val === 'true' ? 'false' : 'true';\r\n            this.setValue(val);\r\n\t\t\tclickCallback(val);\r\n\t\t};\r\n\t\tthis.setValue(val);\r\n    }\r\n\r\n    setValue(val: string)\r\n    {\r\n\t\tthis.val = val;\r\n\t\tthis.hiddenCheckbox.value = this.val;\r\n\t\tlet boolVal = this.val === 'true';\r\n        if (boolVal)\r\n        {\r\n            $(this.boxEl).removeClass('switch-off').addClass('switch-on');\r\n        }\r\n        else\r\n        {\r\n            $(this.boxEl).removeClass('switch-on').addClass('switch-off');\r\n        }\r\n\r\n    }\r\n\r\n    setKey(key)\r\n    {\r\n        this.titleEl.textContent = key;\r\n    }\r\n\r\n}\r\n\r\nexport class PlainSwitch\r\n{\r\n    //Switch member\r\n\tboxEl: HTMLElement\r\n    handleEl: HTMLElement\r\n    hiddenCheckbox: HTMLInputElement\r\n    switchWrapperEl: HTMLElement\r\n    val: string = 'false'\r\n    //General member\r\n\ttooltip: WVTooltip\r\n\twrapperEl: HTMLTableRowElement\r\n\tlangId: string\r\n\ttooltipId: string\r\n    callback: any\r\n    nameEl: HTMLTableDataCellElement\r\n\r\n\tconstructor (indent: number, parent: HTMLElement, langId: string, tooltipId: string, callback: any, isPoppedOut: boolean = false)\r\n\t{\r\n\t\tthis.langId = langId;\r\n\t\tthis.tooltipId = tooltipId;\r\n\t\tthis.callback = callback;\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n\t\tparent.appendChild(this.wrapperEl);\r\n\r\n\t\tthis.nameEl = document.createElement('td');\r\n\t\tthis.nameEl.className = 'pane-item-entry-name';\r\n\t\tthis.nameEl.textContent = ui.translate(langId);\r\n\t\tapplyIndent(this.nameEl, indent);\r\n\t\tthis.tooltip = new WVTooltip(this.nameEl);\r\n\t\tthis.wrapperEl.appendChild(this.nameEl);\r\n\r\n\t\tlet buttonWrapper = document.createElement('td');\r\n\t\tbuttonWrapper.className = 'pane-item-visual';\r\n\t\tbuttonWrapper.style.position = 'relative';\r\n\t\tthis.wrapperEl.appendChild(buttonWrapper);\r\n\r\n\t\tthis.switchWrapperEl = document.createElement('div')\r\n        this.switchWrapperEl.className = \"pane-inline-switch-wrapper\";\r\n        this.switchWrapperEl.style.marginLeft = '5px';\r\n        buttonWrapper.appendChild(this.switchWrapperEl);\r\n        //Hidden checkbox\r\n        this.hiddenCheckbox = document.createElement('input');\r\n        this.hiddenCheckbox.type = 'checkbox';\r\n        this.hiddenCheckbox.value = this.val;\r\n\t\tthis.hiddenCheckbox.style.display = 'none';\r\n        this.switchWrapperEl.appendChild(this.hiddenCheckbox);\r\n        //Box element\r\n        this.boxEl = document.createElement('div');\r\n\t\tthis.boxEl.className = 'switch-wrapper switch-on';\r\n        this.switchWrapperEl.appendChild(this.boxEl);\r\n        //Handle element\r\n        this.handleEl = document.createElement('div')\r\n        this.handleEl.className = 'switch-handle';\r\n        this.boxEl.appendChild(this.handleEl);\r\n\r\n\t\tthis.switchWrapperEl.onclick = e =>\r\n\t\t{\r\n\t\t\tthis.setVal(this.val === 'true' ? 'false' : 'true');\r\n\t\t\tcallback(this.val === 'true');\r\n        };\r\n        this.setVal('false');\r\n\r\n\t\tif (!isPoppedOut)\r\n\t\t{\r\n\t\t\tvsClient.on('@changeLang', lang =>\r\n\t\t\t{\r\n                this.translate();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    setVal(val: string)\r\n    {\r\n\t\tthis.val = val;\r\n\t\tthis.hiddenCheckbox.value = this.val;\r\n\t\tlet boolVal = this.val === 'true';\r\n        if (boolVal)\r\n        {\r\n            $(this.boxEl).removeClass('switch-off').addClass('switch-on');\r\n        }\r\n        else\r\n        {\r\n            $(this.boxEl).removeClass('switch-on').addClass('switch-off');\r\n        }\r\n    }\r\n\r\n    translate (translationCallback?)\r\n    {\r\n        this.setText(translationCallback);\r\n        this.setTooltip(translationCallback);\r\n    }\r\n\r\n\tsetText(translationCallback?) {\r\n\t\tthis.nameEl.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.langId);\r\n\t}\r\n\r\n\tsetTooltip(translationCallback?) {\r\n\t\tthis.tooltip.setTitle(translationCallback ? translationCallback(this.langId) : this.tooltipId);\r\n    }\r\n}\r\n\r\nexport class PlainGroup\r\n{\r\n\ttext: string\r\n\texpander: HTMLElement\r\n\tboldText: HTMLElement\r\n\tkey: string\r\n\ttooltip: WVTooltip\r\n\tchildren: HTMLElement[] = []\r\n\tchildGroups: PlainGroup[] = []\r\n\twrapperEl: HTMLTableRowElement\r\n\tlangId: string\r\n\ttooltipLangId\r\n\tminus: string = 'fa-minus-square';\r\n\tplus:string = 'fa-plus-square';\r\n\r\n\tcollapse = (alterIcon = false) => {\r\n\t\tif (alterIcon) {\r\n\t\t\tthis.expander.classList.remove(this.minus);\r\n\t\t\tthis.expander.classList.add(this.plus);\r\n\t\t}\r\n\t\tthis.children.forEach(item =>\r\n\t\t{\r\n\t\t\t$(item).hide();\r\n\t\t});\r\n\t\tif (this.childGroups.length > 0)\r\n\t\t{\r\n\t\t\tthis.childGroups.forEach(item =>\r\n\t\t\t{\r\n\t\t\t\t$(item.wrapperEl).hide();\r\n\t\t\t\titem.collapse(false);\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\texpand = (alterIcon = false) => {\r\n\t\tif (alterIcon) {\r\n\t\t\tthis.expander.classList.remove(this.plus);\r\n\t\t\tthis.expander.classList.add(this.minus);\r\n\t\t}\r\n\t\tthis.children.forEach(item =>\r\n\t\t{\r\n\t\t\t$(item).show();\r\n\t\t});\r\n\t\tif (this.childGroups.length > 0)\r\n\t\t{\r\n\t\t\tthis.childGroups.forEach(item =>\r\n\t\t\t{\r\n\t\t\t\t$(item.wrapperEl).show();\r\n\t\t\t\tif ($(item.expander).hasClass(this.minus))\r\n\t\t\t\t{\r\n\t\t\t\t\titem.expand(false);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor (indent: number, parent: HTMLElement, langId: string, tooltipLangId: string, isPoppedOut: boolean = false)\r\n\t{\r\n\t\tthis.langId = langId;\r\n\t\tthis.tooltipLangId = tooltipLangId;\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n\t\tparent.appendChild(this.wrapperEl);\r\n\r\n\t\tlet el = document.createElement('td');\r\n\t\tel.colSpan = 2\r\n\t\tel.className = 'pane-item-visual pane-item-group';\r\n\t\tapplyIndent(el, indent);\r\n\t\tthis.tooltip = new WVTooltip(el);\r\n\t\tthis.wrapperEl.appendChild(el);\r\n\r\n\t\tthis.expander = document.createElement('i');\r\n\t\tthis.expander.classList.add('far');\r\n\t\tthis.expander.classList.add(this.minus);\r\n\t\tthis.expander.addEventListener('click', ev => {\r\n\t\t\tif (this.expander.classList.contains(this.minus)) {\r\n\t\t\t\tthis.collapse(true);\r\n\t\t\t} else if (this.expander.classList.contains(this.plus))\r\n\t\t\t{\r\n\t\t\t\tthis.expand(true);\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tlet spacing = document.createElement('span');\r\n\t\tspacing.textContent = ' ';\r\n\t\tspacing.classList.add('pane-item-spacing');\r\n\r\n\t\tthis.boldText = document.createElement('b');\r\n        this.boldText.textContent = ui.translate(langId);\r\n\r\n\t\tel.appendChild(this.expander);\r\n\t\tel.appendChild(spacing);\r\n\t\tel.appendChild(this.boldText);\r\n\r\n\t\tif (!isPoppedOut)\r\n\t\t{\r\n\t\t\tvsClient.on('@changeLang', lang =>\r\n\t\t\t{\r\n\t\t\t\tthis.translate();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    translate (translationCallback?)\r\n    {\r\n        this.setText(translationCallback);\r\n        this.setTooltip(translationCallback);\r\n    }\r\n\r\n\tsetText(translationCallback?) {\r\n\t\tthis.boldText.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.langId);\r\n\t}\r\n\r\n\tsetTooltip(translationCallback?) {\r\n\t\tthis.tooltip.setTitle(translationCallback ? translationCallback(this.langId) : ui.translate(this.tooltipLangId));\r\n\t}\r\n}\r\n\r\nexport class PlainButton {\r\n\tbuttonEl: HTMLButtonElement\r\n\tnameEl: HTMLTableDataCellElement\r\n\ttooltip: WVTooltip\r\n\twrapperEl: HTMLTableRowElement\r\n\tlangId: string\r\n\ttooltipId: string\r\n\tbuttonLangId: string\r\n\tcallback: any\r\n\r\n\tconstructor (indent: number, parent: HTMLElement, langId: string, tooltipId: string, buttonLangId: string, callback: any, isPoppedOut: boolean = false)\r\n\t{\r\n\t\tthis.langId = langId;\r\n\t\tthis.tooltipId = tooltipId;\r\n\t\tthis.buttonLangId = buttonLangId;\r\n\t\tthis.callback = callback;\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n\t\tparent.appendChild(this.wrapperEl);\r\n\r\n\t\tthis.nameEl = document.createElement('td');\r\n\t\tthis.nameEl.className = 'pane-item-entry-name';\r\n\t\tthis.nameEl.textContent = ui.translate(langId);\r\n\t\tapplyIndent(this.nameEl, indent);\r\n\t\tthis.tooltip = new WVTooltip(this.nameEl);\r\n\t\tthis.wrapperEl.appendChild(this.nameEl);\r\n\r\n\t\tlet buttonWrapper = document.createElement('td');\r\n\t\tbuttonWrapper.className = 'pane-item-visual';\r\n\t\tbuttonWrapper.style.position = 'relative';\r\n\t\tthis.wrapperEl.appendChild(buttonWrapper);\r\n\r\n\t\tthis.buttonEl = document.createElement('button');\r\n\t\tthis.buttonEl.classList.add('pane-item-entry-button')\r\n\t\tthis.buttonEl.textContent = ui.translate(buttonLangId);\r\n\t\tthis.buttonEl.onclick = (ev) =>\r\n\t\t{\r\n\t\t\tthis.callback();\r\n\t\t}\r\n\t\tbuttonWrapper.appendChild(this.buttonEl);\r\n\r\n\t\tif (!isPoppedOut)\r\n\t\t{\r\n\t\t\tvsClient.on('@changeLang', lang =>\r\n\t\t\t{\r\n                this.translate();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    translate (translationCallback?)\r\n    {\r\n        this.setText(translationCallback);\r\n        this.setTooltip(translationCallback);\r\n    }\r\n\r\n    setText (translationCallback?)\r\n    {\r\n\t\tthis.nameEl.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.langId);\r\n\t\tthis.buttonEl.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.buttonLangId);\r\n\t}\r\n\r\n\tsetTooltip(translationCallback?) {\r\n\t\tthis.tooltip.setTitle(translationCallback ? translationCallback(this.langId) : this.tooltipId);\r\n    }\r\n}\r\n\r\nexport interface PlainOption {\r\n    name: string,\r\n    val: string,\r\n    isDefault: boolean,\r\n    isActive?: boolean,\r\n    isCustom?: boolean\r\n};\r\n\r\nexport class PlainSelect {\r\n    selectEl: HTMLSelectElement\r\n    langId: string\r\n    tooltipId: string\r\n    callback: any\r\n    tooltip: WVTooltip\r\n    nameEl: HTMLTableDataCellElement\r\n    wrapperEl: HTMLTableRowElement\r\n\r\n\tconstructor(indent: number, parent: HTMLElement, langId: string, tooltipId: string, callback: any, isPoppedOut: boolean = false) {\r\n        this.langId = langId;\r\n\t\tthis.tooltipId = tooltipId;\r\n\t\tthis.callback = callback;\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n        parent.appendChild(this.wrapperEl);\r\n        \r\n\t\tthis.nameEl = document.createElement('td');\r\n\t\tthis.nameEl.className = 'pane-item-entry-name';\r\n\t\tthis.nameEl.textContent = ui.translate(langId);\r\n\t\tapplyIndent(this.nameEl, indent);\r\n\t\tthis.tooltip = new WVTooltip(this.nameEl);\r\n        this.wrapperEl.appendChild(this.nameEl);\r\n\r\n        let selectWrapper = document.createElement('td');\r\n\t\tselectWrapper.className = 'pane-item-visual';\r\n\t\tselectWrapper.style.position = 'relative';\r\n\t\tthis.wrapperEl.appendChild(selectWrapper);\r\n        \r\n        this.selectEl = document.createElement('select');\r\n        this.selectEl.classList.add('pane-item-entry-select');\r\n\t\tselectWrapper.appendChild(this.selectEl)\r\n        this.selectEl.onchange = () =>\r\n        {\r\n            this.callback(this.selectEl.value);\r\n        }\r\n\r\n        if (!isPoppedOut)\r\n\t\t{\r\n\t\t\tvsClient.on('@changeLang', lang =>\r\n\t\t\t{\r\n\t\t\t\tthis.translate();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    translate (translationCallback?)\r\n    {\r\n        this.setText(translationCallback);\r\n        this.setTooltip(translationCallback);\r\n    }\r\n\r\n\tsetText(translationCallback?) {\r\n\t\tthis.nameEl.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.langId);\r\n\t}\r\n\r\n\tsetTooltip(translationCallback?) {\r\n\t\tthis.tooltip.setTitle(translationCallback ? translationCallback(this.langId) : this.tooltipId);\r\n    }\r\n\r\n    clearOptions ()\r\n    {\r\n        $(this.selectEl).empty();\r\n    }\r\n\r\n    addOptions (options: PlainOption[])\r\n    {\r\n        for (let i = 0; i < options.length; i++)\r\n        {\r\n            let el = document.createElement('option');\r\n            el.textContent = options[i].name;\r\n            el.value = options[i].val;\r\n            this.selectEl.appendChild(el);\r\n            if (options[i].isDefault)\r\n            {\r\n                el.selected = true;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport class PlainSelectSingleLine {\r\n    selectEl: HTMLSelectElement\r\n    callback: any\r\n    wrapperEl: HTMLTableRowElement\r\n    selectWrapperEl: HTMLTableDataCellElement\r\n    options: PlainOption[]\r\n    activePreset: PlainOption\r\n\r\n\tconstructor(indent: number, parent: HTMLElement, callback: any) {\r\n\t\tthis.callback = callback;\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n        parent.appendChild(this.wrapperEl);\r\n\r\n        this.selectWrapperEl = document.createElement('td');\r\n        this.selectWrapperEl.colSpan = 2;\r\n        applyIndent(this.selectWrapperEl, indent);\r\n\t\tthis.selectWrapperEl.className = 'pane-item-visual';\r\n        this.selectWrapperEl.style.position = 'relative';\r\n\t\tthis.wrapperEl.appendChild(this.selectWrapperEl);\r\n        \r\n        this.selectEl = document.createElement('select');\r\n        this.selectEl.classList.add('pane-item-entry-select-single-line');\r\n        this.selectWrapperEl.appendChild(this.selectEl);\r\n        this.selectEl.onchange = () =>\r\n        {\r\n            let name = this.selectEl.options[this.selectEl.selectedIndex].text;\r\n            this.setActivePreset(name);\r\n            this.callback(this.selectEl.value);\r\n        }\r\n    }\r\n\r\n    setActivePreset (name: string)\r\n    {\r\n        for (let i = 0; i < this.options.length; i++)\r\n        {\r\n            if (this.options[i].name === name)\r\n            {\r\n                this.options[i].isActive = true;\r\n                this.activePreset = this.options[i];\r\n                this.selectEl.options[i].selected = true;\r\n            }\r\n            else\r\n            {\r\n                this.options[i].isActive = false;\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    getActivePreset ()\r\n    {\r\n        if (this.activePreset)\r\n        {\r\n            return this.activePreset;\r\n        }\r\n        let name = this.selectEl.options[this.selectEl.selectedIndex].text;\r\n        for (let i = 0; i < this.options.length; i++)\r\n        {\r\n            if (this.options[i].name === name)\r\n            {\r\n                return this.options[i];\r\n            }\r\n        }\r\n    }\r\n\r\n    removeOption (option: PlainOption)\r\n    {\r\n        this.options.splice(this.options.indexOf(option), 1);\r\n        this.setOptions(this.options);\r\n    }\r\n\r\n    removeOptionByName (name: string)\r\n    {\r\n        let index = this.options.map((item: PlainOption) => { return item.name }).indexOf(name);\r\n        if (index !== -1)\r\n        {\r\n            this.options.splice(index, 1);\r\n            this.setOptions(this.options);\r\n        }\r\n    }\r\n\r\n    setOptions (options: PlainOption[])\r\n    {\r\n        $(this.selectEl).empty();\r\n        this.options = options;\r\n        for (let i = 0; i < options.length; i++) {\r\n            let el = document.createElement('option');\r\n            el.textContent = options[i].name;\r\n            el.value = options[i].val;\r\n            this.selectEl.appendChild(el);\r\n            if (options[i].isCustom)\r\n            {\r\n                el.className = 'pane-preset-option-custom';\r\n            }\r\n            if (options[i].isDefault)\r\n            {\r\n                $(this.selectEl).children().removeClass('pane-preset-option-default');\r\n                $(el).addClass('pane-preset-option-default');\r\n            }\r\n            if ((options[i].isDefault && !this.activePreset) || options[i].isActive)\r\n            {\r\n                el.selected = true;\r\n            }\r\n\t\t}\r\n    }\r\n\r\n    setDefault (option)\r\n    {\r\n        for (let i = 0; i < this.options.length; i++)\r\n        {\r\n            if (this.options[i].name === option.name)\r\n            {\r\n                this.options[i].isDefault = true;\r\n            }\r\n            else\r\n            {\r\n                this.options[i].isDefault = false;\r\n            }\r\n        }\r\n        this.setOptions(this.options);\r\n    }\r\n\r\n    restoreDefault ()\r\n    {\r\n        for (let i = 0; i < this.options.length; i++)\r\n        {\r\n            if (this.options[i].isDefault)\r\n            {\r\n                this.setActivePreset(this.options[i].name);\r\n                return this.options[i];\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    \r\n    addOption (option: PlainOption)\r\n    {\r\n        let el = document.createElement('option');\r\n        el.textContent = option.name;\r\n        el.value = option.val;\r\n        if (option.isCustom)\r\n        {\r\n            el.className = 'pane-preset-option-custom';\r\n        }\r\n        this.selectEl.appendChild(el);\r\n        this.options.push(option);\r\n        el.selected = true;\r\n    }\r\n}\r\n\r\n\r\nexport class PlainInput {\r\n\tinputEl: HTMLElement\r\n\tnameEl: HTMLTableDataCellElement\r\n\ttooltip: WVTooltip\r\n\twrapperEl: HTMLTableRowElement\r\n\tlangId: string\r\n\ttooltipId: string\r\n\tcallback: any\r\n\tsuffix: string\r\n\r\n\tconstructor (indent: number, parent: HTMLElement, langId: string, tooltipId: string, editable: string, callback: any, suffix?: string, isPoppedOut: boolean = false)\r\n\t{\r\n\t\tthis.langId = langId;\r\n\t\tthis.tooltipId = tooltipId;\r\n\t\tthis.callback = callback;\r\n\t\tif (suffix)\r\n\t\t{\r\n\t\t\tthis.suffix = suffix;\r\n\t\t}\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n\t\tparent.appendChild(this.wrapperEl);\r\n\r\n\t\tthis.nameEl = document.createElement('td');\r\n\t\tthis.nameEl.className = 'pane-item-entry-name';\r\n\t\tthis.nameEl.textContent = ui.translate(langId);\r\n\t\tapplyIndent(this.nameEl, indent);\r\n\t\tthis.tooltip = new WVTooltip(this.nameEl);\r\n\t\tthis.wrapperEl.appendChild(this.nameEl);\r\n\r\n\t\tlet inputWrapper = document.createElement('td');\r\n\t\tinputWrapper.className = 'pane-item-visual';\r\n\t\tinputWrapper.style.position = 'relative';\r\n\t\tthis.wrapperEl.appendChild(inputWrapper);\r\n\r\n\t\tthis.inputEl = document.createElement('div');\r\n\t\tthis.inputEl.classList.add('pane-item-entry-input');\r\n\t\tthis.inputEl.contentEditable = editable;\r\n\t\tinputWrapper.appendChild(this.inputEl);\r\n\r\n\t\t//Add event listener for editable inputs\r\n\t\tif (editable)\r\n\t\t{\r\n\t\t\tthis.inputEl.addEventListener('keyup', ev =>\r\n\t\t\t{\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\tev.stopPropagation();\r\n\t\t\t})\r\n\r\n\t\t\tthis.inputEl.addEventListener('focus', ev =>\r\n            {\r\n                appStates.preventGlobalKeyEvents = true;\r\n\t\t\t\tif (this.suffix)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetTimeout(() =>\r\n\t\t\t\t\t{\r\n                        this.inputEl.textContent = parseFloat(this.inputEl.textContent).toString();\r\n                        selectText(this.inputEl);\r\n\t\t\t\t\t}, 100);\r\n                }\r\n                else\r\n                {\r\n                    selectText(this.inputEl);\r\n                }\r\n\t\t\t});\r\n\r\n\t\t\tthis.inputEl.addEventListener('blur', ev =>\r\n            {\r\n                appStates.preventGlobalKeyEvents = true;\r\n\t\t\t\tlet val = this.inputEl.textContent;\r\n\t\t\t\tif (this.suffix)\r\n\t\t\t\t{\r\n\t\t\t\t\tval = parseFloat(this.inputEl.textContent).toString();\r\n\t\t\t\t}\r\n\t\t\t\tthis.callback(val);\r\n\t\t\t});\r\n\r\n\t\t\tthis.inputEl.addEventListener('keydown', ev =>\r\n\t\t\t{\r\n\t\t\t\tif (ev.keyCode === 13)\r\n\t\t\t\t{\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t\tlet val = this.inputEl.textContent;\r\n\t\t\t\t\tif (this.suffix)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tval = parseFloat(this.inputEl.textContent).toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.callback(val);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tif (!isPoppedOut)\r\n\t\t{\r\n\t\t\tvsClient.on('@changeLang', lang =>\r\n\t\t\t{\r\n\t\t\t\tthis.translate();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tsetVal (val: any)\r\n\t{\r\n\t\tif (this.suffix)\r\n\t\t{\r\n\t\t\tif (this.suffix === '')\r\n\t\t\t{\r\n\t\t\t\tval = parseFloat(val) + this.suffix\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tval = parseFloat(val) + \" \" + this.suffix\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.inputEl.textContent = val\r\n    }\r\n    \r\n    translate (translationCallback?)\r\n    {\r\n        this.setText(translationCallback);\r\n        this.setTooltip(translationCallback);\r\n    }\r\n\r\n\tsetText(translationCallback?) {\r\n\t\tthis.nameEl.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.langId);\r\n\t}\r\n\r\n\tsetTooltip(translationCallback?) {\r\n\t\tthis.tooltip.setTitle(translationCallback ? translationCallback(this.langId) : this.tooltipId);\r\n    }\r\n}\r\n\r\nexport class PlainSlider {\r\n\tnameEl: HTMLTableDataCellElement\r\n\ttooltip: WVTooltip\r\n\twrapperEl: HTMLTableRowElement\r\n\tlangId: string\r\n\ttooltipId: string\r\n\tcallback: any\r\n\tsliderOffset: number\r\n\tsliderWidth: number\r\n\tinputEl: HTMLInputElement\r\n\tfedBar: HTMLElement\r\n    handleEl: HTMLElement\r\n\r\n\tconstructor (indent: number, parent: HTMLElement, langId: string, tooltipId: string, callback: any, isPoppedOut: boolean = false)\r\n\t{\r\n\t\tthis.langId = langId;\r\n\t\tthis.tooltipId = tooltipId;\r\n\t\tthis.callback = callback;\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n\t\tparent.appendChild(this.wrapperEl);\r\n\r\n\t\tthis.nameEl = document.createElement('td');\r\n\t\tthis.nameEl.className = 'pane-item-entry-name';\r\n\t\tthis.nameEl.textContent = ui.translate(langId);\r\n\t\tapplyIndent(this.nameEl, indent);\r\n\t\tthis.tooltip = new WVTooltip(this.nameEl);\r\n\t\tthis.wrapperEl.appendChild(this.nameEl);\r\n\r\n\t\tlet itemWrapper = document.createElement('td');\r\n\t\titemWrapper.className = 'pane-item-visual';\r\n\t\titemWrapper.style.position = 'relative';\r\n\t\tthis.wrapperEl.appendChild(itemWrapper);\r\n\r\n\t\tthis.sliderOffset = 0;\r\n\t\tthis.sliderWidth = 0;\r\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\r\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\r\n\t\tthis.handleMouseUp = this.handleMouseUp.bind(this);\r\n\r\n\t\t//Input\r\n\t\tthis.inputEl = document.createElement('input');\r\n\t\tthis.inputEl.className = 'slider-value-input';\r\n\t\tthis.inputEl.min = '0';\r\n\t\tthis.inputEl.max = '100';\r\n\t\tthis.inputEl.style.width = '25px';\r\n\t\tthis.inputEl.onblur = ev =>\r\n\t\t{\r\n\t\t\tthis.callback(parseFloat(this.inputEl.value) / 100);\r\n            this.setVal(parseFloat(this.inputEl.value) / 100);\r\n\t\t};\r\n\r\n\t\tthis.inputEl.onchange = ev =>\r\n\t\t{\r\n\t\t\tthis.handleInputChanged(ev);\r\n\t\t};\r\n\t\titemWrapper.appendChild(this.inputEl);\r\n\r\n\t\t//Slider wrapper\r\n\t\tlet sliderWrapper = document.createElement('div');\r\n\t\tsliderWrapper.className = 'slider-wrapper';\r\n\t\tsliderWrapper.style.width = 'calc(100% - 50px)';\r\n\t\titemWrapper.appendChild(sliderWrapper);\r\n\r\n\t\t//Slider bar (whole)\r\n\t\tlet sliderBar = document.createElement('div');\r\n\t\tsliderBar.style.position = 'relative';\r\n\t\tsliderBar.className = 'slider-bar';\r\n\t\tsliderWrapper.appendChild(sliderBar);\r\n\r\n\t\t//Slider bar fed\r\n\t\tthis.fedBar = document.createElement('span');\r\n\t\tthis.fedBar.className = 'slider-bar-filled';\r\n\t\tsliderBar.appendChild(this.fedBar);\r\n\t\t//Slider handle\r\n\t\tthis.handleEl = document.createElement('div');\r\n\t\tthis.handleEl.style.marginLeft = '0';\r\n\t\t$(this.handleEl).addClass('slider-handle draggable');\r\n\t\tsliderBar.appendChild(this.handleEl);\r\n\t\tthis.handleEl.addEventListener('touchstart', this.handleMouseDown);\r\n\t\tthis.handleEl.onmousedown = ev =>\r\n\t\t{\r\n\t\t\tthis.handleMouseDown(ev);\r\n\t\t}\r\n\r\n\t\tsliderBar.onmousedown = ev =>\r\n\t\t{\r\n\t\t\tthis.handleClick(ev);\r\n\t\t};\r\n\r\n\t\t//Slider bar empty\r\n\t\tlet emptyBar = document.createElement('span');\r\n\t\temptyBar.className = 'slider-bar-empty';\r\n\t\temptyBar.style.width = '100%';\r\n\t\tsliderBar.appendChild(emptyBar);\r\n\r\n\t\tif (!isPoppedOut)\r\n\t\t{\r\n\t\t\tvsClient.on('@changeLang', lang =>\r\n\t\t\t{\r\n\t\t\t\tthis.translate();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    show ()\r\n    {\r\n        $(this.wrapperEl).show();\r\n    }\r\n\r\n    hide ()\r\n    {\r\n        $(this.wrapperEl).hide();\r\n    }\r\n\r\n\tsetVal(val)\r\n\t{\r\n\t\tlet initialSet = false;\r\n        if (this.inputEl.value === '' || !this.inputEl.value || this.inputEl.value === undefined)\r\n        {\r\n            initialSet = true;\r\n        }\r\n        this.inputEl.value = Math.round(val * 100) + '';\r\n        if (initialSet || parseFloat(this.handleEl.style.left.replace('%', \"\")) !== val )\r\n\t\t{\r\n\t\t\tlet sliderWidth = $(this.inputEl).next().children().first().width();\r\n\t\t\tlet positionAbsolute = sliderWidth * val;\r\n\t\t\tlet fullElementWidth = sliderWidth;\r\n\t\t\tlet positionRelativeToFullWidth;\r\n\t\t\tif (positionAbsolute <= 5)\r\n\t\t\t{\r\n\t\t\t\tpositionRelativeToFullWidth = '0px';\r\n\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tpositionRelativeToFullWidth = 100 / (fullElementWidth / positionAbsolute) + '%';\r\n\t\t\t}\r\n\t\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n\t\t\tthis.fedBar.style.width = positionRelativeToFullWidth;\r\n\t\t}\r\n    }\r\n\r\n    translate (translationCallback?)\r\n    {\r\n        this.setText(translationCallback);\r\n        this.setTooltip(translationCallback);\r\n    }\r\n\r\n\tsetText(translationCallback?) {\r\n\t\tthis.nameEl.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.langId);\r\n\t}\r\n\r\n\tsetTooltip(translationCallback?) {\r\n\t\tthis.tooltip.setTitle(translationCallback ? translationCallback(this.langId) : this.tooltipId);\r\n    }\r\n\r\n\thandleInputChanged(e)\r\n\t{\r\n\t\tlet val = e.target.value;\r\n\t\tlet sliderWidth = $(e.target).next().children().first().width();\r\n\t\tlet positionAbsolute = (sliderWidth / 100) * val;\r\n\t\tlet fullElementWidth = sliderWidth;\r\n\t\tlet positionRelativeToFullWidth;\r\n\t\tif (positionAbsolute <= 5)\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = '0px';\r\n\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = 100 / (fullElementWidth / positionAbsolute) + '%';\r\n\t\t}\r\n\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n\t\tthis.fedBar.style.width = positionRelativeToFullWidth;\r\n\t\tthis.callback(val / 100);\r\n\t}\r\n\r\n\thandleClick(e)\r\n\t{\r\n\t\tthis.sliderWidth = $(e.target).width();\r\n\t\tthis.sliderOffset = $(e.target).offset().left;\r\n\t\tlet positionAbsolute = Math.min(Math.max(0, (e.pageX - this.sliderOffset)), this.sliderWidth);\r\n\t\tlet valueRelativeToHundred = 100 / (this.sliderWidth / positionAbsolute);\r\n\t\tlet fullElementWidth = this.sliderWidth;\r\n\t\tlet positionRelativeToFullWidth;\r\n\t\tif (positionAbsolute <= 5)\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = '0px';\r\n\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = 100 / (fullElementWidth / positionAbsolute) + '%';\r\n\t\t}\r\n\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n\t\tthis.fedBar.style.width = positionRelativeToFullWidth;\r\n\t\tthis.setVal(valueRelativeToHundred / 100);\r\n\t\tthis.callback( valueRelativeToHundred / 100);\r\n\t}\r\n\r\n\thandleMouseMove = function (e)\r\n\t{\r\n\t\tlet positionAbsolute: number;\r\n\t\tif (e.touches)\r\n\t\t{\r\n\t\t\tpositionAbsolute = Math.min(Math.max(0, (e.touches[0].pageX - this.sliderOffset)), this.sliderWidth);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionAbsolute = Math.min(Math.max(0, (e.pageX - this.sliderOffset)), this.sliderWidth);\r\n\t\t}\r\n\t\tlet valueRelativeToHundred = 100 / (this.sliderWidth / positionAbsolute);\r\n\t\tlet fullElementWidth = this.sliderWidth;\r\n\t\tlet positionRelativeToFullWidth;\r\n\t\tif (positionAbsolute <= 5)\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = '0px';\r\n\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionRelativeToFullWidth = 100 / (fullElementWidth / positionAbsolute) + '%';\r\n\t\t}\r\n\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n\t\tthis.fedBar.style.width = positionRelativeToFullWidth;\r\n\t\tthis.setVal(valueRelativeToHundred / 100);\r\n        this.callback(valueRelativeToHundred / 100);\r\n\t}\r\n\r\n\thandleMouseUp = function (e)\r\n\t{\r\n\t\tlet positionAbsolute: number;\r\n\t\tif (e.touches)\r\n\t\t{\r\n\t\t\tpositionAbsolute = Math.min(Math.max(0, (e.changedTouches[0].pageX - this.sliderOffset - 5)), this.sliderWidth);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpositionAbsolute = Math.min(Math.max(0, (e.pageX - this.sliderOffset - 5)), this.sliderWidth);\r\n\t\t}\r\n\t\tlet valueRelativeToHundred = 100 / (this.sliderWidth / positionAbsolute);\r\n\t\tthis.setVal(valueRelativeToHundred / 100);\r\n\t\tthis.callback( valueRelativeToHundred / 100);\r\n\t\tdocument.removeEventListener('mouseup', this.handleMouseUp);\r\n\t\tdocument.removeEventListener('mousemove', this.handleMouseMove);\r\n\t\tdocument.removeEventListener('touchmove', this.handleMouseMove)\r\n\t\tdocument.removeEventListener('touchend', this.handleMouseUp)\r\n\t}\r\n\r\n\thandleMouseDown = function (e)\r\n\t{\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tthis.sliderOffset = $(e.target).parent().offset().left;\r\n\t\tthis.sliderWidth = $(e.target).parent().width();\r\n\t\tdocument.addEventListener('mouseup', this.handleMouseUp);\r\n\t\tdocument.addEventListener('mousemove', this.handleMouseMove);\r\n\t\tdocument.addEventListener('touchmove', this.handleMouseMove)\r\n\t\tdocument.addEventListener('touchend', this.handleMouseUp)\r\n\t}\r\n}\r\n\r\n\r\nexport class PlainSteppedSlider {\r\n\tnameEl: HTMLTableDataCellElement\r\n\ttooltip: WVTooltip\r\n\twrapperEl: HTMLTableRowElement\r\n\tlangId: string\r\n\ttooltipId: string\r\n\tcallback: any\r\n\tsliderOffset: number\r\n\tsliderWidth: number\r\n    inputEl: HTMLInputElement\r\n    maxStepEl: HTMLElement\r\n\tfedBar: HTMLElement\r\n    handleEl: HTMLElement\r\n    step: number = 0\r\n    maxSteps: number = 1;\r\n\r\n\tconstructor (indent: number, parent: HTMLElement, langId: string, tooltipId: string, callback: any, isPoppedOut: boolean = false)\r\n\t{\r\n\t\tthis.langId = langId;\r\n\t\tthis.tooltipId = tooltipId;\r\n\t\tthis.callback = callback;\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n\t\tparent.appendChild(this.wrapperEl);\r\n\r\n\t\tthis.nameEl = document.createElement('td');\r\n\t\tthis.nameEl.className = 'pane-item-entry-name';\r\n\t\tthis.nameEl.textContent = ui.translate(langId);\r\n\t\tapplyIndent(this.nameEl, indent);\r\n\t\tthis.tooltip = new WVTooltip(this.nameEl);\r\n\t\tthis.wrapperEl.appendChild(this.nameEl);\r\n\r\n\t\tlet itemWrapper = document.createElement('td');\r\n\t\titemWrapper.className = 'pane-item-visual';\r\n\t\titemWrapper.style.position = 'relative';\r\n\t\tthis.wrapperEl.appendChild(itemWrapper);\r\n\r\n\t\tthis.sliderOffset = 0;\r\n\t\tthis.sliderWidth = 0;\r\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\r\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\r\n\t\tthis.handleMouseUp = this.handleMouseUp.bind(this);\r\n\r\n\t\t//Input\r\n\t\tthis.inputEl = document.createElement('input');\r\n\t\tthis.inputEl.className = 'slider-value-input';\r\n\t\tthis.inputEl.min = '0';\r\n\t\tthis.inputEl.max = '100';\r\n        this.inputEl.style.width = '20px';\r\n\t\tthis.inputEl.onblur = ev =>\r\n\t\t{\r\n\t\t\tthis.callback(parseInt(this.inputEl.value));\r\n            this.setVal(parseInt(this.inputEl.value));\r\n\t\t};\r\n\r\n\t\tthis.inputEl.onchange = ev =>\r\n\t\t{\r\n\t\t\tthis.handleInputChanged(ev);\r\n\t\t};\r\n        itemWrapper.appendChild(this.inputEl);\r\n\r\n        //Max steps element\r\n        this.maxStepEl = document.createElement('span');\r\n        this.maxStepEl.textContent = '/1';\r\n        this.maxStepEl.className = 'plain-stepped-slider-max-val';\r\n        itemWrapper.appendChild(this.maxStepEl);\r\n\r\n\t\t//Slider wrapper\r\n\t\tlet sliderWrapper = document.createElement('div');\r\n\t\tsliderWrapper.className = 'slider-wrapper';\r\n\t\tsliderWrapper.style.width = 'calc(100% - 50px)';\r\n\t\titemWrapper.appendChild(sliderWrapper);\r\n\r\n\t\t//Slider bar (whole)\r\n\t\tlet sliderBar = document.createElement('div');\r\n\t\tsliderBar.style.position = 'relative';\r\n\t\tsliderBar.className = 'slider-bar';\r\n\t\tsliderWrapper.appendChild(sliderBar);\r\n\r\n\t\t//Slider bar fed\r\n\t\tthis.fedBar = document.createElement('span');\r\n\t\tthis.fedBar.className = 'slider-bar-filled';\r\n\t\tsliderBar.appendChild(this.fedBar);\r\n\t\t//Slider handle\r\n\t\tthis.handleEl = document.createElement('div');\r\n\t\tthis.handleEl.style.marginLeft = '0';\r\n\t\t$(this.handleEl).addClass('slider-handle draggable');\r\n\t\tsliderBar.appendChild(this.handleEl);\r\n\t\tthis.handleEl.addEventListener('touchstart', this.handleMouseDown);\r\n\t\tthis.handleEl.onmousedown = ev =>\r\n\t\t{\r\n\t\t\tthis.handleMouseDown(ev);\r\n\t\t}\r\n\r\n\t\tsliderBar.onmousedown = ev =>\r\n\t\t{\r\n\t\t\tthis.handleClick(ev);\r\n\t\t};\r\n\r\n\t\t//Slider bar empty\r\n\t\tlet emptyBar = document.createElement('span');\r\n\t\temptyBar.className = 'slider-bar-empty';\r\n\t\temptyBar.style.width = '100%';\r\n\t\tsliderBar.appendChild(emptyBar);\r\n\r\n\t\tif (!isPoppedOut)\r\n\t\t{\r\n\t\t\tvsClient.on('@changeLang', lang =>\r\n\t\t\t{\r\n\t\t\t\tthis.translate();\r\n\t\t\t});\r\n        }\r\n        this.setVal(0);\r\n    }\r\n\r\n    show ()\r\n    {\r\n        $(this.wrapperEl).show();\r\n    }\r\n\r\n    hide ()\r\n    {\r\n        $(this.wrapperEl).hide();\r\n    }\r\n\r\n    setMaxSteps (maxSteps: string)\r\n    {\r\n        this.maxSteps = parseInt(maxSteps);\r\n        this.maxStepEl.textContent = '/' + maxSteps;\r\n    }\r\n\r\n\tsetVal(val: number)\r\n\t{\r\n        if (val < 0)\r\n        {\r\n            val = 0;\r\n        }\r\n        else if (val > this.maxSteps)\r\n        {\r\n            val = this.maxSteps;\r\n        }\r\n        else if (val === NaN)\r\n        {\r\n            val = 0;\r\n        }\r\n        this.step = val;\r\n        this.inputEl.value = val.toString();\r\n\t\tlet relativeStepDistance = 100 / this.maxSteps;\r\n        let positionRelativeToFullWidth = (val * relativeStepDistance) + '%';\r\n\t\tthis.handleEl.style.left = positionRelativeToFullWidth;\r\n        this.fedBar.style.width = positionRelativeToFullWidth;\r\n    }\r\n\r\n    translate (translationCallback?)\r\n    {\r\n        this.setText(translationCallback);\r\n        this.setTooltip(translationCallback);\r\n    }\r\n\r\n\tsetText(translationCallback?) {\r\n\t\tthis.nameEl.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.langId);\r\n\t}\r\n\r\n\tsetTooltip(translationCallback?) {\r\n\t\tthis.tooltip.setTitle(translationCallback ? translationCallback(this.langId) : this.tooltipId);\r\n    }\r\n\r\n\thandleInputChanged(e)\r\n\t{\r\n        let val = parseInt(e.target.value);\r\n        this.setVal(val);\r\n        this.callback(val);\r\n\t}\r\n\r\n\thandleClick(e)\r\n\t{\r\n\t\tthis.sliderWidth = $(e.target).width();\r\n\t\tthis.sliderOffset = $(e.target).offset().left;\r\n\t\tlet positionAbsolute = Math.min(Math.max(0, (e.pageX - this.sliderOffset)), this.sliderWidth);\r\n        let valueRelativeToHundred = 100 / (this.sliderWidth / positionAbsolute);\r\n        //Calculate next step\r\n        let relativeStepDistance = 100 / this.maxSteps;\r\n        let step = Math.round(valueRelativeToHundred / relativeStepDistance);\r\n        this.setVal(step);\r\n\t\tthis.callback(step);\r\n\t}\r\n\r\n\thandleMouseMove = function (e)\r\n\t{\r\n\t\tlet positionAbsolute = Math.min(Math.max(0, (e.pageX - this.sliderOffset)), this.sliderWidth);\r\n        let valueRelativeToHundred = 100 / (this.sliderWidth / positionAbsolute);\r\n        let relativeStepDistance = 100 / this.maxSteps;\r\n        //Calculate next step\r\n        let step = Math.round(valueRelativeToHundred / relativeStepDistance);\r\n        if (step !== this.step)\r\n        {\r\n            this.setVal(step);\r\n            this.callback(step);\r\n        }\r\n\t}\r\n\r\n\thandleMouseUp = function (e)\r\n\t{\r\n\t\tdocument.removeEventListener('mouseup', this.handleMouseUp);\r\n\t\tdocument.removeEventListener('mousemove', this.handleMouseMove);\r\n\t\tdocument.removeEventListener('touchmove', this.handleMouseMove)\r\n\t\tdocument.removeEventListener('touchend', this.handleMouseUp)\r\n\t}\r\n\r\n\thandleMouseDown = function (e)\r\n\t{\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tthis.sliderOffset = $(e.target).parent().offset().left;\r\n\t\tthis.sliderWidth = $(e.target).parent().width();\r\n\t\tdocument.addEventListener('mouseup', this.handleMouseUp);\r\n\t\tdocument.addEventListener('mousemove', this.handleMouseMove);\r\n\t\tdocument.addEventListener('touchmove', this.handleMouseMove)\r\n\t\tdocument.addEventListener('touchend', this.handleMouseUp)\r\n\t}\r\n}\r\n\r\n\r\nexport class PlainColorPicker {\r\n\tnameEl: HTMLTableDataCellElement\r\n\ttooltip: WVTooltip\r\n\twrapperEl: HTMLTableRowElement\r\n\tlangId: string\r\n\ttooltipId: string\r\n\tcallback: any\r\n\tcolorpicker: HTMLElement\r\n\tpalette: CustomPalette\r\n\tisDefaultSet: boolean = false\r\n\talpha: number // [0, 1]\r\n\tshowAlpha: boolean\r\n\r\n\tconstructor (indent: number, parent: HTMLElement, langId: string, tooltipId: string, callback: any, isPoppedOut: boolean = false)\r\n\t{\r\n\t\tthis.langId = langId;\r\n\t\tthis.tooltipId = tooltipId;\r\n\t\tthis.callback = callback;\r\n\t\tthis.wrapperEl = document.createElement('tr');\r\n\t\tthis.wrapperEl.className = 'pane-item';\r\n\t\tparent.appendChild(this.wrapperEl);\r\n\r\n\t\tthis.nameEl = document.createElement('td');\r\n\t\tthis.nameEl.className = 'pane-item-entry-name';\r\n\t\tthis.nameEl.textContent = ui.translate(langId);\r\n\t\tapplyIndent(this.nameEl, indent);\r\n\t\tthis.tooltip = new WVTooltip(this.nameEl);\r\n\t\tthis.wrapperEl.appendChild(this.nameEl);\r\n\r\n\t\tlet itemWrapper = document.createElement('td');\r\n\t\titemWrapper.className = 'pane-item-visual';\r\n\t\titemWrapper.style.position = 'relative';\r\n\t\tthis.wrapperEl.appendChild(itemWrapper);\r\n\r\n\t\tthis.colorpicker = document.createElement('span');\r\n\t\tthis.colorpicker.classList.add('pane-item-entry-colorpicker');\r\n\t\titemWrapper.appendChild(this.colorpicker);\r\n\r\n\t\tthis.colorpicker.addEventListener('click', ev =>\r\n\t\t{\r\n\t\t\tthis.openPalette();\r\n\t\t}, false);\r\n\r\n\t\tif (!isPoppedOut)\r\n\t\t{\r\n\t\t\tvsClient.on('@changeLang', lang =>\r\n\t\t\t{\r\n\t\t\t\tthis.translate();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    translate (translationCallback?)\r\n    {\r\n        this.setText(translationCallback);\r\n        this.setTooltip(translationCallback);\r\n    }\r\n\r\n\tsetText(translationCallback?) {\r\n\t\tthis.nameEl.textContent = translationCallback ? translationCallback(this.langId) : ui.translate(this.langId);\r\n\t}\r\n\r\n\tsetTooltip(translationCallback?) {\r\n\t\tthis.tooltip.setTitle(translationCallback ? translationCallback(this.langId) : this.tooltipId);\r\n    }\r\n\r\n\topenPalette() {\r\n\t\tlet activeColor = this.colorpicker.dataset['lastPickedColor'];\r\n\t\tthis.palette = new CustomPalette(activeColor, this.showAlpha);\r\n\t\tthis.palette.on('customColorChosen', color => this.updateElementState(color));\r\n\t}\r\n\r\n\tupdateElementState(color)\r\n\t{\r\n\t\tthis.colorpicker.dataset['lastPickedColor'] = color;\r\n\t\tthis.colorpicker.style.backgroundColor = color;\r\n\t\tlet hashHex = tinycolor(color).toHexString();\r\n\t\tthis.callback(hashHex);\r\n\t}\r\n\r\n\tsetVal(hexColor: any) {\r\n\t\tlet RGBAColor = hexToRgba(hexColor);\r\n\t\tthis.alpha = RGBAColor.a;\r\n\t\tlet cssColor;\r\n\t\tif(this.showAlpha) {\r\n\t\t\tcssColor = `rgba(${RGBAColor.r}, ${RGBAColor.g}, ${RGBAColor.b}, ${this.alpha})`;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcssColor = `rgb(${RGBAColor.r}, ${RGBAColor.g}, ${RGBAColor.b})`;\r\n\t\t}\r\n\t\tif (!this.isDefaultSet) {\r\n\t\t\tthis.colorpicker.dataset['defaultColor'] = cssColor;\r\n\t\t\tthis.isDefaultSet = true;\r\n\t\t}\r\n\t\tthis.colorpicker.dataset['lastPickedColor'] = cssColor;\r\n\t\tthis.colorpicker.style.backgroundColor = cssColor;\r\n\t}\r\n}\r\n\r\n\r\n//Utility methods\r\nfunction applyIndent(el: HTMLElement, indentLevel: number) {\r\n\tlet indentClass: string\r\n\tindentClass = 'pane-item-indent-level' + indentLevel\r\n\tel.classList.add(indentClass)\r\n}\r\n\r\nfunction selectText (el: HTMLElement)\r\n{\r\n     //Select text\r\n     let range = document.createRange();\r\n     range.selectNodeContents(el);\r\n     let sel = window.getSelection();\r\n     sel.removeAllRanges();\r\n     sel.addRange(range);\r\n}\r\n\r\nexport class SimplePaneInlineModal {\r\n\tinputEl: HTMLInputElement\r\n    anchorEl: HTMLElement\r\n    callback: any\r\n\tconstructor (anchorEl: HTMLElement, callback)\r\n\t{\r\n        this.anchorEl = anchorEl;\r\n        this.callback = callback;\r\n        this.inputEl = document.createElement('input');\r\n\t\tthis.inputEl.className = 'pane-item-entry-input pane-inline-modal-input';\r\n\r\n        this.inputEl.addEventListener('change', ev =>\r\n        {\r\n            let val = this.inputEl.value;\r\n            this.callback(val);\r\n            this.hide();\r\n        });\r\n    }\r\n\r\n    show ()\r\n    {\r\n        this.anchorEl.appendChild(this.inputEl);\r\n        this.inputEl.placeholder = 'Name...';\r\n        this.inputEl.focus();\r\n    }\r\n\r\n    hide ()\r\n    {\r\n        $(this.inputEl).remove();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./pane/widgets.ts","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar utils_1 = require(\"./utils\");\n/**\n * @private\n */\nvar stringOptionsDefaults = {\n    doubleQuotes: false,\n    indent: \"    \",\n    newline: \"\\n\",\n    pretty: true,\n};\nObject.freeze(stringOptionsDefaults);\n/**\n * Validates a string options object and replaces undefined values with their\n * appropriate defaults.\n *\n * @param {IStringOptions} options The string options object to validate.\n *\n * @returns {IStringOptions} The updated string options object.\n *\n * @private\n */\nfunction validateStringOptions(options) {\n    if (!utils_1.isType(options.doubleQuotes, \"Boolean\", \"Undefined\")) {\n        throw new TypeError(\"options.doubleQuotes should be a boolean or\"\n            + \" undefined\");\n    }\n    if (!utils_1.isType(options.doubleQuotes, \"Boolean\")) {\n        options.doubleQuotes = stringOptionsDefaults.doubleQuotes;\n    }\n    if (!utils_1.isType(options.indent, \"String\", \"Undefined\")) {\n        throw new TypeError(\"options.indent should be a string or undefined\");\n    }\n    if (!utils_1.isType(options.indent, \"String\")) {\n        options.indent = stringOptionsDefaults.indent;\n    }\n    if (!utils_1.isType(options.newline, \"String\", \"Undefined\")) {\n        throw new TypeError(\"options.newline should be a string or undefined\");\n    }\n    if (!utils_1.isType(options.newline, \"String\")) {\n        options.newline = stringOptionsDefaults.newline;\n    }\n    if (!utils_1.isType(options.pretty, \"Boolean\", \"Undefined\")) {\n        throw new TypeError(\"options.pretty should be a boolean or undefined\");\n    }\n    if (!utils_1.isType(options.pretty, \"Boolean\")) {\n        options.pretty = stringOptionsDefaults.pretty;\n    }\n    return options;\n}\nexports.validateStringOptions = validateStringOptions;\n/**\n * @private\n */\nvar declarationOptionsDefaults = {\n    encoding: undefined,\n    standalone: undefined,\n    version: \"1.0\",\n};\nObject.freeze(declarationOptionsDefaults);\n/**\n * Validates an XML declaration options object and replaces undefined values\n * with their appropriate defaults.\n *\n * @param {IDeclarationOptions} options The XML declaration options object to\n *                                     validate.\n *\n * @returns {IDeclarationOptions} The updated XML declaration options object.\n *\n * @private\n */\nfunction validateDeclarationOptions(options) {\n    if (!utils_1.isType(options.encoding, \"String\", \"Undefined\")) {\n        throw new TypeError(\"options.encoding should be a string or undefined\");\n    }\n    if (!utils_1.isType(options.standalone, \"String\", \"Undefined\")) {\n        throw new TypeError(\"options.standalone should be a string or\" +\n            \" undefined\");\n    }\n    if (!utils_1.isType(options.version, \"String\", \"Undefined\")) {\n        throw new TypeError(\"options.version should be a string or undefined\");\n    }\n    if (!utils_1.isType(options.version, \"String\")) {\n        options.version = declarationOptionsDefaults.version;\n    }\n    return options;\n}\nexports.validateDeclarationOptions = validateDeclarationOptions;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/options.js\n// module id = 12\n// module chunks = 0","import { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { appStates } from '../app/app-states'\r\nimport * as w from './widget'\r\nimport { VSRibbon } from '../ribbon/index'\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { ClipboardModal } from './clipboard-modal/clipboard-overlay'\r\nimport { FileBrowserModal } from '../app/file-browser-modal/file-browser-modal'\r\nimport { PrintModal } from '../app/print-modal/print-modal'\r\n\r\ndeclare var vsClient: VSWebClient\r\n\r\n\r\nexport function handlePrependingPane(paneId, mode) {\r\n    if (appStates.interactionMode.indexOf(mode) === -1 && mode !== 'off' ) {\r\n\t\tui.prependPane(paneId);\r\n    } else {\r\n\t\tclosePaneById(paneId);\r\n    }\r\n}\r\n\r\nfunction activateInteraction(client: VSWebClient, action: string) {\r\n    var s = '<Call Method=\"ActivateInteraction\"><Interaction>' + action + '</Interaction></Call>'\r\n    client.command.executeXMLAsync(s)\r\n}\r\n\r\nfunction deactivateInteraction(client: VSWebClient, mode: string = 'Deactivate_AllInteractions') {\r\n\r\n    let modeCategory = mode.split('_')[0]\r\n    let categoryToDeactivate = 'Deactivate_' + modeCategory\r\n\r\n    var s = '<Call Method=\"ActivateInteraction\"><Interaction>' + categoryToDeactivate + '</Interaction></Call>'\r\n    client.command.executeXMLAsync(s)\r\n}\r\n\r\nexport function handleActivateInteraction (client: VSWebClient, mode: string)\r\n{\r\n    if (appStates.interactionMode.indexOf(mode) === -1 ) {\r\n        activateInteraction(client, mode)\r\n    } else {\r\n        deactivateInteraction(client, mode)\r\n    }\r\n}\r\n\r\nfunction removeAllInteractionHighlights (ribbon) {\r\n\tribbon.classes['Interaction'].forEach((button: w.BaseButton) => {\r\n\t\tbutton.applyHighlight(false)\r\n\t})\r\n}\r\n\r\nfunction recColorSearch(index: number, nodes: number[], nodeColor: string)\r\n{\r\n\tlet xmlPrefix = '<Call Method=\"SearchNodes\"><SearchString>Visibility=\"Visible\" + Type=\"';\r\n\tlet xmlSuffix = '\" + Color=\"' + nodeColor + '\"</SearchString></Call>';\r\n\tlet nodeTypes = ['Ri_BrepModel', 'Ri_PolyBrepModel', 'Ri_PolyWire', 'Plane', 'Solid', 'Wire'];\r\n\tlet xml = xmlPrefix + nodeTypes[index] + xmlSuffix;\r\n\tvsClient.command.executeXML(xml);\r\n\tvsClient.once('SearchNodes', (res) =>\r\n\t{\r\n\t\tlet cNodeId = res.NodeId\r\n\t\tif (cNodeId)\r\n\t\t{\r\n\t\t\tfor (let node of cNodeId)\r\n\t\t\t{\r\n\t\t\t\tif (nodes.indexOf(node) === -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tnodes.push(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tindex++;\r\n\t\tif (index <= 7)\r\n\t\t{\r\n\t\t\trecColorSearch(index, nodes, nodeColor);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlet nodeSearchString = '';\r\n\t\t\tfor (let n = 0; n < nodes.length; n++)\r\n\t\t\t{\r\n\t\t\t\tnodeSearchString += '<NodeId>' + nodes[n] + '</NodeId>';\r\n\t\t\t}\r\n\t\t\tlet selectCall = '<Call Method=\"SetSelectedNodes\">' + nodeSearchString + '</Call>';\r\n\t\t\tvsClient.command.executeXML(selectCall);\r\n\t\t}\r\n\t})\r\n}\r\n\r\nexport function toggleFullscreen(ribbon)\r\n{\r\n\t//Minimise\r\n\tif(ui.canvasStack.isMaximized)\r\n\t{\r\n\t\tGoOutFullscreen(document);\r\n\t}\r\n\t//Maximise\r\n\telse\r\n\t{\r\n\t\tGoInFullscreen(document.body);\r\n\t}\r\n}\r\n\r\nfunction GoInFullscreen(element)\r\n{\r\n\tif (element.requestFullscreen)\r\n        document.body.requestFullscreen();\r\n    else if (element.mozRequestFullScreen)\r\n        element.mozRequestFullScreen();\r\n    else if (element.webkitRequestFullscreen)\r\n        element.webkitRequestFullscreen();\r\n    else if (element.msRequestFullscreen)\r\n        element.msRequestFullscreen();\r\n}\r\n\r\nfunction GoOutFullscreen(element) {\r\n    if (document.exitFullscreen)\r\n        document.exitFullscreen();\r\n    else if (element.webkitExitFullscreen)\r\n\t\tdocument.webkitExitFullscreen();\r\n\telse if (element.mozFullScreen)\r\n\t{\r\n\t\telement.mozCancelFullScreen();\r\n\t}\r\n}\r\n\r\nfunction closePaneById(paneId)\r\n{\r\n\tui.closePane(paneId);\r\n}\r\n\r\n\r\nlet XButton = {\r\n\tlangId: '',\r\n\twidgets: [\r\n\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_DEACTIVATE_ALL', iconId: 'deactivate_all',ribbonClass: ['DeactivateAll'] }\r\n\t],\r\n\tgroupClick: (context, id: string) => {\r\n\t\tlet clickedButton = w.findButton(id)\r\n\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\tclickedButton.flashHighlight()\r\n\t\tdeactivateAll(client, ribbon)\r\n\t}\r\n}\r\n\r\nexport function deactivateAll(client, ribbon)\r\n{\r\n    var s = '<Call Method=\"ActivateInteraction\"><Interaction>Deactivate_AllInteractions</Interaction></Call>';\r\n    client.command.executeXMLAsync(s);\r\n\r\n    client.once('ActivateInteraction', (response) =>\r\n    {\r\n        removeAllInteractionHighlights(ribbon);\r\n    });\r\n\r\n    // Reset Controls\r\n    let settings = localStorage.getItem('VSWVSettings');\r\n    if (settings === null)\r\n    {\r\n        settings = localStorage.getItem('VSWVDefaultSettings');\r\n    }\r\n    let settingsObj = ui.settingsPane.defaultSettings;\r\n    let leftMouseMode = settingsObj.Settings.Scene.Mouse.LeftButtonFunction;\r\n    let rightMouseMode = settingsObj.Settings.Scene.Mouse.RightButtonFunction;\r\n    let middleMouseMode = settingsObj.Settings.Scene.Mouse.MiddleButtonFunction;\r\n    let mouseSettingsCall = '<Call Method=\"SetSceneSettings\">';\r\n    let settingsPrePath = '<Settings><Scene><Mouse>';\r\n    let settingsPostPath = '</Mouse></Scene></Settings></Call>';\r\n    //Left mouse\r\n    mouseSettingsCall += settingsPrePath + '<LeftButtonFunction> ' + leftMouseMode + ' </LeftButtonFunction>';\r\n    mouseSettingsCall += '<RightButtonFunction>' + rightMouseMode + '</RighButtonFunction>';\r\n    mouseSettingsCall += '<MiddleButtonFunction>' + middleMouseMode + '</MiddleButtonFunction>' + settingsPostPath;\r\n    vsClient.command.executeXML(mouseSettingsCall);\r\n\r\n    // Reset SelectionMode\r\n    let xmlSelect = '';\r\n    appStates.selectionMode = 'Select';\r\n    xmlSelect = '<Call Method=\"SetSelectionMode\"><SelectionMode>' + appStates.selectionMode + '</SelectionMode></Call>';\r\n    vsClient.command.executeXML(xmlSelect);\r\n    vsClient.once('SetSelectionMode', (response) =>\r\n    {\r\n        ui.vsRibbon.classes['LMBSelection'].forEach((button: w.BaseButton) =>\r\n        {\r\n            if (button.id !== 'ID_RIBBON_SELECT')\r\n            {\r\n                button.applyHighlight(false);\r\n            } else\r\n            {\r\n                button.applyHighlight(true);\r\n            }\r\n        })\r\n    });\r\n    vsClient.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Deselect</SelectionModifier></Call>');\r\n    let isPopout = appStates.popoutPanes.indexOf('wv-quickcompare') !== -1;\r\n    ui.closePane('wv-quickcompare', isPopout);\r\n\r\n    //Stop rotation animation\r\n    let xml = '<Call Method=\"ActivateRotation\"><Activate>false</Activate></Call>';\r\n    client.command.executeXML(xml);\r\n    w.findButton('ID_RIBBON_SPIN').applyHighlight(false);\r\n\r\n    //Stop view play\r\n    xml = '<Call Method=\"StopPlayConfigurationViews\"></Call>';\r\n    client.command.executeXML(xml);\r\n}\r\n\r\nfunction getRecentFiles() {\r\n\tlet recentFiles = localStorage.getItem(window.location.origin +  window.location.pathname + 'VSWVRecentFiles')\r\n\tif(recentFiles === null)\r\n\t{\r\n\t\treturn [{\r\n\t\t\tlangId:\"Recent files\",\r\n\t\t\ticonId:\"\"\r\n\t\t}]\r\n\t}\r\n\trecentFiles = recentFiles.slice(0, -1)\r\n\tlet fileArr = recentFiles.split(\",\")\r\n\tlet dropdownItems = [{\r\n\t\tlangId:\"Recent files\",\r\n\t\ticonId:\"\"\r\n\t}]\r\n\r\n\tfor(var i = 0; i < fileArr.length; i++) {\r\n\t\tdropdownItems.push({\r\n\t\t\tlangId:fileArr[i],\r\n\t\t\ticonId:\"2_oeffnen\"\r\n\t\t})\r\n\t}\r\n\r\n\treturn dropdownItems\r\n}\r\n\r\nexport let startTab: w.TabOption = {\r\n\tlangId: 'ID_RIBBON_START',\r\n\tgroups: [\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_FILE',\r\n\t\t\twidgets: [ {\r\n\t\t\t\ttype: w.WidgetType.SplittedDropdown,\r\n\t\t\t\tlangId: 'ID_RIBBON_OPEN',\r\n\t\t\t\ticonId: '2_oeffnen',\r\n\t\t\t\tdynamicDropdownItems: getRecentFiles(),\r\n\t\t\t\tsplittedDropdownClick: (context, item: w.DynamicDropdownItem, button: w.SplittedDropdownButton) => {\r\n\t\t\t\t\tlet { client, ribbon }: {\r\n\t\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\t\tribbon: VSRibbon\r\n\t\t\t\t\t} = context\r\n\r\n\t\t\t\t\tif(item === undefined)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet fb = new FileBrowserModal(client, 'open', ui.fileOpen);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(item !== null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tui.fileOpen(item.langId)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_IMPORT', iconId: '3_importieren' },\r\n\t\t\t\t//{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_SAVE', iconId: '4_speichern' },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_PRINT', iconId: '6_drucken' },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id);\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tswitch(clickedButton.langId){\r\n\t\t\t\t\tcase 'ID_RIBBON_IMPORT':\r\n\t\t\t\t\t\tlet ib = new FileBrowserModal(client, 'import', ui.importFile);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_SAVE':\r\n\t\t\t\t\t\tlet sb = new FileBrowserModal(client, 'save', client.SaveFile.bind(client));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_PRINT':\r\n\t\t\t\t\t\tlet printModal = new PrintModal(client);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_VISSHARE_FILE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_VISSHARE_SAVE', iconId: '4_speichern' },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_VISSHARE_SAVE_AS', iconId: '4_speichern' },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet clickedButton = w.findButton(id);\r\n\t\t\t\tlet shareBackendCall = {\r\n\t\t\t\t\tMethod: clickedButton.langId === 'ID_RIBBON_VISSHARE_SAVE' ? 'ShareSave' : 'ShareSaveAs',\r\n\t\t\t\t\tToken: client.sessionInfo.token\r\n\t\t\t\t};\r\n                client.command.executeXML(JSON.stringify(shareBackendCall));\r\n                ui.blockUI();\r\n                client.once('SaveAs', res =>\r\n                {\r\n                    ui.unblockUI();\r\n                });\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_UNDO',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_LAST_ACTIONS', iconId: '1_letzte_aktionen' },\r\n\t\t\t],\r\n            groupClick: (context, id: string) =>\r\n            {\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                let clickedButton = w.findButton(id);\r\n                var s = '<Call Method=\"Undo\"></Call>';\r\n                client.command.executeXML(s);\r\n                clickedButton.flashHighlight();\r\n            }\r\n\t\t},\r\n\t\t{\r\n            langId: 'ID_RIBBON_CONTROLS',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_ZOOM_RECTANGLE', iconId: '1_zoom_rahmen', ribbonClass: ['LMBFunction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_ROTATE', iconId: '2_drehen', ribbonClass: ['LMBFunction'], highlight: true },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_PAN', iconId: '3_pan', ribbonClass: ['LMBFunction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_SELECTION_FRAME', iconId: '4_auswahl_rahmen', ribbonClass: ['LMBFunction'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_TURNTABLE', iconId: '3_drehen', ribbonClass: ['LMBFunction'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ZOOM', iconId: '5_zoom', ribbonClass: ['LMBFunction'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_MOUSE_USE_FREE_ROTATE', iconId: 'bim_mode' }\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) =>\r\n            {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                if (clickedButton.langId === 'ID_MOUSE_USE_FREE_ROTATE')\r\n                {\r\n                    let xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Mouse><UseFreeRotate>'\r\n                    xml += !clickedButton.isHighlight;\r\n                    xml += '</UseFreeRotate></Mouse></Scene></Settings></Call>';\r\n                    client.command.executeXML(xml);\r\n                    clickedButton.applyHighlight(!clickedButton.isHighlight);\r\n                    return;\r\n                }\r\n\r\n                if (!appStates.fileLoaded)\r\n                {\r\n                    return;\r\n                }\r\n\r\n                let mode = '';\r\n                let deactivateCall = '<Call Method=\"ActivateInteraction\"><Interaction>Deactivate_AllInteractions</Interaction></Call>';\r\n                switch (clickedButton.langId)\r\n                {\r\n                    case 'ID_RIBBON_ZOOM_RECTANGLE':\r\n                        mode = 'RectZoom';\r\n                        vsClient.command.executeXML(deactivateCall);\r\n                        break;\r\n                    case 'ID_RIBBON_ROTATE':\r\n                        mode = 'Rotate';\r\n                        break;\r\n                    case 'ID_RIBBON_PAN':\r\n                        mode = 'Pan';\r\n                        break;\r\n                    case 'ID_RIBBON_SELECTION_FRAME':\r\n                        mode = 'RectSelect';\r\n                        vsClient.command.executeXML(deactivateCall);\r\n                        break;\r\n                    case 'ID_RIBBON_ZOOM':\r\n                        mode = 'Zoom';\r\n                        break;\r\n                    case 'ID_RIBBON_TURNTABLE':\r\n                        mode = 'Turntable';\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n\r\n                let s = `<Call Method=\"SetSceneSettings\">\r\n\t\t\t\t\t\t\t<Settings>\r\n\t\t\t\t\t\t\t\t<Scene>\r\n\t\t\t\t\t\t\t\t<Mouse>\r\n\t\t\t\t\t\t\t\t<LeftButtonFunction>\r\n\t\t\t\t\t\t\t\t\t${mode}\r\n\t\t\t\t\t\t\t\t</LeftButtonFunction>\r\n\t\t\t\t\t\t\t\t</Mouse>\r\n\t\t\t\t\t\t\t\t</Scene>\r\n\t\t\t\t\t\t\t</Settings>\r\n\t\t\t\t\t\t</Call>`;\r\n                client.command.executeXML(s);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_SELECTION_MODE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_SELECT', iconId: '1_selektieren', ribbonClass: ['LMBSelection'], highlight: true },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_NEIGHBOURHOOD_SEARCH', iconId: '2_nachbarschaft', ribbonClass: ['LMBSelection'], paneId: 'wv-neighbourhoodsearch' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_HIDE', iconId: '3_verbergen', ribbonClass: ['LMBSelection'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_DELETE', iconId: '4_loeschen', ribbonClass: ['LMBSelection'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_GHOST', iconId: '5_ghost', ribbonClass: ['LMBSelection'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_COLOR', iconId: '10_auswahl_durch_farbe', ribbonClass: ['LMBSelection'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_INSTANCE', iconId: 'selection_mode_instance', ribbonClass: ['LMBSelection'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_ATTRIBUTES', iconId: 'selection_mode_attributes', ribbonClass: ['LMBSelection'] },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n                let { client }: { client: VSWebClient } = context\r\n                if (appStates.selectionMode === 'Attributes' && clickedButton.langId)\r\n                {\r\n                    let xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><General><SelectionModeModifier>';\r\n                    xml += appStates.lastSelectionModeModifier;\r\n                    xml += '</SelecitionModeModifier></General></Scene></Settings></Call>';\r\n                    client.command.executeXML(xml);\r\n                }\r\n\t\t\t\tif (clickedButton.langId === 'ID_RIBBON_NEIGHBOURHOOD_SEARCH')\r\n\t\t\t\t{\r\n\t\t\t\t\tif (appStates.selectionMode !== 'Neighbourhood')\r\n\t\t\t\t\t{\r\n                        group.getWidgets().forEach((b: w.BaseButton) => b.applyHighlight(false));\r\n                        clickedButton.applyHighlight(true);\r\n                        handlePrependingPane('wv-neighbourhoodsearch', 'on');\r\n                        appStates.selectionMode = 'Neighbourhood';\r\n                        var s = '<Call Method=\"SetSelectionMode\"><SelectionMode>' + appStates.selectionMode + '</SelectionMode></Call>';\r\n                        client.command.executeXML(s);\r\n\t\t\t\t\t}\r\n                }\r\n                else if (clickedButton.langId === 'ID_ATTRIBUTES')\r\n                {\r\n                    if (clickedButton.isHighlight)\r\n                    {\r\n                        let xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><General><SelectionModeModifier>';\r\n                        xml += appStates.lastSelectionModeModifier;\r\n                        xml += '</SelecitionModeModifier></General></Scene></Settings></Call>';\r\n                        client.command.executeXML(xml);\r\n                        clickedButton.applyHighlight(false);\r\n                    }\r\n                    else\r\n                    {\r\n                        appStates.lastSelectionModeModifier = ui.settingsPane.sceneSettings.Settings.Scene.General.SelectionModeModifier;\r\n                        let xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><General><SelectionModeModifier>';\r\n                        xml += 'SelectProductOccurence';\r\n                        xml += '</SelecitionModeModifier></General></Scene></Settings></Call>';\r\n                        client.command.executeXML(xml);\r\n                        appStates.selectionMode = 'Attributes';\r\n                        group.getWidgets().forEach((b: w.BaseButton) => b.applyHighlight(false));\r\n                        clickedButton.applyHighlight(true);\r\n                        return;\r\n                    }\r\n                }\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tswitch (clickedButton.langId)\r\n\t\t\t\t\t{\r\n                        case 'ID_RIBBON_SELECT':\r\n                            appStates.selectionMode = 'Select';\r\n                            break;\r\n                        case 'ID_RIBBON_HIDE':\r\n                            appStates.selectionMode = 'Hide';\r\n                            break;\r\n                        case 'ID_RIBBON_DELETE':\r\n                            appStates.selectionMode = 'Delete';\r\n                            break;\r\n                        case 'ID_RIBBON_GHOST':\r\n                            appStates.selectionMode = 'Ghost';\r\n                            break;\r\n                        case 'ID_RIBBON_COLOR':\r\n                            appStates.selectionMode = 'Color';\r\n                            break;\r\n                        case 'ID_RIBBON_INSTANCE':\r\n                            appStates.selectionMode = 'Instance';\r\n                            break;\r\n                        default:\r\n                            return;\r\n                    }\r\n\r\n                    var s = '<Call Method=\"SetSelectionMode\"><SelectionMode>' + appStates.selectionMode + '</SelectionMode></Call>';\r\n                    client.command.executeXML(s);\r\n                    client.once('SetSelectionMode', (response) =>\r\n                    {\r\n                        if (response.Error === 'SUCCESS')\r\n                        {\r\n                            handlePrependingPane('wv-neighbourhoodsearch', 'off');\r\n                            group.getWidgets().forEach((b: w.BaseButton) => b.applyHighlight(false));\r\n                            clickedButton.applyHighlight(true);\r\n                        }\r\n                    });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_SELECTION',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_SELECT_ALL', iconId: '1_alles_selektieren' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_INVERT_SELECTION', iconId: '2_auswahl_umkehren' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ISOLATE', iconId: '3_isolieren' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_SHOW_SELECTION', iconId: '4_anzeigen' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_HIDE_SELECTION', iconId: '5_verbergen' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_DELETE_SELECTION', iconId: '6_loeschen' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_GHOST_SELECTION', iconId: '7_ghost' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_UNGHOST', iconId: '8_ghost_ausschalten' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_DESELECT', iconId: '9_auswahl_aufheben' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_COLOR', iconId: '10_auswahl_durch_farbe', highlight: false },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: '', iconId: '',disabled: true },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_SELECT_ALL':\r\n                        client.command.executeXML('<Call Method=\"SelectAllGeometries\"></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_INVERT_SELECTION':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Invert</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_ISOLATE':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Isolate</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_SHOW_SELECTION':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Show</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_HIDE_SELECTION':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Hide</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_DELETE_SELECTION':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Delete</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_GHOST_SELECTION':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Ghost</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_UNGHOST':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>UnGhost</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_DESELECT':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Deselect</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_COLOR':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>SearchByColor</SelectionModifier></Call>');\r\n                        break;\r\n                    default:\r\n                        console.log('invalid id');\r\n                }\r\n                clickedButton.flashHighlight();\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_SHOW/HIDE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_SHOW_ALL', iconId: '1_alles_anzeigen' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_UNGHOST_ALL', iconId: '2_ghost_ausschalten' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_HIDE_ALL_MARKUPS', iconId: '3_markups_verbergen' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_HIDE_ALL_PMIS', iconId: '4_pmis_verbergen' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_INVERT_VISIBILITY', iconId: '5_sichtbarkeit_umkehren' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: '', iconId: '', disabled: true },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: '', iconId: '', disabled: true }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, g) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client }: { client: VSWebClient } = context\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n\t\t\t\t\tcase 'ID_RIBBON_SHOW_ALL':\r\n\t\t\t\t\t\tclient.command.executeXMLAsync('<Call Method=\"ShowAll\"></Call>')\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_UNGHOST_ALL':\r\n\t\t\t\t\t\tclient.command.executeXMLAsync('<Call Method=\"UnGhostAll\"></Call>')\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_HIDE_ALL_MARKUPS':\r\n\t\t\t\t\t\tclient.command.executeXMLAsync('<Call Method=\"HideAllMarkups\"></Call>')\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_HIDE_ALL_PMIS':\r\n\t\t\t\t\t\tclient.command.executeXMLAsync('<Call Method=\"HideAllPMIs\"></Call>')\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_INVERT_VISIBILITY':\r\n\t\t\t\t\t\tclient.command.executeXMLAsync('<Call Method=\"InvertVisibility\"></Call>')\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.log('invalid id')\r\n\t\t\t\t}\r\n\t\t\t\tclickedButton.flashHighlight()\r\n\t\t\t}\r\n\t\t},\r\n\t\tXButton\r\n\t]\r\n}\r\n\r\nexport let documentTab: w.TabOption = {\r\n    langId: 'ID_RIBBON_DOCUMENT',\r\n    groups: [\r\n        {\r\n            langId: 'ID_RIBBON_CONTROLS',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_PAN', iconId: '3_pan', ribbonClass: ['LMBFunction'] },\r\n                {\r\n                    type: w.WidgetType.Button, langId: 'ID_RIBBON_ZOOM_RECTANGLE', iconId: '1_zoom_rahmen',\r\n                    ribbonClass: ['LMBFunction']\r\n                },\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                let mode = '';\r\n                let deactivateCall = '<Call Method=\"ActivateInteraction\"><Interaction>Deactivate_AllInteractions</Interaction></Call>';\r\n                switch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_ZOOM_RECTANGLE':\r\n                        mode = 'RectZoom';\r\n                        vsClient.command.executeXML(deactivateCall);\r\n                        break\r\n                    case 'ID_RIBBON_PAN':\r\n                        mode = 'Pan';\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n\r\n                let s = `<Call Method=\"SetSceneSettings\">\r\n                            <Settings>\r\n                                <Scene>\r\n                                <Mouse>\r\n                                <LeftButtonFunction>\r\n                                    ${mode}\r\n                                </LeftButtonFunction>\r\n                                </Mouse>\r\n                                </Scene>\r\n                            </Settings>\r\n                        </Call>`\r\n\r\n                client.command.executeXMLAsync(s)\r\n\r\n                client.once('SetSceneSettings', (response) => {\r\n                    if (response.Error === 'SUCCESS') {\r\n                        ribbon.classes['LMBFunction'].forEach((button: w.BaseButton) => {\r\n                            button.applyHighlight(false)\r\n                        })\r\n\r\n\t\t\t\t\t\tlet condition = clickedButton.langId\r\n                        ribbon.classes['LMBFunction'].forEach((b: w.BaseButton) => {\r\n                            if (b.langId === condition) {\r\n                                b.applyHighlight(true)\r\n                            }\r\n                        })\r\n                        appStates.mouseLeftButtonMode = mode\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_PAGE',\r\n            widgets: [\r\n                { langId: 'ID_RIBBON_PREVIOUS', iconId: '1_vorherige' },\r\n                {\r\n                    type: w.WidgetType.Input,\r\n                    langId: 'ID_RIBBON_PAGE',\r\n                    ribbonClass: ['PageInput'],\r\n                    inputCallback: (context, id: string, ev: KeyboardEvent) => {\r\n                        let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n                        let input = w.findInput(id)\r\n                        let inputEl = input.el as HTMLInputElement\r\n                        let keyCode = ev.which || ev.keyCode\r\n\r\n                        const ENTER = 13\r\n                        const ESC = 27\r\n                        if (keyCode === ESC) {\r\n\r\n                            inputEl.blur()\r\n                        }\r\n\r\n\r\n                        if (keyCode === ENTER) {\r\n                            if (/^[0-9]{1,5}$/.test(inputEl.value)) {\r\n                                let pageToGo = inputEl.value\r\n                                client.command.executeXMLAsync(`<Call Method=\"GotoPage\">\r\n                                                                                            <Page>${pageToGo}</Page>\r\n                                                                                    </Call>`)\r\n\r\n                                client.once('GotoPage', response => {\r\n                                    if (response.Error === 'SUCCESS') {\r\n                                        client.command.executeXMLAsync(`<Call Method=\"GetPageCount\"></Call>`)\r\n                                        client.once('GetPageCount', response => {\r\n                                            inputEl.value = pageToGo + ' / ' + response['Pages']\r\n                                        })\r\n                                    }\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                { langId: 'ID_RIBBON_NEXT', iconId: '2_naechtse' }\r\n            ],\r\n            groupClick: (context: any, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id)\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\r\n                let xml: string\r\n                switch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_PREVIOUS':\r\n                        xml = '<Call Method=\"PreviousPage\"></Call>'\r\n                        client.command.executeXMLAsync(xml)\r\n                        client.once('PreviousPage', response => {\r\n                            let pageInput = ribbon.classes['PageInput'][0] as w.Input\r\n                            let inputEl = pageInput.el as HTMLInputElement\r\n                            let sepIndex = inputEl.value.lastIndexOf('/')\r\n                            let pageCount = inputEl.value.substr(sepIndex + 1).trim()\r\n                            inputEl.value = `${response['Page']} / ${pageCount}`\r\n                        })\r\n\r\n                        break\r\n                    case 'ID_RIBBON_NEXT':\r\n                        xml = '<Call Method=\"NextPage\"></Call>'\r\n                        client.command.executeXMLAsync(xml)\r\n                        client.once('NextPage', response => {\r\n                            let pageInput = ribbon.classes['PageInput'][0] as w.Input\r\n                            let inputEl = pageInput.el as HTMLInputElement\r\n                            let sepIndex = inputEl.value.lastIndexOf('/')\r\n                            let pageCount = inputEl.value.substr(sepIndex + 1).trim()\r\n                            inputEl.value = `${response['Page']} / ${pageCount}`\r\n                        })\r\n\r\n                        break\r\n                }\r\n                clickedButton.flashHighlight()\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_ROTATE',\r\n            widgets: [\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_90', iconId: '1_90_Grad' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_180', iconId: '2_180_Grad' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_270', iconId: '3_270_Grad' },\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id)\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet xml =  '<Call Method=\"RotatePage\"></Call>'\r\n\t\t\t\tclient.command.executeXMLAsync(xml)\r\n                switch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_90':\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_180':\r\n\t\t\t\t\t\tclient.command.executeXMLAsync(xml)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_270':\r\n\t\t\t\t\t\tclient.command.executeXMLAsync(xml)\r\n\t\t\t\t\t\tclient.command.executeXMLAsync(xml)\r\n\t\t\t\t\t\tbreak\r\n                }\r\n                clickedButton.flashHighlight()\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_ZOOM',\r\n            widgets: [\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FIT_ALL', iconId: '1_anpassen' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FIT_WIDTH', iconId: '2_an_fensterbreite_anpassen' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FIT_HEIGHT', iconId: '3_an_fensterhoehe_anpassen' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ZOOM_IN', iconId: '4_vergroessern' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ZOOM_OUT', iconId: '5_verkleinern' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: '', iconId: '', disabled: true }\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id)\r\n\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n                let XMLCall\r\n                switch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_FIT_ALL':\r\n                        XMLCall = `<Call Method=\"FitAll\"></Call>`\r\n                        break\r\n                    case 'ID_RIBBON_FIT_WIDTH':\r\n                        XMLCall = `<Call Method=\"FitWidth\"></Call>`\r\n                        break\r\n                    case 'ID_RIBBON_FIT_HEIGHT':\r\n                        XMLCall = `<Call Method=\"FitHeight\"></Call>`\r\n                        break\r\n                    case 'ID_RIBBON_ZOOM_IN':\r\n                        XMLCall = `<Call Method=\"ZoomIn\"></Call>`\r\n                        break\r\n                    case 'ID_RIBBON_ZOOM_OUT':\r\n                        XMLCall = `<Call Method=\"ZoomOut\"></Call>`\r\n                        break\r\n                }\r\n                client.command.executeXMLAsync(XMLCall)\r\n                clickedButton.flashHighlight()\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_TEXT_SEARCH',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_TEXT_SEARCH', iconId: '1_text_search', paneId:'wv-textsearch' },\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client }: { client: VSWebClient } = context\r\n\t\t\t\tif (!clickedButton.isHighlight)\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(true)\r\n\t\t\t\t\thandlePrependingPane('wv-textsearch', 'on')\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(false)\r\n\t\t\t\t\thandlePrependingPane('wv-textsearch', 'off')\r\n\t\t\t\t}\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_GRAPHIC_EFFECTS',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_ILLUSTRATION', iconId: '3_illustration' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_INVERT', iconId: '1_invertieren' },\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id)\r\n\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet toToggle\r\n                switch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_ILLUSTRATION':\r\n                        toToggle = 'Illustration'\r\n                        break\r\n                    case 'ID_RIBBON_INVERT':\r\n\t\t\t\t\t\ttoToggle = 'Inverse'\r\n                        break\r\n\t\t\t\t}\r\n\t\t\t\tlet renderingModes = []\r\n                for (let mode of appStates.renderingModes) {\r\n                    if (mode != toToggle) {\r\n                        renderingModes.push(mode)\r\n                    }\r\n                }\r\n                if (appStates.renderingModes.every(e => e !== toToggle)) {\r\n                    renderingModes.push(toToggle)\r\n                }\r\n\r\n                if (renderingModes.length === 1 && renderingModes[0] === 'Perspective') {\r\n                    renderingModes.push('Solid')\r\n                }\r\n\r\n                var s = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Visualization><RenderMode>'\r\n                for (var i = 0; i < renderingModes.length; i++) {\r\n                    s = s +  renderingModes[i] + ' '\r\n                }\r\n                s = s + '</RenderMode></Visualization></Scene></Settings></Call>';\r\n                client.command.executeXMLAsync(s)\r\n            }\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_COMPARE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_COMPARE', iconId: '2_exakt', ribbonClass: ['Interaction'], paneId: 'wv-quickcompare' },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) =>\r\n\t\t\t{\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\r\n\t\t\t\tif (!clickedButton.isHighlight)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet ActivateGraphicalCompare = `<Call Method=\"ActivateGraphicalCompare\"><Activate>true</Activate></Call>`\r\n\t\t\t\t\tclient.command.executeXMLAsync(ActivateGraphicalCompare)\r\n\t\t\t\t\tclient.once('ActivateGraphicalCompare', response =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (response.Error === 'SUCCESS')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclickedButton.applyHighlight(true)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\thandlePrependingPane('wv-quickcompare', \"QuickCompare\")\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\tlet ActivateGraphicalCompare = `<Call Method=\"ActivateGraphicalCompare\"><Activate>false</Activate></Call>`\r\n\t\t\t\t\tclient.command.executeXMLAsync(ActivateGraphicalCompare)\r\n\t\t\t\t\tclient.once('ActivateGraphicalCompare', response =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (response.Error === 'SUCCESS')\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclosePaneById('wv-quickcompare')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_3D_MARKUP',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_TEXT', iconId: '1_text', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_CIRCLE', iconId: '2_kreis', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FIXED_TEXT', iconId: 'fixed_markup', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_RECTANGLE', iconId: '3_rechteck', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FREEHAND', iconId: '4_freihand', ribbonClass: ['Interaction'] }\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) =>\r\n            {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                let mode = '';\r\n                switch (clickedButton.langId)\r\n                {\r\n                    case 'ID_RIBBON_TEXT':\r\n                        mode = 'Markup_Text';\r\n                        break;\r\n                    case 'ID_RIBBON_CIRCLE':\r\n                        mode = 'Markup_Circle';\r\n                        break;\r\n                    case 'ID_RIBBON_RECTANGLE':\r\n                        mode = 'Markup_Rectangle';\r\n                        break;\r\n                    case 'ID_RIBBON_FREEHAND':\r\n                        mode = 'Markup_Freehand';\r\n                        break;\r\n                    case 'ID_RIBBON_FIXED_TEXT':\r\n                        mode = 'Markup_Text_Fixed';\r\n                        break;\r\n                    default:\r\n                        console.error('invalid interaction type');\r\n                }\r\n                clickedButton.event = mode;\r\n                handleActivateInteraction(client, mode);\r\n            }\r\n        },\r\n        XButton\r\n    ]\r\n}\r\n\r\nexport let viewTab: w.TabOption = {\r\n    langId: 'ID_RIBBON_VIEW',\r\n    groups: [\r\n        {\r\n            langId: 'ID_RIBBON_ALIGNMENT',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_ISOMETRIC', iconId: '1_isometrisch' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_TOP', iconId: '2_oben' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_LEFT', iconId: '3_links' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FRONT', iconId: '4_vorne' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BOTTOM', iconId: '5_unten' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_RIGHT', iconId: '6_rechts' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BACK', iconId: '7_hinten' }\r\n            ],\r\n            groupClick: function (context, id: string, group: w.Group) {\r\n                let clickedButton = w.findButton(id)\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\r\n                let xmlValue: string\r\n\r\n                switch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_ISOMETRIC':\r\n                        xmlValue = 'Isometric'\r\n                        break\r\n                    case 'ID_RIBBON_TOP':\r\n                        xmlValue = 'Top'\r\n                        break\r\n                    case 'ID_RIBBON_LEFT':\r\n                        xmlValue = 'Left'\r\n                        break\r\n                    case 'ID_RIBBON_FRONT':\r\n                        xmlValue = 'Front'\r\n                        break\r\n                    case 'ID_RIBBON_BOTTOM':\r\n                        xmlValue = 'Bottom'\r\n                        break\r\n                    case 'ID_RIBBON_RIGHT':\r\n                        xmlValue = 'Right'\r\n                        break\r\n                    case 'ID_RIBBON_BACK':\r\n                        xmlValue = 'Back'\r\n                        break\r\n                    default:\r\n                        return\r\n                }\r\n\r\n                let s = '<Call Method=\"AlignView\"><Alignment>' + xmlValue + '</Alignment></Call>'\r\n                client.command.executeXMLAsync(s)\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_ROTATE',\r\n            widgets: [\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_90', iconId: '1_90_Grad' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_180', iconId: '2_180_Grad' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_270', iconId: '3_270_Grad' },\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) =>\r\n            {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                let xml = '<Call Method=\"RotatePage\"></Call>';\r\n                client.command.executeXML(xml);\r\n                switch (clickedButton.langId)\r\n                {\r\n                    case 'ID_RIBBON_90':\r\n                        break;\r\n                    case 'ID_RIBBON_180':\r\n                        client.command.executeXML(xml);\r\n                        break;\r\n                    case 'ID_RIBBON_270':\r\n                        client.command.executeXML(xml);\r\n                        client.command.executeXML(xml);\r\n                        break\r\n                }\r\n                clickedButton.flashHighlight();\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_ZOOM',\r\n            widgets: [\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FIT_ALL', iconId: '1_anpassen' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ZOOM_IN', iconId: '2_vergroessern' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ZOOM_OUT', iconId: '3_verkleinern' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FOCUS', iconId: '4_focus' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FOCUS_TRANSITION', iconId: 'focus_and_transition' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_SET_ORIGIN', iconId: 'set_origin' }\r\n            ],\r\n            groupClick: function (context, id: string, group: w.Group) {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n\r\n                switch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_FIT_ALL':\r\n                        client.command.executeXML('<Call Method=\"FitAll\"></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_ZOOM_IN':\r\n                        client.command.executeXML('<Call Method=\"ZoomIn\"></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_ZOOM_OUT':\r\n                        client.command.executeXML('<Call Method=\"ZoomOut\"></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_FOCUS':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Focus</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_FOCUS_TRANSITION':\r\n                        client.command.executeXML(`<Call Method=\"Focus\">\r\n                        <Ghost>true</Ghost>\r\n                        <FadeTime>\r\n                          <ZoomOut>500</ZoomOut>\r\n                          <Translation>500</Translation>\r\n                          <Rotation>1000</Rotation>\r\n                          <ZoomIn>1000</ZoomIn>\r\n                        </FadeTime></Call>`);\r\n                        break;\r\n                    case 'ID_RIBBON_SET_ORIGIN':\r\n                        client.command.executeXML('<Call Method=\"SetOrigin\"></Call>');\r\n                        break;\r\n                }\r\n                clickedButton.flashHighlight();\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_RENDERING_MODE',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_SOLID', iconId: '1_koerper' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_WIRES', iconId: '2_drahtmodell' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ILLUSTRATION', iconId: '3_illustration' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_PERSPECTIVE', iconId: '4_perspektive' },\r\n            ],\r\n            groupClick: function (context, id: string, group: w.Group) {\r\n                let clickedButton = w.findButton(id)\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n                let toToggle = ''\r\n                switch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_SOLID':\r\n                        toToggle = 'Solid'\r\n                        break\r\n                    case 'ID_RIBBON_WIRES':\r\n                        toToggle = 'Wires'\r\n                        break\r\n                    case 'ID_RIBBON_ILLUSTRATION':\r\n                        toToggle = 'Illustration'\r\n                        break\r\n                    case 'ID_RIBBON_PERSPECTIVE':\r\n                        toToggle = 'Perspective'\r\n                        break\r\n                    case '':\r\n                        break\r\n                }\r\n\r\n                let renderingModes = []\r\n                for (let mode of appStates.renderingModes) {\r\n                    if (mode != toToggle) {\r\n                        renderingModes.push(mode)\r\n                    }\r\n                }\r\n                if (appStates.renderingModes.every(e => e !== toToggle)) {\r\n                    renderingModes.push(toToggle)\r\n                }\r\n\r\n                if (renderingModes.length === 1 && renderingModes[0] === 'Perspective') {\r\n                    renderingModes.push('Solid')\r\n                }\r\n\r\n                var s = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Visualization><RenderMode>'\r\n                for (var i = 0; i < renderingModes.length; i++) {\r\n                    s = s +  renderingModes[i] + ' '\r\n                }\r\n                s = s + '</RenderMode></Visualization></Scene></Settings></Call>';\r\n                client.command.executeXMLAsync(s)\r\n            }\r\n\t\t},\r\n        {\r\n            langId: 'ID_RIBBON_GRAPHIC_EFFECTS',\r\n            widgets: [\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_SILHOUETTE', iconId: '1_kontur' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_OPAQUE', iconId: '5_undurchsichtig' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_SHADOW', iconId: '3_schatten' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_MATERIAL', iconId: '4_material' },\r\n            ],\r\n            groupClick: function (context, id: string, group: w.Group) {\r\n                let clickedButton = w.findButton(id)\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\r\n                let toToggle = ''\r\n                switch (clickedButton.id) {\r\n                    case 'ID_RIBBON_SILHOUETTE':\r\n                        toToggle = 'Silhouette'\r\n                        break\r\n                    case 'ID_RIBBON_OPAQUE':\r\n                        toToggle = 'Opaque'\r\n                        break\r\n                    case 'ID_RIBBON_SHADOW':\r\n                        toToggle = 'Shadow'\r\n                        break\r\n                    case 'ID_RIBBON_MATERIAL':\r\n                        toToggle = 'Material'\r\n                        break\r\n                    case '':\r\n                        break\r\n                }\r\n\r\n                let renderingModesGraphic = []\r\n                for (let mode of appStates.renderingModes) {\r\n                    if (mode != toToggle) {\r\n                        renderingModesGraphic.push(mode)\r\n                    }\r\n                }\r\n                if (appStates.renderingModes.every(e => e !== toToggle)) {\r\n                    renderingModesGraphic.push(toToggle)\r\n                }\r\n                var s = '<Call Method=\"SetRenderMode\">'\r\n                for (var i = 0; i < renderingModesGraphic.length; i++) {\r\n                    s = s + '<RenderMode>' + renderingModesGraphic[i] + '</RenderMode>'\r\n                }\r\n                s = s + '</Call>';\r\n\r\n                client.command.executeXMLAsync(s)\r\n\r\n                client.once('SetRenderMode', response => {\r\n                    const GetSceneSettings = `<Call Method=\"GetSceneSettings\"></Call>`\r\n                    client.command.executeXMLAsync(GetSceneSettings)\r\n                })\r\n            }\r\n\t\t},\r\n\t\t{\r\n            langId: 'ID_RIBBON_FLYTHROUGH',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_FLYTHROUGH', iconId: '1_fly_through', ribbonClass: ['Interaction'] },\r\n            ],\r\n            groupClick: function (context, id: string, group: w.Group) {\r\n                let clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet mode = 'Flythrough'\r\n\t\t\t\tclickedButton.event = mode\r\n\t\t\t\thandleActivateInteraction(client, mode)\r\n            }\r\n\t\t},\r\n\t\t{\r\n            langId: 'ID_RIBBON_ROTATE',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_SPIN', iconId: '1_drehen'},\r\n            ],\r\n            groupClick: function (context, id: string, group: w.Group) {\r\n                let clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\r\n\t\t\t\tif(!clickedButton.isHighlight)\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(true)\r\n\t\t\t\t\tlet xml = '<Call Method=\"ActivateRotation\"><Activate>' + true + '</Activate></Call>'\r\n\t\t\t\t\tclient.command.executeXMLAsync(xml)\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(false)\r\n\t\t\t\t\tlet xml = '<Call Method=\"ActivateRotation\"><Activate>' + false + '</Activate></Call>'\r\n\t\t\t\t\tclient.command.executeXMLAsync(xml)\r\n\t\t\t\t}\r\n            }\r\n        },\r\n        {\r\n            langId: 'ID_RIBBON_SCENES',\r\n            widgets: [\r\n                { langId: 'ID_RIBBON_SHOW_GRID', iconId: '1_raster_darstellen' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_FULL_SCREEN', iconId: '1_vollbild' }\r\n            ],\r\n            groupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                switch (clickedButton.id)\r\n                {\r\n                    case 'ID_RIBBON_FULL_SCREEN':\r\n                        toggleFullscreen(ribbon);\r\n                        break;\r\n                    case 'ID_RIBBON_SHOW_GRID':\r\n                        let show = !(clickedButton.isHighlight)\r\n                        let ShowGrid = `<Settings>\r\n\t\t\t\t\t\t\t\t\t<Scene>\r\n\t\t\t\t\t\t\t\t\t\t<Visualization>\r\n\t\t\t\t\t\t\t\t\t\t\t<ShowGrid>${show}</ShowGrid>\r\n\t\t\t\t\t\t\t\t\t\t</Visualization>\r\n\t\t\t\t\t\t\t\t\t</Scene>\r\n\t\t\t\t\t\t\t\t</Settings>`;\r\n                        let XML = `<Call Method=\"SetSceneSettings\">${ShowGrid}</Call>`;\r\n                        client.command.executeXML(XML);\r\n                        client.once('SetSceneSettings', (response) =>\r\n                        {\r\n                            if (response.Error === 'SUCCESS')\r\n                            {\r\n                                clickedButton.applyHighlight(show);\r\n                            }\r\n                        })\r\n                        break;\r\n                }\r\n                clickedButton.flashHighlight();\r\n            }\r\n\t\t},\r\n        {\r\n            langId: 'ID_ANIMATION',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_ANIMATE', iconId: 'animation_start' },\r\n                { type: w.WidgetType.Button, langId: 'ID_CREATE_ANIMATION', iconId: 'animation_settings', paneId: 'wv-animation'}\r\n            ],\r\n            groupClick: function (context, id: string, group: w.Group) {\r\n                let clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n                let isActive = clickedButton.isHighlight;\r\n                switch (clickedButton.langId)\r\n                {\r\n                    case 'ID_RIBBON_ANIMATE':\r\n                        let xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><General><Animation>' + !isActive;\r\n                        xml += '</Animation></General></Scene></Settings></Call>';\r\n                        client.command.executeXML(xml);\r\n                        break;\r\n                    case 'ID_CREATE_ANIMATION':\r\n                        if (isActive)\r\n                        {\r\n                            handlePrependingPane('wv-animation', 'off');\r\n                            clickedButton.applyHighlight(false);\r\n                        }\r\n                        else\r\n                        {\r\n                            handlePrependingPane('wv-animation', 'on');\r\n                            clickedButton.applyHighlight(true);\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n\t\t},\r\n\t\t{\r\n            langId: 'ID_RIBBON_SHOW_PANES',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_MODEL_TREE', iconId: 'menu_modeltree', paneId: 'wv-modeltree' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_VIEWS', iconId: 'menu_views', paneId: 'wv-views' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_PROPERTIES', iconId: 'menu_properties', paneId: 'wv-properties' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_SETTINGS', iconId: 'menu_settings', paneId: 'wv-settings' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_SELECTIONS_WND', iconId: '1_selektieren', paneId: 'wv-selections' },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_RESET_UI', iconId: '1_oberflaeche_zuruecksetzen' }\r\n\t\t\t],\r\n            groupClick: function (context, id: string, group: w.Group) {\r\n\t\t\t\tlet { client }: { client: VSWebClient } = context;\r\n\t\t\t\tlet clickedButton = w.findButton(id);\r\n\r\n\t\t\t\tif(clickedButton.id === 'ID_RIBBON_RESET_UI')\r\n\t\t\t\t{\r\n\t\t\t\t\tui.resetPanes(true);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif (clickedButton.isHighlight)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclosePaneById(clickedButton.paneId);\r\n\t\t\t\t\t\tlet openPaneCount = appStates.panes.length;\r\n\t\t\t\t\t\tfor (let i = 0; i < openPaneCount; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (appStates.panes[i].paneId === clickedButton.paneId)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tappStates.panes[i].visible = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlocalStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tui.prependPane(clickedButton.paneId);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n            }\r\n        },\r\n\t\tXButton\r\n    ]\r\n}\r\n\r\nexport let measurementTab: w.TabOption = {\r\n\tlangId: 'ID_RIBBON_MEASUREMENT',\r\n\tgroups: [\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_DIMENSION_MODE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.ButtonLet,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_MEASUREMENT',\r\n\t\t\t\t\ticonId: '1_measurement'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.ButtonLet,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_DIMENSION',\r\n\t\t\t\t\ticonId: '2_dimensioning',\r\n\t\t\t\t\thighlight: true\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet XML: string\r\n\t\t\t\tlet SetSceneSettings: string\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n\t\t\t\t\tcase 'ID_RIBBON_MEASUREMENT':\r\n\t\t\t\t\t\tXML = ` <Settings>\r\n\t\t\t\t\t\t\t\t\t  <Scene><Tools>\r\n\t\t\t\t\t\t\t\t\t  <Dimensioning>\r\n\t\t\t\t\t\t\t\t\t  <Dimensioning Type=\"bool\">false</Dimensioning>\r\n\t\t\t\t\t\t\t\t\t  </Dimensioning>\r\n\t\t\t\t\t\t\t\t\t  </Tools></Scene>\r\n\t\t\t\t\t\t\t\t\t  </Settings>`\r\n\t\t\t\t\t\tSetSceneSettings = `<Call Method=\"SetSceneSettings\"> ${XML} </Call>`\r\n\t\t\t\t\t\tclient.command.executeXMLAsync(SetSceneSettings)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_DIMENSION':\r\n\t\t\t\t\t\tXML = ` <Settings>\r\n\t\t\t\t\t\t\t\t\t  <Scene><Tools>\r\n\t\t\t\t\t\t\t\t\t  <Dimensioning>\r\n\t\t\t\t\t\t\t\t\t  <Dimensioning Type=\"bool\">true</Dimensioning>\r\n\t\t\t\t\t\t\t\t\t  </Dimensioning>\r\n\t\t\t\t\t\t\t\t\t  </Tools></Scene>\r\n\t\t\t\t\t\t\t\t\t  </Settings>`\r\n\t\t\t\t\t\tSetSceneSettings = `<Call Method=\"SetSceneSettings\"> ${XML} </Call>`\r\n\t\t\t\t\t\tclient.command.executeXMLAsync(SetSceneSettings)\r\n\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclient.once('SetSceneSettings', () => {\r\n\t\t\t\t\tgroup.getWidgets().forEach((button: w.BaseButton) => button.applyHighlight(false))\r\n\t\t\t\t\tclickedButton.applyHighlight(true)\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_COORDINATE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_POINT', iconId: '1_punkt', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: {\r\n\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\tribbon: VSRibbon\r\n\t\t\t\t} = context\r\n\r\n\t\t\t\tlet mode = 'Measurement_PointCoordinate'\r\n\t\t\t\tclickedButton.event = mode\r\n\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_EDGE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_LENGTH', iconId: '1_laenge', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_ACCUMULATED_LENGTH', iconId: '2_kumulierte_laenge', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) =>\r\n\t\t\t{\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client }: {\r\n\t\t\t\t\tclient: VSWebClient\r\n\t\t\t\t} = context\r\n\r\n\t\t\t\tlet mode\r\n\t\t\t\tswitch (clickedButton.langId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'ID_RIBBON_LENGTH':\r\n\t\t\t\t\t\tmode = 'Measurement_EdgeLength'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_ACCUMULATED_LENGTH':\r\n\t\t\t\t\t\tmode = 'Measurement_EdgeLengthAccumulated'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tclickedButton.event = mode\r\n\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_CIRCLE_MODE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ARC', iconId: '1_kreisbogen', highlight:true },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_3_POINTS', iconId: '2_3_punkte' }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: {\r\n\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\tribbon: VSRibbon\r\n\t\t\t\t} = context\r\n\r\n\t\t\t\tlet xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Tools><CircleSelection><SelectCircleWith3Points>'\r\n\t\t\t\txml += clickedButton.langId === 'ID_RIBBON_3_POINTS'\r\n\t\t\t\txml += '</SelectCircleWith3Points></CircleSelection></Tools></Scene></Settings></Call>'\r\n\r\n\t\t\t\tclient.command.executeXMLAsync(xml)\r\n\r\n\t\t\t\tclient.once('SetSceneSettings', () => {\r\n\t\t\t\t\tgroup.getWidgets().forEach((button: w.BaseButton) => button.applyHighlight(false))\r\n\t\t\t\t\tclickedButton.applyHighlight(true)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_CIRCLE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_RADIUS',\r\n\t\t\t\t\ticonId: '1_1_radius',\r\n\t\t\t\t\tribbonClass: ['Interaction'],\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_RADIUS', iconId: '1_1_radius', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DIAMETER', iconId: '1_2_durchmesser', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_PERIMETER', iconId: '1_3_umfang', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CENTER', iconId: '1_4_mittelpunkt', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_AREA', iconId: '1_5_flaeche', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) => {\r\n\t\t\t\t\t\tlet { client }: {\r\n\t\t\t\t\t\t\tclient: VSWebClient\r\n\t\t\t\t\t\t} = context\r\n\t\t\t\t\t\tlet mode = ''\r\n\r\n\t\t\t\t\t\tswitch (item.langId) {\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_RADIUS':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_CircleRadius'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DIAMETER':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_CircleDiameter'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_PERIMETER':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_CirclePerimeter'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CENTER':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_CircleCenter'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_AREA':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_CircleArea'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.event = mode\r\n\t\t\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_DISTANCE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_DISTANCE_BETWEEN_TWO_POINTS',\r\n\t\t\t\t\ticonId: '1_1_punkt_zu_punkt',\r\n\t\t\t\t\tribbonClass: ['Interaction'],\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_TWO_POINTS', iconId: '1_1_punkt_zu_punkt', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_POINT_AND_EDGE', iconId: '1_2_punkt_zu_kante', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_POINT_AND_CIRCLE_AXIS', iconId: '1_3_punkt_zu_kreisachse', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_POINT_AND_SOLID', iconId: '1_4_punkt_zu_koerper', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_TWO_EDGES', iconId: '1_5_kante_zu_kante', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_EDGE_AND_FACE', iconId: '1_6_kante_zu_oberflaeche', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_EDGE_AND_SOLID', iconId: '1_7_kante_zu_koerper', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_TWO_CIRCLE_AXES', iconId: '1_8_kreisachse_zu_kreisachse', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_TWO_CIRCLE_CENTERS', iconId: '1_8_kreisachse_zu_kreisachse', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_CIRCLE_AXIS_AND_EDGE', iconId: '1_9_kreismittelpunkt_zu_kante', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_TWO_FACES', iconId: '1_10_oberflaeche_zu_oberflaeche', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_FACE_AND_CENTER', iconId: '1_11_oberflaeche_zu_mittelpunkt', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_FACE_AND_SOLID', iconId: '1_12_oberflaeche_zu_koerper', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_TWO_SOLIDS', iconId: '1_13_koerper_zu_koerper', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_DISTANCE_BETWEEN_PIPE_CENTER_AND_FACE', iconId: '1_14_cylinder_center_to_face', ribbonClass: ['Interaction'] }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) => {\r\n\t\t\t\t\t\tlet { client, ribbon }: {\r\n\t\t\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\t\t\tribbon: VSRibbon\r\n\t\t\t\t\t\t} = context\r\n\t\t\t\t\t\tlet mode = ''\r\n\t\t\t\t\t\tswitch (item.langId) {\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_TWO_POINTS':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistancePointToPoint';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_POINT_AND_EDGE':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistancePointToEdge';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_POINT_AND_CIRCLE_AXIS':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistancePointToAxis';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_POINT_AND_SOLID':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistancePointToSolid';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_TWO_EDGES':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceEdgeToEdge';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_EDGE_AND_FACE':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceEdgeToFace';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_EDGE_AND_SOLID':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceEdgeToSolid';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_TWO_CIRCLE_AXES':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceAxisToAxis';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_TWO_CIRCLE_CENTERS':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceCenterToCenter';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_CIRCLE_AXIS_AND_EDGE':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceAxisToEdge';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_TWO_FACES':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceFaceToFace'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_FACE_AND_CENTER':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceFaceToCenter';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_FACE_AND_SOLID':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceFaceToSolid';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_TWO_SOLIDS':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceSolidToSolid';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_DISTANCE_BETWEEN_PIPE_CENTER_AND_FACE':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_DistanceCylinderCenterToFace';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.event = mode;\r\n\t\t\t\t\t\thandleActivateInteraction(client, mode);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_ANGLE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_ANGLE_BETWEEN_TWO_AXES',\r\n\t\t\t\t\ticonId: '1_1_kreisachse_zu_kreisachse',\r\n\t\t\t\t\tribbonClass: ['Interaction'],\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_ANGLE_BETWEEN_TWO_AXES', iconId: '1_1_kreisachse_zu_kreisachse', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_ANGLE_BETWEEN_AXIS_AND_EDGE', iconId: '1_2_kreisachse_zu_kante', ribbonClass: ['Interaction'] },\r\n                        { langId: 'ID_RIBBON_ANGLE_BETWEEN_TWO_LINES', iconId: '1_3_linie_zu_linie', ribbonClass: ['Interaction'] },\r\n                        { langId: 'ID_RIBBON_ANGLE_BETWEEN_TWO_PROJECTED_LINES', iconId: '1_3_linie_zu_linie', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_ANGLE_BETWEEN_TWO_PLANES', iconId: '1_4_ebene_zu_ebene', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_ANGLE_BETWEEN_PLANE_AND_DIRECTION', iconId: '1_5_ebene_zu_richtung', ribbonClass: ['Interaction'] },\r\n                        { langId: 'ID_RIBBON_ANGLE_DEFINED_BY_THREE_POINTS', iconId: '1_6_winkel_aus_drei_punkten', ribbonClass: ['Interaction'] },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) => {\r\n                        let { client, ribbon }: {\r\n                            client: VSWebClient,\r\n                            ribbon: VSRibbon\r\n                        } = context;\r\n                        let mode = '';\r\n\t\t\t\t\t\tswitch (item.langId) {\r\n                            case 'ID_RIBBON_ANGLE_BETWEEN_TWO_AXES':\r\n                                mode = 'Measurement_AngleBetweenTwoAxes';\r\n                                break;\r\n                            case 'ID_RIBBON_ANGLE_BETWEEN_AXIS_AND_EDGE':\r\n                                mode = 'Measurement_AngleBetweenAxisEdge';\r\n                                break;\r\n                            case 'ID_RIBBON_ANGLE_BETWEEN_TWO_LINES':\r\n                                mode = 'Measurement_AngleBetweenTwoLines';\r\n                                break;\r\n                            case 'ID_RIBBON_ANGLE_BETWEEN_TWO_PLANES':\r\n                                mode = 'Measurement_AngleBetweenTwoPlanes';\r\n                                break;\r\n                            case 'ID_RIBBON_ANGLE_BETWEEN_PLANE_AND_DIRECTION':\r\n                                mode = 'Measurement_AngleBetweenPlaneDirection';\r\n                                break;\r\n                            case 'ID_RIBBON_ANGLE_DEFINED_BY_THREE_POINTS':\r\n                                mode = 'Measurement_AngleFromThreePoints';\r\n                                break;\r\n                            case 'ID_RIBBON_ANGLE_BETWEEN_TWO_PROJECTED_LINES':\r\n                                mode = 'Measurement_AngleBetweenTwoProjectedLines';\r\n                                break;\r\n                            default:\r\n                                return;\r\n\t\t\t\t\t\t}\r\n                        item.event = mode;\r\n                        handleActivateInteraction(client, mode);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_AREA',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_FACE', iconId: 'measure_face', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) =>\r\n\t\t\t{\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: {\r\n\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\tribbon: VSRibbon\r\n\t\t\t\t} = context;\r\n\t\t\t\tlet mode: string;\r\n\t\t\t\tswitch (clickedButton.langId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'ID_RIBBON_FACE':\r\n\t\t\t\t\t\tmode = 'Measurement_FaceArea';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tclickedButton.event = mode;\r\n\t\t\t\thandleActivateInteraction(client, mode);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_WALL_THICKNESS',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_WALLTHICKNESS_COMPUTATION_MODE_RAY',\r\n\t\t\t\t\ticonId: 'ray_based',\r\n\t\t\t\t\tribbonClass: ['Interaction'],\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_WALLTHICKNESS_COMPUTATION_MODE_RAY', iconId: 'ray_based' },\r\n\t\t\t\t\t\t{ langId: 'ID_WALLTHICKNESS_COMPUTATION_MODE_ROLLING_BALL', iconId: 'rolling_ball' }\r\n\t\t\t\t\t],\r\n\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) => {\r\n\t\t\t\tlet { client, ribbon }: {\r\n\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\tribbon: VSRibbon\r\n\t\t\t\t} = context\r\n\r\n\t\t\t\tlet mode = ''\r\n\t\t\t\tswitch(item.langId){\r\n\t\t\t\t\tcase 'ID_WALLTHICKNESS_COMPUTATION_MODE_RAY':\r\n\t\t\t\t\t\tmode = 'Measurement_WallThickness_RayBased'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_WALLTHICKNESS_COMPUTATION_MODE_ROLLING_BALL':\r\n\t\t\t\t\t\tmode = 'Measurement_WallThickness_RollingBall'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\titem.event = mode\r\n\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t}\r\n\t\t}\r\n\t]},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_BOUNDING_BOX',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_WORLD',\r\n\t\t\t\t\ticonId: '1_1_welt',\r\n\t\t\t\t\tribbonClass: ['Interaction'],\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_WORLD', iconId: '1_1_welt' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_INDIVIDUAL', iconId: '1_2_bauteil' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) => {\r\n\t\t\t\t\t\tlet { client, ribbon }: {\r\n\t\t\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\t\t\tribbon: VSRibbon\r\n\t\t\t\t\t\t} = context\r\n\t\t\t\t\t\tlet mode = ''\r\n\t\t\t\t\t\tswitch (item.langId) {\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_WORLD':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_BoundingBoxWorld'\r\n\t\t\t\t\t\t\t\tclient.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>ComputeWorldBoundingBox</SelectionModifier></Call>');\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_INDIVIDUAL':\r\n\t\t\t\t\t\t\t\tmode = 'Measurement_BoundingBoxPart'\r\n\t\t\t\t\t\t\t\tclient.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>ComputePartBoundingBox</SelectionModifier></Call>');\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.event = mode\r\n\t\t\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t\t\t}\r\n                },\r\n                {\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_COMPUTE_MINIMUM',\r\n\t\t\t\t\ticonId: 'bbox_min',\r\n\t\t\t\t\tribbonClass: ['Interaction'],\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_PRECISE', iconId: 'bbox_min' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_QUICK', iconId: 'bbox_min_quick' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem) => {\r\n\t\t\t\t\t\tlet { client }: {\r\n\t\t\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\t\t\tribbon: VSRibbon\r\n\t\t\t\t\t\t} = context\r\n\t\t\t\t\t\tswitch (item.langId) {\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_PRECISE':\r\n\t\t\t\t\t\t\t\tclient.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>ComputeMinimalBoundingBoxPrecise</SelectionModifier></Call>');\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_QUICK':\r\n\t\t\t\t\t\t\t\tclient.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>ComputeMinimalBoundingBoxFast</SelectionModifier></Call>');\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_DRILLHOLE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_DRILLHOLE', iconId: '2_bohrung', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet clickedButton = w.findButton(id);\r\n\t\t\t\tlet mode = 'Measurement_CircleForDrillhole';\r\n\t\t\t\tclickedButton.event = mode;\r\n\t\t\t\thandleActivateInteraction(client, mode);\r\n\t\t\t}\r\n\t\t}, XButton\r\n\t]\r\n}\r\n\r\nexport let analyseTab: w.TabOption = {\r\n\tlangId: 'ID_RIBBON_ANALYZE',\r\n\tgroups: [\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_SECTION',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_CUTTING_PLANE_FROM_POINT_NORMAL', iconId: '1_1_schnittebene_aus_punkt', ribbonClass: ['Interaction'],\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CUTTING_PLANE_FROM_POINT_NORMAL', iconId: '1_1_schnittebene_aus_punkt' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CUTTING_PLANE', iconId: '1_2_schnittebene' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CUTTING_PLANE_FROM_3_POINTS', iconId: 'section_three_points' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CUTTING_PLANE_FROM_3_CIRCLE_CENTERS', iconId: 'section_three_circle_centers' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) => {\r\n\t\t\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\t\t\t// item.flashHighlight()\r\n\t\t\t\t\t\t// button.flashHighlight()\r\n\t\t\t\t\t\tlet mode = ''\r\n\t\t\t\t\t\tswitch (item.langId) {\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CUTTING_PLANE_FROM_POINT_NORMAL':\r\n\t\t\t\t\t\t\t\tmode = 'Section_FromPointNormal'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CUTTING_PLANE':\r\n\t\t\t\t\t\t\t\tmode = 'Section'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CUTTING_PLANE_FROM_3_POINTS':\r\n\t\t\t\t\t\t\t\tmode = 'Section_From3Points'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CUTTING_PLANE_FROM_3_CIRCLE_CENTERS':\r\n\t\t\t\t\t\t\t\tmode = 'Section_From3CircleCenters'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.event = mode\r\n\t\t\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_COMPARE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_COMPARE_MODEL', iconId: '1_schnell', ribbonClass: ['Interaction'], paneId:'wv-quickcompare' },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_BREP_PART', iconId: '2_exakt', paneId:'wv-exactcompare' }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet { client,}: { client: VSWebClient } = context\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n\t\t\t\t\tcase 'ID_RIBBON_COMPARE_MODEL':\r\n\t\t\t\t\t\tif (!clickedButton.isHighlight) {\r\n\t\t\t\t\t\t\tlet ActivateGraphicalCompare = `<Call Method=\"ActivateGraphicalCompare\"><Activate>true</Activate></Call>`\r\n\t\t\t\t\t\t\tclient.command.executeXMLAsync(ActivateGraphicalCompare)\r\n                            client.once('ActivateGraphicalCompare', response =>\r\n                            {\r\n                                clickedButton.applyHighlight(true)\r\n                            });\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-quickcompare', \"QuickCompare\")\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet ActivateGraphicalCompare = `<Call Method=\"ActivateGraphicalCompare\"><Activate>false</Activate></Call>`\r\n\t\t\t\t\t\t\tclient.command.executeXMLAsync(ActivateGraphicalCompare)\r\n                            client.once('ActivateGraphicalCompare', response =>\r\n                            {\r\n                                closePaneById('wv-quickcompare')\r\n                            });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'ID_RIBBON_BREP_PART':\r\n\t\t\t\t\t\tif(!clickedButton.isHighlight) {\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-exactcompare', \"ExactCompare\")\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tclosePaneById('wv-exactcompare')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_PROJECTED_AREA',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_PROJECTED_AREA', iconId: '1_projizierte_flaeche', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tif(!clickedButton.isHighlight)\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(true);\r\n\t\t\t\t\thandlePrependingPane('wv-projectedarea', 'on')\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(false);\r\n\t\t\t\t\thandlePrependingPane('wv-projectedarea', 'off')\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_CLASH',\r\n\t\t\twidgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_CLASH_DETECTION', iconId: 'clash', paneId: 'wv-clash' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_BAND_ANALYSIS', iconId: 'clearance', paneId: 'wv-bandanalysis' },\r\n            ],\r\n            groupClick: (context, id: string) =>\r\n            {\r\n                let clickedButton = w.findButton(id);\r\n                if (!clickedButton.isHighlight)\r\n                {\r\n                    clickedButton.applyHighlight(true);\r\n                    handlePrependingPane(clickedButton.paneId, 'on');\r\n                }\r\n                else\r\n                {\r\n                    clickedButton.applyHighlight(false);\r\n                    handlePrependingPane(clickedButton.paneId, 'off')\r\n                }\r\n            }\r\n        },\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_COMPUTE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Button,\r\n\t\t\t\t\tlangId: 'ID_PHYSICAL_PROPERTIES',\r\n\t\t\t\t\ticonId: 'physical-properties',\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tclickedButton.flashHighlight()\r\n\t\t\t\tlet ComputePhysicalProperties = '<Call Method=\"ModifySelection\"><SelectionModifier>ComputePhysicalProperties</SelectionModifier></Call>'\r\n\t\t\t\tclient.command.executeXMLAsync(ComputePhysicalProperties)\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_FEATURE_RECOGNITION',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_NEUTRAL_AXIS', iconId: '3_neutrale_faser', paneId: 'wv-neutralaxis' },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_DRILLHOLE', iconId: '2_bohrung', paneId: 'wv-drillhole'}\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tif (clickedButton.langId === 'ID_RIBBON_NEUTRAL_AXIS')\r\n\t\t\t\t{\r\n\t\t\t\t\tif(!clickedButton.isHighlight)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclickedButton.applyHighlight(true);\r\n\t\t\t\t\t\thandlePrependingPane('wv-neutralaxis', 'on')\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclickedButton.applyHighlight(false);\r\n\t\t\t\t\t\thandlePrependingPane( 'wv-neutralaxis', 'off')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (clickedButton.langId === 'ID_RIBBON_DRILLHOLE')\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!clickedButton.isHighlight)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclickedButton.applyHighlight(true);\r\n\t\t\t\t\t\thandlePrependingPane('wv-drillhole', 'on');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclickedButton.applyHighlight(false);\r\n\t\t\t\t\t\thandlePrependingPane('wv-drillhole', 'off');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_ADVANCED',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Button,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_DRAFT_ANGLE',\r\n\t\t\t\t\ticonId: '1_entformungsschraegen_analyse',\r\n\t\t\t\t\tribbonClass: ['Interaction']\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Button,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_WALL_THICKNESS',\r\n\t\t\t\t\ticonId: '1_wandstaerke',\r\n\t\t\t\t\tpaneId:'wv-wallthickness'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Button,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_SPLIT',\r\n\t\t\t\t\ticonId: 'split',\r\n\t\t\t\t\tpaneId: 'wv-split'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id);\r\n\t\t\t\tlet { client }: {\r\n\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t} = context\r\n\t\t\t\tswitch (clickedButton.langId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'ID_RIBBON_DRAFT_ANGLE':\r\n\t\t\t\t\t\tclickedButton.event = 'DraftAngle'\r\n\t\t\t\t\t\thandleActivateInteraction(client, 'DraftAngle')\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_WALL_THICKNESS':\r\n\t\t\t\t\t\tif (!clickedButton.isHighlight)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclickedButton.applyHighlight(true);\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-wallthickness', 'on');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclickedButton.applyHighlight(false);\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-wallthickness', 'off');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_SPLIT':\r\n\t\t\t\t\t\tclickedButton.event = 'Split_SelectDirection'\r\n\t\t\t\t\t\tif (!clickedButton.isHighlight)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclickedButton.applyHighlight(true);\r\n                            activateInteraction(client, 'Split_SelectDirection');\r\n                            // WORKAROUND: leftbutton set to ROTATE\r\n                            var mouseButtonCall = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Mouse><LeftButtonFunction>Rotate</LeftButtonFunction></Mouse></Scene></Settings></Call>';\r\n                            client.command.executeXML(mouseButtonCall);\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-split', 'on');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclickedButton.applyHighlight(false);\r\n\t\t\t\t\t\t\tdeactivateInteraction(client, 'Split_SelectDirection')\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-split', 'off');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tXButton\r\n\t]\r\n}\r\n// ID_RIBBON_TAB_TRANSFORM\r\nexport let transformTab: w.TabOption = {\r\n\tlangId: 'ID_RIBBON_TRANSFORMATION',\r\n\tgroups: [\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_TRANSFORMATION',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_FREE_DRAG', iconId: '1_freies_verschieben', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_MOVE', iconId: '2_verschieben', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_ROTATE', iconId: '3_drehen', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_SCALE', iconId: 'scale', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_MIRROR', iconId: '4_spiegeln', paneId: 'wv-mirror' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_EXPLODE', iconId: '5_explodieren' },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_RESET_TRANSFORMATION', iconId: '6_position_zuruecksetzen' }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n                let { client, ribbon }: {\r\n                    client: VSWebClient,\r\n                    ribbon: VSRibbon\r\n                } = context;\r\n\r\n                let mode = '';\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_FREE_DRAG':\r\n                        mode = 'Transformation_FreeDrag';\r\n                        break;\r\n                    case 'ID_RIBBON_MOVE':\r\n                        mode = 'Transformation_Move';\r\n                        break;\r\n                    case 'ID_RIBBON_ROTATE':\r\n                        mode = 'Transformation_Rotate';\r\n                        break;\r\n                    case 'ID_RIBBON_SCALE':\r\n                        mode = 'Transformation_Scale';\r\n                        break;\r\n                    case 'ID_RIBBON_RESET_TRANSFORMATION':\r\n                        let ResetTransformation = '<Call Method=\"ModifySelection\"><SelectionModifier>ResetTransformation</SelectionModifier></Call>';\r\n                        client.command.executeXMLAsync(ResetTransformation);\r\n                        clickedButton.flashHighlight();\r\n                        break;\r\n                    case 'ID_RIBBON_MIRROR':\r\n                        if (!clickedButton.isHighlight)\r\n                        {\r\n                            clickedButton.applyHighlight(true);\r\n                            handlePrependingPane('wv-mirror', 'on');\r\n                        }\r\n                        else\r\n                        {\r\n                            clickedButton.applyHighlight(false);\r\n                            handlePrependingPane('wv-mirror', 'off');\r\n                        }\r\n                        break;\r\n                    case 'ID_RIBBON_EXPLODE':\r\n                        if (!clickedButton.isHighlight)\r\n                        {\r\n                            clickedButton.applyHighlight(true);\r\n                            handlePrependingPane('wv-explode', 'on');\r\n                        }\r\n                        else\r\n                        {\r\n                            clickedButton.applyHighlight(false);\r\n                            handlePrependingPane('wv-explode', 'off')\r\n                        }\r\n                        break;\r\n                    default:\r\n                        console.error('invalid interaction type');\r\n                };\r\n                if (mode !== '')\r\n                {\r\n                    clickedButton.event = mode;\r\n                    handleActivateInteraction(client, mode);\r\n                }\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_BOUNDARY_CONDITION',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_ACTIVATE', iconId: 'activate_axis', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{\r\n\t\t\t\t\tlangId: 'ID_RIBBON_BOUNDARY_CONDITION_AXIS',\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\ticonId: 'condition_axis_by_circle',\r\n\t\t\t\t\tribbonClass: ['interaction'],\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_BOUNDARY_CONDITION_BY_CIRCLE', iconId: 'condition_axis_by_circle' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_BOUNDARY_CONDITION_BY_LINE', iconId: 'condition_axis_by_line' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet { client}: {\r\n\t\t\t\t\t\t\tclient: VSWebClient\r\n\t\t\t\t\t\t} = context\r\n\t\t\t\t\t\tlet mode = ''\r\n\r\n\t\t\t\t\t\tswitch (item.langId)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_BOUNDARY_CONDITION_BY_CIRCLE':\r\n\t\t\t\t\t\t\t\tmode = 'BoundaryCondition_AxisByCircle'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_BOUNDARY_CONDITION_BY_LINE':\r\n\t\t\t\t\t\t\t\tmode = 'BoundaryCondition_AxisByLine'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.event = mode\r\n\t\t\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) =>\r\n\t\t\t{\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon }\r\n\t\t\t\t\t= context;\r\n\r\n                let mode = ''\r\n                let activateButton = w.findButton('ID_RIBBON_ACTIVATE');\r\n                activateButton.event = 'BoundaryCondition_Axis';\r\n\t\t\t\tswitch (clickedButton.langId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'ID_RIBBON_ACTIVATE':\r\n\t\t\t\t\t\tmode = 'BoundaryCondition_Axis';\r\n\t\t\t\t\t\tclickedButton.event = mode;\r\n\t\t\t\t\t\thandleActivateInteraction(client, mode);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_ALIGNING_MOVE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_POINT_TO_POINT', iconId: 'align_move_point_point', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_PLANE_TO_PLANE', iconId: 'align_move_plane_plane', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_CIRCLE_CENTER_TO_CIRCLE_CENTER', iconId: 'align_move_center_center', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) =>\r\n\t\t\t{\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon }\r\n\t\t\t\t\t= context;\r\n\r\n\t\t\t\tlet mode = ''\r\n\t\t\t\tswitch (clickedButton.langId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'ID_RIBBON_POINT_TO_POINT':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_Move_PointToPoint';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_PLANE_TO_PLANE':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_Move_PlaneToPlane';\r\n                        break;\r\n                    case 'ID_RIBBON_CIRCLE_CENTER_TO_CIRCLE_CENTER':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_Move_CircleCenterToCircleCenter';\r\n                        break;\r\n\t\t\t\t}\r\n\t\t\t\tclickedButton.event = mode;\r\n\t\t\t\thandleActivateInteraction(client, mode);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_ALIGNING_ROTATE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_NORMAL_TO_NORMAL', iconId: '1_normal_zu_normal', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_POINT_TO_POINT', iconId: '2_punkt_zu_punkt', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_CIRCLE_CENTER_TO_CIRCLE_CENTER', iconId: '3_kreisachse_zu_kreisachse', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) =>\r\n\t\t\t{\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon }\r\n\t\t\t\t\t= context;\r\n\r\n\t\t\t\tlet mode = ''\r\n\t\t\t\tswitch (clickedButton.langId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'ID_RIBBON_NORMAL_TO_NORMAL':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_Rotate_NormalToNormal';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_POINT_TO_POINT':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_Rotate_PointToPoint';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_CIRCLE_CENTER_TO_CIRCLE_CENTER':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_Rotate_CircleCenterToCircleCenter';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tclickedButton.event = mode;\r\n\t\t\t\thandleActivateInteraction(client, mode);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_ALIGNING_MOVE_ROTATE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_COORDINATE_SYSTEM_TO_COORDINATE_SYSTEM', iconId: '1_koordinatensystem_zu_koordinatensystem', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_CIRCLE_AXIS_TO_CIRCLE_AXIS', iconId: '2_kreisachse_zu_kreisachse', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, 'langId': 'ID_RIBBON_PLANE_TO_PLANE', iconId: '3_oberflaeche_zu_oberflaeche', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) =>\r\n\t\t\t{\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon }\r\n\t\t\t\t\t= context;\r\n\r\n\t\t\t\tlet mode = ''\r\n\t\t\t\tswitch (clickedButton.langId)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'ID_RIBBON_COORDINATE_SYSTEM_TO_COORDINATE_SYSTEM':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_CoordinateSystemToCoordinateSystem';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_CIRCLE_AXIS_TO_CIRCLE_AXIS':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_CircleAxisToCircleAxis';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_PLANE_TO_PLANE':\r\n\t\t\t\t\t\tmode = 'Transformation_Align_PlaneToPlane';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tclickedButton.event = mode;\r\n\t\t\t\thandleActivateInteraction(client, mode);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_MODEL_ALIGNING',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, 'langId': 'ID_RIBBON_LINE', iconId: '1_linie' },\r\n\t\t\t\t{ type: w.WidgetType.Button, 'langId': 'ID_RIBBON_PLANE', iconId: '2_ebene' }\r\n\t\t\t]\r\n\t\t},\r\n\t\tXButton\r\n\t]\r\n}\r\n\r\nexport let toolTab: w.TabOption = {\r\n\tlangId: 'ID_RIBBON_TOOLS',\r\n\tgroups: [\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_SCREENSHOT',\r\n\t\t\twidgets: [\r\n\t\t\t\t//{ langId: 'ID_RIBBON_PDF', iconId: '1_pdf' },\r\n\t\t\t\t//{ langId: 'ID_RIBBON_BMP', iconId: '2_bmp' },\r\n\t\t\t\t//{ langId: 'ID_RIBBON_JPG', iconId: '3_jpg' },\r\n\t\t\t\t//{ langId: 'ID_RIBBON_PNG', iconId: '4_png' },\r\n\t\t\t\t{ langId: 'ID_RIBBON_CLIPBOARD', iconId: '5_zwischenablage' }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\r\n\t\t\t\tlet xml = '<Call Method=\"GetImage\">'\r\n\t\t\t\txml += '<ExportFormat2D>PNG</ExportFormat2D>'\r\n\t\t\t\txml += '</Call>'\r\n\t\t\t\tclient.command.executeXMLAsync(xml)\r\n\t\t\t\tclient.once('GetImage', (response) => {\r\n\t\t\t\t\tif(response.Error === 'SUCCESS')\r\n\t\t\t\t\t{\r\n                        let src = response.Image;\r\n                        let overlay = new ClipboardModal(src, vsClient.vsCanvas.width, vsClient.vsCanvas.height);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_VECTOR_EXPORT',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ langId: 'ID_RIBBON_SVG', iconId: '1_svg' },\r\n\t\t\t\t{ langId: 'ID_RIBBON_DXF', iconId: '2_dxf' },\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_SEARCH',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ langId: 'ID_RIBBON_SEARCH', iconId: '1_filter', paneId:'wv-filter' }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id);\r\n\t\t\t\tif(!clickedButton.isHighlight)\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(true);\r\n                    handlePrependingPane('wv-filter', 'on');\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(false);\r\n                    handlePrependingPane('wv-filter', 'off');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_GEOMETRY_TOOLS',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ langId: 'ID_RIBBON_GEOMETRY_TOOLS', iconId: 'number_of_triangles' }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) =>\r\n\t\t\t{\r\n\t\t\t\tlet clickedButton = w.findButton(id);\r\n\t\t\t\tlet { client}: { client: VSWebClient } = context;\r\n                if (!clickedButton.isHighlight)\r\n                {\r\n                    clickedButton.applyHighlight(true)\r\n                    handlePrependingPane('wv-geometry-tools', 'on');\r\n                }\r\n                else\r\n                {\r\n                    handlePrependingPane('wv-geometry-tools', 'off');\r\n                    clickedButton.applyHighlight(false);\r\n                }\r\n            }\r\n        },\r\n        {\r\n\t\t\tlangId: 'ID_RIBBON_IP_PROTECTION',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ langId: 'ID_RIBBON_DISTORT', iconId: 'distortion', paneId:'wv-distortion' },\r\n\t\t\t\t{ langId: 'ID_VISIBILITY_TEST', iconId: 'visibility_test', paneId:'wv-visibilitytest'}\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tif(!clickedButton.isHighlight)\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(true)\r\n\t\t\t\t\tswitch(clickedButton.langId)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 'ID_RIBBON_DISTORT':\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-distortion', 'on')\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'ID_VISIBILITY_TEST':\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-visibilitytest', 'on')\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tswitch(clickedButton.langId)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcase 'ID_RIBBON_DISTORT':\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-distortion', 'off')\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase 'ID_VISIBILITY_TEST':\r\n\t\t\t\t\t\t\thandlePrependingPane('wv-visibilitytest', 'off')\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclickedButton.applyHighlight(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'Extras',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ langId: 'Command', iconId: 'terminal', paneId:'wv-command'},\r\n\t\t\t],\r\n\t\t\tgroupClick: function (context, id, group) {\r\n\t\t\t\tlet clickedButton = w.findButton(id);\r\n\t\t\t\tif (!clickedButton.isHighlight)\r\n\t\t\t\t{\r\n\t\t\t\t\thandlePrependingPane( 'wv-command', 'on');\r\n\t\t\t\t\tclickedButton.applyHighlight(true);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\thandlePrependingPane('wv-command', 'off');\r\n\t\t\t\t\tclickedButton.applyHighlight(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tXButton\r\n\t]\r\n}\r\n\r\nexport let modelTab: w.TabOption = {\r\n\tlangId: 'ID_RIBBON_MODEL',\r\n\tgroups: [\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_NODE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ langId: 'ID_RIBBON_CREATE', iconId: '1_erstellen' },\r\n\t\t\t\t{ langId: 'ID_RIBBON_COPY', iconId: '2_kopieren' },\r\n\t\t\t\t{ langId: 'ID_RIBBON_PASTE', iconId: '3_einfuegen' },\r\n\t\t\t\t{ langId: 'ID_RIBBON_RELOAD', iconId: '4_nachladen' }\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_RETESSELATE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_RETESSELATE',\r\n\t\t\t\t\ticonId: '1_retessellieren',\r\n\t\t\t\t\tdropdownItems: [\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_EXTRALOW', iconId: 'extra_low_tesselation' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_LOW', iconId: 'low_tesselation' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_MEDIUM', iconId: 'medium_tesselation' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_HIGH', iconId: 'high_tesselation' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_EXTRAHIGH', iconId: 'extra_high_tesselation' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_USER_DEFINED', iconId: 'custom_tesselation' },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) => {\r\n\t\t\t\t\t\tlet { client }: {\r\n\t\t\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\t\t} = context\r\n\t\t\t\t\t\tlet tesselation = ''\r\n\t\t\t\t\t\tswitch (item.langId)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_EXTRALOW':\r\n\t\t\t\t\t\t\t\ttesselation = 'ExtraLow'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_LOW':\r\n\t\t\t\t\t\t\t\ttesselation = 'Low'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_MEDIUM':\r\n\t\t\t\t\t\t\t\ttesselation = 'Medium'\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_HIGH':\r\n\t\t\t\t\t\t\t\ttesselation = 'High'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_EXTRAHIGH':\r\n\t\t\t\t\t\t\t\ttesselation = 'ExtraHigh'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_USER_DEFINED':\r\n\t\t\t\t\t\t\t\ttesselation = 'Userdefined '\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tconsole.error('invalid interaction type')\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet xml = '<Call Method=\"Retesselate\"><Level>' + tesselation + '</Level></Call>';\r\n                        client.command.executeXML(xml);\r\n                        button.flashHighlight();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_COORDINATE_SYSTEM',\r\n\t\t\twidgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_BY_CIRCLE_CENTER', iconId: '1_kreismittelpunkt', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_CYLINDER_AXIS', iconId: '1_kreisachse', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_3_PLANES', iconId: '2_3_ebenen_im_rechten_winkel', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_3_POINTS', iconId: '3_3_punkte_im_rechten_winkel', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_EDGES', iconId: '4_senkrechte_linien', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_NORMAL', iconId: '5_normale', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_EDGE_AND_POINT', iconId: '6_linie_und_punkt', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_BOUNDING_BOX', iconId: '7_begrenzungsrahmen', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_CURRENT_GLOBAL', iconId: 'coordinate_system_world' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_SELECTED_PART', iconId: 'coordinate_system_part' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_ACTIVATE_COORDINATESYSTEM', iconId: '8_aktivieren' },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RESET_COORDINATESYSTEM', iconId: '9_zuruecksetzen' },\r\n\t\t\t\t// { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_BY_CURRENT_GLOBAL', iconId: '', ribbonClass: ['Interaction']},\r\n\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                let mode = '';\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_BY_CIRCLE_CENTER':\r\n                        mode = 'EntityCreation_CoordinateSystemByCircleCenter';\r\n                        break;\r\n                    case 'ID_RIBBON_BY_3_PLANES':\r\n                        mode = 'EntityCreation_CoordinateSystemBy3Planes';\r\n                        break;\r\n                    case 'ID_RIBBON_BY_3_POINTS':\r\n                        mode = 'EntityCreation_CoordinateSystemBy3Points';\r\n                        break;\r\n                    case 'ID_RIBBON_BY_EDGES':\r\n                        mode = 'EntityCreation_CoordinateSystemByLines';\r\n                        break;\r\n                    case 'ID_RIBBON_BY_NORMAL':\r\n                        mode = 'EntityCreation_CoordinateSystemByNormal';\r\n                        break;\r\n                    case 'ID_RIBBON_BY_EDGE_AND_POINT':\r\n                        mode = 'EntityCreation_CoordinateSystemByLineAndPoint';\r\n                        break;\r\n                    case 'ID_RIBBON_BY_BOUNDING_BOX':\r\n                        mode = 'EntityCreation_CoordinateSystemByBoundingBox';\r\n                        break;\r\n                    case 'ID_RIBBON_BY_CYLINDER_AXIS':\r\n                        mode = 'EntityCreation_CoordinateSystemByCylinderAxis';\r\n                        break;\r\n                    case 'ID_RIBBON_BY_CURRENT_GLOBAL':\r\n                        mode = 'EntityCreation_CoordinateSystemGlobal';\r\n                        removeAllInteractionHighlights(ribbon);\r\n                        clickedButton.flashHighlight();\r\n                        break;\r\n                    case 'ID_RIBBON_BY_SELECTED_PART':\r\n                        mode = 'EntityCreation_CoordinateSystemPart';\r\n                        removeAllInteractionHighlights(ribbon);\r\n                        clickedButton.flashHighlight();\r\n                        break;\r\n                    case 'ID_RIBBON_ACTIVATE_COORDINATESYSTEM':\r\n                        client.command.executeXMLAsync('<Call Method=\"ActivateSelectedCoordinateSystem\"></Call>');\r\n                        removeAllInteractionHighlights(ribbon);\r\n                        clickedButton.flashHighlight();\r\n                        break;\r\n                    case 'ID_RESET_COORDINATESYSTEM':\r\n                        client.command.executeXMLAsync('<Call Method=\"ResetCoordinateSystem\"></Call>');\r\n                        removeAllInteractionHighlights(ribbon);\r\n                        clickedButton.flashHighlight();\r\n                        break;\r\n                    default:\r\n                        console.error('invalid interaction type');\r\n                }\r\n                if (mode)\r\n                {\r\n                    client.once('ActivateInteraction', (response) =>\r\n                    {\r\n                        if (response.Error === 'SUCCESS')\r\n                        {\r\n                            removeAllInteractionHighlights(ribbon);\r\n                            let condition = clickedButton.id;\r\n                            ribbon.classes['Interaction'].forEach((b: w.BaseButton) =>\r\n                            {\r\n                                if (b.id === condition)\r\n                                {\r\n                                    b.applyHighlight(true);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    clickedButton.event = mode;\r\n                    handleActivateInteraction(client, mode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_CREATE_POINT',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_CIRCLE_CENTER', iconId: '1_kreismittelpunkt', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_POINT', iconId: '2_punkt', ribbonClass: ['Interaction'] },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet mode = ''\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n\t\t\t\t\tcase 'ID_RIBBON_CIRCLE_CENTER':\r\n\t\t\t\t\t\tmode = 'EntityCreation_PointByCircleCenter'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_POINT':\r\n\t\t\t\t\t\tmode = 'EntityCreation_PointByPickPosition'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error('invalid interaction type')\r\n\t\t\t\t}\r\n\t\t\t\tclient.once('ActivateInteraction', (response) => {\r\n\t\t\t\t\tif (response.Error === 'SUCCESS') {\r\n\t\t\t\t\t\tremoveAllInteractionHighlights(ribbon)\r\n\t\t\t\t\t\tlet condition = clickedButton.id\r\n\t\t\t\t\t\tribbon.classes['Interaction'].forEach((b: w.BaseButton) => {\r\n\t\t\t\t\t\t\tif (b.id === condition) {\r\n\t\t\t\t\t\t\t\tb.applyHighlight(true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t\tclickedButton.event = mode\r\n\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_CREATE_WIRE',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_CIRCLE_AXIS', iconId: '1_kreisachse', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_POINT_TO_POINT', iconId: '2_punkt_zu_punkt', ribbonClass: ['Interaction'] },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tlet mode = ''\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n\t\t\t\t\tcase 'ID_RIBBON_CIRCLE_AXIS':\r\n\t\t\t\t\t\tmode = 'EntityCreation_WireByCircleCenter'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'ID_RIBBON_POINT_TO_POINT':\r\n\t\t\t\t\t\tmode = 'EntityCreation_WirePointToPoint'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tconsole.error('invalid interaction type')\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclient.once('ActivateInteraction', (response) => {\r\n\t\t\t\t\tif (response.Error === 'SUCCESS') {\r\n\t\t\t\t\t\tremoveAllInteractionHighlights(ribbon)\r\n\t\t\t\t\t\tlet condition = clickedButton.langId\r\n\t\t\t\t\t\tribbon.classes['Interaction'].forEach((b: w.BaseButton) => {\r\n\t\t\t\t\t\t\tif (b.langId === condition) {\r\n\t\t\t\t\t\t\t\tb.applyHighlight(true)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t\tclickedButton.event = mode\r\n\t\t\t\thandleActivateInteraction(client, mode)\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_MODIFY_SOLIDS',\r\n\t\t\twidgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_EXTRACT_FACES', iconId: '1_flaeche_extrahieren' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_MERGE_OBJECTS', iconId: 'merge_objects' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_MERGE_OBJECTS_HIERARCHICAL', iconId: 'merge_objects_rec' },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_CONVEX_HULL', iconId: '2_huellgeometrie' },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_EXTRACT_FACES':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>ExtractFaces</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_MERGE_OBJECTS':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>MergeObjects</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_MERGE_OBJECTS_HIERARCHICAL':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>MergeObjectsHierarchically</SelectionModifier></Call>');\r\n                        break;\r\n                    case 'ID_RIBBON_CONVEX_HULL':\r\n                        client.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>ComputeHullGeometry</SelectionModifier></Call>');\r\n                        break;\r\n                    default:\r\n                        return;\r\n\t\t\t\t}\r\n                clickedButton.flashHighlight();\r\n\t\t\t},\r\n\t\t},\r\n\t\tXButton\r\n\t]\r\n}\r\n\r\nexport let techDocTab: w.TabOption = {\r\n\tlangId: 'ID_RIBBON_TECH_DOC',\r\n    groups: [\r\n        {\r\n\t\t\tlangId: 'ID_RIBBON_3D_MARKUP',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_TEXT', iconId: '1_text', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_CIRCLE', iconId: '2_kreis', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FIXED_TEXT', iconId: 'fixed_markup', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_RECTANGLE', iconId: '3_rechteck', ribbonClass: ['Interaction'] },\r\n\t\t\t\t{ type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_FREEHAND', iconId: '4_freihand', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n                let clickedButton = w.findButton(id);\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                let mode = '';\r\n\t\t\t\tswitch (clickedButton.langId) {\r\n                    case 'ID_RIBBON_TEXT':\r\n                        mode = 'Markup_Text';\r\n                        break;\r\n                    case 'ID_RIBBON_CIRCLE':\r\n                        mode = 'Markup_Circle';\r\n                        break;\r\n                    case 'ID_RIBBON_RECTANGLE':\r\n                        mode = 'Markup_Rectangle';\r\n                        break;\r\n                    case 'ID_RIBBON_FREEHAND':\r\n                        mode = 'Markup_Freehand';\r\n                        break;\r\n                    case 'ID_RIBBON_FIXED_TEXT':\r\n                        mode = 'Markup_Text_Fixed';\r\n                        break;\r\n                    default:\r\n                        console.error('invalid interaction type');\r\n\t\t\t\t}\r\n                clickedButton.event = mode;\r\n                handleActivateInteraction(client, mode);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_CALLOUTS_GENERAL_PANEL',\r\n\t\t\twidgets: [\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_BOM', iconId: '1_BOM', paneId: 'wv-bom' }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tif(!clickedButton.isHighlight)\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(true);\r\n\t\t\t\t\thandlePrependingPane(clickedButton.paneId, 'on');\r\n                    ui.bomPane.addMethods();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tclickedButton.applyHighlight(false);\r\n\t\t\t\t\thandlePrependingPane(clickedButton.paneId, 'off')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_CALLOUTS_ALIGNMENT_PANEL',\r\n\t\t\twidgets: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: w.WidgetType.Dropdown,\r\n\t\t\t\t\tlangId: 'ID_RIBBON_CALLOUTS_ALIGN_TOP',\r\n\t\t\t\t\ticonId: 'callout_mode_square',\r\n                    dropdownItems: [\r\n                        { langId: 'ID_RIBBON_CALLOUTS_ALIGN_RECTANGLE', iconId: 'callout_mode_square' },\r\n                        { langId: 'ID_RIBBON_CALLOUTS_ALIGN_CIRCLE', iconId: 'callout_mode_circle' },\r\n                        { langId: 'ID_RIBBON_CALLOUTS_ALIGN_TOP_AND_BOTTOM', iconId: 'callout_mode_top_bottom' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CALLOUTS_ALIGN_LEFT_AND_RIGHT', iconId: 'callout_mode_left_right' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CALLOUTS_ALIGN_BOTTOM', iconId: 'callout_mode_align_bottom' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CALLOUTS_ALIGN_TOP', iconId: 'callout_mode_align_top' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CALLOUTS_ALIGN_LEFT', iconId: 'callout_mode_align_left' },\r\n\t\t\t\t\t\t{ langId: 'ID_RIBBON_CALLOUTS_ALIGN_RIGHT', iconId: 'callout_mode_align_right' },\r\n                        { langId: 'ID_RIBBON_CALLOUTS_ALIGN_NEAR_TO_SOLID', iconId: 'callout_mode_near_to_solid' },\r\n                        { langId: 'ID_MARKUP_ALIGNMENT_NONE', iconId: 'callout_mode_none' },\r\n\t\t\t\t\t],\r\n\t\t\t\t\tdropdownClick: (context, item: w.DropdownItem, button: w.DropdownButton) => {\r\n\t\t\t\t\t\tlet { client }: {\r\n\t\t\t\t\t\t\tclient: VSWebClient,\r\n\t\t\t\t\t\t} = context\r\n\t\t\t\t\t\tlet mode = ''\r\n\t\t\t\t\t\tswitch (item.langId)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_BOTTOM':\r\n\t\t\t\t\t\t\t\tmode = 'Bottom';\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_TOP':\r\n\t\t\t\t\t\t\t\tmode = 'Top';\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_LEFT':\r\n\t\t\t\t\t\t\t\tmode = 'Left';\r\n\t\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_RIGHT':\r\n\t\t\t\t\t\t\t\tmode = 'Right';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_TOP_AND_BOTTOM':\r\n\t\t\t\t\t\t\t\tmode = 'TopBottom';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_LEFT_AND_RIGHT':\r\n\t\t\t\t\t\t\t\tmode = 'LeftRight';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_RECTANGLE':\r\n\t\t\t\t\t\t\t\tmode = 'Rectangle';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_CIRCLE':\r\n\t\t\t\t\t\t\t\tmode = 'Circle';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_ALIGN_NEAR_TO_SOLID':\r\n\t\t\t\t\t\t\t\tmode = 'NearToSolid';\r\n                                break;\r\n                            case 'ID_MARKUP_ALIGNMENT_NONE':\r\n\t\t\t\t\t\t\t\tmode = 'None';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tconsole.error('invalid interaction type')\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tlet xml = '<Call Method=\"SetCalloutAlignment\"><Alignment>' + mode + '</Alignment></Call>';\r\n                        client.command.executeXML(xml);\r\n                        button.flashHighlight();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_CALLOUTS_AUTO_ALIGNMENT', iconId: 'callout_auto_alignment'}\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id);\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n                let xml: string;\r\n                if (clickedButton.langId === 'ID_RIBBON_CALLOUTS_AUTO_ALIGNMENT')\r\n                {\r\n                    if (!clickedButton.isHighlight)\r\n                    {\r\n                        xml = '<Call Method=\"EnableAutoCalloutAlignment\"></Call>';\r\n                        client.command.executeXML(xml);\r\n                        xml = '<Call Method=\"AlignCallouts\"></Call>';\r\n                        client.command.executeXML(xml);\r\n                    }\r\n                    else\r\n                    {\r\n                        xml = '<Call Method=\"DisableAutoCalloutAlignment\"></Call>';\r\n                        client.command.executeXML(xml);\r\n                    }\r\n                }\r\n            }\r\n\t\t},\r\n\t\t{\r\n\t\t\tlangId: 'ID_RIBBON_CALLOUTS_PANEL',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_CREATE', iconId: 'create_callouts', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_CALLOUTS_FOR_SELECTION', iconId: 'callout_group' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_SETTINGS', iconId: 'callout', paneId: 'wv-callout' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_CALLOUTS_SHOW_ALL', iconId: 'callout_show_all' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_LOCK_CALLOUTS', iconId: 'callout_lock' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_UNLOCK_CALLOUTS', iconId: 'callout_unlock' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_CALLOUTS_SELECT_ASSOCIATED_NODES', iconId: 'select_associated_solid' },\r\n                { type: w.WidgetType.ButtonLet, langId: 'ID_RIBBON_CALLOUTS_MULTIPLE_CONNECTIONS', iconId: 'callout_multiple_anchor' }\r\n\t\t\t],\r\n            groupClick: (context, id: string, group: w.Group) =>\r\n            {\r\n                let { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet xml: string;\r\n\t\t\t\tswitch (clickedButton.langId)\r\n                {\r\n                    case 'ID_RIBBON_SETTINGS':\r\n                        if (!clickedButton.isHighlight)\r\n                        {\r\n                            clickedButton.applyHighlight(true);\r\n                            handlePrependingPane(clickedButton.paneId, 'on');\r\n                            if (clickedButton.paneId === 'wv-bom')\r\n                            {\r\n                                ui.bomPane.addMethods();\r\n                            }\r\n                        }\r\n                        else\r\n                        {\r\n                            clickedButton.applyHighlight(false);\r\n                            handlePrependingPane(clickedButton.paneId, 'off')\r\n                        }\r\n                        break;\r\n\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_SHOW_ALL':\r\n\t\t\t\t\t\txml = '<Call Method=\"ShowAllCallouts\"></Call>';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_LOCK_CALLOUTS':\r\n\t\t\t\t\t\txml = '<Call Method=\"LockCallouts\"></Call>';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_UNLOCK_CALLOUTS':\r\n\t\t\t\t\t\txml = '<Call Method=\"UnlockCallouts\"></Call>';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'ID_RIBBON_CALLOUTS_FOR_SELECTION':\r\n\t\t\t\t\t\txml = '<Call Method=\"CreateCalloutGroup\"></Call>';\r\n                        break;\r\n                    case 'ID_RIBBON_CALLOUTS_SELECT_ASSOCIATED_NODES':\r\n                        xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Tools><Callout><SelectAssociatedNodes>'\r\n                        xml += !clickedButton.isHighlight;\r\n                        xml += '</SelectAssociatedNodes></Callout></Tools></Scene></Settings></Call>';\r\n                        break;\r\n                    case 'ID_RIBBON_CALLOUTS_MULTIPLE_CONNECTIONS':\r\n                        xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Tools><Callout><MultiAnchorGroups>'\r\n                        xml += !clickedButton.isHighlight;\r\n                        xml += '</MultiAnchorGroups></Callout></Tools></Scene></Settings></Call>';\r\n                        break;\r\n                    case 'ID_RIBBON_CREATE':\r\n                        clickedButton.event = 'Callout_Creation';\r\n                        handleActivateInteraction(client, 'Callout_Creation');\r\n                        break;\r\n\t\t\t\t}\r\n\t\t\t\tclient.command.executeXML(xml);\r\n\t\t\t\tclickedButton.flashHighlight();\r\n\t\t\t}\r\n        },\r\n        {\r\n\t\t\tlangId: 'ID_RIBBON_CALLOUTS_CONNECTIONS_PANEL',\r\n\t\t\twidgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_EDIT', iconId: 'move_anchor', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_DELETE', iconId: 'delete_anchor', ribbonClass: ['Interaction'] },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_INVERT_VISIBILITY', iconId: '5_sichtbarkeit_umkehren', ribbonClass: ['Interaction'] }\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n\t\t\t\tlet xml: string;\r\n                switch (clickedButton.langId)\r\n                {\r\n                    case 'ID_RIBBON_EDIT':\r\n                        clickedButton.event = 'Callout_Modification';\r\n                        handleActivateInteraction(client, 'Callout_Modification');\r\n                        break;\r\n                    case 'ID_RIBBON_DELETE':\r\n                        clickedButton.event = 'Callout_Deletion';\r\n                        handleActivateInteraction(client, 'Callout_Deletion');\r\n                        break;\r\n                    case 'ID_RIBBON_INVERT_VISIBILITY':\r\n                        clickedButton.event = 'Callout_Visibility';\r\n                        handleActivateInteraction(client, 'Callout_Visibility');\r\n                        break;\r\n                }\r\n                client.command.executeXML(xml);\r\n\t\t\t\tclickedButton.flashHighlight();\r\n\t\t\t}\r\n        },\r\n        {\r\n\t\t\tlangId: 'ID_RIBBON_VISIBLE_CALLOUTS_PANEL',\r\n            widgets: [\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_CALLOUTS_SELECT_VISIBLE', iconId: 'callout_select_visible' },\r\n                { type: w.WidgetType.Button, langId: 'ID_RIBBON_CALLOUTS_HIDE_VISIBLE', iconId: 'callout_hide' },\r\n\t\t\t\t{ type: w.WidgetType.Button, langId: 'ID_RIBBON_CALLOUTS_DELETE_VISIBLE', iconId: 'callout_delete' },\r\n\t\t\t],\r\n\t\t\tgroupClick: (context, id: string, group: w.Group) => {\r\n\t\t\t\tlet clickedButton = w.findButton(id)\r\n\t\t\t\tlet { client, ribbon }: { client: VSWebClient, ribbon: VSRibbon } = context;\r\n\t\t\t\tlet xml: string;\r\n                switch (clickedButton.langId)\r\n                {\r\n                    case 'ID_RIBBON_CALLOUTS_DELETE_VISIBLE':\r\n                        xml = '<Call Method=\"DeleteVisibleCallouts\"></Call>';\r\n                        break;\r\n                    case 'ID_RIBBON_CALLOUTS_HIDE_VISIBLE':\r\n                        xml = '<Call Method=\"HideVisibleCallouts\"></Call>';\r\n                        break;\r\n                    case 'ID_RIBBON_CALLOUTS_SELECT_VISIBLE':\r\n                        xml = '<Call Method=\"SelectVisibleCallouts\"></Call>';\r\n                        break;\r\n                }\r\n\t\t\t\tclient.command.executeXML(xml);\r\n\t\t\t\tclickedButton.flashHighlight();\r\n\t\t\t}\r\n\t\t},\r\n\t\tXButton\r\n\t]\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ribbon/menu.ts","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML comment.\n *\n * An XML character reference is structured as follows, where `{content}` is\n * the text of the comment.\n *\n * ```xml\n * <!--{content}-->\n * ```\n *\n * The `{content}` value is a property of this node.\n *\n * XmlComment nodes cannot have any children.\n */\nvar XmlComment = (function (_super) {\n    __extends(XmlComment, _super);\n    /**\n     * Initializes a new instance of the {@link XmlComment} class.\n     *\n     * @param {string} content The content of the comment.\n     */\n    function XmlComment(content) {\n        _super.call(this);\n        this.content = content;\n    }\n    Object.defineProperty(XmlComment.prototype, \"content\", {\n        /**\n         * Gets the content of the comment.\n         *\n         * @returns {string} The content of the comment.\n         */\n        get: function () {\n            return this._content;\n        },\n        /**\n         * Sets the content of the comment.\n         *\n         * @param {string} content The content of the comment.\n         */\n        set: function (content) {\n            if (!utils_1.isType(content, \"String\")) {\n                throw new TypeError(\"content should be a string\");\n            }\n            else if (!validate_1.validateChar(content)) {\n                throw new Error(\"content should not contain characters\" +\n                    \" not allowed in XML\");\n            }\n            else if (!/^([^-]|-[^-])*$/.test(content)) {\n                throw new Error(\"content should not contain the string '--' or\" +\n                    \" end with '-'\");\n            }\n            this._content = content;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlComment} nodes cannot have any\n     * children.\n     */\n    XmlComment.prototype.children = function () {\n        throw new Error(\"XmlComment nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlComment} nodes cannot have any\n     * children.\n     */\n    XmlComment.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlComment nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlComment} nodes cannot have any\n     * children.\n     */\n    XmlComment.prototype.removeChild = function (node) {\n        throw new Error(\"XmlComment nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlComment} nodes cannot have any\n     * children.\n     */\n    XmlComment.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlComment nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlComment.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        return \"<!--\" + this.content + \"-->\";\n    };\n    return XmlComment;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlComment;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlComment.js\n// module id = 14\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML processing instruction.\n *\n * An XML processing instruction is structured as follows, where `{target}`\n * and `{content}` are the target and content of the processing instruction\n * respectively.\n *\n * ```xml\n * <?{target} {content}?>\n * ```\n *\n * The `{target}` and `{content}` values are properties of this node.\n *\n * XmlProcInst nodes cannot have any children.\n */\nvar XmlProcInst = (function (_super) {\n    __extends(XmlProcInst, _super);\n    /**\n     * Initializes a new instance of the {@link XmlProcInst} class.\n     *\n     * @param {string} target    The target of the processing instruction.\n     * @param {string} [content] The data of the processing instruction, or\n     *                           undefined if there is no target.\n     */\n    function XmlProcInst(target, content) {\n        _super.call(this);\n        this.target = target;\n        this.content = content;\n    }\n    Object.defineProperty(XmlProcInst.prototype, \"target\", {\n        /**\n         * Gets the target of the processing instruction.\n         *\n         * @returns {string} The target of the processing instruction.\n         */\n        get: function () {\n            return this._target;\n        },\n        /**\n         * Sets the target of the processing instruction.\n         *\n         * @param {string} target The target of the processing instruction.\n         */\n        set: function (target) {\n            if (!utils_1.isType(target, \"String\")) {\n                throw new TypeError(\"target should be a string\");\n            }\n            else if (!validate_1.validateChar(target)) {\n                throw new Error(\"target should not contain characters\" +\n                    \" not allowed in XML\");\n            }\n            else if (target === \"xml\") {\n                throw new Error(\"target should not be the string 'xml'\");\n            }\n            this._target = target;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XmlProcInst.prototype, \"content\", {\n        /**\n         * Gets the data of the processing instruction.\n         *\n         * @returns {string} The data of the processing instruction. This value\n         *                   may be undefined.\n         */\n        get: function () {\n            return this._content;\n        },\n        /**\n         * Sets the data of the processing instruction.\n         *\n         * @param {string} content The data of the processing instruction. This\n         *                         value may be undefined.\n         */\n        set: function (content) {\n            if (!utils_1.isType(content, \"String\", \"Undefined\")) {\n                throw new TypeError(\"data should be a string or undefined\");\n            }\n            if (utils_1.isType(content, \"String\")) {\n                if (!validate_1.validateChar(content)) {\n                    throw new Error(\"data should not contain characters\" +\n                        \" not allowed in XML\");\n                }\n                else if (/\\?>/.test(content)) {\n                    throw new Error(\"data should not contain the string '?>'\");\n                }\n            }\n            this._content = content;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlProcInst} nodes cannot have any\n     * children.\n     */\n    XmlProcInst.prototype.children = function () {\n        throw new Error(\"XmlProcInst nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlProcInst} nodes cannot have any\n     * children.\n     */\n    XmlProcInst.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlProcInst nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlProcInst} nodes cannot have any\n     * children.\n     */\n    XmlProcInst.prototype.removeChild = function (node) {\n        throw new Error(\"XmlProcInst nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlProcInst} nodes cannot have any\n     * children.\n     */\n    XmlProcInst.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlProcInst nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlProcInst.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        if (this.content === undefined) {\n            return \"<?\" + this.target + \"?>\";\n        }\n        else {\n            return \"<?\" + this.target + \" \" + this.content + \"?>\";\n        }\n    };\n    return XmlProcInst;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlProcInst;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlProcInst.js\n// module id = 15\n// module chunks = 0","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tinycolor2/tinycolor.js\n// module id = 16\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar options_1 = require(\"./options\");\nvar utils_1 = require(\"./utils\");\nvar xmlcreate_1 = require(\"xmlcreate\");\n/**\n * Parses a string into XML.\n *\n * @param {string} str                            The string to parse into XML.\n * @param {XmlAttribute|XmlElement} parentElement The XML element or attribute\n *                                                that will contain the string.\n * @param {IOptions} options                      Options for parsing the\n *                                                string into XML.\n *\n * @private\n */\nfunction parseString(str, parentElement, options) {\n    var requiresCdata = function (s) {\n        return (options.cdataInvalidChars && (s.indexOf(\"<\") !== -1\n            || s.indexOf(\"&\") !== -1))\n            || options.cdataKeys.indexOf(parentElement.name) !== -1\n            || options.cdataKeys.indexOf(\"*\") !== -1;\n    };\n    if (parentElement instanceof xmlcreate_1.XmlElement && requiresCdata(str)) {\n        var cdataStrs = str.split(\"]]>\");\n        for (var i = 0; i < cdataStrs.length; i++) {\n            if (requiresCdata(cdataStrs[i])) {\n                parentElement.cdata(cdataStrs[i]);\n            }\n            else {\n                parentElement.text(cdataStrs[i]);\n            }\n            if (i < cdataStrs.length - 1) {\n                parentElement.text(\"]]>\");\n            }\n        }\n    }\n    else {\n        parentElement.text(str);\n    }\n}\n/**\n * Parses an attribute into XML.\n *\n * @param {string} name              The name of the attribute.\n * @param {string} value             The value of the attribute.\n * @param {XmlElement} parentElement The XML element that will contain the\n *                                   string.\n * @param {IOptions} options         Options for parsing the attribute into XML.\n *\n * @private\n */\nfunction parseAttribute(name, value, parentElement, options) {\n    var attribute = parentElement.attribute(name, \"\");\n    if (utils_1.isType(value, \"String\") || utils_1.isType(value, \"Number\")\n        || utils_1.isType(value, \"Boolean\") || utils_1.isType(value, \"Undefined\")\n        || utils_1.isType(value, \"Null\")) {\n        parseString(utils_1.stringify(value), attribute, options);\n    }\n    else {\n        throw new Error(\"attribute value for name '\" + name + \"' should be a\"\n            + \" primitive (string, number, boolean, null, or\"\n            + \" undefined)\");\n    }\n}\n/**\n * Parses an object or Map entry into XML.\n *\n * @param {string} key               The key associated with the object or Map\n *                                   entry.\n * @param {*} value                  The object or map entry.\n * @param {XmlElement} parentElement The XML element that will contain the\n *                                   object or map entry.\n * @param {IOptions} options         Options for parsing the object or map\n *                                   entry into XML.\n *\n * @private\n */\nfunction parseObjectOrMapEntry(key, value, parentElement, options) {\n    // Alias key\n    if (key === options.aliasString) {\n        if (!utils_1.isType(value, \"String\")) {\n            throw new Error(\"aliasString value for \" + value\n                + \" should be a string\");\n        }\n        parentElement.name = value;\n        return;\n    }\n    // Attributes key\n    if (key.indexOf(options.attributeString) === 0) {\n        if (utils_1.isType(value, \"Object\")) {\n            for (var _i = 0, _a = Object.keys(value); _i < _a.length; _i++) {\n                var subkey = _a[_i];\n                parseAttribute(subkey, value[subkey], parentElement, options);\n            }\n        }\n        else {\n            throw new Error(\"attributes object for \" + key + \" should be an\"\n                + \" object\");\n        }\n        return;\n    }\n    // Value key\n    if (key.indexOf(options.valueString) === 0) {\n        if (utils_1.isType(value, \"String\") || utils_1.isType(value, \"Number\")\n            || utils_1.isType(value, \"Boolean\") || utils_1.isType(value, \"Null\")\n            || utils_1.isType(value, \"Undefined\")) {\n            parseValue(key, value, parentElement, options);\n            return;\n        }\n        else {\n            throw new Error(\"value \" + value + \" should be a primitive\"\n                + \" (string, number, boolean, null, or undefined)\");\n        }\n    }\n    // Standard handling (create new element for entry)\n    var element = parentElement;\n    if (!utils_1.isType(value, \"Array\") && !utils_1.isType(value, \"Set\")) {\n        element = parentElement.element(key);\n    }\n    parseValue(key, value, element, options);\n}\n/**\n * Parses an Object or Map into XML.\n *\n * @param {*} objectOrMap            The object or map to parse into XML.\n * @param {XmlElement} parentElement The XML element that will contain the\n *                                   object.\n * @param {IOptions} options         Options for parsing the object into XML.\n *\n * @private\n */\nfunction parseObjectOrMap(objectOrMap, parentElement, options) {\n    if (utils_1.isType(objectOrMap, \"Map\")) {\n        objectOrMap.forEach(function (value, key) {\n            parseObjectOrMapEntry(utils_1.stringify(key), value, parentElement, options);\n        });\n    }\n    else {\n        for (var _i = 0, _a = Object.keys(objectOrMap); _i < _a.length; _i++) {\n            var key = _a[_i];\n            parseObjectOrMapEntry(key, objectOrMap[key], parentElement, options);\n        }\n    }\n}\n/**\n * Parses an array or Set into XML.\n *\n * @param {string} key               The key associated with the array or set to\n *                                   parse into XML.\n * @param {*} arrayOrSet             The array or set to parse into XML.\n * @param {XmlElement} parentElement The XML element that will contain the\n *                                   function.\n * @param {IOptions} options         Options for parsing the array or set into\n *                                   XML.\n *\n * @private\n */\nfunction parseArrayOrSet(key, arrayOrSet, parentElement, options) {\n    var arrayNameFunc;\n    if (options.wrapHandlers.hasOwnProperty(\"*\")) {\n        arrayNameFunc = options.wrapHandlers[\"*\"];\n    }\n    if (options.wrapHandlers.hasOwnProperty(key)) {\n        arrayNameFunc = options.wrapHandlers[key];\n    }\n    var arrayKey = key;\n    var arrayElement = parentElement;\n    if (!utils_1.isType(arrayNameFunc, \"Undefined\")) {\n        var arrayNameFuncKey = arrayNameFunc(arrayKey, arrayOrSet);\n        if (utils_1.isType(arrayNameFuncKey, \"String\")) {\n            arrayKey = arrayNameFuncKey;\n            arrayElement = parentElement.element(key);\n        }\n        else if (!utils_1.isType(arrayNameFuncKey, \"Null\")) {\n            throw new Error(\"wrapHandlers function for \" + arrayKey\n                + \" should return a string or null\");\n        }\n    }\n    arrayOrSet.forEach(function (item) {\n        var element = arrayElement;\n        if (!utils_1.isType(item, \"Array\") && !utils_1.isType(item, \"Set\")) {\n            element = arrayElement.element(arrayKey);\n        }\n        parseValue(arrayKey, item, element, options);\n    });\n}\n/**\n * Parses an arbitrary JavaScript value into XML.\n *\n * @param {string} key               The key associated with the value to parse\n *                                   into XML.\n * @param {*} value                  The value to parse into XML.\n * @param {XmlElement} parentElement The XML element that will contain the\n *                                   value.\n * @param {IOptions} options         Options for parsing the value into XML.\n *\n * @private\n */\nfunction parseValue(key, value, parentElement, options) {\n    // If a handler for a particular type is user-defined, use that handler\n    // instead of the defaults\n    var type = Object.prototype.toString.call(value);\n    var handler;\n    if (options.typeHandlers.hasOwnProperty(\"*\")) {\n        handler = options.typeHandlers[\"*\"];\n    }\n    if (options.typeHandlers.hasOwnProperty(type)) {\n        handler = options.typeHandlers[type];\n    }\n    if (!utils_1.isType(handler, \"Undefined\")) {\n        value = handler(value);\n    }\n    if (utils_1.isType(value, \"Object\") || utils_1.isType(value, \"Map\")) {\n        parseObjectOrMap(value, parentElement, options);\n        return;\n    }\n    if (utils_1.isType(value, \"Array\") || utils_1.isType(value, \"Set\")) {\n        parseArrayOrSet(key, value, parentElement, options);\n        return;\n    }\n    parseString(utils_1.stringify(value), parentElement, options);\n}\n/**\n * Returns a XML document corresponding to the specified value.\n *\n * @param {string} root      The name of the root XML element. When the value is\n *                           converted to XML, it will be a child of this root\n *                           element.\n * @param {*} value          The value to convert to XML.\n * @param {IOptions} options Options for parsing the value into XML.\n *\n * @returns {XmlDocument} An XML document corresponding to the specified value.\n *\n * @private\n */\nfunction parseToDocument(root, value, options) {\n    var document = new xmlcreate_1.XmlDocument(root);\n    if (options.declaration.include) {\n        document.decl(options.declaration);\n    }\n    if (options.dtd.include) {\n        document.dtd(options.dtd.name, options.dtd.sysId, options.dtd.pubId);\n    }\n    parseValue(root, value, document.root(), options);\n    return document;\n}\n/**\n * Returns a XML string representation of the specified object.\n *\n * @param {string} root        The name of the root XML element. When the\n *                             object is converted to XML, it will be a\n *                             child of this root element.\n * @param {*} object           The object to convert to XML.\n * @param {IOptions} [options] Options for parsing the object and\n *                             formatting the resulting XML.\n *\n * @returns {string} An XML string representation of the specified object.\n */\nfunction parse(root, object, options) {\n    if (options === void 0) { options = {}; }\n    options = options_1.validateOptions(options);\n    var document = parseToDocument(root, object, options);\n    return document.toString(options.format);\n}\nexports.parse = parse;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/lib/main.js\n// module id = 17\n// module chunks = 0","'use strict';\n\nvar deselectCurrent = require('toggle-selection');\n\nvar defaultMessage = 'Copy to clipboard: #{key}, Enter';\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? '' : 'Ctrl') + '+C';\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug, message, reselectPrevious, range, selection, mark, success = false;\n  if (!options) { options = {}; }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement('span');\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = 'unset';\n    // prevents scrolling to the end of the page\n    mark.style.position = 'fixed';\n    mark.style.top = 0;\n    mark.style.clip = 'rect(0, 0, 0, 0)';\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = 'pre';\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = 'text';\n    mark.style.MozUserSelect = 'text';\n    mark.style.msUserSelect = 'text';\n    mark.style.userSelect = 'text';\n\n    document.body.appendChild(mark);\n\n    range.selectNode(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand('copy');\n    if (!successful) {\n      throw new Error('copy command was unsuccessful');\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error('unable to copy using execCommand: ', err);\n    debug && console.warn('trying IE specific stuff');\n    try {\n      window.clipboardData.setData('text', text);\n      success = true;\n    } catch (err) {\n      debug && console.error('unable to copy using clipboardData: ', err);\n      debug && console.error('falling back to prompt');\n      message = format('message' in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == 'function') {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/copy-to-clipboard/index.js\n// module id = 18\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/events/events.js\n// module id = 19\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML character reference.\n *\n * An XML character reference is structured as follows, where `{dec}` is the\n * decimal representation code point corresponding to a particular Unicode\n * character:\n *\n * ```xml\n * &#{dec};\n * ```\n *\n * The corresponding hexadecimal version is structured as follows, where\n * `{hex}` is the hexadecimal representation code point corresponding to a\n * particular Unicode character:\n *\n * ```xml\n * &#x{hex};\n * ```\n *\n * Unicode characters outside of the Basic Multilingual Plane are represented\n * using a surrogate pair consisting of two character references.\n *\n * The `{dec}` and `{hex}` values are defined by the `char` and `hex`\n * properties of this node; the former is the character to be represented while\n * the latter indicates whether the decimal or hexadecimal representation\n * should be used.\n *\n * XmlCharRef nodes cannot have any children.\n */\nvar XmlCharRef = (function (_super) {\n    __extends(XmlCharRef, _super);\n    /**\n     * Initializes a new instance of the {@link XmlCharRef} class.\n     *\n     * @param {string} char   The character to represent using the reference.\n     * @param {boolean} [hex] Whether to use the hexadecimal or decimal\n     *                        representation for the reference. If left\n     *                        undefined, decimal is the default.\n     */\n    function XmlCharRef(char, hex) {\n        if (hex === void 0) { hex = false; }\n        _super.call(this);\n        this.char = char;\n        this.hex = hex;\n    }\n    Object.defineProperty(XmlCharRef.prototype, \"char\", {\n        /**\n         * Gets the character to represent using the reference.\n         *\n         * @returns {string} The character to represent using the reference.\n         */\n        get: function () {\n            return this._char;\n        },\n        /**\n         * Sets the character to represent using the reference.\n         *\n         * @param {string} char The character to represent using the reference.\n         */\n        set: function (char) {\n            if (!utils_1.isType(char, \"String\")) {\n                throw new TypeError(\"char should be a string\");\n            }\n            else if (!validate_1.validateSingleChar(char)) {\n                throw new Error(\"char should contain a single character, and this\" +\n                    \" character should be allowed in XML\");\n            }\n            this._char = char;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XmlCharRef.prototype, \"hex\", {\n        /**\n         * Gets whether or not to use the hexadecimal or decimal representation for\n         * the reference.\n         *\n         * @returns {boolean} Whether or not to use the hexadecimal or decimal\n         *                    representation for the reference.\n         */\n        get: function () {\n            return this._hex;\n        },\n        /**\n         * Sets whether or not to use the hexadecimal or decimal representation for\n         * the reference.\n         *\n         * @param {boolean} hex Whether or not to use the hexadecimal or decimal\n         *                      representation for the reference.\n         */\n        set: function (hex) {\n            if (!utils_1.isType(hex, \"Boolean\")) {\n                throw new TypeError(\"hex should be a boolean\");\n            }\n            this._hex = hex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlCharRef} nodes cannot have any\n     * children.\n     */\n    XmlCharRef.prototype.children = function () {\n        throw new Error(\"XmlCharRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlCharRef} nodes cannot have any\n     * children.\n     */\n    XmlCharRef.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlCharRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlCharRef} nodes cannot have any\n     * children.\n     */\n    XmlCharRef.prototype.removeChild = function (node) {\n        throw new Error(\"XmlCharRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlCharRef} nodes cannot have any\n     * children.\n     */\n    XmlCharRef.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlCharRef nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlCharRef.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        var char;\n        if (this.char.length === 1) {\n            char = this.char.charCodeAt(0);\n        }\n        else {\n            char = utils_1.getCodePoint(this.char, 0);\n        }\n        if (this.hex) {\n            return \"&#x\" + char.toString(16) + \";\";\n        }\n        else {\n            return \"&#\" + char + \";\";\n        }\n    };\n    return XmlCharRef;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlCharRef;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlCharRef.js\n// module id = 20\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML entity reference.\n *\n * An XML entity reference is structured as follows, where\n * `{entity}` is name of the entity to be referenced:\n *\n * ```xml\n * &{entity};\n * ```\n *\n * The `{entity}` value is a property of this node.\n *\n * XmlEntityRef nodes cannot have any children.\n */\nvar XmlEntityRef = (function (_super) {\n    __extends(XmlEntityRef, _super);\n    /**\n     * Initializes a new instance of the {@link XmlEntityRef} class.\n     *\n     * @param {string} entity The entity to be referenced.\n     */\n    function XmlEntityRef(entity) {\n        _super.call(this);\n        this.entity = entity;\n    }\n    Object.defineProperty(XmlEntityRef.prototype, \"entity\", {\n        /**\n         * Gets the entity to be referenced.\n         *\n         * @returns {string} The entity to be referenced.\n         */\n        get: function () {\n            return this._entity;\n        },\n        /**\n         * Sets the entity to be referenced.\n         *\n         * @param {string} entity The entity to be referenced.\n         */\n        set: function (entity) {\n            if (!utils_1.isType(entity, \"String\")) {\n                throw new TypeError(\"entity should be a string\");\n            }\n            else if (!validate_1.validateName(entity)) {\n                throw new Error(\"entity should not contain characters\" +\n                    \" not allowed in XML names\");\n            }\n            this._entity = entity;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlEntityRef} nodes cannot have any\n     * children.\n     */\n    XmlEntityRef.prototype.children = function () {\n        throw new Error(\"XmlEntityRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlEntityRef} nodes cannot have any\n     * children.\n     */\n    XmlEntityRef.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlEntityRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlEntityRef} nodes cannot have any\n     * children.\n     */\n    XmlEntityRef.prototype.removeChild = function (node) {\n        throw new Error(\"XmlEntityRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlEntityRef} nodes cannot have any\n     * children.\n     */\n    XmlEntityRef.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlEntityRef nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlEntityRef.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        return \"&\" + this.entity + \";\";\n    };\n    return XmlEntityRef;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlEntityRef;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlEntityRef.js\n// module id = 21\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar escape_1 = require(\"../escape\");\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents text in an XML document.\n *\n * This text may only consist of character data, not markup. Restricted\n * characters, such as the ampersand (`&`) and the opening angle bracket (`<`)\n * are all automatically escaped.\n *\n * To create an character reference or entity reference, you should use\n * {@link XmlCharRef} or {@link XmlEntityRef} respectively instead.\n *\n * XmlText nodes cannot have any children.\n */\nvar XmlText = (function (_super) {\n    __extends(XmlText, _super);\n    /**\n     * Initializes a new instance of the {@link XmlText} class.\n     *\n     * @param {string} text Arbitrary character data.\n     */\n    function XmlText(text) {\n        _super.call(this);\n        this.text = text;\n    }\n    Object.defineProperty(XmlText.prototype, \"text\", {\n        /**\n         * Gets the text associated with this node.\n         *\n         * @returns {string} The text associated with this node.\n         */\n        get: function () {\n            return this._text;\n        },\n        /**\n         * Sets the text associated with this node.\n         *\n         * @param {string} text Arbitrary character data.\n         */\n        set: function (text) {\n            if (!utils_1.isType(text, \"String\")) {\n                throw new TypeError(\"text should be a string\");\n            }\n            else if (!validate_1.validateChar(text)) {\n                throw new Error(\"text should not contain characters not allowed\" +\n                    \" in XML\");\n            }\n            this._text = text;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlText} nodes cannot have any\n     * children.\n     */\n    XmlText.prototype.children = function () {\n        throw new Error(\"XmlText nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlText} nodes cannot have any\n     * children.\n     */\n    XmlText.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlText nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlText} nodes cannot have any\n     * children.\n     */\n    XmlText.prototype.removeChild = function (node) {\n        throw new Error(\"XmlText nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlText} nodes cannot have any\n     * children.\n     */\n    XmlText.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlText nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlText.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        var str = this.text;\n        str = escape_1.escapeAmpersands(str);\n        str = escape_1.escapeLeftAngleBrackets(str);\n        return str;\n    };\n    return XmlText;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlText;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlText.js\n// module id = 22\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\n/**\n * Returns true if the specified value are of any of the specified types, as\n * determined by the Object.prototype.toString.call function.\n *\n * @param {*} val The specified value.\n * @param {...string[]} types The specified types.\n *\n * @returns {boolean} Whether or not the specified value are of any of the\n *                    specified types.\n *\n * @private\n */\nfunction isType(val) {\n    var types = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        types[_i - 1] = arguments[_i];\n    }\n    for (var _a = 0, types_1 = types; _a < types_1.length; _a++) {\n        var type = types_1[_a];\n        if (Object.prototype.toString.call(val) === \"[object \" + type + \"]\") {\n            return true;\n        }\n    }\n    return false;\n}\nexports.isType = isType;\n/**\n * Converts a value into a string.\n *\n * @param {*} value The value to convert to a string.\n *\n * @returns {String} The string representation of the specified value.\n *\n * @private\n */\nfunction stringify(value) {\n    if (!isType(value, \"Undefined\") && !isType(value, \"Null\")) {\n        if (!isType(value.toString, \"Function\")) {\n            value = value.toString();\n        }\n    }\n    return String(value);\n}\nexports.stringify = stringify;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/lib/utils.js\n// module id = 23\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\n/**\n * Replaces ampersands (&) with the appropriate XML character reference.\n *\n * @param {string} str The string to escape.\n *\n * @returns {string} A copy of the specified string with ampersands escaped.\n *\n * @private\n */\nfunction escapeAmpersands(str) {\n    return str.replace(/&/g, \"&amp;\");\n}\nexports.escapeAmpersands = escapeAmpersands;\n/**\n * Replaces left angle brackets (&lt;) with the appropriate XML character\n * reference.\n *\n * @param {string} str The string to escape.\n *\n * @returns {string} A copy of the specified string with left angle brackets\n *                   escaped.\n *\n * @private\n */\nfunction escapeLeftAngleBrackets(str) {\n    return str.replace(/</g, \"&lt;\");\n}\nexports.escapeLeftAngleBrackets = escapeLeftAngleBrackets;\n/**\n * Replaces single quotes (\") with the appropriate XML character reference.\n *\n * @param {string} str The string to escape.\n *\n * @returns {string} A copy of the specified string with single quotes escaped.\n *\n * @private\n */\nfunction escapeSingleQuotes(str) {\n    return str.replace(/'/g, \"&apos;\");\n}\nexports.escapeSingleQuotes = escapeSingleQuotes;\n/**\n * Replaces double quotes (\") with the appropriate XML character reference.\n *\n * @param {string} str The string to escape.\n *\n * @returns {string} A copy of the specified string with double quotes escaped.\n *\n * @private\n */\nfunction escapeDoubleQuotes(str) {\n    return str.replace(/\"/g, \"&quot;\");\n}\nexports.escapeDoubleQuotes = escapeDoubleQuotes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/escape.js\n// module id = 24\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar escape_1 = require(\"../escape\");\nvar options_1 = require(\"../options\");\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlCharRef_1 = require(\"./XmlCharRef\");\nvar XmlEntityRef_1 = require(\"./XmlEntityRef\");\nvar XmlNode_1 = require(\"./XmlNode\");\nvar XmlText_1 = require(\"./XmlText\");\n/**\n * Represents an XML element attribute.\n *\n * An XML element attribute is part of the start tag of an element and is\n * structured as follows, where `{name}` is the name of the attribute and\n * `{value}` is the value of the attribute:\n *\n * ```xml\n * <element {name}=\"{value}\">\n * ```\n *\n * The `{name}` value is a property of this node, while the `{value}` property\n * consists of the children of this node.\n *\n * XmlAttribute nodes must have at least one child, and can have an unlimited\n * number of {@link XmlCharRef}, {@link XmlEntityRef}, and {@link XmlText}\n * nodes as children.\n */\nvar XmlAttribute = (function (_super) {\n    __extends(XmlAttribute, _super);\n    /**\n     * Initializes a new instance of the {@link XmlAttribute} class.\n     *\n     * @param {string} name             The name of the XML attribute.\n     * @param {XmlNode|XmlNode[]} value The initial value of the XML attribute.\n     *                                  Additional children can be added later.\n     *                                  Only {@link XmlCharRef},\n     *                                  {@link XmlEntityRef}, and\n     *                                  {@link XmlText} nodes are permitted.\n     */\n    function XmlAttribute(name, value) {\n        _super.call(this);\n        this.name = name;\n        if (utils_1.isType(value, \"Array\")) {\n            for (var _i = 0, _a = value; _i < _a.length; _i++) {\n                var node = _a[_i];\n                this.insertChild(node);\n            }\n        }\n        else {\n            this.insertChild(value);\n        }\n    }\n    Object.defineProperty(XmlAttribute.prototype, \"name\", {\n        /**\n         * Gets the name of this attribute.\n         *\n         * @returns {string} The name of this attribute.\n         */\n        get: function () {\n            return this._name;\n        },\n        /**\n         * Sets the name of this attribute.\n         *\n         * @param {string} name The name of this attribute.\n         */\n        set: function (name) {\n            if (!utils_1.isType(name, \"String\")) {\n                throw new TypeError(\"name should be a string\");\n            }\n            else if (!validate_1.validateName(name)) {\n                throw new Error(\"name should not contain characters not\" +\n                    \" allowed in XML names\");\n            }\n            this._name = name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Inserts a new XML character reference at the specified index.\n     *\n     * @param {string} char    The character to represent using the reference.\n     * @param {boolean} [hex]  Whether to use the hexadecimal or decimal\n     *                         representation for the reference. If left\n     *                         undefined, decimal is the default.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlCharRef} The newly created XML declaration.\n     */\n    XmlAttribute.prototype.charRef = function (char, hex, index) {\n        var charRef = new XmlCharRef_1.default(char, hex);\n        this.insertChild(charRef, index);\n        return charRef;\n    };\n    /**\n     * Inserts a new XML entity reference at the specified index.\n     *\n     * @param {string} entity  The entity to be referenced.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlEntityRef} The newly created XML declaration.\n     */\n    XmlAttribute.prototype.entityRef = function (entity, index) {\n        var charRef = new XmlEntityRef_1.default(entity);\n        this.insertChild(charRef, index);\n        return charRef;\n    };\n    /**\n     * Inserts the specified node into this node's children at the specified\n     * index. The node is not inserted if it is already present. If this node\n     * already has a parent, it is removed from that parent.\n     *\n     * Note that only {@link XmlCharRef}, {@link XmlEntityRef}, and\n     * {@link XmlText} nodes can be inserted; otherwise, an exception will be\n     * thrown.\n     *\n     * @param {XmlNode} node   The node to insert.\n     * @param {number} [index] The index at which to insert the node. Nodes at\n     *                         or after the index are shifted to the right. If\n     *                         no index is specified, the node is inserted at\n     *                         the end.\n     *\n     * @returns {XmlNode} The node inserted into this node's children, or\n     *                    undefined if no node was inserted.\n     */\n    XmlAttribute.prototype.insertChild = function (node, index) {\n        if (!(node instanceof XmlCharRef_1.default || node instanceof XmlEntityRef_1.default ||\n            node instanceof XmlText_1.default)) {\n            throw new TypeError(\"node should be an instance of XmlCharRef,\" +\n                \" XmlEntityRef, or XmlText\");\n        }\n        return _super.prototype.insertChild.call(this, node, index);\n    };\n    /**\n     * Removes the specified node from this node's children.\n     *\n     * Note that this node must have at least one child. Attempts to remove\n     * the last child node will result in an exception.\n     *\n     * @param {XmlNode} node The node to remove.\n     *\n     * @returns {boolean} Whether a node was removed.\n     */\n    XmlAttribute.prototype.removeChild = function (node) {\n        if (this._children.length === 1) {\n            throw new Error(\"XmlAttribute nodes must have at least one child\");\n        }\n        return _super.prototype.removeChild.call(this, node);\n    };\n    /**\n     * Removes the node at the specified index from this node's children.\n     *\n     * Note that this node must have at least one child. Attempts to remove\n     * the last child node will result in an exception.\n     *\n     * @param {number} index The index at which the node to be removed is\n     *                       located.\n     *\n     * @returns {XmlNode} The node that was removed, or undefined if no node\n     *                    was removed.\n     */\n    XmlAttribute.prototype.removeChildAtIndex = function (index) {\n        if (this._children.length === 1) {\n            throw new Error(\"XmlAttribute nodes must have at least one child\");\n        }\n        return _super.prototype.removeChildAtIndex.call(this, index);\n    };\n    /**\n     * Inserts a new XML text node at the specified index.\n     *\n     * @param {string} text    Arbitrary character data.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlText} The newly created XML declaration.\n     */\n    XmlAttribute.prototype.text = function (text, index) {\n        var textNode = new XmlText_1.default(text);\n        this.insertChild(textNode, index);\n        return textNode;\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlAttribute.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        options_1.validateStringOptions(options);\n        var quote = options.doubleQuotes ? \"\\\"\" : \"'\";\n        var str = this.name + \"=\" + quote;\n        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            if (options.doubleQuotes) {\n                str += escape_1.escapeDoubleQuotes(child.toString(options));\n            }\n            else {\n                str += escape_1.escapeSingleQuotes(child.toString(options));\n            }\n        }\n        str += quote;\n        return str;\n    };\n    return XmlAttribute;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlAttribute;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlAttribute.js\n// module id = 25\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML CDATA section.\n *\n * An XML CDATA section is structured as follows, where `{data}` is the\n * character data of the section:\n *\n * ```xml\n * <![CDATA[{data}]]>\n * ```\n *\n * The `{data}` value is a property of this node.\n *\n * XmlCdata nodes cannot have any children.\n */\nvar XmlCdata = (function (_super) {\n    __extends(XmlCdata, _super);\n    /**\n     * Initializes a new instance of the {@link XmlCdata} class.\n     *\n     * @param {string} data The character data of the CDATA section.\n     */\n    function XmlCdata(data) {\n        _super.call(this);\n        this.data = data;\n    }\n    Object.defineProperty(XmlCdata.prototype, \"data\", {\n        /**\n         * Gets the character data of the CDATA section.\n         *\n         * @returns {string} The character data of the CDATA section.\n         */\n        get: function () {\n            return this._data;\n        },\n        /**\n         * Sets the character data of the CDATA section.\n         *\n         * @param {string} data The character data of the CDATA section.\n         */\n        set: function (data) {\n            if (!utils_1.isType(data, \"String\")) {\n                throw new TypeError(\"character data should be a string\");\n            }\n            else if (!validate_1.validateChar(data)) {\n                throw new Error(\"character data should not contain characters not\" +\n                    \" allowed in XML\");\n            }\n            else if (/]]>/.test(data)) {\n                throw new Error(\"data should not contain the string ']]>'\");\n            }\n            this._data = data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlCdata} nodes cannot have any\n     * children.\n     */\n    XmlCdata.prototype.children = function () {\n        throw new Error(\"XmlCdata nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlCdata} nodes cannot have any\n     * children.\n     */\n    XmlCdata.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlCdata nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlCdata} nodes cannot have any\n     * children.\n     */\n    XmlCdata.prototype.removeChild = function (node) {\n        throw new Error(\"XmlCdata nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlCdata} nodes cannot have any\n     * children.\n     */\n    XmlCdata.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlCdata nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlCdata.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        return \"<![CDATA[\" + this.data + \"]]>\";\n    };\n    return XmlCdata;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlCdata;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlCdata.js\n// module id = 26\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar options_1 = require(\"../options\");\nvar utils_1 = require(\"../utils\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML declaration.\n *\n * An XML declaration is structured as follows, where `{version}` is the XML\n * version, `{encoding}` is the encoding of the document, and `{standalone}`\n * is either \"yes\" or \"no\", depending on whether the document may contain\n * external markup declarations:\n *\n * ```xml\n * <?xml version=\"{version}\" encoding=\"{encoding}\" standalone=\"{standalone}\"?>\n * ```\n *\n * The `{version}`, `{encoding}`, and `{standalone}` values are properties of\n * this node.\n *\n * XmlDecl nodes cannot have any children.\n */\nvar XmlDecl = (function (_super) {\n    __extends(XmlDecl, _super);\n    /**\n     * Initializes a new instance of the {@link XmlDecl} class.\n     *\n     * @param {IDeclarationOptions} [options] The options associated with the\n     *     XML declaration.\n     */\n    function XmlDecl(options) {\n        if (options === void 0) { options = {}; }\n        _super.call(this);\n        options_1.validateDeclarationOptions(options);\n        this.encoding = options.encoding;\n        this.standalone = options.standalone;\n        this.version = options.version;\n    }\n    Object.defineProperty(XmlDecl.prototype, \"encoding\", {\n        /**\n         * Gets the XML encoding to be included in the declaration.\n         *\n         * @returns {string} The XML encoding to be included in the declaration.\n         *                   This value may be undefined.\n         */\n        get: function () {\n            return this._encoding;\n        },\n        /**\n         * Sets the XML encoding to be included in the declaration.\n         *\n         * @param encoding {string} The XML encoding to be included in the\n         *                          declaration. This value must be a valid\n         *                          encoding. If left undefined, no encoding is\n         *                          included.\n         */\n        set: function (encoding) {\n            if (utils_1.isType(encoding, \"String\")) {\n                if (!/^[A-Za-z][A-Za-z0-9._-]*$/.test(encoding)) {\n                    throw new Error(\"encoding should be a valid XML encoding\");\n                }\n            }\n            else if (!utils_1.isType(encoding, \"Undefined\")) {\n                throw new TypeError(\"name should be a string or undefined\");\n            }\n            this._encoding = encoding;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XmlDecl.prototype, \"standalone\", {\n        /**\n         * Gets the XML standalone attribute to be included in the declaration.\n         *\n         * @returns {string} The XML standalone attribute to be included in the\n         *                   declaration. This value may be undefined.\n         */\n        get: function () {\n            return this._standalone;\n        },\n        /**\n         * Sets the XML standalone attribute to be included in the declaration.\n         *\n         * @param {string} standalone The XML standalone attribute to be included.\n         *                            This value must be \"yes\" or \"no\". If left\n         *                            undefined, no standalone attribute is\n         *                            included.\n         */\n        set: function (standalone) {\n            if (utils_1.isType(standalone, \"String\")) {\n                if (!/^(yes|no)$/.test(standalone)) {\n                    throw new Error(\"standalone should be either the string\" +\n                        \" 'yes' or the string 'no'\");\n                }\n            }\n            else if (!utils_1.isType(standalone, \"Undefined\")) {\n                throw new TypeError(\"standalone should be a string or undefined\");\n            }\n            this._standalone = standalone;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XmlDecl.prototype, \"version\", {\n        /**\n         * Gets the XML version to be included in the declaration.\n         *\n         * @returns {string} The XML version to tbe included in the declaration.\n         */\n        get: function () {\n            return this._version;\n        },\n        /**\n         * Sets the XML version to be included in the declaration.\n         *\n         * @param {string} version The XML version to be included in the\n         *                         declaration. This value must be a valid XML\n         *                         version number. If left undefined, the default\n         *                         version is \"1.0\".\n         */\n        set: function (version) {\n            if (!utils_1.isType(version, \"String\")) {\n                throw new TypeError(\"version should be a string\");\n            }\n            else if (!/^1\\.[0-9]+$/.test(version)) {\n                throw new Error(\"version should be a valid XML version\");\n            }\n            this._version = version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlDecl} nodes cannot have any\n     * children.\n     */\n    XmlDecl.prototype.children = function () {\n        throw new Error(\"XmlDecl nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDecl} nodes cannot have any\n     * children.\n     */\n    XmlDecl.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlDecl nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDecl} nodes cannot have any\n     * children.\n     */\n    XmlDecl.prototype.removeChild = function (node) {\n        throw new Error(\"XmlDecl nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDecl} nodes cannot have any\n     * children.\n     */\n    XmlDecl.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlDecl nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlDecl.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        options_1.validateStringOptions(options);\n        var quote = options.doubleQuotes ? '\"' : \"'\";\n        var str = \"<?xml version=\" + quote + this.version + quote;\n        if (utils_1.isType(this.encoding, \"String\")) {\n            str += \" encoding=\" + quote + this.encoding + quote;\n        }\n        if (utils_1.isType(this.standalone, \"String\")) {\n            str += \" standalone=\" + quote + this.standalone + quote;\n        }\n        str += \"?>\";\n        return str;\n    };\n    return XmlDecl;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlDecl;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDecl.js\n// module id = 27\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar options_1 = require(\"../options\");\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlComment_1 = require(\"./XmlComment\");\nvar XmlDtdAttlist_1 = require(\"./XmlDtdAttlist\");\nvar XmlDtdElement_1 = require(\"./XmlDtdElement\");\nvar XmlDtdEntity_1 = require(\"./XmlDtdEntity\");\nvar XmlDtdNotation_1 = require(\"./XmlDtdNotation\");\nvar XmlDtdParamEntityRef_1 = require(\"./XmlDtdParamEntityRef\");\nvar XmlNode_1 = require(\"./XmlNode\");\nvar XmlProcInst_1 = require(\"./XmlProcInst\");\n/**\n * Represents an XML document type definition (DTD).\n *\n * An XML document type definition  is structured as follows, where `{name}` is\n * the name of the DTD, `{sysId}` is the system identifier of the DTD,\n * `{pubId}` is the public identifier of the DTD, and `{intSubset}` is the\n * internal subset of the DTD:\n *\n * ```xml\n * <!DOCTYPE {name} SYSTEM \"{sysId}\" PUBLIC \"{pubId}\" [\n *     {intSubset}\n * ]>\n * ```\n *\n * The `{name}`, `{pubId}`, and `{sysId}` values are properties of the node,\n * while the `{intSubset}` value consists of the children of this node.\n *\n * XmlDtd nodes can have an unlimited number of {@link XmlComment},\n * {@link XmlDtdAttlist}, {@link XmlDtdElement}, {@link XmlDtdEntity},\n * {@link XmlDtdNotation}, {@link XmlDtdParamEntityRef}, and\n * {@link XmlProcInst} nodes.\n */\nvar XmlDtd = (function (_super) {\n    __extends(XmlDtd, _super);\n    /**\n     * Initializes a new instance of the {@link XmlDtd} class.\n     *\n     * @param {string} name    The name of the DTD.\n     * @param {string} [sysId] The system identifier of the DTD, excluding\n     *                         quotation marks.\n     * @param {string} [pubId] The public identifier of the DTD, excluding\n     *                         quotation marks. If a public identifier is\n     *                         provided, a system identifier must be provided\n     *                         as well.\n     */\n    function XmlDtd(name, sysId, pubId) {\n        _super.call(this);\n        this.name = name;\n        this.sysId = sysId;\n        this.pubId = pubId;\n    }\n    Object.defineProperty(XmlDtd.prototype, \"name\", {\n        /**\n         * Gets the name of the DTD.\n         *\n         * @returns {string} The name of the DTD.\n         */\n        get: function () {\n            return this._name;\n        },\n        /**\n         * Sets the name of the DTD.\n         *\n         * @param {string} name The name of the DTD.\n         */\n        set: function (name) {\n            if (!utils_1.isType(name, \"String\")) {\n                throw new TypeError(\"name should be a string\");\n            }\n            else if (!validate_1.validateName(name)) {\n                throw new Error(\"name should not contain characters not\" +\n                    \" allowed in XML names\");\n            }\n            this._name = name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XmlDtd.prototype, \"pubId\", {\n        /**\n         * Gets the public identifier of the DTD, excluding quotation marks.\n         *\n         * @returns {string} The public identifier of the DTD, excluding quotation\n         *                   marks. This value may be undefined.\n         */\n        get: function () {\n            return this._pubId;\n        },\n        /**\n         * Sets the public identifier of the DTD, excluding quotation marks. If a\n         * public identifier is provided, a system identifier must be provided as\n         * well.\n         *\n         * @param {string} pubId The public identifier of the DTD, excluding\n         *                       quotation marks. This value may be undefined.\n         */\n        set: function (pubId) {\n            if (utils_1.isType(pubId, \"String\")) {\n                if (!/^(\\u0020|\\u000D|\\u000A|[a-zA-Z0-9]|[-'()+,./:=?;!*#@$_%])*$/\n                    .test(pubId)) {\n                    throw new Error(\"pubId should not contain characters not\" +\n                        \" allowed in public identifiers\");\n                }\n                else if (utils_1.isType(this.sysId, \"Undefined\")) {\n                    throw new Error(\"pubId should not be defined if sysId is\" +\n                        \" undefined\");\n                }\n            }\n            else if (!utils_1.isType(pubId, \"Undefined\")) {\n                throw new TypeError(\"pubId should be a string or undefined\");\n            }\n            this._pubId = pubId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(XmlDtd.prototype, \"sysId\", {\n        /**\n         * Gets the system identifier of the DTD, excluding quotation marks.\n         *\n         * @returns {string} The system identifier of the DTD, excluding quotation\n         *                   marks. This value may be undefined.\n         */\n        get: function () {\n            return this._sysId;\n        },\n        /**\n         * Sets the system identifier of the DTD, excluding quotation marks.\n         *\n         * @param {string} sysId The system identifier of the DTD, excluding\n         *                       quotation marks. This value may be undefined.\n         */\n        set: function (sysId) {\n            if (utils_1.isType(sysId, \"String\")) {\n                if (!validate_1.validateChar(sysId)) {\n                    throw new Error(\"sysId should not contain characters not\" +\n                        \" allowed in XML\");\n                }\n                else if (sysId.indexOf(\"'\") !== -1 &&\n                    sysId.indexOf(\"\\\"\") !== -1) {\n                    throw new Error(\"sysId should not contain both single quotes\" +\n                        \" and double quotes\");\n                }\n            }\n            else if (utils_1.isType(sysId, \"Undefined\")) {\n                if (!utils_1.isType(this.pubId, \"Undefined\")) {\n                    throw new Error(\"sysId should not be undefined if pubId is\" +\n                        \" defined\");\n                }\n            }\n            else {\n                throw new TypeError(\"sysId should be a string or undefined\");\n            }\n            this._sysId = sysId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Inserts a new attribute-list declaration at the specified index. If no\n     * index is specified, the node is inserted at the end of this node's\n     * children.\n     *\n     * @param {string} text    The text of the attribute-list declaration.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlDtdAttlist} The newly created attribute-list declaration.\n     */\n    XmlDtd.prototype.attlist = function (text, index) {\n        var attlist = new XmlDtdAttlist_1.default(text);\n        this.insertChild(attlist, index);\n        return attlist;\n    };\n    /**\n     * Inserts a new comment at the specified index. If no index is specified,\n     * the node is inserted at the end of this node's children.\n     *\n     * @param {string} content The data of the comment.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlComment} The newly created comment.\n     */\n    XmlDtd.prototype.comment = function (content, index) {\n        var comment = new XmlComment_1.default(content);\n        this.insertChild(comment, index);\n        return comment;\n    };\n    /**\n     * Inserts a new element declaration at the specified index. If no index is\n     * specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} text    The text of the element declaration.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlDtdElement} The newly created element declaration.\n     */\n    XmlDtd.prototype.element = function (text, index) {\n        var element = new XmlDtdElement_1.default(text);\n        this.insertChild(element, index);\n        return element;\n    };\n    /**\n     * Inserts a new entity declaration at the specified index. If no index is\n     * specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} text    The text of the entity declaration.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlDtdEntity} The newly created entity declaration.\n     */\n    XmlDtd.prototype.entity = function (text, index) {\n        var entity = new XmlDtdEntity_1.default(text);\n        this.insertChild(entity, index);\n        return entity;\n    };\n    /**\n     * Inserts the specified node into this node's children at the specified\n     * index. The node is not inserted if it is already present. If this node\n     * already has a parent, it is removed from that parent.\n     *\n     * Only {@link XmlComment}, {@link XmlDtdAttlist}, {@link XmlDtdElement},\n     * {@link XmlDtdEntity}, {@link XmlDtdNotation}, and {@link XmlProcInst}\n     * nodes can be inserted; otherwise an exception will be thrown.\n     *\n     * @param {XmlNode} node   The node to insert.\n     * @param {number} [index] The index at which to insert the node. Nodes at\n     *                         or after the index are shifted to the right. If\n     *                         no index is specified, the node is inserted at\n     *                         the end.\n     *\n     * @returns {XmlNode} The node inserted into this node's children, or\n     *                    undefined if no node was inserted.\n     */\n    XmlDtd.prototype.insertChild = function (node, index) {\n        if (!(node instanceof XmlComment_1.default || node instanceof XmlDtdAttlist_1.default ||\n            node instanceof XmlDtdElement_1.default || node instanceof XmlDtdEntity_1.default ||\n            node instanceof XmlDtdNotation_1.default ||\n            node instanceof XmlDtdParamEntityRef_1.default ||\n            node instanceof XmlProcInst_1.default)) {\n            throw new TypeError(\"node should be an instance of XmlComment,\"\n                + \" XmlDtdAttlist, XmlDtdElement, XmlDtdEntity,\"\n                + \" XmlDtdNotation, XmlDtdParamEntityRef, or\"\n                + \" XmlProcInst\");\n        }\n        return _super.prototype.insertChild.call(this, node, index);\n    };\n    /**\n     * Inserts a new notation declaration at the specified index. If no index is\n     * specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} text    The text of the notation declaration.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlDtdNotation} The newly created notation declaration.\n     */\n    XmlDtd.prototype.notation = function (text, index) {\n        var notation = new XmlDtdNotation_1.default(text);\n        this.insertChild(notation, index);\n        return notation;\n    };\n    /**\n     * Inserts a new parameter entity reference at the specified index. If no\n     * index is specified, the node is inserted at the end of this node's\n     * children.\n     *\n     * @param {string} entity  The entity to reference.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlDtdParamEntityRef} The newly created parameter entity\n     *                                 reference.\n     */\n    XmlDtd.prototype.paramEntityRef = function (entity, index) {\n        var paramEntity = new XmlDtdParamEntityRef_1.default(entity);\n        this.insertChild(paramEntity, index);\n        return paramEntity;\n    };\n    /**\n     * Inserts a new processing instruction at the specified index. If no index\n     * is specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} target    The target of the processing instruction.\n     * @param {string} [content] The data of the processing instruction, or\n     *                           undefined if there is no target.\n     * @param {number} [index]   The index at which the node should be inserted.\n     *                           If no index is specified, the node is inserted\n     *                           at the end of this node's children.\n     *\n     * @returns {XmlProcInst} The newly created processing instruction.\n     */\n    XmlDtd.prototype.procInst = function (target, content, index) {\n        var procInst = new XmlProcInst_1.default(target, content);\n        this.insertChild(procInst, index);\n        return procInst;\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlDtd.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        options_1.validateStringOptions(options);\n        var str = \"<!DOCTYPE \" + this.name;\n        if (utils_1.isType(this.pubId, \"Undefined\")) {\n            if (!utils_1.isType(this.sysId, \"Undefined\")) {\n                str += \" \";\n                str = appendId(\"SYSTEM\", this.sysId, str, options);\n            }\n        }\n        else {\n            str += \" \";\n            str = appendId(\"PUBLIC\", this.pubId, str, options);\n            str = appendId(\"\", this.sysId, str, options);\n        }\n        if (this._children.length !== 0) {\n            str += \" [\";\n            for (var _i = 0, _a = this._children; _i < _a.length; _i++) {\n                var node = _a[_i];\n                if (options.pretty) {\n                    str += options.newline + options.indent;\n                }\n                str += node.toString(options);\n            }\n            if (options.pretty) {\n                str += options.newline;\n            }\n            str += \"]>\";\n        }\n        else {\n            str += \">\";\n        }\n        return str;\n    };\n    return XmlDtd;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlDtd;\n/**\n * Appends the XML string representation of a public or system identifier to\n * an existing string.\n *\n * @param {string} type           \"SYSTEM\", \"PUBLIC\", or \"\"\n * @param {string} value          The value of the identifier.\n * @param {string} str            The string to which the string representation\n *                                should be appended.\n * @param {IStringOptions} options Formatting options for the string\n *                                representation.\n *\n * @returns {string} The updated string.\n *\n * @private\n */\nfunction appendId(type, value, str, options) {\n    str += type + \" \";\n    if (options.doubleQuotes) {\n        if (value.indexOf(\"\\\"\") !== -1) {\n            throw new Error(\"options.doubleQuotes inconsistent with\" +\n                \" sysId or pubId\");\n        }\n        str += \"\\\"\" + value + \"\\\"\";\n    }\n    else {\n        if (value.indexOf(\"'\") !== -1) {\n            throw new Error(\"options.doubleQuotes inconsistent with\" +\n                \" sysId or pubId\");\n        }\n        str += \"'\" + value + \"'\";\n    }\n    return str;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtd.js\n// module id = 28\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML attribute-list declaration in a document type definition.\n *\n * An XML attribute-list declaration is structured as follows, where `{text}`\n * is the text of the declaration:\n *\n * ```xml\n * <!ATTLIST {text}>\n * ```\n *\n * The `{text}` value is a property of this node.\n *\n * XmlDtdAttlist nodes cannot have any children.\n */\nvar XmlDtdAttlist = (function (_super) {\n    __extends(XmlDtdAttlist, _super);\n    /**\n     * Initializes a new instance of the {@link XmlDtdAttlist} class.\n     *\n     * @param {string} text The text associated with the XML attribute-list\n     *                      declaration.\n     */\n    function XmlDtdAttlist(text) {\n        _super.call(this);\n        this.text = text;\n    }\n    Object.defineProperty(XmlDtdAttlist.prototype, \"text\", {\n        /**\n         * Gets the text associated with the XML attribute-list declaration.\n         *\n         * @return {string} The text associated with the XML attribute-list\n         *                  declaration.\n         */\n        get: function () {\n            return this._text;\n        },\n        /**\n         * Sets the text associated with the XML attribute-list declaration.\n         *\n         * @param {string} text The text associated with the XML attribute-list\n         *                      declaration.\n         */\n        set: function (text) {\n            if (!utils_1.isType(text, \"String\")) {\n                throw new TypeError(\"text should be a string\");\n            }\n            else if (!validate_1.validateChar(text)) {\n                throw new Error(\"data should not contain characters\" +\n                    \" not allowed in XML\");\n            }\n            this._text = text;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlDtdAttlist} nodes cannot have any\n     * children.\n     */\n    XmlDtdAttlist.prototype.children = function () {\n        throw new Error(\"XmlDtdAttlist nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdAttlist} nodes cannot have any\n     * children.\n     */\n    XmlDtdAttlist.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlDtdAttlist nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdAttlist} nodes cannot have any\n     * children.\n     */\n    XmlDtdAttlist.prototype.removeChild = function (node) {\n        throw new Error(\"XmlDtdAttlist nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdAttlist} nodes cannot have any\n     * children.\n     */\n    XmlDtdAttlist.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlDtdAttlist nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlDtdAttlist.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        return \"<!ATTLIST \" + this.text + \">\";\n    };\n    return XmlDtdAttlist;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlDtdAttlist;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdAttlist.js\n// module id = 29\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML element declaration in a document type definition.\n *\n * An XML element declaration is structured as follows, where `{text}` is the\n * text of the declaration:\n *\n * ```xml\n * <!ELEMENT {text}>\n * ```\n *\n * The `{text}` value is a property of this node.\n *\n * XmlDtdElement nodes cannot have any children.\n */\nvar XmlDtdElement = (function (_super) {\n    __extends(XmlDtdElement, _super);\n    /**\n     * Initializes a new instance of the {@link XmlDtdElement} class.\n     *\n     * @param {string} text The text associated with the XML element\n     *                      declaration.\n     */\n    function XmlDtdElement(text) {\n        _super.call(this);\n        this.text = text;\n    }\n    Object.defineProperty(XmlDtdElement.prototype, \"text\", {\n        /**\n         * Gets the text associated with the XML element declaration.\n         *\n         * @return {string} The text associated with the XML element declaration.\n         */\n        get: function () {\n            return this._text;\n        },\n        /**\n         * Sets the text associated with the XML element declaration.\n         *\n         * @param {string} text The text associated with the XML element\n         *                      declaration.\n         */\n        set: function (text) {\n            if (!utils_1.isType(text, \"String\")) {\n                throw new TypeError(\"text should be a string\");\n            }\n            else if (!validate_1.validateChar(text)) {\n                throw new Error(\"data should not contain characters\" +\n                    \" not allowed in XML\");\n            }\n            this._text = text;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlDtdElement} nodes cannot have any\n     * children.\n     */\n    XmlDtdElement.prototype.children = function () {\n        throw new Error(\"XmlDtdElement nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdElement} nodes cannot have any\n     * children.\n     */\n    XmlDtdElement.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlDtdElement nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdElement} nodes cannot have any\n     * children.\n     */\n    XmlDtdElement.prototype.removeChild = function (node) {\n        throw new Error(\"XmlDtdElement nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdElement} nodes cannot have any\n     * children.\n     */\n    XmlDtdElement.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlDtdElement nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlDtdElement.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        return \"<!ELEMENT \" + this.text + \">\";\n    };\n    return XmlDtdElement;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlDtdElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdElement.js\n// module id = 30\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML entity declaration in a document type definition.\n *\n * An XML entity declaration is structured as follows, where `{text}` is the\n * text of the declaration:\n *\n * ```xml\n * <!ENTITY {text}>\n * ```\n *\n * The `{text}` value is a property of this node.\n *\n * XmlDtdEntity nodes cannot have any children.\n */\nvar XmlDtdEntity = (function (_super) {\n    __extends(XmlDtdEntity, _super);\n    /**\n     * Initializes a new instance of the {@link XmlDtdEntity} class.\n     *\n     * @param {string} text The text associated with the XML entity\n     *                      declaration.\n     */\n    function XmlDtdEntity(text) {\n        _super.call(this);\n        this.text = text;\n    }\n    Object.defineProperty(XmlDtdEntity.prototype, \"text\", {\n        /**\n         * Gets the text associated with the XML entity declaration.\n         *\n         * @return {string} The text associated with the XML entity declaration.\n         */\n        get: function () {\n            return this._text;\n        },\n        /**\n         * Sets the text associated with the XML entity declaration.\n         *\n         * @param {string} text The text associated with the XML entity declaration.\n         */\n        set: function (text) {\n            if (!utils_1.isType(text, \"String\")) {\n                throw new TypeError(\"text should be a string\");\n            }\n            else if (!validate_1.validateChar(text)) {\n                throw new Error(\"data should not contain characters\" +\n                    \" not allowed in XML\");\n            }\n            this._text = text;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlDtdEntity} nodes cannot have any\n     * children.\n     */\n    XmlDtdEntity.prototype.children = function () {\n        throw new Error(\"XmlDtdEntity nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdEntity} nodes cannot have any\n     * children.\n     */\n    XmlDtdEntity.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlDtdEntity nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdEntity} nodes cannot have any\n     * children.\n     */\n    XmlDtdEntity.prototype.removeChild = function (node) {\n        throw new Error(\"XmlDtdEntity nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdEntity} nodes cannot have any\n     * children.\n     */\n    XmlDtdEntity.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlDtdEntity nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlDtdEntity.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        return \"<!ENTITY \" + this.text + \">\";\n    };\n    return XmlDtdEntity;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlDtdEntity;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdEntity.js\n// module id = 31\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML notation declaration in a document type definition.\n *\n * An XML notation declaration is structured as follows, where `{text}` is the\n * text of the declaration:\n *\n * ```xml\n * <!NOTATION {text}>\n * ```\n *\n * The `{text}` value is a property of this node.\n *\n * XmlDtdNotation nodes cannot have any children.\n */\nvar XmlDtdNotation = (function (_super) {\n    __extends(XmlDtdNotation, _super);\n    /**\n     * Initializes a new instance of the {@link XmlDtdNotation} class.\n     *\n     * @param {string} text The text associated with the XML notation\n     *                      declaration.\n     */\n    function XmlDtdNotation(text) {\n        _super.call(this);\n        this.text = text;\n    }\n    Object.defineProperty(XmlDtdNotation.prototype, \"text\", {\n        /**\n         * Gets the text associated with the XML notation declaration.\n         *\n         * @return {string} The text associated with the XML notation declaration.\n         */\n        get: function () {\n            return this._text;\n        },\n        /**\n         * Sets the text associated with the XML notation declaration.\n         *\n         * @param {string} text The text associated with the XML notation\n         *                      declaration.\n         */\n        set: function (text) {\n            if (!utils_1.isType(text, \"String\")) {\n                throw new TypeError(\"text should be a string\");\n            }\n            else if (!validate_1.validateChar(text)) {\n                throw new Error(\"data should not contain characters\" +\n                    \" not allowed in XML\");\n            }\n            this._text = text;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlDtdNotation} nodes cannot have any\n     * children.\n     */\n    XmlDtdNotation.prototype.children = function () {\n        throw new Error(\"XmlDtdNotation nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdNotation} nodes cannot have any\n     * children.\n     */\n    XmlDtdNotation.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlDtdNotation nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdNotation} nodes cannot have any\n     * children.\n     */\n    XmlDtdNotation.prototype.removeChild = function (node) {\n        throw new Error(\"XmlDtdNotation nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdNotation} nodes cannot have any\n     * children.\n     */\n    XmlDtdNotation.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlDtdNotation nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlDtdNotation.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        return \"<!NOTATION \" + this.text + \">\";\n    };\n    return XmlDtdNotation;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlDtdNotation;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdNotation.js\n// module id = 32\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlNode_1 = require(\"./XmlNode\");\n/**\n * Represents an XML parameter entity reference in a document type definition.\n *\n * An XML parameter entity reference is structured as follows, where `{entity}`\n * is the name of the entity:\n *\n * ```xml\n * %{entity};\n * ```\n *\n * The `{entity}` value is a property of this node.\n *\n * XmlDtdParamEntityRef nodes cannot have any children.\n */\nvar XmlDtdParamEntityRef = (function (_super) {\n    __extends(XmlDtdParamEntityRef, _super);\n    /**\n     * Initializes a new instance of the {@link XmlDtdParamEntityRef} class.\n     *\n     * @param {string} entity The entity to be referenced.\n     */\n    function XmlDtdParamEntityRef(entity) {\n        _super.call(this);\n        this.entity = entity;\n    }\n    Object.defineProperty(XmlDtdParamEntityRef.prototype, \"entity\", {\n        /**\n         * Gets the entity to be referenced.\n         *\n         * @returns {string} The entity to be referenced.\n         */\n        get: function () {\n            return this._entity;\n        },\n        /**\n         * Sets the entity to be referenced.\n         *\n         * @param {string} entity The entity to be referenced.\n         */\n        set: function (entity) {\n            if (!utils_1.isType(entity, \"String\")) {\n                throw new TypeError(\"entity should be a string\");\n            }\n            else if (!validate_1.validateName(entity)) {\n                throw new Error(\"entity should not contain characters\" +\n                    \" not allowed in XML names\");\n            }\n            this._entity = entity;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Throws an exception since {@link XmlDtdParamEntityRef} nodes cannot have\n     * any children.\n     */\n    XmlDtdParamEntityRef.prototype.children = function () {\n        throw new Error(\"XmlDtdParamEntityRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdParamEntityRef} nodes cannot have\n     * any children.\n     */\n    XmlDtdParamEntityRef.prototype.insertChild = function (node, index) {\n        throw new Error(\"XmlDtdParamEntityRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdParamEntityRef} nodes cannot have\n     * any children.\n     */\n    XmlDtdParamEntityRef.prototype.removeChild = function (node) {\n        throw new Error(\"XmlDtdParamEntityRef nodes cannot have children\");\n    };\n    /**\n     * Throws an exception since {@link XmlDtdParamEntityRef} nodes cannot have\n     * any children.\n     */\n    XmlDtdParamEntityRef.prototype.removeChildAtIndex = function (index) {\n        throw new Error(\"XmlDtdParamEntityRef nodes cannot have children\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlDtdParamEntityRef.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        return \"%\" + this.entity + \";\";\n    };\n    return XmlDtdParamEntityRef;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlDtdParamEntityRef;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDtdParamEntityRef.js\n// module id = 33\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar options_1 = require(\"../options\");\nvar utils_1 = require(\"../utils\");\nvar validate_1 = require(\"../validate\");\nvar XmlAttribute_1 = require(\"./XmlAttribute\");\nvar XmlCdata_1 = require(\"./XmlCdata\");\nvar XmlCharRef_1 = require(\"./XmlCharRef\");\nvar XmlComment_1 = require(\"./XmlComment\");\nvar XmlEntityRef_1 = require(\"./XmlEntityRef\");\nvar XmlNode_1 = require(\"./XmlNode\");\nvar XmlProcInst_1 = require(\"./XmlProcInst\");\nvar XmlText_1 = require(\"./XmlText\");\n/**\n * Represents an XML element.\n *\n * A sample XML element is structured as follows, where `{name}` is the name\n * of the element:\n *\n * ```xml\n * <{name} attname=\"attvalue\">\n *     <subelem/>\n *     <?pitarget picontent?>\n *     text\n * </{name}></pre>\n * ```\n *\n * The `{name}` value is a property of the node, while the attributes and\n * children of the element (such as other elements, processing instructions,\n * and text) are children of this node.\n *\n * XmlElement nodes can have an unlimited number of {@link XmlAttribute},\n * {@link XmlCdata}, {@link XmlCharRef}, {@link XmlComment},\n * {@link XmlElement}, {@link XmlEntityRef}, {@link XmlProcInst}, or\n * {@link XmlText} nodes as children.\n */\nvar XmlElement = (function (_super) {\n    __extends(XmlElement, _super);\n    /**\n     * Initializes a new instance of the {@link XmlElement} class.\n     *\n     * @param {string} name The name of the element.\n     */\n    function XmlElement(name) {\n        _super.call(this);\n        this.name = name;\n    }\n    Object.defineProperty(XmlElement.prototype, \"name\", {\n        /**\n         * Gets the name of the element.\n         *\n         * @returns {string} The name of the element.\n         */\n        get: function () {\n            return this._name;\n        },\n        /**\n         * Sets the name of the element.\n         *\n         * @param {string} name The name of the element.\n         */\n        set: function (name) {\n            if (!utils_1.isType(name, \"String\")) {\n                throw new TypeError(\"name should be a string\");\n            }\n            else if (!validate_1.validateName(name)) {\n                throw new Error(\"name should not contain characters not\" +\n                    \" allowed in XML names\");\n            }\n            this._name = name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Inserts an new attribute at the specified index. If no index is\n     * specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} name\n     *        The name of the attribute.\n     * @param {string|XmlNode|Array.<string|XmlNode>} value\n     *        The value of the attribute. Strings are converted to XmlText\n     *        nodes.\n     * @param {number} [index]\n     *        The index at which the node should be inserted. If no index is\n     *        specified, the node is inserted at the end of this node's\n     *        children.\n     *\n     * @returns {XmlAttribute} The newly created attribute.\n     */\n    XmlElement.prototype.attribute = function (name, value, index) {\n        if (utils_1.isType(value, \"String\")) {\n            value = new XmlText_1.default(value);\n        }\n        else if (utils_1.isType(value, \"Array\")) {\n            var arrayVal = value;\n            for (var i = 0; i < arrayVal.length; i++) {\n                if (utils_1.isType(arrayVal[i], \"String\")) {\n                    var strVal = arrayVal[i];\n                    arrayVal[i] = new XmlText_1.default(strVal);\n                }\n            }\n        }\n        var attribute = new XmlAttribute_1.default(name, value);\n        this.insertChild(attribute, index);\n        return attribute;\n    };\n    /**\n     * Returns an array containing all of the children of this node that are\n     * instances of {@link XmlAttribute}.\n     *\n     * @returns {XmlAttribute[]} An array containing all of the children of\n     *                           this node that are instances of\n     *                           {@link XmlAttribute}.\n     */\n    XmlElement.prototype.attributes = function () {\n        return this._children.filter(function (node) { return node instanceof XmlAttribute_1.default; });\n    };\n    /**\n     * Inserts a new CDATA section at the specified index. If no index is\n     * specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} content The data of the CDATA section.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlCdata} The newly created CDATA section.\n     */\n    XmlElement.prototype.cdata = function (content, index) {\n        var cdata = new XmlCdata_1.default(content);\n        this.insertChild(cdata, index);\n        return cdata;\n    };\n    /**\n     * Inserts a new character reference at the specified index. If no index\n     * is specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} char    The character to represent using the reference.\n     * @param {boolean} [hex]  Whether to use the hexadecimal or decimal\n     *                         representation for the reference. If left\n     *                         undefined, decimal is the default.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlCharRef} The newly created character reference.\n     */\n    XmlElement.prototype.charRef = function (char, hex, index) {\n        var charRef = new XmlCharRef_1.default(char, hex);\n        this.insertChild(charRef, index);\n        return charRef;\n    };\n    /**\n     * Inserts a new comment at the specified index. If no index is specified,\n     * the node is inserted at the end of this node's children.\n     *\n     * @param {string} content The data of the comment.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlComment} The newly created comment.\n     */\n    XmlElement.prototype.comment = function (content, index) {\n        var comment = new XmlComment_1.default(content);\n        this.insertChild(comment, index);\n        return comment;\n    };\n    /**\n     * Inserts a new element at the specified index. If no index is specified,\n     * the node is inserted at the end of this node's children.\n     *\n     * @param {string} name    The name of the element.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlElement} The newly created element.\n     */\n    XmlElement.prototype.element = function (name, index) {\n        var element = new XmlElement(name);\n        this.insertChild(element, index);\n        return element;\n    };\n    /**\n     * Inserts a new entity reference at the specified index. If no index is\n     * specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} entity  The entity to be referenced.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlEntityRef} The newly created entity reference.\n     */\n    XmlElement.prototype.entityRef = function (entity, index) {\n        var entityRef = new XmlEntityRef_1.default(entity);\n        this.insertChild(entityRef, index);\n        return entityRef;\n    };\n    /**\n     * Inserts the specified node into this node's children at the specified\n     * index. The node is not inserted if it is already present. If this node\n     * already has a parent, it is removed from that parent.\n     *\n     * Note that only {@link XmlAttribute}, {@link XmlCdata},\n     * {@link XmlCharRef}, {@link XmlComment}, {@link XmlElement},\n     * {@link XmlEntityRef}, {@link XmlProcInst}, or {@link XmlText} nodes can\n     * be inserted; otherwise, an exception will be thrown.\n     *\n     * @param {XmlNode} node   The node to insert.\n     * @param {number} [index] The index at which to insert the node. Nodes at\n     *                         or after the index are shifted to the right. If\n     *                         no index is specified, the node is inserted at\n     *                         the end.\n     *\n     * @returns {XmlNode} The node inserted into this node's children, or\n     *                    undefined if no node was inserted.\n     */\n    XmlElement.prototype.insertChild = function (node, index) {\n        if (!(node instanceof XmlAttribute_1.default ||\n            node instanceof XmlCdata_1.default ||\n            node instanceof XmlCharRef_1.default ||\n            node instanceof XmlComment_1.default ||\n            node instanceof XmlElement ||\n            node instanceof XmlEntityRef_1.default ||\n            node instanceof XmlProcInst_1.default ||\n            node instanceof XmlText_1.default)) {\n            throw new TypeError(\"node should be an instance of XmlAttribute,\"\n                + \" XmlCdata, XmlCharRef, XmlComment,\"\n                + \" XmlElement, XmlEntityRef, XmlProcInst,\"\n                + \" or XmlText\");\n        }\n        if (node instanceof XmlAttribute_1.default) {\n            var attributes = this._children.filter(function (n) { return n instanceof XmlAttribute_1.default; });\n            for (var _i = 0, _a = attributes; _i < _a.length; _i++) {\n                var attribute = _a[_i];\n                if (attribute.name === node.name) {\n                    throw new Error(\"element already contains an\" +\n                        \" XmlAttribute object with name \"\n                        + node.name);\n                }\n            }\n        }\n        return _super.prototype.insertChild.call(this, node, index);\n    };\n    /**\n     * Inserts a new processing instruction at the specified index. If no index\n     * is specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} target    The target of the processing instruction.\n     * @param {string} [content] The data of the processing instruction, or\n     *                           undefined if there is no target.\n     * @param {number} [index]   The index at which the node should be inserted.\n     *                           If no index is specified, the node is inserted\n     *                           at the end of this node's children.\n     *\n     * @returns {XmlProcInst} The newly created processing instruction.\n     */\n    XmlElement.prototype.procInst = function (target, content, index) {\n        var procInst = new XmlProcInst_1.default(target, content);\n        this.insertChild(procInst, index);\n        return procInst;\n    };\n    /**\n     * Inserts some new text at the specified index. If no index is specified,\n     * the node is inserted at the end of this node's children.\n     *\n     * @param {string} text    Arbitrary character data.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlText} The newly created text node.\n     */\n    XmlElement.prototype.text = function (text, index) {\n        var txt = new XmlText_1.default(text);\n        this.insertChild(txt, index);\n        return txt;\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlElement.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        options_1.validateStringOptions(options);\n        var attributes = this.attributes();\n        var nodes = this._children.filter(function (node) {\n            return attributes.indexOf(node) === -1;\n        });\n        // Element tag start\n        var str = \"<\" + this._name;\n        // Attributes\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var attribute = attributes_1[_i];\n            str += \" \" + attribute.toString(options);\n        }\n        // Child nodes\n        if (nodes.length > 0) {\n            // Element non-empty tag end\n            str += \">\";\n            var indenter = function (line) { return options.indent + line; };\n            for (var i = 0; i < nodes.length; i++) {\n                var next = nodes[i];\n                var nextStr = next.toString(options);\n                var prev = i > 0 ? nodes[i - 1] : undefined;\n                // Line break before child nodes unless all nodes, or at least\n                // the most recent two, are of type XmlCharacterReference,\n                // XmlEntityReference, or XmlText\n                if (options.pretty) {\n                    if (!allSameLineNodes(nodes)) {\n                        if (!(i > 0 && onSameLine(next, prev))) {\n                            str += options.newline;\n                            nextStr = nextStr.split(options.newline)\n                                .map(indenter)\n                                .join(options.newline);\n                        }\n                    }\n                }\n                str += nextStr;\n            }\n            // Line break before end tag unless all nodes are of type\n            // XmlCharacterReference, XmlEntityReference, or XmlText\n            if (options.pretty) {\n                if (!allSameLineNodes(nodes)) {\n                    str += options.newline;\n                }\n            }\n            // Element end tag\n            str += \"</\" + this._name + \">\";\n        }\n        else {\n            // Element empty tag end\n            str += \"/>\";\n        }\n        return str;\n    };\n    return XmlElement;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlElement;\n/**\n * Returns true if the specified nodes are all of type {@link XmlCharRef},\n * {@link XmlEntityRef}, or {@link XmlText}.\n *\n * @param {XmlNode[]} nodes The specified nodes.\n *\n * @returns {boolean} Whether or not the specified nodes are all of type\n *                    {@link XmlCharRef}, {@link XmlEntityRef}, or\n *                    {@link XmlText}.\n *\n * @private\n */\nfunction allSameLineNodes(nodes) {\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var node = nodes_1[_i];\n        if (!((node instanceof XmlCharRef_1.default ||\n            node instanceof XmlEntityRef_1.default ||\n            node instanceof XmlText_1.default))) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Returns true if the specified nodes are all of type {@link XmlCharRef},\n * {@link XmlEntityRef}, or {@link XmlText}.\n *\n * @param {XmlNode} prev The first specified node.\n * @param {XmlNode} next The second specified node.\n *\n * @returns {boolean} Whether or not the specified nodes are all of type\n *                    {@link XmlCharRef}, {@link XmlEntityRef}, or\n *                    {@link XmlText}.\n *\n * @private\n */\nfunction onSameLine(prev, next) {\n    return (prev instanceof XmlCharRef_1.default ||\n        prev instanceof XmlEntityRef_1.default ||\n        prev instanceof XmlText_1.default) &&\n        (next instanceof XmlCharRef_1.default ||\n            next instanceof XmlEntityRef_1.default ||\n            next instanceof XmlText_1.default);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlElement.js\n// module id = 34\n// module chunks = 0","import * as ui from '../../ui'\r\nimport { WVTooltip } from '../../tooltip';\r\n\r\nexport class FileBrowserSwitch\r\n{\r\n    boxEl: HTMLElement\r\n    handleEl: HTMLElement\r\n    hiddenCheckbox: HTMLInputElement\r\n    parent: HTMLElement\r\n    val: boolean = false\r\n    wrapperEl: HTMLElement\r\n    titleEl: HTMLElement\r\n    callBack: any\r\n\r\n    constructor(parent: HTMLElement, titleId: string, callBack: any, preClass: string, initialVal?: boolean)\r\n    {\r\n        this.parent = parent;\r\n        this.wrapperEl = document.createElement('div');\r\n        this.wrapperEl.className = preClass + '-browser-switch-wrapper';\r\n        this.parent.appendChild(this.wrapperEl);\r\n        this.callBack = callBack;\r\n        if (initialVal)\r\n        {\r\n            this.val = initialVal;\r\n        }\r\n        //Hidden checkbox\r\n        this.hiddenCheckbox = document.createElement('input');\r\n        this.hiddenCheckbox.type = 'checkbox';\r\n        this.hiddenCheckbox.value = this.val + '';\r\n        this.hiddenCheckbox.style.display = 'none';\r\n        this.wrapperEl.appendChild(this.hiddenCheckbox);\r\n        //Title element\r\n        this.titleEl = document.createElement('div');\r\n        this.titleEl.className = preClass + '-browser-switch-title';\r\n        this.titleEl.id = titleId;\r\n        this.titleEl.textContent = ui.translate(titleId);\r\n        this.wrapperEl.appendChild(this.titleEl);\r\n        let tooltip = new WVTooltip(this.titleEl);\r\n        tooltip.setTitle(ui.translate(titleId + '_INFO'));\r\n        //Box element\r\n        this.boxEl = document.createElement('div');\r\n        this.boxEl.className = 'switch-wrapper switch';\r\n        let statusClass = this.val ? 'switch-on' : 'switch-off';\r\n        $(this.boxEl).addClass(statusClass);\r\n        this.wrapperEl.appendChild(this.boxEl);\r\n        //Handle element\r\n        this.handleEl = document.createElement('div');\r\n        this.handleEl.className = 'switch-handle';\r\n        this.boxEl.appendChild(this.handleEl);\r\n\r\n        $(this.boxEl).click(e =>\r\n        {\r\n            this.val = !this.val;\r\n            let val = this.val ? 'true' : 'false';\r\n            $(this.hiddenCheckbox).val(val);\r\n            $(this.hiddenCheckbox).trigger('change');\r\n            if (this.val)\r\n            {\r\n                $(this.boxEl).removeClass('switch-off').addClass('switch-on');\r\n            }\r\n            else\r\n            {\r\n                $(this.boxEl).removeClass('switch-on').addClass('switch-off');\r\n            }\r\n            if (this.callBack)\r\n            {\r\n                this.callBack(this.val);\r\n            }\r\n        });\r\n\r\n        this.setVal(this.val);\r\n    }\r\n\r\n    getTitleEl(): HTMLElement\r\n    {\r\n        return this.titleEl;\r\n    }\r\n\r\n    getClickEl(): HTMLElement\r\n    {\r\n        return this.hiddenCheckbox;\r\n    }\r\n\r\n    getVal(): boolean\r\n    {\r\n        return this.val;\r\n    }\r\n\r\n    setVal(val)\r\n    {\r\n        let valString = val ? 'true' : 'false';\r\n        this.val = val;\r\n        $(this.hiddenCheckbox).val(valString);\r\n        $(this.hiddenCheckbox).trigger('change');\r\n        if (this.val)\r\n        {\r\n            $(this.boxEl).removeClass('switch-off').addClass('switch-on');\r\n        }\r\n        else\r\n        {\r\n            $(this.boxEl).removeClass('switch-on').addClass('switch-off');\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/file-browser-modal/widgets/file-browser-switch.ts","import { Dialog } from './dialog'\r\nimport { EventEmitter } from 'events'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { WVTooltip } from '../app/tooltip';\r\nimport { settings } from '../app/app-settings';\r\nvar tinycolor = require(\"tinycolor2\");\r\ndeclare var vsClient: VSWebClient;\r\ndeclare var _ColorPalette: string[][];\r\ndeclare var _ColorPaletteWithAlpha: string[][];\r\nconst SVG_NS = 'http://www.w3.org/2000/svg';\r\nconst XLINK_NS = 'http://www.w3.org/1999/xlink';\r\n\r\nconst paletteColorsRGBA = [\r\n\t['rgba(0,0,0,1)', 'rgba(128,0,0,1)', 'rgba(0,128,0,1)', 'rgba(128,128,0,1)', 'rgba(0,0,128,1)'],\r\n\t['rgba(128,0,128,1)', 'rgba(0,128,128,1)', 'rgba(192,192,192,1)', 'rgba(192,220,192,1)', 'rgba(166,202,240,1)'],\r\n\t['rgba(255,251,240,1)', 'rgba(160,160,164,1)', 'rgba(128,128,128,1)', 'rgba(255,0,0,1)', 'rgba(0,255,0,1)'],\r\n\t['rgba(255,255,0,1)', 'rgba(0,0,255,1)', 'rgba(255,0,255,1)', 'rgba(0,255,255,1)', 'rgba(255,255,255,1)']]\r\n\r\nconst paletteColorsRGB = [\r\n\t['rgb(0,0,0)', 'rgb(128,0,0)', 'rgb(0,128,0)', 'rgb(128,128,0)', 'rgb(0,0,128)'],\r\n\t['rgb(128,0,128)', 'rgb(0,128,128)', 'rgb(192,192,192)', 'rgb(192,220,192)', 'rgb(166,202,240)'],\r\n\t['rgb(255,251,240)', 'rgb(160,160,164)', 'rgb(128,128,128)', 'rgb(255,0,0)', 'rgb(0,255,0)'],\r\n    ['rgb(255,255,0)', 'rgb(0,0,255)', 'rgb(255,0,255)', 'rgb(0,255,255)', 'rgb(255,255,255)']]\r\n\r\nlet rgbPalette: string[][];\r\nlet rgbaPalette: string[][];\r\ntry\r\n{\r\n    rgbPalette = _ColorPalette;\r\n}\r\ncatch (e)\r\n{\r\n    rgbPalette = paletteColorsRGB;\r\n}\r\n\r\ntry\r\n{\r\n    rgbaPalette = _ColorPaletteWithAlpha;\r\n}\r\ncatch (e)\r\n{\r\n    rgbaPalette = paletteColorsRGBA;\r\n}\r\n\r\nexport class CustomPalette extends EventEmitter\r\n{\r\n\r\n\tmount: HTMLElement\r\n\twidth: number\r\n\theight: number\r\n\tspectrumEl: HTMLElement\r\n\tchosenColor: string\r\n\tactiveColor: string\r\n\tshowAlpha\r\n\thexInputEl: HTMLInputElement\r\n\tcanvas: HTMLCanvasElement\r\n\tpixelBox: HTMLElement\r\n\tcolorPrevField: HTMLElement\r\n\tcolorPrevText: HTMLElement\r\n\tnodes: string[] = []\r\n\r\n\r\n\tconstructor(activeColor: string, showAlpha)\r\n\t{\r\n\t\tsuper()\r\n\r\n\t\tthis.mount = document.createElement('div')\r\n\t\tthis.mount.style.position = 'absolute'\r\n\t\tthis.activeColor = activeColor\r\n\t\tthis.showAlpha = showAlpha\r\n\r\n\t\tthis.pixelBox = document.createElement('div');\r\n\t\tthis.pixelBox.className = 'color-pipette-preview-wrapper';\r\n\t\tthis.colorPrevField = document.createElement('span');\r\n\t\tthis.colorPrevField.className = 'color-pipette-preview-field';\r\n\t\tthis.colorPrevText = document.createElement('span');\r\n\t\tthis.colorPrevText.className = 'color-pipette-preview-text';\r\n\r\n\t\tthis.pixelBox.appendChild(this.colorPrevField);\r\n\t\tthis.pixelBox.appendChild(this.colorPrevText);\r\n\r\n\t\tdocument.body.appendChild(this.pixelBox);\r\n\t\t$(this.pixelBox).hide();\r\n\r\n\t\tdocument.body.appendChild(this.mount)\r\n\t\tsetTimeout(() =>\r\n\t\t{\r\n\t\t\tdocument.addEventListener('click', this.close)\r\n\t\t})\r\n\r\n\t\tthis.spectrumEl = document.createElement('div')\r\n\t\tthis.spectrumEl.id = 'spectrum-picker-el'\r\n\t\tthis.mount.appendChild(this.spectrumEl)\r\n\r\n\t\tlet $spEl = $(this.spectrumEl)\r\n\t\t$spEl.attr(\"alpha\", this.showAlpha)\r\n\t\t$(this.spectrumEl).spectrum({\r\n\t\t\tflat: true,\r\n\t\t\tcolor: this.activeColor,\r\n\t\t\tshowAlpha: this.showAlpha,\r\n\t\t\tshowInput: true,\r\n\t\t\tshowInitial: true,\r\n\t\t\tshowPalette: true,\r\n\t\t\tshowSelectionPalette: true,\r\n\t\t\tmaxSelectionSize: 40,\r\n\t\t\tpreferredFormat: \"rgb\",\r\n\t\t\tlocalStorageKey: 'customColorStorage',\r\n\t\t\tpalette: this.showAlpha ? rgbaPalette : rgbPalette,\r\n\t\t\tshow: function (color)\r\n\t\t\t{\r\n\t\t\t\tif ($('.sp-alpha-enabled').length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\t$('.color-palette-pipette-picker-wrapper').css('top', '274px');\r\n\t\t\t\t}\r\n\t\t\t\tif ($(this).attr(\"alpha\") === 'false')\r\n\t\t\t\t{\r\n\t\t\t\t\t$('.sp-input').val(computeRgb(color))\r\n\t\t\t\t\t$('#sp-hex-input').val(computeHex(color))\r\n\r\n\t\t\t\t\t$('.sp-input').on('keyup', function (event)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (event.keyCode === 13)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$(this).val(computeRgb(this.value))\r\n\t\t\t\t\t\t\t$('#sp-hex-input').val(computeHex(this.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t$('.sp-input').blur(function (event)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(this).val(computeRgb(this.value))\r\n\t\t\t\t\t\t$('#sp-hex-input').val(computeHex(this.value))\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t$('#sp-hex-input').val('#' + computeHexWithAlpha(color))\r\n\r\n\t\t\t\t\t$('.sp-input').on('keyup', function (event)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (event.keyCode === 13)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$('#sp-hex-input').val(computeHexWithAlpha(this.value))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t$('.sp-input').blur(function (event)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$('#sp-hex-input').val(computeHexWithAlpha(this.value))\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmove: function (color)\r\n\t\t\t{\r\n\t\t\t\tif ($(this).attr(\"alpha\") === 'false')\r\n\t\t\t\t{\r\n\t\t\t\t\t$('.sp-input').val(computeRgb(color))\r\n\t\t\t\t\t$('#sp-hex-input').val(computeHex(color))\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t$('#sp-hex-input').val(computeHexWithAlpha(color))\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchange: (color) =>\r\n            {\r\n                let rgbColor;\r\n                if (this.showAlpha)\r\n                {\r\n                    rgbColor = computeRgb(color);\r\n                }\r\n                else\r\n                {\r\n                    rgbColor = computeRgbWithAlpha(color);\r\n                }\r\n\t\t\t\tthis.chosenColor = rgbColor;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet viewportWidth = Math.min(window.innerWidth, document.documentElement.offsetWidth)\r\n\t\tlet viewportHeight = Math.max(window.innerHeight, document.documentElement.offsetHeight)\r\n\r\n\t\tlet width = 280\r\n\t\tlet height = 300\r\n\r\n\t\tthis.mount.style.top = 0.5 * (viewportHeight - height) + 'px'\r\n\t\tthis.mount.style.left = 0.5 * (viewportWidth - width) + 'px'\r\n\t\tthis.mount.className = 'wv-color-picker-popup'\r\n\r\n\t\tlet $mount = $(this.mount)\r\n\r\n\t\tthis.hexInputEl = document.createElement('input')\r\n\t\tthis.hexInputEl.id = 'sp-hex-input'\r\n\t\tthis.hexInputEl.className = 'sp-input'\r\n\t\tthis.hexInputEl.style.marginTop = '5px'\r\n\t\t$(this.hexInputEl).attr(\"alpha\", this.showAlpha)\r\n\t\tif (this.showAlpha)\r\n\t\t{\r\n\t\t\t$(this.hexInputEl).val(computeHexWithAlpha(this.activeColor))\r\n\t\t} else\r\n\t\t{\r\n\t\t\t$(this.hexInputEl).val(computeHex(this.activeColor))\r\n\t\t}\r\n\r\n\t\tlet pipette = document.createElement('div');\r\n\t\tpipette.className = 'color-palette-pipette-picker-wrapper';\r\n\t\tif (this.showAlpha)\r\n\t\t{\r\n\t\t\tpipette.style.top = '274px';\r\n\t\t}\r\n\r\n\t\tlet pipetteWrapper = document.createElement('span');\r\n\t\tpipetteWrapper.className = 'color-palette-pipette-picker-icon';\r\n\t\tlet pipetteToolTip = new WVTooltip(pipetteWrapper);\r\n\t\tpipetteToolTip.setTitle(this.translateTooltip('ID_COLOR_PICKER_PALETTE_CHOOSE_FROM_PART'));\r\n\t\tpipetteToolTip.setOrientation('bottom');\r\n\t\tlet pipetteIcon = <SVGSVGElement>document.createElementNS(SVG_NS, 'svg');\r\n\t\tpipetteIcon.style.width = '25px';\r\n\t\tpipetteIcon.style.height = '25px';\r\n\t\tlet pipetteUseIcon = document.createElementNS(SVG_NS, 'use');\r\n\t\tpipetteUseIcon.setAttributeNS(XLINK_NS, 'href', '#10_auswahl_durch_farbe');\r\n\t\tpipetteIcon.appendChild(pipetteUseIcon);\r\n\t\tpipetteWrapper.appendChild(pipetteIcon);\r\n\r\n\t\tlet paletteWrapper = document.createElement('span');\r\n\t\tpaletteWrapper.className = 'color-palette-pipette-picker-icon';\r\n\t\tpaletteWrapper.style.marginLeft = '5px';\r\n\t\tlet paletteTooltip = new WVTooltip(paletteWrapper);\r\n\t\tpaletteTooltip.setTitle(this.translateTooltip('ID_COLOR_PICKER_PALETTE_CHOOSE_FROM_PIXEL'));\r\n\t\tpaletteTooltip.setOrientation('bottom');\r\n\t\tlet paletteIcon = <SVGSVGElement>document.createElementNS(SVG_NS, 'svg');\r\n\t\tpaletteIcon.style.width = '25px';\r\n\t\tpaletteIcon.style.height = '25px';\r\n\t\tpaletteIcon.style.position = 'relative';\r\n\t\tpaletteIcon.style.top = '2px';\r\n\t\tlet paletteUseIcon = document.createElementNS(SVG_NS, 'use');\r\n\t\tpaletteUseIcon.setAttributeNS(XLINK_NS, 'href', '#palette_pipette');\r\n\t\tpaletteIcon.appendChild(paletteUseIcon);\r\n\t\tpaletteWrapper.appendChild(paletteIcon);\r\n\r\n\t\tpipette.appendChild(pipetteWrapper);\r\n\t\tpipette.appendChild(paletteWrapper);\r\n\t\tthis.pickPixel = this.pickPixel.bind(this);\r\n\t\tthis.selectPixelColor = this.selectPixelColor.bind(this);\r\n\t\tpaletteIcon.onclick = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\tthis.canvas = vsClient.vsCanvas.canvas2D;\r\n\t\t\t$(this.pixelBox).show()\r\n\t\t\t$(this.mount).hide();\r\n\t\t\tthis.canvas.addEventListener('mousemove', this.pickPixel);\r\n\t\t\tthis.canvas.addEventListener('mousedown', this.selectPixelColor);\r\n\t\t}\r\n\r\n\t\tpipetteIcon.onclick = e =>\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\t$(this.mount).hide();\r\n\t\t\tlet xml = '<Call Method=\"GetSelectedNodes\"></Call>';\r\n\t\t\tvsClient.command.executeXML(xml);\r\n\t\t\tvsClient.once('GetSelectedNodes', nodeRes =>\r\n\t\t\t{\r\n\t\t\t\tif (Array.isArray(nodeRes.NodeId))\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.nodes = nodeRes.NodeId;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.nodes = [nodeRes.NodeId];\r\n\t\t\t\t}\r\n\t\t\t\tvsClient.once('NodePropertiesChanged', res =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (res.General)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet rgba = computeRgbWithAlpha(res.General.Color);\r\n\t\t\t\t\t\tlet oldSelectionCall = '<Call Method=\"SetSelectedNodes\">';\r\n\t\t\t\t\t\tlet selectedNodesLength = this.nodes.length;\r\n\t\t\t\t\t\tfor (let i = 0; i < selectedNodesLength; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toldSelectionCall += '<NodeId>' + this.nodes[i] + '</NodeId>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toldSelectionCall += '</Call>';\r\n\t\t\t\t\t\tvsClient.command.executeXML(oldSelectionCall);\r\n\t\t\t\t\t\tvsClient.once('SetSelectedNodes', () =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.emit('customColorChosen', rgba);\r\n\t\t\t\t\t\t\t$(this.spectrumEl).spectrum('destroy');\r\n\t\t\t\t\t\t\tvsClient.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Deselect</SelectionModifier></Call>');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//If user clicks on the canvas wait for the next click\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvsClient.once('NodePropertiesChanged', res =>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (res.General)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlet rgba = computeRgbWithAlpha(res.General.Color);\r\n\t\t\t\t\t\t\t\tlet oldSelectionCall = '<Call Method=\"SetSelectedNodes\">' + this.nodes.toString() + '</Call>';\r\n\t\t\t\t\t\t\t\tvsClient.command.executeXML(oldSelectionCall);\r\n\t\t\t\t\t\t\t\tvsClient.once('SetSelectedNodes', () =>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.emit('customColorChosen', rgba);\r\n\t\t\t\t\t\t\t\t\t$(this.spectrumEl).spectrum('destroy');\r\n\t\t\t\t\t\t\t\t\tvsClient.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Deselect</SelectionModifier></Call>');\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t$(this.spectrumEl).spectrum('destroy');\r\n\t\t\t\t\t\t\t\tvsClient.command.executeXML('<Call Method=\"ModifySelection\"><SelectionModifier>Deselect</SelectionModifier></Call>');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t$('.sp-input-container').append(this.hexInputEl)\r\n\t\t$('.sp-picker-container').append(pipette)\r\n\r\n\t\t$(this.hexInputEl).blur(function (event)\r\n\t\t{\r\n\t\t\tif ($(this).attr(\"alpha\") === 'false')\r\n\t\t\t{\r\n\t\t\t\t$('.sp-input').val(computeRgb(this.value))\r\n\t\t\t\t$(this).val(computeHex(this.value))\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\t$('.sp-input').val(computeRgbWithAlpha(this.value))\r\n\t\t\t\t$(this).val(computeHexWithAlpha(this.value))\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t$(this.hexInputEl).on('keyup', function (event)\r\n\t\t{\r\n\t\t\tif (event.keyCode === 13)\r\n\t\t\t{\r\n\t\t\t\t$('#spectrum-picker-el').spectrum('set', this.value)\r\n\t\t\t\tif ($(this).attr(\"alpha\") === 'false')\r\n\t\t\t\t{\r\n\t\t\t\t\t$('.sp-input').val(computeRgb(this.value))\r\n\t\t\t\t\t$(this).val(computeHex(this.value))\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\t$('.sp-input').val(computeRgbWithAlpha(this.value))\r\n\t\t\t\t\t$(this).val(computeHexWithAlpha(this.value))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t$mount.find('.sp-cancel').on('click', e =>\r\n\t\t{\r\n\t\t\t$(this.pixelBox).remove();\r\n\t\t\t$spEl.spectrum('destroy')\r\n\t\t})\r\n\t\t$mount.find('.sp-choose').on('click', e =>\r\n\t\t{\r\n\t\t\t$(this.pixelBox).remove();\r\n\t\t\tlet colorValue = tinycolor($spEl.spectrum('get'))\r\n\t\t\tlet alpha = colorValue.getAlpha()\r\n            colorValue.setAlpha(alpha === 1 ? 1.0 : alpha)\r\n\t\t\tlet RGBString = this.showAlpha ? computeRgbWithAlpha(colorValue._originalInput) : computeRgb(colorValue._originalInput);\r\n\t\t\tthis.emit('customColorChosen', RGBString)\r\n\t\t\t$spEl.spectrum('destroy')\r\n\t\t})\r\n\r\n\t\tfunction computeHexWithAlpha(color)\r\n\t\t{\r\n\t\t\tlet colorObj;\r\n\t\t\tif (color._originalInput)\r\n\t\t\t{\r\n\t\t\t\tcolorObj = tinycolor(color._originalInput)\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcolorObj = tinycolor(color)\r\n\t\t\t}\r\n\t\t\treturn '#' + (Math.round(colorObj.toRgb().a * 255)).toString(16).toUpperCase() + colorObj.toHex().toUpperCase()\r\n\t\t}\r\n\r\n\t\tfunction computeHex(color)\r\n\t\t{\r\n\t\t\tlet colorObj;\r\n\t\t\tif (color._originalInput)\r\n\t\t\t{\r\n\t\t\t\tcolorObj = tinycolor(color._originalInput);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tcolorObj = tinycolor(color);\r\n\t\t\t}\r\n\t\t\treturn '#' + colorObj.toHex().toUpperCase();\r\n\t\t}\r\n\r\n\t\tfunction computeRgb(color)\r\n\t\t{\r\n\t\t\tlet rgb;\r\n\t\t\tif (color._originalInput)\r\n\t\t\t{\r\n\t\t\t\trgb = tinycolor(color._originalInput).toRgb();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\trgb = tinycolor(color).toRgb();\r\n\t\t\t}\r\n\t\t\treturn 'rgb(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ')'\r\n\t\t}\r\n\r\n\t\tfunction computeRgbWithAlpha(color)\r\n\t\t{\r\n            let rgb;\r\n            let alpha;\r\n\t\t\tif (color._originalInput)\r\n            {\r\n                rgb = tinycolor(color._originalInput).toRgb();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n                alpha = color.slice(1, 3);\r\n\t\t\t\trgb = tinycolor('#' + color.slice(3) + alpha).toRgb();\r\n\t\t\t}\r\n\t\t\treturn 'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', ' + rgb.a + ')'\r\n\t\t}\r\n\t}\r\n\r\n\tclose = (ev: MouseEvent) =>\r\n\t{\r\n\t\tif (ev.target !== this.mount || !this.mount.contains(ev.target as Node))\r\n\t\t{\r\n\t\t\tthis.mount.style.display = 'none'\r\n\t\t\t$(this.pixelBox).remove();\r\n\r\n\t\t\tdocument.body.removeChild(this.mount)\r\n\t\t\tdocument.removeEventListener('click', this.close)\r\n\t\t}\r\n\t}\r\n\r\n\tpickPixel = function (e)\r\n\t{\r\n\t\tlet ctx = this.canvas.getContext('2d');\r\n\t\tlet x = e.pageX - this.canvas.getBoundingClientRect().left;\r\n\t\tlet y = e.pageY - this.canvas.getBoundingClientRect().top;\r\n\t\tthis.pixelBox.style.top = (e.pageY + 22) + 'px';\r\n\t\tthis.pixelBox.style.left = (e.pageX + 22) + 'px';\r\n\t\tvar imageData = ctx.getImageData(x, y, 1, 1);\r\n\t\tvar pixel = imageData.data;\r\n\t\tthis.colorPrevField.style.backgroundColor = 'rgb(' + pixel[0] + ', ' + pixel[1] + ', ' + pixel[2] + ')';\r\n\t\tthis.colorPrevText.textContent = 'rgb(' + pixel[0] + ', ' + pixel[1] + ', ' + pixel[2] + ')';\r\n\t}\r\n\r\n\tselectPixelColor = function (e)\r\n\t{\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\t$(this.pixelBox).hide();\r\n\t\tthis.canvas.removeEventListener('mousemove', this.pickPixel);\r\n\t\tthis.canvas.removeEventListener('mousedown', this.selectPixelColor);\r\n\t\tlet rgba = this.colorPrevText.textContent.replace('rgb', 'rgba').replace(')', ' ,1)');\r\n\t\tthis.emit('customColorChosen', rgba);\r\n\t\t$(this.spectrumEl).spectrum('destroy');\r\n\t}\r\n\r\n\ttranslateTooltip(langId: string)\r\n\t{\r\n\t\tlet tooltip: string;\r\n\t\tlet lang = settings.lang;\r\n\t\tif (_lang_data[langId] && _lang_data[langId][lang])\r\n\t\t{\r\n\t\t\ttooltip = _lang_data[langId][lang]\r\n\t\t} else if (_custom_lang_data && _custom_lang_data[langId] && _custom_lang_data[langId][lang])\r\n\t\t{\r\n\t\t\ttooltip = _custom_lang_data[langId][lang]\r\n\t\t} else if (_lang_data[langId] && _lang_data[langId]['ENU'])\r\n\t\t{\r\n\t\t\ttooltip = _lang_data[langId]['ENU']\r\n\t\t}\r\n\t\telse if (_custom_lang_data && _custom_lang_data[langId] && _custom_lang_data[langId]['ENU'])\r\n\t\t{\r\n\t\t\ttooltip = _custom_lang_data[langId]['ENU']\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttooltip = langId\r\n\t\t}\r\n\t\treturn tooltip;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./pane/custom-palette.ts","import * as ui from '../../app/ui'\r\nimport { appStates } from '../../app/app-states';\r\n\r\nexport class ClipboardModal\r\n{\r\n    windowWrapper: HTMLElement\r\n    titleEl: HTMLElement\r\n    imageEl: HTMLImageElement\r\n    src: string\r\n    width: number\r\n    height: number\r\n    encoding: string\r\n    constructor(src: string, width: number, height: number, encoding?: string) {\r\n        this.src = src;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.detectOutsideClick = this.detectOutsideClick.bind(this);\r\n        this.detectEscClick = this.detectEscClick.bind(this);\r\n        this.encoding = encoding ? encoding : 'png';\r\n        let imageHeader = 'data:image/' + encoding + ';base64,';\r\n        this.windowWrapper = document.createElement('div');\r\n        this.windowWrapper.className = 'image-overlay';\r\n\r\n        let closeIcon = document.createElement('i');\r\n        closeIcon.className = 'fa fa-times image-overlay-icon';\r\n        closeIcon.onclick = e =>\r\n        {\r\n            this.removeWindow();\r\n        }\r\n        this.windowWrapper.appendChild(closeIcon);\r\n\r\n        //Download button\r\n        let downloadImageIcon = document.createElement('i');\r\n        downloadImageIcon.className = 'image-overlay-icon fas fa-download';\r\n        this.windowWrapper.appendChild(downloadImageIcon);\r\n\r\n        downloadImageIcon.onclick = e =>\r\n        {\r\n            this.downloadImage()\r\n        };\r\n\r\n        document.addEventListener('click', this.detectOutsideClick);\r\n        document.addEventListener('keydown', this.detectEscClick);\r\n\r\n\r\n        this.titleEl = document.createElement('div');\r\n        this.titleEl.className = 'image-overlay-header';\r\n        this.titleEl.textContent = ui.translate('ID_WV_COPY_TO_CLIPBOARD_INFO');\r\n        this.windowWrapper.appendChild(this.titleEl);\r\n\r\n        let imageWrapper = document.createElement('div');\r\n        imageWrapper.className = 'image-overlay-image-wrapper';\r\n        imageWrapper.style.maxHeight = (this.height - this.titleEl.clientHeight - 30) + 'px';\r\n        this.windowWrapper.appendChild(imageWrapper);\r\n\r\n        this.imageEl = document.createElement('img');\r\n        this.imageEl.id = 'clipboardImage';\r\n        this.imageEl.src = imageHeader + this.src;\r\n        this.imageEl.className = 'image-overlay-image';\r\n        this.imageEl.style.maxHeight = (this.height - this.titleEl.clientHeight - 35) + 'px';\r\n        imageWrapper.appendChild(this.imageEl);\r\n\r\n        document.body.appendChild(this.windowWrapper);\r\n\r\n        let paddingTop = document.body.offsetHeight - this.height - 23;\r\n        paddingTop = paddingTop > 0 ? paddingTop / 2 : 0;\r\n\r\n        let paddingLeft = document.body.offsetWidth - this.width - 23;\r\n        paddingLeft = paddingLeft > 0 ? paddingLeft / 2 : 0;\r\n\r\n        this.windowWrapper.style.top = paddingTop + 'px';\r\n        this.windowWrapper.style.left = paddingLeft + 'px';\r\n        this.windowWrapper.style.maxHeight = this.height + 'px';\r\n        this.windowWrapper.style.maxWidth = this.width + 'px';\r\n\r\n    }\r\n\r\n    detectOutsideClick(e)\r\n    {\r\n        if (!(e.target === this.windowWrapper || this.windowWrapper.contains(e.target)))\r\n        {\r\n            this.removeWindow();\r\n        }\r\n    }\r\n\r\n    detectEscClick(e)\r\n    {\r\n        if (e.keyCode === 27)\r\n        {\r\n            this.removeWindow();\r\n        }\r\n    }\r\n\r\n    removeWindow()\r\n    {\r\n        document.removeEventListener('click', this.detectOutsideClick);\r\n        document.removeEventListener('click', this.detectEscClick);\r\n        $(this.windowWrapper).remove();\r\n    }\r\n\r\n    downloadImage ()\r\n    {\r\n        let byteCharacters = atob(this.src);\r\n        let byteNumbers = new Array(byteCharacters.length);\r\n        for (let i = 0; i < byteCharacters.length; i++)\r\n        {\r\n            byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n        }\r\n        let byteArray = new Uint8Array(byteNumbers);\r\n        let blob = new Blob([byteArray], {\r\n            type: 'image/' + this.encoding\r\n        });\r\n        let name = appStates.fileName + (this.encoding === 'svg+xml' ? '.svg' : '.png');\r\n        //IE and edge\r\n        if (window.navigator && window.navigator.msSaveOrOpenBlob)\r\n        {\r\n            window.navigator.msSaveOrOpenBlob(blob, name);\r\n        } else\r\n        {\r\n            const link = document.createElement('a');\r\n            // create a blobURI pointing to our Blob\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = name;\r\n            // some browser needs the anchor to be in the doc\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            link.remove();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ribbon/clipboard-modal/clipboard-overlay.ts","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar utils_1 = require(\"./utils\");\n/**\n * @private\n */\nvar defaults = {\n    aliasString: \"=\",\n    attributeString: \"@\",\n    cdataInvalidChars: false,\n    cdataKeys: [],\n    declaration: {\n        include: true\n    },\n    dtd: {\n        include: false\n    },\n    format: {},\n    typeHandlers: {},\n    valueString: \"#\",\n    wrapHandlers: {}\n};\nObject.freeze(defaults);\n/**\n * Validates the cdataKeys property of an options object.\n *\n * @param {string[]} cdataKeys The cdataKeys object.\n *\n * @returns {string[]} The updated cdataKeys object.\n *\n * @private\n */\nfunction validateCdataKeys(cdataKeys) {\n    for (var _i = 0, cdataKeys_1 = cdataKeys; _i < cdataKeys_1.length; _i++) {\n        var key = cdataKeys_1[_i];\n        if (!utils_1.isType(key, \"String\")) {\n            throw new TypeError(key + \" should be a string\");\n        }\n    }\n    return cdataKeys;\n}\n/**\n * Validates the declaration property of an options object.\n *\n * @param {IDeclarationOptions} declaration The declaration object.\n *\n * @returns {IDeclarationOptions} The updated declaration object.\n *\n * @private\n */\nfunction validateDecl(declaration) {\n    if (!utils_1.isType(declaration.include, \"Boolean\", \"Undefined\")) {\n        throw new TypeError(\"declaration.include should be a string or\" +\n            \" undefined\");\n    }\n    if (!utils_1.isType(declaration.include, \"Boolean\")) {\n        declaration.include = defaults.declaration.include;\n    }\n    return declaration;\n}\n/**\n * Validates the dtd property of an options object.\n *\n * @param {IDtdOptions} dtd The dtd object.\n *\n * @returns {IDtdOptions} The updated dtd object.\n *\n * @private\n */\nfunction validateDtd(dtd) {\n    if (!utils_1.isType(dtd.include, \"Boolean\", \"Undefined\")) {\n        throw new TypeError(\"dtdOptions.include should be a string or\" +\n            \" undefined\");\n    }\n    if (!utils_1.isType(dtd.include, \"Boolean\")) {\n        dtd.include = defaults.dtd.include;\n    }\n    return dtd;\n}\n/**\n * Validates the typeHandlers property of an options object.\n *\n * @param {ITypeHandlers} typeHandlers The typeHandlers object.\n *\n * @returns {ITypeHandlers} The updated typeHandlers object.\n *\n * @private\n */\nfunction validateTypeHandlers(typeHandlers) {\n    for (var key in typeHandlers) {\n        if (typeHandlers.hasOwnProperty(key)) {\n            if (!utils_1.isType(typeHandlers[key], \"Function\")) {\n                throw new TypeError(\"options.typeHandlers['\" + key + \"']\" +\n                    \" should be a Function\");\n            }\n        }\n    }\n    return typeHandlers;\n}\n/**\n * Validates the wrapHandlers property of an options object.\n *\n * @param {IWrapHandlers} wrapHandlers The wrapHandlers object.\n *\n * @return {IWrapHandlers} The updated wrapHandlers object.\n *\n * @private\n */\nfunction validateWrapHandlers(wrapHandlers) {\n    for (var key in wrapHandlers) {\n        if (wrapHandlers.hasOwnProperty(key)) {\n            if (!utils_1.isType(wrapHandlers[key], \"Function\")) {\n                throw new TypeError(\"options.wrapHandlers\"\n                    + \"['\" + key + \"'] should be a Function\");\n            }\n        }\n    }\n    return wrapHandlers;\n}\n/**\n * Validates an options object and replaces undefined values with their\n * appropriate defaults.\n *\n * @param {IOptions} options The options object to validate.\n *\n * @returns {IOptions} The updated options object.\n *\n * @private\n */\nfunction validateOptions(options) {\n    if (!utils_1.isType(options.aliasString, \"String\", \"Undefined\")) {\n        throw new TypeError(\"options.aliasString should be a string or\"\n            + \" undefined\");\n    }\n    if (!utils_1.isType(options.aliasString, \"String\")) {\n        options.aliasString = defaults.aliasString;\n    }\n    if (!utils_1.isType(options.attributeString, \"String\", \"Undefined\")) {\n        throw new TypeError(\"options.attributeString should be a string or\" +\n            \" undefined\");\n    }\n    if (!utils_1.isType(options.attributeString, \"String\")) {\n        options.attributeString = defaults.attributeString;\n    }\n    if (!utils_1.isType(options.cdataInvalidChars, \"Boolean\", \"Undefined\")) {\n        throw new TypeError(\"options.cdataInvalidChars should be a boolean or\"\n            + \" undefined\");\n    }\n    if (!utils_1.isType(options.cdataInvalidChars, \"Boolean\")) {\n        options.cdataInvalidChars = defaults.cdataInvalidChars;\n    }\n    if (!utils_1.isType(options.cdataKeys, \"Array\", \"Undefined\")) {\n        throw new TypeError(\"options.cdataKeys should be an Array or\" +\n            \" undefined\");\n    }\n    if (!utils_1.isType(options.cdataKeys, \"Array\")) {\n        options.cdataKeys = defaults.cdataKeys;\n    }\n    options.cdataKeys = validateCdataKeys(options.cdataKeys);\n    if (!utils_1.isType(options.declaration, \"Object\", \"Undefined\")) {\n        throw new TypeError(\"options.declaration should be an Object or\"\n            + \" undefined\");\n    }\n    if (!utils_1.isType(options.declaration, \"Object\")) {\n        options.declaration = defaults.declaration;\n    }\n    options.declaration = validateDecl(options.declaration);\n    if (!utils_1.isType(options.dtd, \"Object\", \"Undefined\")) {\n        throw new TypeError(\"options.dtd should be an Object or undefined\");\n    }\n    if (!utils_1.isType(options.dtd, \"Object\")) {\n        options.dtd = defaults.dtd;\n    }\n    options.dtd = validateDtd(options.dtd);\n    if (!utils_1.isType(options.format, \"Object\", \"Undefined\")) {\n        throw new TypeError(\"options.format should be an Object or undefined\");\n    }\n    if (!utils_1.isType(options.format, \"Object\")) {\n        options.format = defaults.format;\n    }\n    if (!utils_1.isType(options.typeHandlers, \"Object\", \"Undefined\")) {\n        throw new TypeError(\"options.typeHandlers should be an Object or\" +\n            \" undefined\");\n    }\n    if (!utils_1.isType(options.typeHandlers, \"Object\")) {\n        options.typeHandlers = defaults.typeHandlers;\n    }\n    options.typeHandlers = validateTypeHandlers(options.typeHandlers);\n    if (!utils_1.isType(options.valueString, \"String\", \"Undefined\")) {\n        throw new TypeError(\"options.valueString should be a string or\" +\n            \" undefined\");\n    }\n    if (!utils_1.isType(options.valueString, \"String\")) {\n        options.valueString = defaults.valueString;\n    }\n    if (!utils_1.isType(options.wrapHandlers, \"Object\", \"Undefined\")) {\n        throw new TypeError(\"options.wrapHandlers should be an\"\n            + \" Object or undefined\");\n    }\n    if (!utils_1.isType(options.wrapHandlers, \"Object\")) {\n        options.wrapHandlers = defaults.wrapHandlers;\n    }\n    options.wrapHandlers = validateWrapHandlers(options.wrapHandlers);\n    return options;\n}\nexports.validateOptions = validateOptions;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/lib/options.js\n// module id = 38\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar XmlAttribute_1 = require(\"./nodes/XmlAttribute\");\nexports.XmlAttribute = XmlAttribute_1.default;\nvar XmlCdata_1 = require(\"./nodes/XmlCdata\");\nexports.XmlCdata = XmlCdata_1.default;\nvar XmlCharRef_1 = require(\"./nodes/XmlCharRef\");\nexports.XmlCharRef = XmlCharRef_1.default;\nvar XmlComment_1 = require(\"./nodes/XmlComment\");\nexports.XmlComment = XmlComment_1.default;\nvar XmlDecl_1 = require(\"./nodes/XmlDecl\");\nexports.XmlDecl = XmlDecl_1.default;\nvar XmlDocument_1 = require(\"./nodes/XmlDocument\");\nexports.XmlDocument = XmlDocument_1.default;\nvar XmlDtd_1 = require(\"./nodes/XmlDtd\");\nexports.XmlDtd = XmlDtd_1.default;\nvar XmlDtdAttlist_1 = require(\"./nodes/XmlDtdAttlist\");\nexports.XmlDtdAttlist = XmlDtdAttlist_1.default;\nvar XmlDtdElement_1 = require(\"./nodes/XmlDtdElement\");\nexports.XmlDtdElement = XmlDtdElement_1.default;\nvar XmlDtdEntity_1 = require(\"./nodes/XmlDtdEntity\");\nexports.XmlDtdEntity = XmlDtdEntity_1.default;\nvar XmlDtdNotation_1 = require(\"./nodes/XmlDtdNotation\");\nexports.XmlDtdNotation = XmlDtdNotation_1.default;\nvar XmlDtdParamEntityRef_1 = require(\"./nodes/XmlDtdParamEntityRef\");\nexports.XmlDtdParamEntityRef = XmlDtdParamEntityRef_1.default;\nvar XmlElement_1 = require(\"./nodes/XmlElement\");\nexports.XmlElement = XmlElement_1.default;\nvar XmlEntityRef_1 = require(\"./nodes/XmlEntityRef\");\nexports.XmlEntityRef = XmlEntityRef_1.default;\nvar XmlNode_1 = require(\"./nodes/XmlNode\");\nexports.XmlNode = XmlNode_1.default;\nvar XmlProcInst_1 = require(\"./nodes/XmlProcInst\");\nexports.XmlProcInst = XmlProcInst_1.default;\nvar XmlText_1 = require(\"./nodes/XmlText\");\nexports.XmlText = XmlText_1.default;\n/**\n * Creates a new XML document.\n *\n * @param {string} root The name of the root element of the document.\n *\n * @returns {XmlDocument} The new XML document.\n */\nfunction document(root) {\n    return new XmlDocument_1.default(root);\n}\nexports.document = document;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/main.js\n// module id = 39\n// module chunks = 0","/**\n * Copyright (C) 2016 Michael Kourlas\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar options_1 = require(\"../options\");\nvar utils_1 = require(\"../utils\");\nvar XmlComment_1 = require(\"./XmlComment\");\nvar XmlDecl_1 = require(\"./XmlDecl\");\nvar XmlDtd_1 = require(\"./XmlDtd\");\nvar XmlElement_1 = require(\"./XmlElement\");\nvar XmlNode_1 = require(\"./XmlNode\");\nvar XmlProcInst_1 = require(\"./XmlProcInst\");\n/**\n * Represents an XML document.\n *\n * A sample XML document is structured as follows:\n *\n * ```xml\n * <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n * <DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n *                      \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n * <html>\n *     <head>\n *         <title>My page title</title>\n *     </head>\n *     <body>\n *         <h1>Welcome!</h1>\n *         <p>I hope you enjoy visiting my website.</p>\n *         <img src=\"picture.png\"/>\n *     </body>\n * </html>\n * ```\n *\n * Each component of the document, such as the XML declaration, document type\n * definition, and root element, are children of this node.\n *\n * XmlDocument nodes must have exactly one {@link XmlElement} child, which is\n * the document's root element.\n *\n * XmlDocument nodes can have exactly one {@link XmlDecl} and {@link XmlDtd}\n * child in that order, so long as they precede the {@link XmlElement} node.\n *\n * XmlDocument nodes can have an unlimited number of {@link XmlComment} or\n * {@link XmlProcInst} nodes, so long as they follow the {@link XmlDecl} node,\n * if one exists.\n */\nvar XmlDocument = (function (_super) {\n    __extends(XmlDocument, _super);\n    /**\n     * Initializes a new instance of the {@link XmlDocument} class.\n     *\n     * @param {string} root The name of the root element.\n     */\n    function XmlDocument(root) {\n        _super.call(this);\n        _super.prototype.insertChild.call(this, new XmlElement_1.default(root));\n    }\n    /**\n     * Inserts a new comment at the specified index. If no index is specified,\n     * the node is inserted at the end of this node's children.\n     *\n     * @param {string} content The data of the comment.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         at the end of this node's children.\n     *\n     * @returns {XmlComment} The newly created element.\n     */\n    XmlDocument.prototype.comment = function (content, index) {\n        var comment = new XmlComment_1.default(content);\n        this.insertChild(comment, index);\n        return comment;\n    };\n    /**\n     * Inserts a new XML declaration at the beginning of this node's children.\n     *\n     * @param {IDeclarationOptions} [options] The options associated with the\n     *                                       XML declaration.\n     *\n     * @returns {XmlDecl} The newly created XML declaration.\n     */\n    XmlDocument.prototype.decl = function (options) {\n        var declaration = new XmlDecl_1.default(options);\n        this.insertChild(declaration, 0);\n        return declaration;\n    };\n    /**\n     * Inserts a new XML document type definition. Unless a different index is\n     * specified, the node is inserted immediately after the XML declaration\n     * if one exists, or at the beginning of this node's children if one does\n     * not.\n     *\n     * @param {string} name    The name of the DTD.\n     * @param {string} [sysId] The system identifier of the DTD, excluding\n     *                         quotation marks.\n     * @param {string} [pubId] The public identifier of the DTD, excluding\n     *                         quotation marks. If a public identifier is\n     *                         provided, a system identifier must be provided\n     *                         as well.\n     * @param {number} [index] The index at which the node should be inserted.\n     *                         If no index is specified, the node is inserted\n     *                         immediately after the XML declaration if one\n     *                         exists, or at the beginning of this node's\n     *                         children if one does not.\n     *\n     * @returns {XmlDtd} The newly created XML document type definition.\n     */\n    XmlDocument.prototype.dtd = function (name, sysId, pubId, index) {\n        var dtd = new XmlDtd_1.default(name, sysId, pubId);\n        if (utils_1.isType(index, \"Undefined\")) {\n            if (this._children[0] instanceof XmlDecl_1.default) {\n                index = 1;\n            }\n            else {\n                index = 0;\n            }\n        }\n        this.insertChild(dtd, index);\n        return dtd;\n    };\n    /**\n     * Inserts the specified node into this node's children at the specified\n     * index. The node is not inserted if it is already present. If this node\n     * already has a parent, it is removed from that parent.\n     *\n     * Only {@link XmlComment}, {@link XmlDecl}, {@link XmlDtd}, or\n     * {@link XmlProcInst} nodes can be inserted. Furthermore, {@link XmlDecl}\n     * and {@link XmlDtd} nodes must be inserted in that order and must\n     * precede the {@link XmlElement} node. In addition, {@link XmlComment} or\n     * {@link XmlProcInst} nodes must follow the {@link XmlDecl} node.\n     *\n     * @param {XmlNode} node   The node to insert.\n     * @param {number} [index] The index at which to insert the node. Nodes at\n     *                         or after the index are shifted to the right. If\n     *                         no index is specified, the node is inserted at\n     *                         the end.\n     *\n     * @returns {XmlNode} The node inserted into this node's children, or\n     *                    undefined if no node was inserted.\n     */\n    XmlDocument.prototype.insertChild = function (node, index) {\n        if (!(node instanceof XmlComment_1.default || node instanceof XmlDecl_1.default ||\n            node instanceof XmlDtd_1.default || node instanceof XmlProcInst_1.default)) {\n            throw new TypeError(\"node should be an instance of\" +\n                \" XmlComment, XmlDecl, XmlDtd, or XmlProcInst\");\n        }\n        if (node instanceof XmlComment_1.default || node instanceof XmlProcInst_1.default) {\n            if (this._children[0] instanceof XmlDecl_1.default) {\n                if (index === 0) {\n                    throw new Error(\"XmlComment or XmlProcInst node should be\" +\n                        \" inserted after the XmlDecl node\");\n                }\n            }\n        }\n        else if (node instanceof XmlDecl_1.default) {\n            if (this._children[0] instanceof XmlDecl_1.default) {\n                throw new Error(\"XmlDocument node should only contain one\" +\n                    \" XmlDecl node\");\n            }\n            if (index !== 0) {\n                throw new Error(\"XmlDecl node should be inserted at the\" +\n                    \" beginning of an XmlDocument node\");\n            }\n        }\n        else if (node instanceof XmlDtd_1.default) {\n            if (this._children[0] instanceof XmlDecl_1.default) {\n                if (index === 0) {\n                    throw new Error(\"XmlDtd node should be inserted after\" +\n                        \" the XmlDecl node\");\n                }\n            }\n            for (var i = 0; i < index && i < this._children.length; i++) {\n                if (this._children[i] instanceof XmlElement_1.default) {\n                    throw new Error(\"XmlDtd node should be inserted before\" +\n                        \" the XmlElement node\");\n                }\n            }\n            for (var _i = 0, _a = this._children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                if (child instanceof XmlDtd_1.default) {\n                    throw new Error(\"XmlDocument node should only contain\" +\n                        \" one XmlDtd node\");\n                }\n            }\n        }\n        return _super.prototype.insertChild.call(this, node, index);\n    };\n    /**\n     * Inserts a new processing instruction at the specified index. If no index\n     * is specified, the node is inserted at the end of this node's children.\n     *\n     * @param {string} target    The target of the processing instruction.\n     * @param {string} [content] The data of the processing instruction, or\n     *                           undefined if there is no target.\n     * @param {number} [index]   The index at which the node should be inserted.\n     *                           If no index is specified, the node is inserted\n     *                           at the end of this node's children.\n     *\n     * @returns {XmlProcInst} The newly created processing instruction.\n     */\n    XmlDocument.prototype.procInst = function (target, content, index) {\n        var procInst = new XmlProcInst_1.default(target, content);\n        this.insertChild(procInst, index);\n        return procInst;\n    };\n    /**\n     * Removes the specified node from this node's children.\n     *\n     * Note that {@link XmlElement} nodes cannot be removed from this node;\n     * attempts to do so will result in an exception being thrown.\n     *\n     * @param {XmlNode} node The node to remove.\n     *\n     * @returns {boolean} Whether a node was removed.\n     */\n    XmlDocument.prototype.removeChild = function (node) {\n        if (node instanceof XmlElement_1.default) {\n            throw new Error(\"XmlElement nodes cannot be removed from\" +\n                \" XmlDocument nodes\");\n        }\n        return _super.prototype.removeChild.call(this, node);\n    };\n    /**\n     * Removes the node at the specified index from this node's children.\n     *\n     * Note that {@link XmlElement} nodes cannot be removed from this node;\n     * attempts to do so will result in an exception being thrown.\n     *\n     * @param {number} index The index at which the node to be removed is\n     *                       located.\n     *\n     * @returns {XmlNode} The node that was removed, or undefined if no node\n     *                    was removed.\n     */\n    XmlDocument.prototype.removeChildAtIndex = function (index) {\n        if (this._children[index] instanceof XmlElement_1.default) {\n            throw new Error(\"XmlElement nodes cannot be removed from\" +\n                \" XmlDocument nodes\");\n        }\n        return _super.prototype.removeChildAtIndex.call(this, index);\n    };\n    /**\n     * Returns the root element of this document.\n     *\n     * @returns {XmlNode} The root element of this document.\n     */\n    XmlDocument.prototype.root = function () {\n        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {\n            var node = _a[_i];\n            if (node instanceof XmlElement_1.default) {\n                return node;\n            }\n        }\n        throw new Error(\"XmlDocument does not contain a root node\");\n    };\n    /**\n     * Returns an XML string representation of this node.\n     *\n     * @param {IStringOptions} [options] Formatting options for the string\n     *                                  representation.\n     *\n     * @returns {string} An XML string representation of this node.\n     */\n    XmlDocument.prototype.toString = function (options) {\n        if (options === void 0) { options = {}; }\n        options_1.validateStringOptions(options);\n        var str = \"\";\n        for (var _i = 0, _a = this._children; _i < _a.length; _i++) {\n            var node = _a[_i];\n            str += node.toString(options);\n            if (options.pretty) {\n                str += options.newline;\n            }\n        }\n        var len = str.length - options.newline.length;\n        if (str.substr(len) === options.newline) {\n            str = str.substr(0, len);\n        }\n        return str;\n    };\n    return XmlDocument;\n}(XmlNode_1.default));\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = XmlDocument;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/js2xmlparser/~/xmlcreate/lib/nodes/XmlDocument.js\n// module id = 40\n// module chunks = 0","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/toggle-selection/index.js\n// module id = 41\n// module chunks = 0","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class AnimationPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n        $(\"#wv-animation #OnAssignAnimationNodeClicked\").off('click').click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"ActivateInteraction\"><Interaction>Animation_AssignCoordinateToNode</Interaction></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-animation #OnAnimationStartClicked\").off('click').click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><General><Animation>true';\r\n            xml += '</Animation></General></Scene></Settings></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-animation #OnAnimationStopClicked\").off('click').click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><General><Animation>false';\r\n            xml += '</Animation></General></Scene></Settings></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n        let GetAnimationPane = `<Call Method=\"GetTemplate\"><Type>AnimationPane</Type></Call>`;\r\n        vsClient.command.executeXML(GetAnimationPane);\r\n\t\tvsClient.once('GetTemplate.AnimationPane', (response: any) =>\r\n\t\t{\r\n            const template = response['Source']['Template'];\r\n            this.adapter.fromTemplate(template);\r\n            this.addMethods();\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n        this.adapter = new pane.PaneAdapter(this.el);\r\n\r\n        this.adapter.fromTemplate(template);\r\n        \r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values);\r\n                return;\r\n            }\r\n            let path = src.item.path;\r\n            if (path[0] === 'Event')\r\n\t\t\t{\r\n\t\t\t\tvalue = value.toString()\r\n\t\t\t\tpane.modifySettings(this.values, path, value)\r\n\t\t\t\tlet xml = XMLParser.serializeWithValue(path, value, ['Type=' + template['Event']])\r\n\t\t\t\tvsClient.command.executeXML(xml)\r\n\t\t\t}\r\n            else\r\n            {\r\n                pane.modifySettings(ui.settingsPane.sceneSettings, path, value);\r\n                let xml = XMLParser.serializeWithValue(path, value);\r\n                let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`;\r\n                vsClient.command.executeXML(settings);\r\n                if (this.hasPresets)\r\n                {\r\n                    this.stack.changeToCustomPreset();\r\n                }\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n            const event = template['Event'];\r\n            vsClient.removeListener(event, this.update);\r\n            vsClient.on(event, this.update);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n        this.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        };\r\n        this.adapter.updateValues(this.values);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/animation-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class BandAnalysisPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n        super(paneId, caption);\r\n\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n\r\n        this.wrapperEl.appendChild(this.el);\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n        $(\"#wv-bandanalysis #OnMinimalDistanceComputeClicked\").click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"BandAnalysisComputeMinimalDistance\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-bandanalysis #OnBandAnalysisComputeClicked\").click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"BandAnalysisCompute\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n        let GetBandAnalysisPaneTemplate = `<Call Method=\"GetTemplate\"><Type>BandAnalysisPane</Type></Call>`;\r\n        vsClient.command.executeXML(GetBandAnalysisPaneTemplate);\r\n\t\tvsClient.once('GetTemplate.BandAnalysisPane', (response: any) =>\r\n\t\t{\r\n            const template = response['Source']['Template'];\r\n            this.adapter.fromTemplate(template);\r\n            this.addMethods();\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n        this.adapter = new pane.PaneAdapter(this.el);\r\n\r\n        this.adapter.fromTemplate(template);\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values);\r\n                return;\r\n            }\r\n            let path = src.item.path;\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value);\r\n            let xml = XMLParser.serializeWithValue(path, value);\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`;\r\n            vsClient.command.executeXML(settings);\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n\t\tif (template['Event'])\r\n\t\t{\r\n            const event = template['Event'];\r\n            vsClient.removeListener(event, this.update);\r\n            vsClient.on(event, this.update);\r\n\t\t}\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n        this.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        };\r\n        this.adapter.updateValues(this.values);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/band-analysis-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\ndeclare var _PanePresets: any;\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { WVTooltip } from '../app/tooltip';\r\nimport * as copy from 'copy-to-clipboard';\r\nimport { appStates } from '../app/app-states';\r\nimport { MultiBox } from '../pane/widgets';\r\n\r\nexport class BOMPane extends PaneTemplate\r\n{\r\n    el: HTMLTableElement\r\n    values: {}\r\n    //BOM table\r\n    tableEl: HTMLTableElement\r\n    tableHeaderRowEl: HTMLElement\r\n    tableBodyEl: HTMLElement\r\n    tableWrapperEl: HTMLElement\r\n    headerKeys: string[] = []\r\n    headerNames: string[] = []\r\n    selection: any[] = []\r\n    firstScrollHit: number\r\n    calloutInputs: HTMLElement[] = []\r\n    rows: any[] = []\r\n    defaultCols: string[] = ['Number', 'Name', 'Quantity', 'CalloutId']\r\n    sum: number = 0\r\n    scrollPosTable: number = 0\r\n    //Callout\r\n    startIndex: number = 1\r\n    startIndexEl: HTMLElement\r\n    copyTooltip: WVTooltip\r\n\r\n    constructor (paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption)\r\n\r\n        this.scrollOnKey = this.scrollOnKey.bind(this);\r\n        let buttonWrapper = document.createElement('div');\r\n        buttonWrapper.className = 'pane-buttons-tab';\r\n        this.copyTooltip = new WVTooltip(buttonWrapper);\r\n        this.copyTooltip.setTitle(_lang_data['ID_COPY_TO_CLIPBOARD'][this.lang]);\r\n\r\n        this.wrapperEl.appendChild(buttonWrapper);\r\n        let buttonIcon = document.createElement('i');\r\n        buttonIcon.className = 'far fa-copy tree-header-action-icon';\r\n        buttonWrapper.onclick = e =>\r\n        {\r\n            //Test if a callout id is set\r\n            let idSet = false;\r\n            this.rows.map(item =>\r\n            {\r\n                if (item['CalloutId'] && item['CalloutId'] !== '' && item['CalloutId'] !== null)\r\n                {\r\n                    idSet = true;\r\n                }\r\n            });\r\n            let header = this.headerNames.filter(item => { return item !== 'ID' || idSet });\r\n            let csvText = header.join(';');\r\n            csvText = csvText.replace('ID', 'CalloutId');\r\n            csvText += '\\n';\r\n            for (let i = 0; i < this.rows.length; i++)\r\n            {\r\n                for (let l = 0; l < this.headerKeys.length; l++)\r\n                {\r\n                    if (this.headerKeys[l] === 'CalloutId' && !idSet)\r\n                    {\r\n                        continue;\r\n                    }\r\n                    let val = this.rows[i][this.headerKeys[l]];\r\n                    if (val === undefined)\r\n                    {\r\n                        for (let k = 0; k < this.rows[i]['Attribute'].length; k++)\r\n                        {\r\n                            if (this.rows[i]['Attribute'][k].Name === this.headerKeys[l])\r\n                            {\r\n                                val = this.rows[i]['Attribute'][k]['__text__'];\r\n                            }\r\n                        }\r\n                    }\r\n                    csvText += val;\r\n                    csvText += l === this.headerKeys.length - 1 ? '\\n' : ';';\r\n                }\r\n            }\r\n            let skipCol = idSet ? ';;' : ';';\r\n            csvText += skipCol + this.sum.toString();\r\n            copy(csvText);\r\n        }\r\n        buttonWrapper.appendChild(buttonIcon);\r\n\r\n        this.tableWrapperEl = document.createElement('div');\r\n        this.tableWrapperEl.className = 'bom-pane-table-wrapper';\r\n        this.wrapperEl.appendChild(this.tableWrapperEl);\r\n        this.tableWrapperEl.onscroll = e =>\r\n        {\r\n            this.scrollPosTable = this.tableWrapperEl.scrollTop;\r\n        }\r\n\r\n        this.tableEl = document.createElement('table');\r\n        this.tableEl.className = 'bom-pane-table pane-content';\r\n        this.tableEl.width = '100%';\r\n        this.tableWrapperEl.appendChild(this.tableEl);\r\n\r\n        let tableHeaderEl = document.createElement('thead');\r\n        this.tableEl.appendChild(tableHeaderEl);\r\n\r\n        this.tableHeaderRowEl = document.createElement('tr');\r\n        this.tableHeaderRowEl.className = 'pane-item';\r\n        tableHeaderEl.appendChild(this.tableHeaderRowEl);\r\n\r\n\r\n        this.tableBodyEl = document.createElement('tbody');\r\n        this.tableEl.appendChild(this.tableBodyEl);\r\n        this.buildDefaultHeader();\r\n\r\n        let placeholderRow = document.createElement('tr');\r\n        this.tableBodyEl.appendChild(placeholderRow);\r\n        this.buildSumRow();\r\n\r\n        let buttonEl = document.createElement('button');\r\n        buttonEl.className = 'pane-item-entry-button bom-pane-compute-button';\r\n        buttonEl.onclick = e =>\r\n        {\r\n            let xml = '<Call Method=\"Compute\"><Mode>BillOfMaterial</Mode></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            vsClient.once('Compute', res =>\r\n            {\r\n                if (res.BillOfMaterial)\r\n                {\r\n                    this.buildHeader(res.BillOfMaterial.Template.Column);\r\n                    this.buildBody(Array.isArray(res.BillOfMaterial.Data.Item) ? res.BillOfMaterial.Data.Item : [res.BillOfMaterial.Data.Item]);\r\n                }\r\n            })\r\n        }\r\n        buttonEl.textContent = \"Update\";\r\n        this.wrapperEl.appendChild(buttonEl);\r\n\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n        this.wrapperEl.appendChild(this.el);\r\n\r\n        vsClient.on('GetBillOfMaterial', res =>\r\n        {\r\n            if (res.BillOfMaterial)\r\n            {\r\n                this.buildHeader(res.BillOfMaterial.Template.Column);\r\n                this.buildBody(Array.isArray(res.BillOfMaterial.Data.Item) ? res.BillOfMaterial.Data.Item : [res.BillOfMaterial.Data.Item]);\r\n            }\r\n        });\r\n\r\n        vsClient.on('@OpenedFile', res =>\r\n        {\r\n            $(this.tableBodyEl).empty();\r\n            this.buildDefaultHeader();\r\n            this.buildSumRow();\r\n        });\r\n\r\n        this.wrapperEl.addEventListener('contextmenu', ev =>\r\n        {\r\n            ev.preventDefault();\r\n            $('#contextMenu').remove();\r\n            $(document).off('mousedown', vsClient.vsCanvas.closeContextMenu);\r\n            $(document).off('keyup', vsClient.vsCanvas.closeContextMenu);\r\n            vsClient.vsCanvas.createContextMenu(ev);\r\n        });\r\n\r\n        this.wrapperEl.addEventListener('mouseenter', ev =>\r\n        {\r\n            this.toggleScrollEvents(true);\r\n        });\r\n\r\n        this.wrapperEl.addEventListener('mouseleave', ev =>\r\n        {\r\n            this.toggleScrollEvents(false);\r\n        });\r\n    }\r\n\r\n    toggleScrollEvents (state)\r\n    {\r\n        if (state)\r\n        {\r\n            $(document).off('keydown', this.scrollOnKey).on('keydown', this.scrollOnKey);\r\n        }\r\n        else\r\n        {\r\n            $(document).off('keydown', this.scrollOnKey);\r\n        }\r\n    }\r\n\r\n    scrollOnKey (ev)\r\n    {\r\n        if (appStates.interactionMode.indexOf('Flythrough') === -1)\r\n        {\r\n            //Test if arrow up/down is pressed\r\n            if (ev.keyCode !== 40 && ev.keyCode !== 38 || Date.now() - this.firstScrollHit < 200)\r\n            {\r\n                return;\r\n            }\r\n            ev.preventDefault();\r\n            this.firstScrollHit = Date.now();\r\n            if (this.selection.length === 0)\r\n            {\r\n                //Down\r\n                if (ev.keyCode === 40)\r\n                {\r\n                    this.selectBOMRow(this.rows[0]['Id']);\r\n                }\r\n                //Up\r\n                else if (ev.keyCode === 38)\r\n                {\r\n                    this.selectBOMRow(this.rows[this.rows.length - 1]['Id']);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                //Down\r\n                if (ev.keyCode === 40)\r\n                {\r\n                    let lastSelectedElement = this.selection[this.selection.length - 1];\r\n                    let selectionInArr = this.rows.map((item) => { return item['Id']; }).indexOf(lastSelectedElement);\r\n                    if (selectionInArr === this.rows.length - 1)\r\n                    {\r\n                        return;\r\n                    }\r\n                    let nextElement = this.rows[selectionInArr + 1];\r\n                    this.selectBOMRow(nextElement['Id']);\r\n                }\r\n                //Up\r\n                else if (ev.keyCode === 38)\r\n                {\r\n                    let firstSelectedElement = this.selection[0];\r\n                    let selectionInArr = this.rows.map((item) => { return item['Id']; }).indexOf(firstSelectedElement);\r\n                    if (selectionInArr === 0)\r\n                    {\r\n                        return;\r\n                    }\r\n                    let prevElement = this.rows[selectionInArr - 1];\r\n                    this.selectBOMRow(prevElement['Id']);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    buildHeader (template: any[])\r\n    {\r\n        $(this.tableHeaderRowEl).empty();\r\n        this.headerKeys = [];\r\n        this.headerNames = [];\r\n        for (let h = 0; h < template.length; h++)\r\n        {\r\n            let rowHeader = document.createElement('th');\r\n            rowHeader.style.resize = 'horizontal';\r\n            rowHeader.style.cursor = 'pointer';\r\n            rowHeader.textContent = template[h].DisplayName;\r\n            rowHeader.className = 'pane-item-entry-name';\r\n            this.headerKeys.push(template[h].Id);\r\n            this.headerNames.push(template[h].DisplayName);\r\n\r\n            let sortWrapper = document.createElement('span');\r\n            rowHeader.appendChild(sortWrapper);\r\n            let sortIcon = document.createElement('i');\r\n            sortIcon.className = 'fas fa-sort bom-pane-sort-icon';\r\n            sortWrapper.appendChild(sortIcon);\r\n\r\n            rowHeader.onclick = e =>\r\n            {\r\n                //Change to sort down\r\n                if (sortIcon.className.indexOf('fa-sort-up') !== -1)\r\n                {\r\n                    sortIcon.className = 'fas fa-sort-down bom-pane-sort-icon';\r\n                    this.sort(false, template[h].Id);\r\n                }\r\n                else\r\n                {\r\n                    sortIcon.className = 'fas fa-sort-up bom-pane-sort-icon';\r\n                    this.sort(true, template[h].Id);\r\n                }\r\n            }\r\n            this.tableHeaderRowEl.appendChild(rowHeader);\r\n        }\r\n    }\r\n\r\n    buildBody (rows: any[])\r\n    {\r\n        if (!rows)\r\n        {\r\n            return;\r\n        }\r\n        this.calloutInputs = [];\r\n        this.rows = [];\r\n        this.sum = 0;\r\n        $(this.tableBodyEl).empty();\r\n        let placeholderRow = document.createElement('tr');\r\n        this.tableBodyEl.appendChild(placeholderRow);\r\n        for (let r = 0; r < rows.length; r++)\r\n        {\r\n            this.buildRow(rows[r]);\r\n        }\r\n        this.buildSumRow();\r\n    }\r\n    \r\n    buildRow (row)\r\n    {\r\n        this.rows.push(row);\r\n        let rowEl = document.createElement('tr');\r\n        rowEl.className = 'pane-item';\r\n        rowEl.id = 'BOM_ROW_ID' + row['Id'];\r\n        rowEl.onclick = e =>\r\n        {\r\n            this.selectBOMRow(row.Id, e.ctrlKey);\r\n        };\r\n        rowEl.oncontextmenu = e =>\r\n        {\r\n            if (!appStates.nodesSelected)\r\n            {\r\n                this.selectBOMRow(row.Id);\r\n            }\r\n        };\r\n        this.tableBodyEl.appendChild(rowEl);\r\n        for (let i = 0; i < this.headerKeys.length; i++)\r\n        {\r\n            let cellEl = document.createElement('td');\r\n            cellEl.className = 'pane-item-entry-name';\r\n            if (this.headerKeys[i] === 'CalloutId')\r\n            {\r\n                this.calloutInputs.push(cellEl);\r\n                cellEl.contentEditable = 'true';\r\n                cellEl.onblur = e =>\r\n                {\r\n                    if (cellEl.textContent && cellEl.textContent !== '')\r\n                    {\r\n                        let xml = '<Call Method=\"UpdateBillOfMaterialRowCalloutId\">';\r\n                        xml += '<RowId>' + row['Id'] + '</RowId>';\r\n                        xml += '<CalloutId>' + cellEl.textContent + '</CalloutId></Call>';\r\n                        row.CalloutId = cellEl.textContent;\r\n                        vsClient.command.executeXML(xml);\r\n                    }\r\n                    else\r\n                    {\r\n                        let xml = '<Call Method=\"ClearBillOfMaterialCalloutId\">';\r\n                        xml += '<RowId>' + row['Id'] + '</RowId></Call>';\r\n                        row.CalloutId = cellEl.textContent;\r\n                        vsClient.command.executeXML(xml);\r\n                    }\r\n                    \r\n                }\r\n                cellEl.onkeydown = e =>\r\n                {\r\n                    if (e.keyCode === 13)\r\n                    {\r\n                        cellEl.blur();\r\n                    }\r\n                }\r\n            }\r\n            cellEl.textContent = this.defaultCols.indexOf(this.headerKeys[i]) === -1 ? this.searchAttribute(row, this.headerKeys[i]) : row[this.headerKeys[i]];\r\n            if (this.headerKeys[i] === 'Quantity')\r\n            {\r\n                this.sum += parseInt(row[this.headerKeys[i]]);\r\n            }\r\n            rowEl.appendChild(cellEl);\r\n        }\r\n    }\r\n\r\n    selectBOMRow (id, addToSelection: boolean = false)\r\n    {\r\n        let xml = '<Call Method=\"SelectBillOfMaterialRows\">';\r\n        xml += '<RowId>' + id + '</RowId>';\r\n        xml += '<AddToSelection>' + addToSelection + '</AddToSelection>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    sort (asc: boolean, key: string)\r\n    {\r\n        let sortedRows = this.rows.sort((item1, item2) =>\r\n        {\r\n            let val1, val2;\r\n            let preVal1 = item1[key];\r\n            let preVal2 = item2[key];\r\n            if (item1[key] === undefined)\r\n            {\r\n                preVal1 = \"\";\r\n                for (let i = 0; i < item1['Attribute'].length; i++)\r\n                {\r\n                    if (item1['Attribute'][i]['Name'] === key)\r\n                    {\r\n                        preVal1 = item1['Attribute'][i]['__text__'] ? item1['Attribute'][i]['__text__'] : \"\";\r\n                    }\r\n                }\r\n            }\r\n            if (item2[key] === undefined)\r\n            {\r\n                preVal2 = \"\";\r\n                for (let i = 0; i < item2['Attribute'].length; i++)\r\n                {\r\n                    if (item2['Attribute'][i]['Name'] === key)\r\n                    {\r\n                        preVal2 = item2['Attribute'][i]['__text__'] ? item2['Attribute'][i]['__text__'] : \"\";\r\n                    }\r\n                }\r\n            }\r\n            val2 = isNaN(parseFloat(preVal1)) ? preVal1.toUpperCase() : parseFloat(preVal2);\r\n            val1 = isNaN(parseFloat(preVal1)) ? preVal2.toUpperCase() : parseFloat(preVal1);\r\n            if (val1 > val2)\r\n            {\r\n                return asc ? 1 : -1;\r\n            }\r\n            else\r\n            {\r\n                return asc ? -1 : 1;\r\n            }\r\n        });\r\n        this.buildBody(sortedRows);\r\n    }\r\n\r\n    searchAttribute (row, key: string)\r\n    {\r\n        if (row.Attribute)\r\n        {\r\n            let attributes = Array.isArray(row.Attribute) ? row.Attribute : [row.Attribute];\r\n            for (let i = 0; i < attributes.length; i++)\r\n            {\r\n                if (attributes[i]['Name'] === key)\r\n                {\r\n                    return attributes[i]['__text__'];\r\n                }\r\n            }\r\n            return '';\r\n        }\r\n    }\r\n\r\n    buildSumRow ()\r\n    {\r\n        let sumRowEl = document.createElement('tr');\r\n        this.tableBodyEl.appendChild(sumRowEl);\r\n\r\n        let sumPlaceholderFirstEl = document.createElement('td');\r\n        sumPlaceholderFirstEl.className = 'pane-item';\r\n        sumRowEl.appendChild(sumPlaceholderFirstEl);\r\n\r\n        let sumPlaceholderSecondEl = document.createElement('td');\r\n        sumPlaceholderSecondEl.className = 'pane-item';\r\n        sumRowEl.appendChild(sumPlaceholderSecondEl);\r\n\r\n        let sumCellEl = document.createElement('td');\r\n        sumCellEl.className = 'bom-pane-sum-cell pane-item';\r\n        sumCellEl.textContent = this.sum.toString();\r\n        sumRowEl.appendChild(sumCellEl);\r\n\r\n        let sumPlaceholderThirdEl = document.createElement('td');\r\n        sumPlaceholderThirdEl.className = 'pane-item';\r\n        sumRowEl.appendChild(sumPlaceholderThirdEl);\r\n    }\r\n\r\n    buildDefaultHeader ()\r\n    {\r\n        $(this.tableHeaderRowEl).empty();\r\n        let idRow = document.createElement('th');\r\n        idRow.textContent = ui.translate('ID_BOM_COLUMN_CALLOUT_ID');\r\n        idRow.className = 'pane-item-entry-name';\r\n        this.tableHeaderRowEl.appendChild(idRow);\r\n\r\n        let nameRow = document.createElement('th');\r\n        nameRow.textContent = ui.translate('ID_BOM_PARTNAME');\r\n        nameRow.className = 'pane-item-entry-name';\r\n        this.tableHeaderRowEl.appendChild(nameRow);\r\n\r\n        let quantityRow = document.createElement('th');\r\n        quantityRow.textContent = ui.translate('ID_BOM_QUANTITY');\r\n        quantityRow.className = 'pane-item-entry-name';\r\n        this.tableHeaderRowEl.appendChild(quantityRow);\r\n    }\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n        this.copyTooltip.setTitle(_lang_data['ID_COPY_TO_CLIPBOARD'][this.lang]);\r\n        let GetBOMPaneTemplate = `<Call Method=\"GetTemplate\"><Type>BOMPane</Type></Call>`;\r\n        vsClient.command.executeXML(GetBOMPaneTemplate);\r\n\t\tvsClient.once('GetTemplate.BOMPane', (response: any) =>\r\n\t\t{\r\n            const template = response['Source']['Template'];\r\n            this.adapter.fromTemplate(template);\r\n\t\t\tthis.addMethods();\r\n\t\t})\r\n\t}\r\n\r\n    addMethods ()\r\n    {\r\n        $(\"#wv-bom #OnBOMTechDocGenerateIds\").off('click').click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"GenerateBOMCalloutIds\">';\r\n            xml += '<StartId>' + this.startIndex + '</StartId></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            vsClient.once('GenerateBOMCalloutIds', resp =>\r\n            {\r\n                this.startIndex = parseFloat(resp.StartId);\r\n                this.startIndexEl.textContent = resp.StartId;\r\n                let xml = '<Call Method=\"GetBillOfMaterial\"></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            });\r\n        });\r\n\r\n        $(\"#wv-bom #OnBOMTechDocResetIds\").off('click').click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"ClearBillOfMaterialCalloutIds\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            xml = '<Call Method=\"GetBillOfMaterial\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        })\r\n\r\n        $(\"#wv-bom #OnBOMTechDocGenerateCallouts\").off('click').click(ev =>\r\n        {\r\n            try\r\n            {\r\n                if (_PanePresets['wv-callout'])\r\n                {\r\n                    let defaultPreset;\r\n                    let hasCalloutActivePreset = ui.calloutPane.hasPresets && ui.calloutPane.activePreset;\r\n                    defaultPreset = ui.calloutPane.activePreset;\r\n                    let presets = _PanePresets['wv-callout'];\r\n                    for (let i = 0; i < presets.length; i++)\r\n                    {\r\n                        if ((presets[i].isDefault && !hasCalloutActivePreset) || ui.calloutPane.activePreset === presets[i].name)\r\n                        {\r\n                            defaultPreset = presets[i].settings;\r\n                        }\r\n                    }\r\n                    let customPresetsString = localStorage.getItem('WVPreset_wv-callout');\r\n                    if (customPresetsString !== null)\r\n                    {\r\n                        let customPresets = JSON.parse(customPresetsString)\r\n                        for (let i = 0; i < customPresets.length; i++)\r\n                        {\r\n                            if ((customPresets[i].isDefault && !hasCalloutActivePreset) || ui.calloutPane.activePreset === customPresets[i].name)\r\n                            {\r\n                                defaultPreset = customPresets[i].val;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (defaultPreset)\r\n                    {\r\n                        ui.deactivateInteraction(vsClient, 'Markup');\r\n                        let regEx = new RegExp('<Alignment>.*<\\/Alignment>');\r\n                        let parsedPreset = defaultPreset.replace(regEx, '');\r\n                        this.stack.selectPreset(parsedPreset, false);\r\n                    }\r\n                }\r\n            }\r\n            catch (e) { }\r\n            let xml = '<Call Method=\"GenerateBOMCallouts\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        })\r\n\r\n        this.startIndexEl = document.getElementById('BOMTechDocStartId');\r\n        if (this.startIndexEl)\r\n        {\r\n            if (this.startIndexEl.textContent === '')\r\n            {\r\n                this.startIndexEl.textContent = \"1\";\r\n                this.startIndex = 1;\r\n            }\r\n            this.startIndexEl.onblur = e =>\r\n            {\r\n                if (isNaN(parseInt(this.startIndexEl.textContent)))\r\n                {\r\n                    this.startIndexEl.textContent = this.startIndex.toString();\r\n                }\r\n                else\r\n                {\r\n                    this.startIndex = parseInt(this.startIndexEl.textContent);\r\n                    this.startIndexEl.textContent = this.startIndex.toString();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    selectCallouts ()\r\n    {\r\n        this.selection = [];\r\n        let xml = '<Call Method=\"GetSelectedBillOfMaterialRows\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        vsClient.once('GetSelectedBillOfMaterialRows', res =>\r\n        {\r\n            for (let i = 0; i < this.rows.length; i++)\r\n            {\r\n                $('#BOM_ROW_ID' + this.rows[i]['Id']).removeClass('bom-pane-row-selected');\r\n            }\r\n            if (res.RowId)\r\n            {\r\n                let rows = Array.isArray(res.RowId) ? res.RowId : [res.RowId];\r\n                for (let i = 0; i < rows.length; i++)\r\n                {\r\n                    $('#BOM_ROW_ID' + rows[i]).addClass('bom-pane-row-selected');\r\n                    this.selection.push(rows[i]);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n        this.adapter = new pane.PaneAdapter(this.el);\r\n        this.adapter.fromTemplate(template);\r\n        this.addMethods();\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n                this.adapter.updateValues(this.values);\r\n                return;\r\n            }\r\n            if (value === 'multi-box-open')\r\n            {\r\n                let multiBox = src as MultiBox;\r\n                vsClient.command.executeXML('<Call Method=\"GetBillOfMaterialNodePropertyNames\"></Call>');\r\n                vsClient.once('GetBillOfMaterialNodePropertyNames', props =>\r\n                {\r\n                    vsClient.command.executeXML('<Call Method=\"GetBillOfMaterialAttributeNames\"></Call>');\r\n                    vsClient.once('GetBillOfMaterialAttributeNames', attr =>\r\n                    {\r\n                        multiBox.computeLists(props, attr);\r\n                    });\r\n                });\r\n                return;\r\n            }\r\n            let path = src.item.path;\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value);\r\n            let xml = XMLParser.serializeWithValue(path, value);\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`;\r\n            vsClient.command.executeXML(settings);\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n        if (template['Event'])\r\n        {\r\n            const event = template['Event'];\r\n            vsClient.removeListener(event, this.update);\r\n            vsClient.on(event, this.update);\r\n        }\r\n    }\r\n\r\n    update = (response) =>\r\n    {\r\n        this.tableWrapperEl.scrollTop = this.scrollPosTable;\r\n        this.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        }\r\n        this.adapter.updateValues(this.values)\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/bom-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\n\r\nconst SVG_NS = 'http://www.w3.org/2000/svg'\r\nconst XLINK_NS = 'http://www.w3.org/1999/xlink'\r\n\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class CalloutPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tbuttons: HTMLElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetCalloutPaneTemplate = `<Call Method=\"GetTemplate\"><Type>CalloutPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetCalloutPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.CalloutPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.addMethods()\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n\t\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet path = src.item.path\r\n\t\t\tpane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n\t\t\tlet xml = XMLParser.serializeWithValue(path, value)\r\n\t\t\tlet settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n                ui.deactivateInteraction(vsClient, 'Markup');\r\n            }\r\n        })\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/callout-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { WVTooltip } from '../app/tooltip';\r\nimport * as copy from 'copy-to-clipboard';\r\n\r\nexport class ClashPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n    values: {}\r\n    //Clash table\r\n    tableEl: HTMLTableElement\r\n    tableHeaderRowEl: HTMLElement\r\n    tableBodyEl: HTMLElement\r\n    tableWrapperEl: HTMLElement\r\n    headerKeys: string[] = []\r\n    headerNames: string[] = []\r\n    selectedIndex: string\r\n    rows: any[] = []\r\n    firstScrollHit: number\r\n    defaultCols: string[] = ['Id', 'Name', 'OtherName', 'Type', 'MaxDepth']\r\n    scrollPosTable: number = 0\r\n    copyTooltip: WVTooltip\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n        super(paneId, caption)\r\n\r\n        this.scrollOnKey = this.scrollOnKey.bind(this);\r\n        let buttonWrapper = document.createElement('div');\r\n        buttonWrapper.className = 'pane-buttons-tab';\r\n        this.copyTooltip = new WVTooltip(buttonWrapper);\r\n        this.copyTooltip.setTitle(_lang_data['ID_COPY_TO_CLIPBOARD'][this.lang]);\r\n\r\n        this.wrapperEl.appendChild(buttonWrapper);\r\n        let buttonIcon = document.createElement('i');\r\n        buttonIcon.className = 'far fa-copy tree-header-action-icon';\r\n        buttonWrapper.onclick = e =>\r\n        {\r\n            let header = this.headerNames;\r\n            let csvText = header.join(';');\r\n            csvText += '\\n';\r\n            for (let i = 0; i < this.rows.length; i++)\r\n            {\r\n                for (let l = 0; l < this.headerKeys.length; l++)\r\n                {\r\n                    let val = this.rows[i][this.headerKeys[l]];\r\n                    csvText += val;\r\n                    csvText += l === this.headerKeys.length - 1 ? '\\n' : ';';\r\n                }\r\n            }\r\n            copy(csvText);\r\n        }\r\n        buttonWrapper.appendChild(buttonIcon);\r\n\r\n        this.tableWrapperEl = document.createElement('div');\r\n        this.tableWrapperEl.className = 'bom-pane-table-wrapper';\r\n        this.tableWrapperEl.onscroll = e =>\r\n        {\r\n            this.scrollPosTable = this.tableWrapperEl.scrollTop;\r\n        }\r\n        this.wrapperEl.appendChild(this.tableWrapperEl);\r\n\r\n        this.tableEl = document.createElement('table');\r\n        this.tableEl.className = 'bom-pane-table pane-content';\r\n        this.tableEl.width = '100%';\r\n        this.tableWrapperEl.appendChild(this.tableEl);\r\n\r\n        let tableHeaderEl = document.createElement('thead');\r\n        this.tableEl.appendChild(tableHeaderEl);\r\n\r\n        this.tableHeaderRowEl = document.createElement('tr');\r\n        this.tableHeaderRowEl.className = 'pane-item';\r\n        tableHeaderEl.appendChild(this.tableHeaderRowEl);\r\n\r\n\r\n        this.tableBodyEl = document.createElement('tbody');\r\n        this.tableEl.appendChild(this.tableBodyEl);\r\n        this.buildDefaultHeader();\r\n\r\n        let placeholderRow = document.createElement('tr');\r\n        this.tableBodyEl.appendChild(placeholderRow);\r\n\r\n        let buttonEl = document.createElement('button');\r\n        buttonEl.className = 'pane-item-entry-button bom-pane-compute-button';\r\n        buttonEl.onclick = e =>\r\n        {\r\n            let xml = '<Call Method=\"Compute\"><Mode>ClashAsync</Mode></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        }\r\n        buttonEl.textContent = \"Compute\";\r\n        this.wrapperEl.appendChild(buttonEl);\r\n\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n        this.wrapperEl.appendChild(this.el);\r\n\r\n        vsClient.on('ClashResultUpdated', res =>\r\n        {\r\n            this.selectedIndex = undefined;\r\n            if (res.ClashDetection)\r\n            {\r\n                this.buildHeader(res.ClashDetection.Template.Column);\r\n                let clashResults = res.ClashDetection.Data.Item;\r\n                if (!Array.isArray(clashResults))\r\n                {\r\n                    clashResults = [clashResults];\r\n                }\r\n                this.buildBody(clashResults);\r\n            }\r\n        });\r\n\r\n        vsClient.on('@OpenedFile', res =>\r\n        {\r\n            $(this.tableBodyEl).empty();\r\n            this.buildDefaultHeader();\r\n        });\r\n\r\n        this.wrapperEl.addEventListener('mouseenter', ev =>\r\n        {\r\n            this.toggleScrollEvents(true);\r\n        });\r\n\r\n        this.wrapperEl.addEventListener('mouseleave', ev =>\r\n        {\r\n            this.toggleScrollEvents(false);\r\n        });\r\n    }\r\n\r\n    toggleScrollEvents (state)\r\n    {\r\n        if (state)\r\n        {\r\n            $(document).off('keydown', this.scrollOnKey).on('keydown', this.scrollOnKey);\r\n        }\r\n        else\r\n        {\r\n            $(document).off('keydown', this.scrollOnKey);\r\n        }\r\n    }\r\n\r\n    scrollOnKey (ev)\r\n    {\r\n        //Test if arrow up/down is pressed\r\n        if (ev.keyCode !== 40 && ev.keyCode !== 38 || Date.now() - this.firstScrollHit < 200)\r\n        {\r\n            return;\r\n        }\r\n        ev.preventDefault();\r\n        this.firstScrollHit = Date.now();\r\n        if (!this.selectedIndex)\r\n        {\r\n            //Down\r\n            if (ev.keyCode === 40)\r\n            {\r\n                this.selectClashRow(this.rows[0].Id)\r\n            }\r\n            //Up\r\n            else if (ev.keyCode === 38)\r\n            {\r\n                this.selectClashRow(this.rows[this.rows.length - 1].Id)\r\n            }\r\n        }\r\n        else\r\n        {\r\n            let selectionInArr = this.rows.map((item) => { return item.Id; }).indexOf(this.selectedIndex);\r\n            //Down\r\n            if (ev.keyCode === 40)\r\n            {\r\n                if (selectionInArr === this.rows.length - 1)\r\n                {\r\n                    return;\r\n                }\r\n                let nextElement = this.rows[selectionInArr + 1];\r\n                this.selectClashRow(nextElement.Id);\r\n            }\r\n            //Up\r\n            else if (ev.keyCode === 38)\r\n            {\r\n                if (selectionInArr === 0)\r\n                {\r\n                    return;\r\n                }\r\n                let prevElement = this.rows[selectionInArr - 1];\r\n                this.selectClashRow(prevElement.Id);\r\n            }\r\n        }\r\n    }\r\n\r\n    buildHeader (template: any[])\r\n    {\r\n        $(this.tableHeaderRowEl).empty();\r\n        this.headerKeys = [];\r\n        this.headerNames = [];\r\n        for (let h = 0; h < template.length; h++)\r\n        {\r\n            let rowHeader = document.createElement('th');\r\n            rowHeader.style.resize = 'horizontal';\r\n            rowHeader.style.cursor = 'pointer';\r\n            rowHeader.textContent = template[h].DisplayName;\r\n            rowHeader.className = 'pane-item-entry-name';\r\n            this.headerKeys.push(template[h].Id);\r\n            this.headerNames.push(template[h].DisplayName);\r\n\r\n            let sortWrapper = document.createElement('span');\r\n            rowHeader.appendChild(sortWrapper);\r\n            let sortIcon = document.createElement('i');\r\n            sortIcon.className = 'fas fa-sort bom-pane-sort-icon';\r\n            sortWrapper.appendChild(sortIcon);\r\n\r\n            rowHeader.onclick = e =>\r\n            {\r\n                //Change to sort down\r\n                if (template[h].Id === 'Id' && sortIcon.className === 'fas fa-sort bom-pane-sort-icon')\r\n                {\r\n                    sortIcon.className = 'fas fa-sort-up bom-pane-sort-icon';\r\n                    this.sort(true ,template[h].Id);\r\n                }\r\n                else if (sortIcon.className.indexOf('fa-sort-down') !== -1)\r\n                {\r\n                    sortIcon.className = 'fas fa-sort-up bom-pane-sort-icon';\r\n                    this.sort(true ,template[h].Id);\r\n                }\r\n                else\r\n                {\r\n                    sortIcon.className = 'fas fa-sort-down bom-pane-sort-icon';\r\n                    this.sort(false ,template[h].Id);\r\n                }\r\n            }\r\n            this.tableHeaderRowEl.appendChild(rowHeader);\r\n        }\r\n    }\r\n\r\n    buildBody (rows: any[])\r\n    {\r\n        if (!rows)\r\n        {\r\n            return;\r\n        }\r\n        this.rows = [];\r\n        $(this.tableBodyEl).empty();\r\n        let placeholderRow = document.createElement('tr');\r\n        this.tableBodyEl.appendChild(placeholderRow);\r\n        for (let r = 0; r < rows.length; r++)\r\n        {\r\n            this.buildRow(rows[r]);\r\n        }\r\n    }\r\n\r\n    buildRow (row)\r\n    {\r\n        this.rows.push(row);\r\n        let rowEl = document.createElement('tr');\r\n        rowEl.className = 'pane-item';\r\n        rowEl.id = 'CLASH_ROW_ID' + row['Id'];\r\n        row.el = rowEl;\r\n        rowEl.onclick = e =>\r\n        {\r\n            this.selectClashRow(row.Id);\r\n        }\r\n        this.tableBodyEl.appendChild(rowEl);\r\n        for (let i = 0; i < this.headerKeys.length; i++)\r\n        {\r\n            let cellEl = document.createElement('td');\r\n            cellEl.className = 'pane-item-entry-name';\r\n            cellEl.textContent = row[this.headerKeys[i]];\r\n            rowEl.appendChild(cellEl);\r\n        }\r\n    }\r\n\r\n    selectClashRow (id)\r\n    {\r\n        let xml = '<Call Method=\"SelectClashIndex\">';\r\n        xml += '<Index>' + id + '</Index>';\r\n        xml += '</Call>';\r\n        this.selectedIndex = id;\r\n        this.rows.forEach(item =>\r\n        {\r\n            item.el.style.backgroundColor = item.Id === id ? 'rgb(160, 160, 160)' : 'white';\r\n        });\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    sort (asc: boolean, key: string)\r\n    {\r\n        let sortedRows = this.rows.sort((item1, item2) =>\r\n        {\r\n            let val1, val2;\r\n            let preVal1 = item1[key] === '-' ? 0 : item1[key];\r\n            let preVal2 = item2[key] === '-' ? 0 : item2[key];\r\n            val2 = isNaN(parseFloat(preVal1)) ? preVal1.toUpperCase() : parseFloat(preVal2);\r\n            val1 = isNaN(parseFloat(preVal1)) ? preVal2.toUpperCase() : parseFloat(preVal1);\r\n            if (val1 > val2)\r\n            {\r\n                return asc ? 1 : -1;\r\n            }\r\n            else\r\n            {\r\n                return asc ? -1 : 1;\r\n            }\r\n        });\r\n        this.buildBody(sortedRows);\r\n    }\r\n\r\n    buildDefaultHeader ()\r\n    {\r\n        $(this.tableHeaderRowEl).empty();\r\n        let idRow = document.createElement('th');\r\n        idRow.textContent = ui.translate('ID_BOM_COLUMN_CALLOUT_ID');\r\n        idRow.className = 'pane-item-entry-name';\r\n        this.tableHeaderRowEl.appendChild(idRow);\r\n\r\n        let nameRow = document.createElement('th');\r\n        nameRow.textContent = ui.translate('ID_BOM_PARTNAME');\r\n        nameRow.className = 'pane-item-entry-name';\r\n        this.tableHeaderRowEl.appendChild(nameRow);\r\n\r\n        let quantityRow = document.createElement('th');\r\n        quantityRow.textContent = ui.translate('ID_BOM_QUANTITY');\r\n        quantityRow.className = 'pane-item-entry-name';\r\n        this.tableHeaderRowEl.appendChild(quantityRow);\r\n    }\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n        this.copyTooltip.setTitle(_lang_data['ID_COPY_TO_CLIPBOARD'][this.lang]);\r\n        let GetClashPaneTemplate = `<Call Method=\"GetTemplate\"><Type>ClashPane</Type></Call>`;\r\n        vsClient.command.executeXML(GetClashPaneTemplate);\r\n\t\tvsClient.once('GetTemplate.ClashPane', (response: any) =>\r\n\t\t{\r\n            const template = response['Source']['Template'];\r\n            this.adapter.fromTemplate(template);\r\n\t\t\tthis.addMethods();\r\n\t\t})\r\n\t}\r\n\r\n    addMethods ()\r\n    {\r\n    }\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n        this.adapter = new pane.PaneAdapter(this.el);\r\n        this.adapter.fromTemplate(template);\r\n        this.addMethods();\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values);\r\n                return;\r\n            }\r\n            let path = src.item.path;\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value);\r\n            let xml = XMLParser.serializeWithValue(path, value);\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`;\r\n            vsClient.command.executeXML(settings);\r\n            if (this.selectedIndex)\r\n            {\r\n                xml = '<Call Method=\"SelectClashIndex\">';\r\n                xml += '<Index>' + this.selectedIndex + '</Index>';\r\n                xml += '</Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n        });\r\n\t\tif (template['Event'])\r\n\t\t{\r\n            const event = template['Event'];\r\n            vsClient.removeListener(event, this.update);\r\n            vsClient.on(event, this.update);\r\n        }\r\n    }\r\n\r\n    update = (response) =>\r\n    {\r\n        this.tableWrapperEl.scrollTop = this.scrollPosTable;\r\n        this.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        };\r\n        this.adapter.updateValues(this.values);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app-panes/clash-pane.ts","import { ILog } from './command';\r\n\r\n\r\nexport class LogItem\r\n{\r\n\tselectCallback: any\r\n\tcommand: ILog\r\n\tcommandEl: HTMLElement\r\n\r\n\tconstructor(parent: HTMLElement, logInfo: ILog, selectCallback: any)\r\n\t{\r\n\t\tthis.command = logInfo;\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t\tthis.selectCallback = selectCallback;\r\n\r\n\t\tthis.commandEl = document.createElement('div');\r\n\t\tthis.commandEl.textContent = logInfo.msg;\r\n\t\tthis.commandEl.className = 'command-log-item';\r\n\t\tthis.commandEl.onclick = e =>\r\n\t\t{\r\n\t\t\tthis.handleClick(e);\r\n\t\t};\r\n\r\n\t\tparent.appendChild(this.commandEl);\r\n\r\n\t\tif (logInfo.type === 'inbound')\r\n\t\t{\r\n\t\t\t$(this.commandEl).addClass('command-log-item-inbound');\r\n\t\t}\r\n\t}\r\n\r\n\thandleClick(ev)\r\n\t{\r\n\t\tthis.selectCallback(this.command, ev.ctrlKey, ev.shiftKey, this.commandEl);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/command-log-item.ts","import * as copy from 'copy-to-clipboard';\r\nimport { LogItem } from './command-log-item'\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nimport { SingleSwitch } from '../pane/widgets';\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { appStates } from '../app/app-states';\r\ndeclare var vsClient: VSWebClient\r\n\r\ninterface CommandState\r\n{\r\n    mousemove: boolean;\r\n    inbound: boolean;\r\n    outbound: boolean;\r\n    copySelection: string;\r\n    copyAll: string;\r\n    stopInitialLogging: boolean;\r\n}\r\n\r\nexport interface ILog {\r\n\ttype: 'inbound' | 'outbound';\r\n\tmsg: string;\r\n}\r\n\r\nexport class CommandPane extends PaneTemplate\r\n{\r\n    collectionInEdit: [number, string][] = [];\r\n    state: CommandState\r\n    log: ILog[] = []\r\n    el: HTMLElement\r\n    boxWrapper: HTMLElement\r\n    listWrapper: HTMLElement\r\n    detailsWrapper: HTMLElement\r\n    detailsList: HTMLElement\r\n    commandWrapper: HTMLElement\r\n    headerButtons: HTMLElement\r\n    editIndex: number = 0\r\n    selection: ILog[] = []\r\n    detailsTabBar: HTMLElement\r\n    dividerDelta: number = 0\r\n    divider: HTMLElement\r\n    commandInput: HTMLTextAreaElement\r\n\r\n    callDivider: HTMLElement\r\n    callDividerDelta: number = 0\r\n    listTempHeight: number = 0\r\n    detailsTempHeight: number = 0\r\n    commandTempHeight: number = 0\r\n    buttonRowHeight: number\r\n\r\n    constructor(paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption);\r\n        this.noAdapter = true;\r\n\r\n        this.state = {\r\n            mousemove: localStorage.getItem('WVLogMouseMove') !== 'false',\r\n            inbound: false,\r\n            outbound: true,\r\n            copySelection: 'copy selection',\r\n            copyAll: 'copy all',\r\n            stopInitialLogging: localStorage.getItem('WVStopInitialLogging') === 'true'\r\n        };\r\n        vsClient.emit('@logMousemove', (localStorage.getItem('WVLogMouseMove') !== 'false'));\r\n\r\n        this.el = document.createElement('div');\r\n        this.el.classList.add('pane-content');\r\n        this.el.style.overflow = 'hidden';\r\n        this.el.style.height = '100%';\r\n\r\n        this.wrapperEl.appendChild(this.el);\r\n\r\n        this.headerButtons = document.createElement('div');\r\n        this.headerButtons.className = 'command-log-buttons-wrapper';\r\n        this.el.appendChild(this.headerButtons);\r\n\r\n        let respSwitch = new SingleSwitch(this.headerButtons, 'Response', this.state.inbound.toString(), this.handleInboundCheck.bind(this));\r\n        let reqSwitch = new SingleSwitch(this.headerButtons, 'Request', this.state.outbound.toString(), this.handleOutboundCheck.bind(this));\r\n        let logMouseSwitch = new SingleSwitch(this.headerButtons, 'Log mouse', this.state.mousemove.toString(), this.handleLogMousemove.bind(this));\r\n        let initLogSwitch = new SingleSwitch(this.headerButtons, 'Init log', this.state.stopInitialLogging.toString(), this.stopInitialLogging.bind(this));\r\n\r\n        this.boxWrapper = document.createElement('div');\r\n        this.boxWrapper.className = 'command-pane-outter-wrapper';\r\n        this.el.appendChild(this.boxWrapper);\r\n\r\n        this.listWrapper = document.createElement('div');\r\n        this.listWrapper.style.position = 'relative';\r\n        this.listWrapper.style.height = '35%';\r\n        this.listWrapper.className = 'command-log-list';\r\n        this.boxWrapper.appendChild(this.listWrapper);\r\n\r\n        this.divider = document.createElement('div');\r\n        this.divider.className = 'horizontal-pane-divider';\r\n        this.boxWrapper.appendChild(this.divider);\r\n        this.handleDividerDown = this.handleDividerDown.bind(this);\r\n        this.handleDividerMove = this.handleDividerMove.bind(this);\r\n        this.handleDividerUp = this.handleDividerUp.bind(this);\r\n        this.divider.addEventListener('mousedown', this.handleDividerDown);\r\n\r\n        $(this.divider).kendoTouch({\r\n            dragstart: e =>\r\n            {\r\n                this.dividerDelta = e.touch.y.location;\r\n            },\r\n            drag: e =>\r\n            {\r\n                let delta = e.touch.y.location - this.dividerDelta;\r\n                this.update(delta);\r\n            },\r\n            dragend: e =>\r\n            {\r\n                this.dividerDelta = 0;\r\n            }\r\n        });\r\n\r\n        this.detailsWrapper = document.createElement('div');\r\n        this.detailsWrapper.style.position = 'relative';\r\n        this.detailsWrapper.style.height = '35%';\r\n        this.boxWrapper.appendChild(this.detailsWrapper);\r\n\r\n        this.detailsTabBar = document.createElement('div');\r\n        this.detailsTabBar.className = 'command-pane-details-tab-bar';\r\n        this.detailsWrapper.appendChild(this.detailsTabBar);\r\n\r\n\r\n        let detailsLabel = document.createElement('span');\r\n        detailsLabel.textContent = 'Details';\r\n        this.detailsTabBar.appendChild(detailsLabel);\r\n\r\n        this.detailsList = document.createElement('div');\r\n        this.detailsList.id = 'command-pane-selection-view';\r\n        this.detailsList.className = 'command-log-list';\r\n        this.detailsList.style.height = 'calc(100% - 35px)';\r\n        this.detailsList.addEventListener('keydown', ev =>\r\n        {\r\n            ev.stopPropagation();\r\n        });\r\n        this.detailsList.addEventListener('focusin', ev =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n        });\r\n        this.detailsList.addEventListener('focusout', ev =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = false;\r\n        });\r\n\r\n        this.detailsWrapper.appendChild(this.detailsList);\r\n\r\n        let upperButtons = document.createElement('div');\r\n        upperButtons.className = 'command-log-buttons-wrapper';\r\n\r\n        let requestButton = document.createElement('button');\r\n        requestButton.textContent = 'Send';\r\n        requestButton.className = 'command-log-footer-button';\r\n        requestButton.onclick = e =>\r\n        {\r\n            this.handleSendRequests();\r\n        };\r\n        upperButtons.appendChild(requestButton);\r\n\r\n        let clearButton = document.createElement('button');\r\n        clearButton.textContent = 'Clear';\r\n        clearButton.className = 'command-log-footer-button';\r\n        clearButton.onclick = e =>\r\n        {\r\n            this.log = [];\r\n            this.collectionInEdit = [];\r\n            $(this.detailsList).empty();\r\n            $(this.listWrapper).empty();\r\n            this.editIndex = 0;\r\n            this.selection = [];\r\n        };\r\n        upperButtons.appendChild(clearButton);\r\n\r\n        let copyButton = document.createElement('button');\r\n        copyButton.textContent = 'Copy';\r\n        copyButton.className = 'command-log-footer-button';\r\n        copyButton.onclick = e =>\r\n        {\r\n            this.copyToClipboard();\r\n        };\r\n        upperButtons.appendChild(copyButton);\r\n\r\n        let copyAllButton = document.createElement('button');\r\n        copyAllButton.textContent = 'Copy all';\r\n        copyAllButton.className = 'command-log-footer-button';\r\n        copyAllButton.onclick = e =>\r\n        {\r\n            this.copyAll();\r\n        };\r\n        upperButtons.appendChild(copyAllButton);\r\n        this.detailsWrapper.appendChild(upperButtons);\r\n\r\n        this.callDivider = document.createElement('div');\r\n        this.callDivider.className = 'horizontal-pane-divider';\r\n        this.callDivider.style.position = 'relative';\r\n        this.callDivider.style.top = '5px';\r\n        this.boxWrapper.appendChild(this.callDivider);\r\n        this.handleCallDividerDown = this.handleCallDividerDown.bind(this);\r\n        this.handleCallDividerMove = this.handleCallDividerMove.bind(this);\r\n        this.handleCallDividerUp = this.handleCallDividerUp.bind(this);\r\n        this.callDivider.addEventListener('mousedown', this.handleCallDividerDown);\r\n\r\n        $(this.callDivider).kendoTouch({\r\n            dragstart: e =>\r\n            {\r\n                this.callDividerDelta = e.touch.y.location;\r\n            },\r\n            drag: e =>\r\n            {\r\n                let delta = e.touch.y.location - this.callDividerDelta;\r\n                this.update(delta);\r\n            },\r\n            dragend: e =>\r\n            {\r\n                this.callDividerDelta = 0;\r\n            }\r\n        });\r\n\r\n        this.commandWrapper = document.createElement('div');\r\n        this.commandWrapper.style.position = 'relative';\r\n        this.commandWrapper.style.height = '30%';\r\n        this.boxWrapper.appendChild(this.commandWrapper);\r\n\r\n        let commandLineTabBar = document.createElement('div');\r\n        commandLineTabBar.className = 'command-pane-details-tab-bar';\r\n        commandLineTabBar.style.marginTop = '5px';\r\n        this.commandWrapper.appendChild(commandLineTabBar);\r\n\r\n        let commandLineLabel = document.createElement('span');\r\n        commandLineLabel.textContent = 'Custom Command';\r\n        commandLineTabBar.appendChild(commandLineLabel);\r\n\r\n        this.commandInput = document.createElement('textarea');\r\n        this.commandInput.className = 'command-line-input';\r\n        this.commandInput.addEventListener('keydown', ev =>\r\n        {\r\n            ev.stopPropagation();\r\n        });\r\n        this.commandInput.addEventListener('focus', ev =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n        });\r\n        this.commandInput.addEventListener('blur', ev =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = false;\r\n        });\r\n\r\n        this.commandWrapper.appendChild(this.commandInput);\r\n\r\n        let commandButtons = document.createElement('div');\r\n        commandButtons.className = 'command-log-buttons-wrapper';\r\n\r\n        let commandRequestButton = document.createElement('button');\r\n        commandRequestButton.textContent = 'Send';\r\n        commandRequestButton.className = 'command-log-footer-button';\r\n        commandRequestButton.onclick = e =>\r\n        {\r\n            this.handleCommandSendRequest();\r\n        };\r\n        commandButtons.appendChild(commandRequestButton);\r\n\r\n        let commandClearButton = document.createElement('button');\r\n        commandClearButton.textContent = 'Clear';\r\n        commandClearButton.className = 'command-log-footer-button';\r\n        commandClearButton.onclick = e =>\r\n        {\r\n            this.commandInput.value = '';\r\n        };\r\n        commandButtons.appendChild(commandClearButton);\r\n        this.el.appendChild(commandButtons);\r\n    }\r\n\r\n    changeLang()\r\n    {\r\n    }\r\n\r\n    addMethods()\r\n    {\r\n    }\r\n\r\n    handleDividerDown(e)\r\n    {\r\n        e.preventDefault();\r\n        this.dividerDelta = e.pageY;\r\n        this.listTempHeight = parseFloat(this.listWrapper.style.height.replace('%', ''));\r\n        this.detailsTempHeight = parseFloat(this.detailsWrapper.style.height.replace('%', ''));\r\n        this.commandTempHeight = parseFloat(this.commandWrapper.style.height.replace('%', ''));\r\n        document.addEventListener('mousemove', this.handleDividerMove);\r\n        document.addEventListener('mouseup', this.handleDividerUp);\r\n    }\r\n\r\n    handleDividerMove(e)\r\n    {\r\n        let delta = e.pageY - this.dividerDelta;\r\n        this.update(delta);\r\n    }\r\n\r\n    handleDividerUp(e)\r\n    {\r\n        this.dividerDelta = 0;\r\n        document.removeEventListener('mousemove', this.handleDividerMove);\r\n        document.removeEventListener('mouseup', this.handleDividerUp);\r\n    }\r\n\r\n    handleCallDividerDown(e)\r\n    {\r\n        e.preventDefault();\r\n        this.callDividerDelta = e.pageY;\r\n        this.listTempHeight = parseFloat(this.listWrapper.style.height.replace('%', ''));\r\n        this.detailsTempHeight = parseFloat(this.detailsWrapper.style.height.replace('%', ''));\r\n        this.commandTempHeight = parseFloat(this.commandWrapper.style.height.replace('%', ''));\r\n        document.addEventListener('mousemove', this.handleCallDividerMove);\r\n        document.addEventListener('mouseup', this.handleCallDividerUp);\r\n    }\r\n\r\n    handleCallDividerMove(e)\r\n    {\r\n        let delta = e.pageY - this.callDividerDelta;\r\n        this.updateCallInput(delta);\r\n    }\r\n\r\n    handleCallDividerUp(e)\r\n    {\r\n        this.callDividerDelta = 0;\r\n        document.removeEventListener('mousemove', this.handleCallDividerMove);\r\n        document.removeEventListener('mouseup', this.handleCallDividerUp);\r\n    }\r\n\r\n    updateCallInput(delta: number)\r\n    {\r\n        if (delta !== 0)\r\n        {\r\n            let relDelta = delta / this.boxWrapper.clientHeight * 100;\r\n            let listDiff = Math.max(5, this.listTempHeight + (relDelta / 2));\r\n            let detailsDiff = Math.max(5, this.detailsTempHeight + (relDelta / 2));\r\n            listDiff = detailsDiff !== 5 ? listDiff : Math.max(5, this.listTempHeight + (relDelta / 2) - Math.abs(5 + (relDelta / 2)));\r\n            detailsDiff = listDiff !== 5 ? detailsDiff : Math.max(5, this.detailsTempHeight + (relDelta / 2) - Math.abs(5 + (relDelta / 2)));\r\n            let diff = Math.max(100 - listDiff - detailsDiff, 5);\r\n            if (listDiff === 5 && detailsDiff === 5 || listDiff + detailsDiff + diff > 100)\r\n            {\r\n                return;\r\n            }\r\n            this.commandWrapper.style.height = diff + '%';\r\n            this.listWrapper.style.height = listDiff + '%';\r\n            this.detailsWrapper.style.height = detailsDiff + '%';\r\n        }\r\n    }\r\n\r\n    update = (delta: number) =>\r\n    {\r\n        vsClient.emit('@logMousemove', (localStorage.getItem('WVLogMouseMove') !== 'false'));\r\n        if (delta && delta !== 0)\r\n        {\r\n            let relDelta = delta / this.boxWrapper.clientHeight * 100;\r\n            let listDiff = relDelta > 0 ? Math.min(95 - this.commandTempHeight, this.listTempHeight + relDelta) : Math.max(5, this.listTempHeight + relDelta);\r\n            let detailDiff = relDelta > 0 ? Math.max(5, this.detailsTempHeight - relDelta) : Math.min(95 - this.commandTempHeight, this.detailsTempHeight - relDelta);\r\n            this.listWrapper.style.height = listDiff + '%';\r\n            this.detailsWrapper.style.height = detailDiff + '%';\r\n        }\r\n    }\r\n\r\n    handleSelectItem(command: ILog, add: boolean, range: boolean, selectedCommand: HTMLElement)\r\n    {\r\n        // reset selections\r\n        if (!add && !range)\r\n        {\r\n            this.collectionInEdit = [];\r\n            $(this.detailsList).empty();\r\n            this.editIndex = 0;\r\n            this.selection = [];\r\n        };\r\n\r\n        let selectionEl = document.createElement('pre');\r\n        selectionEl.contentEditable = command.type === 'outbound' ? 'true' : 'false';\r\n        selectionEl.textContent = command.msg;\r\n        selectionEl.style.borderBottom = '1px solid black';\r\n        selectionEl.style.paddingBottom = '15px';\r\n        let index = this.editIndex;\r\n        this.selection.push(command);\r\n        selectionEl.onblur = e =>\r\n        {\r\n            this.handleEditChange(index, e);\r\n        };\r\n        this.detailsList.appendChild(selectionEl);\r\n        this.editIndex++;\r\n        $('.command-log-item').each(function ()\r\n        {\r\n            $(this).removeClass('command-log-item-active');\r\n        });\r\n        $(selectedCommand).addClass('command-log-item-active');\r\n    }\r\n\r\n    handleLogMousemove(ev)\r\n    {\r\n        let logMouseMove = ev === 'true';\r\n        localStorage.setItem('WVLogMouseMove', logMouseMove.toString());\r\n        this.state.mousemove = logMouseMove;\r\n        vsClient.emit('@logMousemove', logMouseMove);\r\n        this.listWrapper.scrollTop = this.listWrapper.scrollHeight;\r\n    }\r\n\r\n    handleInboundCheck(ev)\r\n    {\r\n        this.state.inbound = ev === 'true';\r\n        this.updateLog();\r\n        this.listWrapper.scrollTop = this.listWrapper.scrollHeight;\r\n    }\r\n\r\n    handleOutboundCheck(ev)\r\n    {\r\n        this.state.outbound = ev === 'true';\r\n        this.updateLog();\r\n        this.listWrapper.scrollTop = this.listWrapper.scrollHeight;\r\n    }\r\n\r\n    stopInitialLogging(ev)\r\n    {\r\n        let initLog = $(ev.target).parent().children().first().val() === 'true';\r\n        localStorage.setItem('WVStopInitialLogging', initLog.toString());\r\n        this.state.stopInitialLogging = initLog;\r\n    }\r\n\r\n    copyToClipboard()\r\n    {\r\n        let toCopy = this.selection.map(l =>\r\n        {\r\n            return l.msg\r\n        });\r\n\r\n        copy(toCopy.join('\\n'));\r\n        this.state.copySelection = 'copied!!!';\r\n        setTimeout(_ => this.state.copySelection = 'copy selection', 1200);\r\n    }\r\n\r\n    copyAll()\r\n    {\r\n        let toCopy = this.log\r\n            .filter(l =>\r\n            {\r\n                let show = (l.type == 'inbound' && this.state.inbound)\r\n                    || (l.type == 'outbound' && this.state.outbound);\r\n                return show\r\n            })\r\n            .map(l =>\r\n            {\r\n                return l.msg;\r\n            })\r\n\r\n        copy(toCopy.join('\\n'));\r\n        this.state.copyAll = 'copied!!!';\r\n        setTimeout(_ => this.state.copyAll = 'copy all', 1200);\r\n    }\r\n\r\n    handleCommandSendRequest ()\r\n    {\r\n        vsClient.command.executeXML(this.commandInput.value);\r\n    }\r\n\r\n    handleSendRequests ()\r\n    {\r\n        // deep copy\r\n        let collectionCopy = JSON.parse(JSON.stringify(this.selection))\r\n        // merge\r\n        this.collectionInEdit.forEach(([i, content]) =>\r\n        {\r\n            collectionCopy[i].msg = content;\r\n        })\r\n\r\n        let requestsToSend = collectionCopy.filter((l: ILog) => l.type === 'outbound').forEach(l =>\r\n        {\r\n            vsClient.command.executeXML(l.msg);\r\n        });\r\n    }\r\n\r\n    handleEditChange(collectionIdx, ev)\r\n    {\r\n        if (this.collectionInEdit.some(([i, c]) => (i == collectionIdx)))\r\n        {\r\n            this.collectionInEdit.forEach(([i, c], idx) =>\r\n            {\r\n                if (collectionIdx == i)\r\n                {\r\n                    this.collectionInEdit[idx][1] = ev.target.textContent;\r\n                }\r\n            })\r\n        } else\r\n        {\r\n            this.collectionInEdit.push([collectionIdx, ev.target.textContent]);\r\n        }\r\n    }\r\n\r\n    addCommand(command: ILog)\r\n    {\r\n        if (command.msg.indexOf('Method=\"MouseMove\"') !== -1 && !this.state.mousemove)\r\n        {\r\n            return;\r\n        }\r\n        let startIndex = command.msg.indexOf('>');\r\n        let endIndex = command.msg.lastIndexOf('<');\r\n        command.msg = command.msg.substring(startIndex + 1, endIndex);\r\n        this.log.push(command);\r\n        if ((command.type === 'outbound' && this.state.outbound) || (command.type === 'inbound' && this.state.inbound))\r\n        {\r\n            let newItem = new LogItem(this.listWrapper, command, this.handleSelectItem.bind(this));\r\n        }\r\n        this.listWrapper.scrollTop = this.listWrapper.scrollHeight;\r\n    }\r\n\r\n    updateLog()\r\n    {\r\n        $(this.listWrapper).empty();\r\n        let logLength = this.log.length;\r\n        for (let i = 0; i < logLength; i++)\r\n        {\r\n            let log = this.log[i];\r\n            let showLog = ((log.type == 'inbound' && this.state.inbound)\r\n                || (log.type == 'outbound' && this.state.outbound)) && (this.state.mousemove || log.msg.indexOf('MouseMove') ===-1);\r\n            if (showLog)\r\n            {\r\n                let newItem = new LogItem(this.listWrapper, log, this.handleSelectItem.bind(this));\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app-panes/command.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class DistortionPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetDistortionPaneTemplate = `<Call Method=\"GetTemplate\"><Type>DistortionPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetDistortionPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.DistortionPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-distortion #OnDistortionApplyClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tlet xml = '<Call Method=\"Compute\"><Mode>Distortion</Mode></Call>'\r\n\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.addMethods()\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n\t\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet path = src.item.path\r\n\t\t\tpane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n\t\t\tlet xml = XMLParser.serializeWithValue(path, value)\r\n\t\t\tlet settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n        if (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/distortion-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class DraftAnglePane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-draftangle #OnDraftAngleAlignmentXClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tvar xml = '<Call Method=\"SetDraftVector\">'\r\n\t\t\txml += '<Direction>X</Direction>'\r\n\t\t\txml += '</Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t})\r\n\t\t$(\"#wv-draftangle #OnDraftAngleAlignmentYClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tvar xml = '<Call Method=\"SetDraftVector\">'\r\n\t\t\txml += '<Direction>Y</Direction>'\r\n\t\t\txml += '</Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t})\r\n\t\t$(\"#wv-draftangle #OnDraftAngleAlignmentZClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tvar xml = '<Call Method=\"SetDraftVector\">'\r\n\t\t\txml += '<Direction>Z</Direction>'\r\n\t\t\txml += '</Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t})\r\n\r\n\t\t$(\"#wv-draftangle #OnDraftAngleAlignmentReverseClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tvar xml = '<Call Method=\"RevertDraftVector\" />'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetDraftAnglePaneTemplate = `<Call Method=\"GetTemplate\"><Type>DraftAnglePane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetDraftAnglePaneTemplate)\r\n\t\tvsClient.once('GetTemplate.DraftAnglePane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n\t\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet path = src.item.path\r\n\t\t\tif ((path.indexOf('Angle1') !== -1 && value < 0) || (path.indexOf('Angle2') !== -1 && value > 0) || path.indexOf('Tolerance') !== -1 && value < 0)\r\n\t\t\t{\r\n\t\t\t\tvalue *= -1\r\n\t\t\t}\r\n\t\t\tpane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n\t\t\tlet xml = XMLParser.serializeWithValue(path, value)\r\n\t\t\tlet settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/draft-angle-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class DrillholePane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n        super(paneId, caption);\r\n\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n\r\n        this.wrapperEl.appendChild(this.el);\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n        $(\"#wv-drillhole #OnDrillHoleComputeClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"Compute\"><Mode>Drillhole</Mode></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        })\r\n    }\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n        let GetDrillholePanePaneTemplate = `<Call Method=\"GetTemplate\"><Type>DrillholePane</Type></Call>`;\r\n        vsClient.command.executeXML(GetDrillholePanePaneTemplate);\r\n\t\tvsClient.once('GetTemplate.DrillholePane', (response: any) =>\r\n\t\t{\r\n            const template = response['Source']['Template'];\r\n            this.adapter.fromTemplate(template);\r\n            this.addMethods();\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n        this.adapter.fromTemplate(template);\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n                this.adapter.updateValues(this.values);\r\n                return;\r\n            }\r\n            let path = src.item.path;\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value);\r\n            let xml = XMLParser.serializeWithValue(path, value);\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`;\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n        if (template['Event'])\r\n        {\r\n            const event = template['Event'];\r\n            vsClient.removeListener(event, this.update);\r\n            vsClient.on(event, this.update);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\r\n        this.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        };\r\n        this.adapter.updateValues(this.values);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/drillhole-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class ExactComparePane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-exactcompare #OnExactCompareComputeClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tlet xml = '<Call Method=\"ComputeBrepCompare\"></Call>'\r\n\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t});\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetExactComparePaneTemplate = `<Call Method=\"GetTemplate\"><Type>ExactComparePane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetExactComparePaneTemplate)\r\n\t\tvsClient.once('GetTemplate.ExactComparePane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n\t\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet path = src.item.path\r\n\t\t\tpane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n\t\t\tlet xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n        if (template['Event'])\r\n        {\r\n            const event = template['Event']\r\n            vsClient.removeListener(event, this.update)\r\n            vsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/exact-compare-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { PlainSwitch, PlainGroup, PlainSlider, PlainSteppedSlider, PlainSelect, PlainInput, PlainButton, PlainOption } from '../pane/widgets';\r\nimport { appStates } from '../app/app-states';\r\n\r\nexport class ExplodePane extends PaneTemplate\r\n{\r\n    el: HTMLTableElement\r\n    values: {}\r\n    explodeSliderEl: PlainSlider\r\n    explodeSteppedSliderEl: PlainSteppedSlider\r\n    isHierarchicallyEl: PlainSwitch\r\n    explodeGroupEl: PlainGroup\r\n    explodeTypeEl: PlainSelect\r\n    explodeLevelEl: PlainInput\r\n    nextLevelButtonEl: PlainButton\r\n    prevLevelButtonEl: PlainButton\r\n    resetExplosionButtonEl: PlainButton\r\n    tableBodyEl: HTMLElement\r\n    explodeDistance: number = 0\r\n    explodeStep: number = 0\r\n    maxExplodeSteps: number = 0\r\n    explodeType: string = 'AxisAligned'\r\n    nodeLevel: number = 0\r\n    isHierarchically: boolean = false\r\n\r\n    constructor (paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption);\r\n\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n\r\n        //Explode group\r\n        let tableEl = document.createElement('table');\r\n        tableEl.className = 'pane-content';\r\n        this.wrapperEl.appendChild(tableEl);\r\n\r\n        this.tableBodyEl = document.createElement('tbody');\r\n        tableEl.appendChild(this.tableBodyEl);\r\n\r\n        let placeholderRow = document.createElement('tr');\r\n        this.tableBodyEl.appendChild(placeholderRow);\r\n        this.wrapperEl.appendChild(tableEl);\r\n        //Elements\r\n        //Slider\r\n        this.explodeGroupEl = new PlainGroup(1, this.tableBodyEl, 'ID_TRANSFORM_PANE_EXPLODE', 'ID_TRANSFORM_PANE_EXPLODE_INFO');\r\n        this.explodeSliderEl = new PlainSlider(2, this.tableBodyEl, 'ID_TRANSFORM_PANE_EXPLODE_LEVEL', 'ID_TRANSFORM_PANE_EXPLODE_LEVEL_INFO', this.explode.bind(this));\r\n        this.explodeSteppedSliderEl = new PlainSteppedSlider(2, this.tableBodyEl, 'ID_TRANSFORM_PANE_EXPLODE_LEVEL', 'ID_TRANSFORM_PANE_EXPLODE_LEVEL_INFO', this.explodeStepped.bind(this));\r\n        this.explodeSliderEl.setVal(0);\r\n        this.explodeSteppedSliderEl.hide();\r\n        //Switch\r\n        this.isHierarchicallyEl = new PlainSwitch(2, this.tableBodyEl, 'ID_TRANSFORM_PANE_EXPLODE_HIERARCHY', 'ID_TRANSFORM_PANE_EXPLODE_HIERARCHY_INFO', this.setHierarchically.bind(this));\r\n        //Enum\r\n        this.explodeTypeEl = new PlainSelect(2, this.tableBodyEl, 'ID_EXPLOSION_TYPE', 'ID_EXPLOSION_TYPE_INFO', this.setExplodeType.bind(this));\r\n        this.setTypeOptions();\r\n        //Level\r\n        this.explodeLevelEl = new PlainInput(2, this.tableBodyEl, 'ID_EXPLOSION_NODE_LEVEL', 'ID_EXPLOSION_NODE_LEVEL_INFO', 'false', this.setLevel.bind(this));\r\n        //Buttons\r\n        this.nextLevelButtonEl = new PlainButton(2, this.tableBodyEl, 'ID_EXPLOSION_NEXT_LEVEL', 'ID_EXPLOSION_NEXT_LEVEL_INFO', 'ID_EXPLOSION_NEXT_LEVEL', this.nextLevel.bind(this));\r\n        this.prevLevelButtonEl = new PlainButton(2, this.tableBodyEl, 'ID_EXPLOSION_PREVIOUS_LEVEL', 'ID_EXPLOSION_PREVIOUS_LEVEL_INFO', 'ID_EXPLOSION_PREVIOUS_LEVEL', this.prevLevel.bind(this));\r\n        this.resetExplosionButtonEl = new PlainButton(2, this.tableBodyEl, 'ID_EXPLOSION_RESET', 'ID_EXPLOSION_RESET_INFO', 'ID_EXPLOSION_RESET', this.resetExplosion.bind(this));\r\n        this.explodeGroupEl.children.push(this.isHierarchicallyEl.wrapperEl, this.explodeTypeEl.wrapperEl,\r\n            this.explodeLevelEl.wrapperEl, this.explodeLevelEl.wrapperEl, this.nextLevelButtonEl.wrapperEl, this.prevLevelButtonEl.wrapperEl, this.resetExplosionButtonEl.wrapperEl, this.explodeSliderEl.wrapperEl);\r\n        this.wrapperEl.appendChild(this.el);\r\n        vsClient.on('GetSelectionNodeLevel', res =>\r\n        {\r\n            this.nodeLevel = res.Level;\r\n            this.explodeLevelEl.setVal(this.nodeLevel);\r\n        });\r\n        vsClient.on('SelectionChanged', res =>\r\n        {\r\n            if (this.stack && this.stack.isVisible)\r\n            {\r\n                let xml = '<Call Method=\"GetSelectionExplosionValue\"></Call>';\r\n                xml += '<Call Method=\"GetSelectionNodeLevel\"></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n        });\r\n        vsClient.on('GetSelectionExplosionValue', res =>\r\n        {\r\n            this.explodeSliderEl.setVal(res.Result/100);\r\n        });\r\n    }\r\n\r\n    setExplodeType (type: string)\r\n    {\r\n        this.explodeType = type;\r\n        if (!this.isHierarchically)\r\n        {\r\n            this.explode(this.explodeDistance);\r\n        }\r\n        else\r\n        {\r\n            this.explodeStepped(this.explodeStep);\r\n        }\r\n    }\r\n\r\n    setHierarchically (isHierarchically: boolean)\r\n    {\r\n        this.isHierarchically = isHierarchically;\r\n        this.explodeGroupEl.children.pop();\r\n        if (isHierarchically)\r\n        {\r\n            this.explodeSliderEl.hide();\r\n            this.explodeSteppedSliderEl.show();\r\n            this.explodeGroupEl.children.push(this.explodeSteppedSliderEl.wrapperEl);\r\n        }\r\n        else\r\n        {\r\n            this.explodeSliderEl.show();\r\n            this.explodeSteppedSliderEl.hide();\r\n            this.explodeGroupEl.children.push(this.explodeSliderEl.wrapperEl);\r\n        }\r\n        this.explodeSliderEl.setVal(0);\r\n        this.explodeSteppedSliderEl.setVal(0);\r\n    }\r\n\r\n    setLevel ()\r\n    {\r\n        //Placeholder method\r\n    }\r\n\r\n    nextLevel ()\r\n    {\r\n        let xml = '<Call Method=\"SelectNextExplosionLevel\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        let getLevelCall = '<Call Method=\"GetSelectionNodeLevel\"></Call>';\r\n        vsClient.command.executeXML(getLevelCall);\r\n    }\r\n\r\n    prevLevel ()\r\n    {\r\n        let xml = '<Call Method=\"SelectPreviousExplosionLevel\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        let getLevelCall = '<Call Method=\"GetSelectionNodeLevel\"></Call>';\r\n        vsClient.command.executeXML(getLevelCall);\r\n    }\r\n\r\n    resetExplosion ()\r\n    {\r\n        let xml = '<Call Method=\"ResetExplosion\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        let getLevelCall = '<Call Method=\"GetSelectionNodeLevel\"></Call>';\r\n        vsClient.command.executeXML(getLevelCall);\r\n    }\r\n\r\n    setTypeOptions ()\r\n    {\r\n        this.explodeTypeEl.clearOptions();\r\n        let coordinateAxisOption: PlainOption = {\r\n            isDefault: true,\r\n            name: ui.translate('ID_EXPLOSION_TYPE_AXES_ALIGNED'),\r\n            val: 'AxisAligned',\r\n        };\r\n        let sphericalOption: PlainOption = {\r\n            isDefault: false,\r\n            name: ui.translate('ID_EXPLOSION_TYPE_SPHERICAL'),\r\n            val: 'Spherical',\r\n        };\r\n        let xAxisOption: PlainOption = {\r\n            isDefault: false,\r\n            name: ui.translate('ID_EXPLOSION_TYPE_X_AXIS'),\r\n            val: 'AxisX',\r\n        };\r\n        let yAxisOption: PlainOption = {\r\n            isDefault: false,\r\n            name: ui.translate('ID_EXPLOSION_TYPE_Y_AXIS'),\r\n            val: 'AxisY',\r\n        };\r\n        let zAxisOption: PlainOption = {\r\n            isDefault: false,\r\n            name: ui.translate('ID_EXPLOSION_TYPE_Z_AXIS'),\r\n            val: 'AxisZ',\r\n        };\r\n        let radialXYOption: PlainOption = {\r\n            isDefault: false,\r\n            name: ui.translate('ID_EXPLOSION_TYPE_RADIAL_XY'),\r\n            val: 'RadialXY',\r\n        };\r\n        let radialYZOption: PlainOption = {\r\n            isDefault: false,\r\n            name: ui.translate('ID_EXPLOSION_TYPE_RADIAL_YZ'),\r\n            val: 'RadialYZ',\r\n        };\r\n        let radialZXOption: PlainOption = {\r\n            isDefault: false,\r\n            name: ui.translate('ID_EXPLOSION_TYPE_RADIAL_ZX'),\r\n            val: 'RadialZX',\r\n        };\r\n        this.explodeTypeEl.addOptions([coordinateAxisOption, sphericalOption, xAxisOption, yAxisOption, zAxisOption, radialXYOption, radialYZOption, radialZXOption]);\r\n    }\r\n\r\n    explode (value: number)\r\n    {\r\n        let xml = '<Call Method=\"ExplodeByDistance\"><Position>' + (Math.round(value * 100)) + '</Position>'\r\n        xml += '<ExplosionType>' + this.explodeType + '</ExplosionType></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        this.explodeDistance = value;\r\n        this.explodeStep = 0;\r\n        this.explodeSteppedSliderEl.setVal(0);\r\n    }\r\n\r\n    explodeStepped (value: number)\r\n    {\r\n        let xml = '<Call Method=\"GetMaxTreeDepth\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        vsClient.once('GetMaxTreeDepth', res =>\r\n        {\r\n            if (res && res.MaxDepth)\r\n            {\r\n                this.explodeSteppedSliderEl.setMaxSteps(res.MaxDepth);\r\n                this.maxExplodeSteps = parseInt(res.MaxDepth)\r\n                let xml = '<Call Method=\"ExplodeHierarchically\"><Level>' + value + '</Level>';\r\n                xml += '<ExplosionType>' + this.explodeType + '</ExplosionType></Call>';\r\n                vsClient.command.executeXML(xml);\r\n                this.explodeSliderEl.setVal(1);\r\n                this.explodeDistance = 1;\r\n                this.explodeStep = value;\r\n            }\r\n        });\r\n    }\r\n\r\n    changeLang (lang: string)\r\n    {\r\n        let GetExplodePaneTemplate = '<Call Method=\"GetTemplate\"><Type>ExplodePane</Type></Call>';\r\n        vsClient.command.executeXML(GetExplodePaneTemplate);\r\n        vsClient.once('GetTemplate.ExplodePane', (response: any) =>\r\n        {\r\n            const template = response['Source']['Template'];\r\n            this.adapter.fromTemplate(template);\r\n            this.addMethods();\r\n            this.setTypeOptions();\r\n        });\r\n    }\r\n\r\n    addMethods ()\r\n    {\r\n        if (appStates.fileLoaded)\r\n        {\r\n            let xml = '<Call Method=\"GetMaxTreeDepth\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            vsClient.once('GetMaxTreeDepth', res =>\r\n            {\r\n                if (res && res.MaxDepth)\r\n                {\r\n                    this.explodeSteppedSliderEl.setMaxSteps(res.MaxDepth);\r\n                    this.maxExplodeSteps = parseInt(res.MaxDepth)\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    fromTemplate (template: {})\r\n    {\r\n        this.adapter = new pane.PaneAdapter(this.el);\r\n\r\n        this.adapter.fromTemplate(template);\r\n        this.addMethods();\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values);\r\n                return;\r\n            }\r\n            let path = src.item.path;\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value);\r\n            let xml = XMLParser.serializeWithValue(path, value);\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`;\r\n            vsClient.command.executeXML(settings);\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n        if (template['Event'])\r\n        {\r\n            const event = template['Event'];\r\n            vsClient.removeListener(event, this.update);\r\n            vsClient.on(event, this.update);\r\n        }\r\n\r\n    }\r\n\r\n    update = (response) =>\r\n    {\r\n        this.values = {\r\n            Event: response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        }\r\n        this.adapter.updateValues(this.values);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/explode-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport { PaneTemplate } from './template/pane-template';\r\nvar tinycolor = require(\"tinycolor2\");\r\ndeclare var vsClient: VSWebClient\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nexport class FilterPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\tresultHeader: HTMLElement\r\n    filterList: any[] = []\r\n    resultTable: HTMLTableElement\r\n    tableBody: HTMLElement\r\n    colorHeaderTextEl: HTMLElement\r\n    countHeaderTextEl: HTMLElement\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption);\r\n\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n\r\n        this.wrapperEl.appendChild(this.el);\r\n\r\n        this.resultTable = document.createElement('table');\r\n        this.resultTable.className = 'pane-content';\r\n        this.wrapperEl.appendChild(this.resultTable);\r\n\r\n        let tableHeader = document.createElement('thead');\r\n        this.resultTable.appendChild(tableHeader);\r\n\r\n        let tableHeaderRow = document.createElement('tr');\r\n        tableHeaderRow.className = 'pane-item';\r\n        tableHeader.appendChild(tableHeaderRow);\r\n\r\n        let colorHeader = document.createElement('th');\r\n        colorHeader.className = 'filter-pane-table-header';\r\n        tableHeaderRow.appendChild(colorHeader);\r\n\r\n        this.colorHeaderTextEl = document.createElement('span');\r\n        this.colorHeaderTextEl.textContent = ui.translate('ID_COLOR');\r\n        colorHeader.appendChild(this.colorHeaderTextEl);\r\n\r\n        let colorHeaderIcon = document.createElement('i');\r\n        colorHeaderIcon.className = 'far fa-sort filter-pane-sort-icon';\r\n        colorHeader.appendChild(colorHeaderIcon);\r\n\r\n        let colorSortOrderAsc: boolean = false;\r\n        colorHeader.onclick = e =>\r\n        {\r\n            if (colorSortOrderAsc)\r\n            {\r\n                colorSortOrderAsc = false;\r\n                colorHeaderIcon.className = 'fa fa-sort-up filter-pane-sort-icon';\r\n            }\r\n            else\r\n            {\r\n                colorSortOrderAsc = true;\r\n                colorHeaderIcon.className = 'fa fa-sort-down filter-pane-sort-icon';\r\n            }\r\n            this.filterList.sort((a, b) =>\r\n            {\r\n                let val1 = tinycolor(a['Color']).toHsv().h;\r\n                let val2 = tinycolor(b['Color']).toHsv().h;\r\n                return this.sort(val1, val2, !colorSortOrderAsc);\r\n            });\r\n            this.buildColorTable();\r\n        }\r\n\r\n        let countHeader = document.createElement('th');\r\n        countHeader.className = 'filter-pane-table-header';\r\n        tableHeaderRow.appendChild(countHeader);\r\n\r\n        this.countHeaderTextEl = document.createElement('span');\r\n        this.countHeaderTextEl.textContent = ui.translate('ID_BOM_QUANTITY');\r\n        countHeader.appendChild(this.countHeaderTextEl);\r\n\r\n        let countHeaderIcon = document.createElement('i');\r\n        countHeaderIcon.className = 'far fa-sort filter-pane-sort-icon';\r\n        countHeader.appendChild(countHeaderIcon);\r\n\r\n        let countSortOrderAsc: boolean = true;\r\n        countHeader.onclick = e =>\r\n        {\r\n            if (countSortOrderAsc)\r\n            {\r\n                countSortOrderAsc = false;\r\n                countHeaderIcon.className = 'fa fa-sort-up filter-pane-sort-icon';\r\n            }\r\n            else\r\n            {\r\n                countSortOrderAsc = true;\r\n                countHeaderIcon.className = 'fa fa-sort-down filter-pane-sort-icon';\r\n                \r\n            }\r\n            this.filterList.sort((a, b) =>\r\n            {\r\n                let val1 = a['Quantity'];\r\n                let val2 = b['Quantity'];\r\n                return this.sort(val1, val2, !countSortOrderAsc);\r\n            });\r\n            this.buildColorTable();\r\n        }\r\n        this.tableBody = document.createElement('tbody');\r\n        this.resultTable.appendChild(this.tableBody);\r\n        $(this.resultTable).hide();\r\n\r\n\r\n\t\tvsClient.on('@OpenedFile', () =>\r\n\t\t{\r\n            this.removeOldResults();\r\n\t\t})\r\n\r\n        vsClient.on('ComputeColorList', () =>\r\n        {\r\n            let xml = '<Call Method=\"GetAllGeometryColors\">';\r\n            xml += '<IncludeHiddenGeometries>' + this.values['Settings'].Scene.Tools.Search.IncludeHiddenGeometries + '</IncludeHiddenGeometries>';\r\n            xml += '</Call>';\r\n            vsClient.command.executeXML(xml);\r\n\r\n            vsClient.once('GetAllGeometryColors', (response) =>\r\n            {\r\n                this.filterList = response.Result;\r\n                this.buildColorTable();\r\n            });\r\n        });\r\n\r\n        this.el.addEventListener('contextmenu', ev =>\r\n        {\r\n            this.handleContextMenu(ev);\r\n        });\r\n\r\n        this.resultTable.addEventListener('contextmenu', ev =>\r\n        {\r\n            this.handleContextMenu(ev);\r\n        });\r\n    }\r\n\r\n    handleContextMenu (ev)\r\n    {\r\n        ev.preventDefault();\r\n        $('#contextMenu').remove();\r\n        $(document).off('mousedown', vsClient.vsCanvas.closeContextMenu);\r\n        $(document).off('keyup', vsClient.vsCanvas.closeContextMenu);\r\n        vsClient.vsCanvas.createContextMenu(ev);\r\n    }\r\n\r\n    sort (val1, val2, sortAsc:boolean)\r\n    {\r\n        return sortAsc ? (val1 >= val2 ? 1 : -1) : (val2 >= val1 ? 1 : -1);\r\n    }\r\n    \r\n    buildColorTable ()\r\n    {\r\n        $(this.resultTable).show();\r\n        this.removeOldResults();\r\n        this.resultHeader = document.createElement('tr');\r\n        this.resultHeader.className = 'pane-item';\r\n\r\n        let resultHeaderWrapper = document.createElement('td');\r\n        resultHeaderWrapper.className = 'pane-item-visual pane-item-group pane-item-indent-level1';\r\n        resultHeaderWrapper.colSpan = 2;\r\n\r\n        let resultTitle = document.createElement('span');\r\n        resultTitle.textContent = '';\r\n\r\n        resultHeaderWrapper.appendChild(resultTitle);\r\n\r\n        this.resultHeader.appendChild(resultHeaderWrapper);\r\n        this.tableBody.appendChild(this.resultHeader);\r\n        let res = this.filterList;\r\n\r\n        for (var i = 0; i < res.length; i++)\r\n        {\r\n            let resultRow = document.createElement('tr');\r\n            //DO NOT delete class color-search-result-row, it's needed for CSS queries\r\n            resultRow.className = 'pane-item color-search-result-row';\r\n            resultRow.id = 'ColorSearchResult_' + res[i].Color.replace('#', \"\");\r\n\r\n            let resultColorWrapper = document.createElement('td');\r\n            resultColorWrapper.className = 'pane-item-entry-name pane-item-indent-level2';\r\n\r\n            let resultColorDiv = document.createElement('div');\r\n            resultColorDiv.className = 'pane-item-entry-wrapper';\r\n\r\n            let resultColor = document.createElement('span');\r\n            resultColor.className = 'pane-item-entry-colorpicker';\r\n            resultColor.style.listStyle = 'none';\r\n            let color = '#' + res[i].Color.slice(3);\r\n            resultColor.textContent = color;\r\n            resultColor.style.backgroundColor = color;\r\n            resultColor.style.textAlign = 'center';\r\n            //Decide if font color is white or black\r\n            var rgb = color.substr(1);\r\n            var int = parseInt(rgb, 16);\r\n            var r = ((int >> 16) & 255) / 255;\r\n            var g = ((int >> 8) & 255) / 255;\r\n            var b = (int & 255) / 255;\r\n\r\n            var rgbArr = [r, g, b];\r\n\r\n            for (var j = 0; j < rgbArr.length; j++);\r\n            {\r\n                if (rgbArr[j] <= 0.03928)\r\n                {\r\n                    rgbArr[j] = rgbArr[j] / 12.92;\r\n                }\r\n                else\r\n                {\r\n                    rgbArr[j] = Math.pow((rgbArr[j] + 0.055) / 1.055, 2.4);\r\n                }\r\n            }\r\n            let luminance = 0.2126 * rgbArr[0] + 0.7152 * rgbArr[1] + 0.0722 * rgbArr[2];\r\n\r\n            let fontColor = (luminance > 0.179) ? 'black' : 'white';\r\n            resultColor.style.color = fontColor;\r\n\r\n            $(resultColor).mousedown((e) =>\r\n            {\r\n                let xml = '<Call Method=\"SearchNodes\">';\r\n                xml += '<Color>' + e.target.textContent + '</Color>';\r\n                xml += '<SelectionMode>Select</SelectionMode>';\r\n                xml += '<IncludeHiddenGeometries>' + this.values['Settings'].Scene.Tools.Search.IncludeHiddenGeometries + '</IncludeHiddenGeometries>';\r\n                xml += '</Call>';\r\n                vsClient.command.executeXML(xml);\r\n            })\r\n\r\n            resultColorDiv.appendChild(resultColor);\r\n            resultColorWrapper.appendChild(resultColorDiv);\r\n            resultRow.appendChild(resultColorWrapper);\r\n\r\n            let resultCountWrapper = document.createElement('td');\r\n            resultCountWrapper.className = 'pane-item-visual';\r\n\r\n            let resultCountDiv = document.createElement('div');\r\n            resultCountDiv.className = 'pane-item-entry-wrapper';\r\n\r\n            let resultCount = document.createElement('input');\r\n            resultCount.className = 'pane-item-entry-input';\r\n            resultCount.disabled = true;\r\n            resultCount.value = res[i].Quantity;\r\n\r\n            resultCountDiv.appendChild(resultCount);\r\n            resultCountWrapper.appendChild(resultCountDiv);\r\n            resultRow.appendChild(resultCountWrapper);\r\n            this.tableBody.appendChild(resultRow);\r\n        }\r\n    }\r\n\r\n    removeOldResults ()\r\n\t{\r\n\t\tif (this.resultHeader)\r\n\t\t{\r\n            $(this.resultHeader).remove();\r\n            $('.color-search-result-row').each(function ()\r\n\t\t\t{\r\n                $(this).remove();\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tsearchNodesByAttribute(attribute, value)\r\n\t{\r\n        let searchString = '\"' + attribute + '\"' + '=\"' + value + '\"';\r\n        this.searchNodes(searchString);\r\n    }\r\n\r\n\tsearchNodesByName(name)\r\n\t{\r\n        let searchString = 'Name' + '=\"' + name + '\"';\r\n        this.searchNodes(searchString);\r\n    }\r\n\r\n\tsearchNodes(searchString)\r\n\t{\r\n        let xml = '<Call Method=\"SearchNodes\">';\r\n        xml += '<SearchString>' + searchString + '</SearchString>';\r\n        xml += '<SelectionMode>Select</SelectionMode>';\r\n        xml += '<IncludeHiddenGeometries>' + this.values['Settings'].Scene.Tools.Search.IncludeHiddenGeometries + '</IncludeHiddenGeometries>';\r\n        xml += '</Call>';\r\n\r\n        vsClient.command.executeXML(xml);\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n        $(\"#wv-filter #OnFilterSearchByNameClicked\").click(ev =>\r\n        {\r\n            let name = $('#UID_SEARCH_BY_NAME_TEXT').text();\r\n            if (name && name !== \"\" && name !== null)\r\n            {\r\n                this.searchNodesByName(name);\r\n            }\r\n        });\r\n\r\n        $(\"#wv-filter #OnFilterSearchByAttributeClicked\").click(ev =>\r\n        {\r\n            let attribute = $('#UID_SEARCH_BY_ATTRIBUTE_NAME').text();\r\n            let value = $('#UID_SEARCH_BY_ATTRIBUTE_VALUE').text();\r\n            this.searchNodesByAttribute(attribute, value);\r\n        });\r\n\r\n        $(\"#wv-filter #OnFilterSearchByStringClicked\").click(ev =>\r\n        {\r\n            let searchString = $('#UID_SEARCH_BY_STRING_TEXT').text();\r\n            if (searchString && searchString !== \"\" && searchString !== null)\r\n            {\r\n                this.searchNodes(searchString);\r\n            }\r\n        });\r\n\r\n        $(\"#wv-filter #OnFilterColorListClicked\").click(ev =>\r\n        {\r\n            vsClient.emit('ComputeColorList');\r\n        });\r\n    }\r\n\r\n\tchangeLang(lang: string)\r\n    {\r\n        this.countHeaderTextEl.textContent = ui.translate('ID_BOM_QUANTITY');\r\n        this.colorHeaderTextEl.textContent = ui.translate('ID_COLOR');\r\n        let GetFilterPaneTemplate = `<Call Method=\"GetTemplate\"><Type>FilterPane</Type></Call>`;\r\n        vsClient.command.executeXML(GetFilterPaneTemplate);\r\n        vsClient.once('GetTemplate.FilterPane', (response: any) =>\r\n        {\r\n            const template = response['Source']['Template'];\r\n            this.adapter.fromTemplate(template);\r\n            this.addMethods();\r\n        });\r\n        $('#UID_SEARCH_BY_STRING_TEXT').text('Name=\"**\" + Content=\"\" + Type=\"ProductOccurrence\" + Color=\"RGB\" + CustomId=\"\" + \"<AttributeName>\"=\"\"');\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n        this.adapter = new pane.PaneAdapter(this.el);\r\n        this.adapter.fromTemplate(template);\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values);\r\n                return;\r\n            }\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n            let path = src.item.path\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n            let xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n        });\r\n\t\tif (template['Event'])\r\n\t\t{\r\n            const event = template['Event'];\r\n            vsClient.removeListener(event, this.update);\r\n            vsClient.on(event, this.update);\r\n        }\r\n        $('#UID_SEARCH_BY_STRING_TEXT').text('Name=\"**\" + Content=\"\" + Type=\"ProductOccurrence\" + Color=\"RGB\" + CustomId=\"\" + \"<AttributeName>\"=\"\"');\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n        this.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        };\r\n        this.adapter.updateValues(this.values);\r\n        if (!$('#UID_SEARCH_BY_STRING_TEXT').text() || $('#UID_SEARCH_BY_STRING_TEXT').text() === '')\r\n        {\r\n            $('#UID_SEARCH_BY_STRING_TEXT').text('Name=\"**\" + Content=\"\" + Type=\"ProductOccurrence\" + Color=\"RGB\" + CustomId=\"\" + \"<AttributeName>\"=\"\"');\r\n        }\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/filter-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\nimport * as ribbonMenu from '../ribbon/menu'\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class FlyThroughPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-flythrough #OnFlyThroughSetNewCameraPositionClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tribbonMenu.handleActivateInteraction(vsClient, 'Flythrough_SelectStartPositionAndDirection')\r\n\t\t})\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetFlyThroughPaneTemplate = `<Call Method=\"GetTemplate\"><Type>FlyThroughPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetFlyThroughPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.FlyThroughPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n\t\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet path = src.item.path\r\n\t\t\tpane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n\t\t\tlet xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n        if (template['Event'])\r\n        {\r\n            const event = template['Event']\r\n            vsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/flythrough-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class GeometryToolsPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetGeometryToolsPaneTemplate = `<Call Method=\"GetTemplate\"><Type>GeometryToolsPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetGeometryToolsPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.GeometryToolsPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\taddMethods()\r\n    {\r\n        //Optimize instances\r\n        $(\"#wv-geometry-tools #OnOptimizeInstancesClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"OptimizeIdenticalInstances\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        //Faces, normals, wires generation/removal\r\n        $(\"#wv-geometry-tools #OnFacesGenerationClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"GenerateFaces\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        $(\"#wv-geometry-tools #OnFacesRemoveClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"RemoveFaces\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        $(\"#wv-geometry-tools #OnNormalsGenerateClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"GenerateNormals\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        $(\"#wv-geometry-tools #OnNormalsRemoveClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"RemoveNormals\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        $(\"#wv-geometry-tools #OnWiresGenerateClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"GenerateWires\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        $(\"#wv-geometry-tools #OnWiresRemoveClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"RemoveWires\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        //Tesselation reduction\r\n        $(\"#wv-geometry-tools #OnLODReductionClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"GenerateLODGeometry\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        //Select geometry duplicates\r\n        $(\"#wv-geometry-tools #OnGeomDuplicatesClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"DetectGeometryCopies\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        //Recenter geometries\r\n        $(\"#wv-geometry-tools #OnRecenterToBBCenterClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"RecenterGeometriesToBoundingboxCenter\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        $(\"#wv-geometry-tools #OnRecenterToBBMinClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"RecenterGeometriesToBoundingboxMinimum\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        //Detect tiny geometries\r\n        $(\"#wv-geometry-tools #OnDetectTinyGeomsClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"DetectTinyGeometries\"></Call>'\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n    }\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.addMethods()\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n\t\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet path = src.item.path\r\n\t\t\tpane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n\t\t\tlet xml = XMLParser.serializeWithValue(path, value)\r\n\t\t\tlet settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n        if (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/geometry-tools-pane.ts","export { Modeltree, TreeviewInfo } from './modeltree'\r\nexport { PropertyPane } from './property-pane'\r\nexport { ViewPane } from './view-pane'\r\nexport { SettingsPane } from './settings-pane'\r\nexport { MeasurementPane } from './measurement-pane'\r\nexport { TransformPane } from './transform-pane'\r\nexport { DraftAnglePane} from './draft-angle-pane'\r\nexport { MarkupPane } from './markup-pane'\r\nexport { MarkupPane_Reduced} from './markup-pane-reduced'\r\nexport { SectionPane} from './section-pane'\r\nexport { QuickComparePane} from './quick-compare-pane'\r\nexport { ProjectedAreaPane} from './projected-area-pane'\r\nexport { ExactComparePane} from './exact-compare-pane'\r\nexport { MirrorPane} from './mirror-pane'\r\nexport { FilterPane} from './filter-pane'\r\nexport { FlyThroughPane} from './flythrough-pane'\r\nexport { DistortionPane} from './distortion-pane'\r\nexport { VisibilityTestPane} from './visibility-test-pane'\r\nexport { WallthicknessPane } from './wallthickness-pane'\r\nexport { DrillholePane } from './drillhole-pane'\r\nexport { TextSearchPane } from './text-search-pane'\r\nexport { NeutralAxisPane } from './neutral-axis-pane'\r\nexport { NeighbourhoodSearchPane } from './neighbourhood-search-pane'\r\nexport { SelectionsPane } from './selections-pane'\r\nexport { CommandPane } from './command'\r\nexport { BOMPane } from './bom-pane'\r\nexport { CalloutPane } from './callout-pane'\r\nexport { SplitPane } from './split-pane'\r\nexport { ExplodePane } from './explode-pane'\r\nexport { AnimationPane } from './animation-pane'\r\nexport { GeometryToolsPane} from './geometry-tools-pane'\r\nexport { ClashPane } from './clash-pane'\r\nexport { BandAnalysisPane} from './band-analysis-pane'\r\n\n\n\n// WEBPACK FOOTER //\n// ./app-panes/index.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class MarkupPane_Reduced extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetMarkupPaneTemplate = `<Call Method=\"GetTemplate\"><Type>MarkupPane_Reduced</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetMarkupPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.MarkupPane_Reduced', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n\t\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet path = src.item.path\r\n\t\t\tpane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n\t\t\tlet xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/markup-pane-reduced.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class MarkupPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetMarkupPaneTemplate = `<Call Method=\"GetTemplate\"><Type>MarkupPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetMarkupPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.MarkupPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.adapter.on('user-input', (src: pane.Visual, value) =>\r\n\t\t{\r\n\t\t\tif (value === 'toggle-folder-visibility')\r\n\t\t\t{\r\n\t\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet path = src.item.path\r\n\t\t\tpane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n            let xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        })\r\n\r\n        if (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/markup-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport * as w from '../ribbon/widget'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { appStates } from '../app/app-states';\r\n\r\nexport class MeasurementPane extends PaneTemplate\r\n{\r\n    el: HTMLTableElement\r\n    values: {}\r\n\r\n    constructor (paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption)\r\n\r\n        this.el = document.createElement('table')\r\n        this.el.classList.add('pane-content')\r\n\r\n        this.wrapperEl.appendChild(this.el)\r\n    }\r\n\r\n    addMethods ()\r\n    {\r\n        $(\"#wv-measurement #OnAccumulatedLengthComplete\").off('click').click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"FinishCurrentAction\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        $(\"#wv-measurement #OnAccumulatedLengthFromSelection\").off('click').click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"MeasureSelectedWireLength\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n    }\r\n\r\n    changeLang (lang: string)\r\n    {\r\n        let GetMeasurementPaneTemplate = `<Call Method=\"GetTemplate\"><Type>MeasurementPane</Type></Call>`\r\n        vsClient.command.executeXML(GetMeasurementPaneTemplate)\r\n        vsClient.once('GetTemplate.MeasurementPane', (response: any) =>\r\n        {\r\n            const template = response['Source']['Template']\r\n            this.adapter.fromTemplate(template)\r\n            this.addMethods()\r\n        })\r\n    }\r\n\r\n\r\n    fromTemplate (template: {})\r\n    {\r\n        this.adapter = new pane.PaneAdapter(this.el);\r\n        this.adapter.fromTemplate(template);\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility' || (src.item.id && value.startsWith('UID_')))\r\n            {\r\n                this.adapter.updateValues(this.values);\r\n                this.computeGroupVisibility(true);\r\n                return;\r\n            }\r\n            let path = src.item.path;\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n            if (path[0] === 'Event')\r\n            {\r\n                value = parseFloat(value).toString();\r\n                pane.modifySettings(this.values, path, value);\r\n                let xml = XMLParser.serializeWithValue(path, value, ['Type=' + template['Event']]);\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            else\r\n            {\r\n                pane.modifySettings(ui.settingsPane.sceneSettings, path, value);\r\n                let xml = XMLParser.serializeWithValue(path, value);\r\n                let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`;\r\n                vsClient.command.executeXML(settings);\r\n                if (this.hasPresets)\r\n                {\r\n                    this.stack.changeToCustomPreset();\r\n                }\r\n                switch (path[path.length - 1])\r\n                {\r\n                    case 'Dimensioning':\r\n                        let measureButton = w.findButton('ID_RIBBON_MEASUREMENT_1');\r\n                        if (measureButton)\r\n                        {\r\n                            measureButton.applyHighlight(!value);\r\n                        }\r\n                        let dimensioningButton = w.findButton('ID_RIBBON_DIMENSION');\r\n                        if (dimensioningButton)\r\n                        {\r\n                            dimensioningButton.applyHighlight(value);\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (template['Event'])\r\n        {\r\n            const event = template['Event'];\r\n            vsClient.removeListener(event, this.update);\r\n            vsClient.on(event, this.update);\r\n        }\r\n    }\r\n\r\n    update = (response) =>\r\n    {\r\n        this.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        };\r\n        if (response && response.Type !== 'MeasurementChanged')\r\n        {\r\n            let dimensioning = response.Scene.Tools.Dimensioning.Dimensioning === \"true\";\r\n            let circleSelection = response.Scene.Tools.CircleSelection.SelectCircleWith3Points === \"true\";\r\n            let measureButton = w.findButton('ID_RIBBON_MEASUREMENT_1');\r\n            if (measureButton)\r\n            {\r\n                measureButton.applyHighlight(!dimensioning);\r\n            }\r\n            let dimensioningButton = w.findButton('ID_RIBBON_DIMENSION');\r\n            if (dimensioningButton)\r\n            {\r\n                dimensioningButton.applyHighlight(dimensioning);\r\n            }\r\n            let arcButton = w.findButton('ID_RIBBON_ARC');\r\n            if (arcButton)\r\n            {\r\n                arcButton.applyHighlight(!circleSelection);\r\n            }\r\n            let threePoints = w.findButton('ID_RIBBON_3_POINTS');\r\n            if (threePoints)\r\n            {\r\n                threePoints.applyHighlight(circleSelection);\r\n            }\r\n        }\r\n        this.adapter.updateValues(this.values);\r\n        this.computeGroupVisibility();\r\n    }\r\n\r\n    computeGroupVisibility (toggleFolder: boolean = false)\r\n    {\r\n        //Workaround for different pane types\r\n        let wtGroup;\r\n        let pointGroup;\r\n        let distanceGroup;\r\n        let planeToAxisGroup;\r\n        let projectedLineGroup;\r\n\r\n        for (var item in this.adapter.items)\r\n        {\r\n            switch (this.adapter.items[item].id)\r\n            {\r\n                case 'UID_MEASUREMENT_PANE_DISTANCE':\r\n                    distanceGroup = this.adapter.items[item] as pane.Item;\r\n                    break;\r\n                case 'UID_MEASUREMENT_PANE_POINT':\r\n                    pointGroup = this.adapter.items[item] as pane.Item;\r\n                    break;\r\n                case 'UID_MEASUREMENT_PANE_WALLTHICKNESS':\r\n                    wtGroup = this.adapter.items[item] as pane.Item;\r\n                    break;\r\n                case 'UID_MEASUREMENT_PANE_PLANE_TO_AXIS':\r\n                    planeToAxisGroup = this.adapter.items[item] as pane.Item;\r\n                    break;\r\n                case 'UID_MEASUREMENT_PANE_PLANE_PROJECTED_LINE':\r\n                    projectedLineGroup = this.adapter.items[item] as pane.Item;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n        if (appStates.interactionMode.indexOf('Measurement_WallThickness_RayBased') !== -1\r\n            || appStates.interactionMode.indexOf('Measurement_WallThickness_RollingBall') !== -1)\r\n        {\r\n            if (!toggleFolder)\r\n            {\r\n                wtGroup.expandAll();\r\n            }\r\n            distanceGroup.collapseAll(true);\r\n            pointGroup.collapseAll(true);\r\n            planeToAxisGroup.collapseAll(true);\r\n            projectedLineGroup.collapseAll(true);\r\n        }\r\n        else if (appStates.interactionMode.indexOf('Measurement_PointCoordinate') !== -1)\r\n        {\r\n            wtGroup.collapseAll(true);\r\n            distanceGroup.collapseAll(true);\r\n            if (!toggleFolder)\r\n            {\r\n                pointGroup.expandAll();\r\n            }\r\n            planeToAxisGroup.collapseAll(true);\r\n            projectedLineGroup.collapseAll(true);\r\n        }\r\n        else if (appStates.interactionMode.indexOf('Measurement_AngleBetweenPlaneDirection') !== -1)\r\n        {\r\n            wtGroup.collapseAll(true);\r\n            distanceGroup.collapseAll(true);\r\n            pointGroup.collapseAll(true);\r\n            if (!toggleFolder)\r\n            {\r\n                planeToAxisGroup.expandAll();\r\n            }\r\n            projectedLineGroup.collapseAll(true);\r\n        }\r\n        else if (appStates.interactionMode.indexOf('Measurement_AngleBetweenTwoProjectedLines') !== -1)\r\n        {\r\n            wtGroup.collapseAll(true);\r\n            distanceGroup.collapseAll(true);\r\n            pointGroup.collapseAll(true);\r\n            planeToAxisGroup.collapseAll(true);\r\n            if (!toggleFolder)\r\n            {\r\n                projectedLineGroup.expandAll();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            let isDistance = false;\r\n            for (let i = 0; i < appStates.interactionMode.length; i++)\r\n            {\r\n                if (appStates.interactionMode[i].indexOf('Measurement') !== -1 && appStates.interactionMode[i].indexOf('Distance') !== -1)\r\n                {\r\n                    isDistance = true;\r\n                    break;\r\n                }\r\n            }\r\n            wtGroup.collapseAll(true);\r\n            pointGroup.collapseAll(true);\r\n            planeToAxisGroup.collapseAll(true);\r\n            projectedLineGroup.collapseAll(true);\r\n            if (isDistance)\r\n            {\r\n                if (!toggleFolder)\r\n                {\r\n                    distanceGroup.expandAll();\r\n                }\r\n            }\r\n            else\r\n            {\r\n                distanceGroup.collapseAll(true);\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/measurement-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class MirrorPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-mirror #OnMirrorClick\").click(ev =>\r\n\t\t{\r\n\t\t\tlet createCopy = $('#UID_MIRROR_CREATE_COPY').val();\r\n\t\t\tlet mirrorPlane = $('#UID_MIRROR_AT_PLANE').val();\r\n\t\t\tlet mirrorAt = $('#UID_MIRROR_AT').val();\r\n\t\t\tlet xml = '<Call Method=\"MirrorSelectedNodes\">';\r\n\t\t\txml += '<Copy>' + createCopy + '</Copy>';\r\n\t\t\txml += '<Axis>' + mirrorPlane + '</Axis>';\r\n\t\t\txml += '<Location>' + mirrorAt + '</Location>';\r\n\t\t\txml += '</Call>';\r\n\t\t\tvsClient.command.executeXML(xml);\r\n\t\t})\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetMirrorPaneTemplate = `<Call Method=\"GetTemplate\"><Type>MirrorPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetMirrorPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.MirrorPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/mirror-pane.ts","/// <reference path=\"../app/global-decl.d.ts\" />\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { NodeType } from '../app/node-types'\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport * as ui from '../app/ui'\r\nimport { appStates } from '../app/app-states';\r\nimport { WVTooltip } from '../app/tooltip';\r\ndeclare var vsClient: VSWebClient\r\ndeclare var _SceneNameOverride;\r\n\r\n\r\nconst SVG_NS = 'http://www.w3.org/2000/svg'\r\nconst XLINK_NS = 'http://www.w3.org/1999/xlink'\r\n\r\nexport class TreeviewItemInfo\r\n{\r\n\tconstructor(\r\n\t\tpublic ExpanderState: number,\r\n\t\tpublic Level: number,\r\n\t\tpublic NodeId: string,\r\n\t\tpublic NodeName: string,\r\n\t\tpublic NodeType: number,\r\n\t\tpublic Selection: number,\r\n\t\tpublic Visibility: number,\r\n\t\tpublic Parent: number\r\n\t) { }\r\n}\r\n\r\nexport interface TreeviewInfo\r\n{\r\n\tExpandedNodes: number\r\n\tVirtualScrollPosition: number\r\n\tItems: TreeviewItemInfo[]\r\n}\r\n\r\ninterface TreeTooltip\r\n{\r\n\tkey: string,\r\n\ttooltip: string\r\n}\r\n\r\nexport class Modeltree extends PaneTemplate\r\n{\r\n\r\n\tminBarHeight = 15\r\n\r\n\tel: HTMLElement\r\n\ttreeItemsInfo: TreeviewItemInfo[] = []\r\n\titems: HTMLElement[] = []\r\n\r\n\tmodeltreeButtons: HTMLElement\r\n\tcontentWrapper: HTMLElement\r\n\tlineHeight: number\r\n\tmenuContainer: HTMLElement\r\n\r\n\texpandAll: HTMLElement\r\n\texpandAllTooltip: WVTooltip\r\n\tcollapseAll: HTMLElement\r\n\tcollapseAllTooltip: WVTooltip\r\n\texpandSelected: HTMLElement\r\n\texpandSelectedTooltip: WVTooltip\r\n\tcollapseSelected: HTMLElement\r\n\tcollapseSelectedTooltip: WVTooltip\r\n\texpandSelectedLevel: HTMLElement\r\n    expandSelectedLevelTooltip: WVTooltip\r\n    selectSameLevel: HTMLElement\r\n\tselectSameLevelTooltip: WVTooltip\r\n\r\n\r\n\tbar: HTMLElement\r\n\titemsContainer: HTMLElement\r\n\tbarRail: HTMLElement\r\n\tfirstScrollHit: number\r\n\r\n\tselectedNodeIds: string[] = []\r\n\tcurrentExpandedNode: number = 0\r\n\r\n\ttouchStart: number\r\n\ttouchSteps: number\r\n\r\n\tfirstInit: boolean = true\r\n\r\n\ttooltips: WVTooltip[] = []\r\n\ttooltipKeys: TreeTooltip[] = []\r\n\tactualTooltip: WVTooltip\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n        super(paneId, caption);\r\n        this.noAdapter = true;\r\n\r\n        this.scrollOnKey = this.scrollOnKey.bind(this);\r\n        this.modeltreeButtons = document.createElement('div');\r\n        this.modeltreeButtons.classList.add('modeltree-buttons');\r\n\r\n        this.expandAll = document.createElement('i');\r\n        this.expandAll.className = 'fa fa-chevron-double-right tree-header-action-icon';\r\n        this.expandAllTooltip = new WVTooltip(this.expandAll);\r\n\t\tthis.expandAllTooltip.setTitle(_lang_data['ID_EXPAND_ALL'][this.lang]);\r\n\t\tthis.expandAll.addEventListener('click', () =>\r\n\t\t{\r\n\t\t\tlet s = '<Call Method=\"VirtualTreeViewExpandAll\"></Call>'\r\n\t\t\tvsClient.command.executeXML(s)\r\n\t\t}, false)\r\n\r\n        this.collapseAll = document.createElement('i');\r\n        this.collapseAll.className = 'fa fa-chevron-double-left tree-header-action-icon';\r\n        this.collapseAllTooltip = new WVTooltip(this.collapseAll);\r\n\t\tthis.collapseAllTooltip.setTitle(_lang_data['ID_COLLAPSE_ALL'][this.lang]);\r\n\t\tthis.collapseAll.addEventListener('click', () =>\r\n\t\t{\r\n\t\t\tlet s = '<Call Method=\"VirtualTreeViewCollapseAll\"></Call>'\r\n\t\t\tvsClient.command.executeXML(s)\r\n\t\t}, false)\r\n\r\n        this.expandSelected = document.createElement('i');\r\n        this.expandSelected.className = 'fa fa-chevron-right tree-header-action-icon';\r\n        this.expandSelectedTooltip = new WVTooltip(this.expandSelected);\r\n\t\tthis.expandSelectedTooltip.setTitle(_lang_data['ID_EXPAND_SELECTED'][this.lang]);\r\n\t\tthis.expandSelected.addEventListener('click', () =>\r\n\t\t{\r\n\t\t\tlet s = '<Call Method=\"VirtualTreeViewExpandSelected\"></Call>'\r\n\t\t\tvsClient.command.executeXML(s)\r\n\t\t}, false)\r\n\r\n        this.collapseSelected = document.createElement('i');\r\n        this.collapseSelected.className = 'fa fa-chevron-left tree-header-action-icon';\r\n        this.collapseSelectedTooltip = new WVTooltip(this.collapseSelected);\r\n\t\tthis.collapseSelectedTooltip.setTitle(_lang_data['ID_COLLAPSE_SELECTED'][this.lang]);\r\n\t\tthis.collapseSelected.addEventListener('click', () =>\r\n\t\t{\r\n\t\t\tlet s = '<Call Method=\"VirtualTreeViewCollapseSelected\"></Call>'\r\n\t\t\tvsClient.command.executeXML(s)\r\n\t\t}, false)\r\n\r\n        this.expandSelectedLevel = document.createElement('i');\r\n        this.expandSelectedLevel.className = 'tree-header-action-icon fa fa-code';\r\n        this.expandSelectedLevelTooltip = new WVTooltip(this.expandSelectedLevel);\r\n\t\tthis.expandSelectedLevelTooltip.setTitle(_lang_data['ID_EXPAND_EACH_TILL_SELECTED'][this.lang]);\r\n\t\tthis.expandSelectedLevel.addEventListener('click', () =>\r\n\t\t{\r\n\t\t\tlet s = '<Call Method=\"VirtualTreeViewExpandToSelectedLevel\"></Call>'\r\n            vsClient.command.executeXML(s)\r\n        }, false)\r\n\r\n        this.selectSameLevel = document.createElement('i');\r\n        this.selectSameLevel.className = 'tree-header-action-icon fa fa-stream';\r\n        this.selectSameLevelTooltip = new WVTooltip(this.selectSameLevel);\r\n        this.selectSameLevelTooltip.setTitle(_lang_data['ID_SELECT_SAME_LEVEL'][this.lang]);\r\n\t\tthis.selectSameLevel.addEventListener('click', () =>\r\n\t\t{\r\n\t\t\tlet s = '<Call Method=\"VirtualTreeViewSelectSameLevelNodes\"></Call>'\r\n\t\t\tvsClient.command.executeXML(s)\r\n\t\t}, false)\r\n\r\n\r\n\t\tthis.modeltreeButtons.appendChild(this.expandAll)\r\n\t\tthis.modeltreeButtons.appendChild(this.collapseAll)\r\n\t\tthis.modeltreeButtons.appendChild(this.expandSelected)\r\n\t\tthis.modeltreeButtons.appendChild(this.collapseSelected)\r\n        this.modeltreeButtons.appendChild(this.expandSelectedLevel)\r\n        this.modeltreeButtons.appendChild(this.selectSameLevel)\r\n\r\n\t\tthis.el = document.createElement('div')\r\n\t\tthis.el.classList.add('modeltree-innerwrapper')\r\n\t\tthis.el.style.position = 'relative'\r\n\t\tthis.el.style.height = '100%'\r\n\t\tthis.el.appendChild(this.modeltreeButtons)\r\n\r\n\t\tthis.contentWrapper = document.createElement('div')\r\n\t\tthis.contentWrapper.classList.add('modeltree-content')\r\n\t\tthis.el.appendChild(this.contentWrapper)\r\n\r\n\t\tthis.bar = document.createElement('div')\r\n\t\tthis.bar.classList.add('modeltree-bar')\r\n\t\tthis.contentWrapper.appendChild(this.bar)\r\n\r\n\t\tthis.barRail = document.createElement('div')\r\n\t\tthis.barRail.className = \"modeltree-bar-rail\"\r\n\t\tthis.barRail.style.display = 'none'\r\n\t\tthis.barRail.addEventListener('click', ev =>\r\n\t\t{\r\n\t\t\tlet deltaClick = parseInt(this.bar.style.top.replace(\"px\", \"\")) - ev.offsetY\r\n\t\t\tlet page = this.currentMaxVisible()\r\n\t\t\tif (deltaClick > 0)\r\n\t\t\t{\r\n\t\t\t\tlet xml = '<Call Method=\"VirtualTreeViewScrollUp\"><Steps>' + page + '</Steps></Call>'\r\n\t\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet xml = '<Call Method=\"VirtualTreeViewScrollDown\"><Steps>' + page + '</Steps></Call>'\r\n\t\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\r\n\t\tthis.contentWrapper.addEventListener('mouseenter', ev =>\r\n\t\t{\r\n\t\t\tthis.toggleScrollEvents(true)\r\n\t\t})\r\n\r\n\t\tthis.contentWrapper.addEventListener('mouseleave', ev =>\r\n\t\t{\r\n\t\t\tthis.toggleScrollEvents(false)\r\n\t\t})\r\n\r\n\r\n\t\tthis.contentWrapper.appendChild(this.barRail)\r\n\r\n\t\tthis.itemsContainer = document.createElement('div')\r\n\t\tthis.itemsContainer.classList.add('modeltree-itemscontainer')\r\n\t\tthis.contentWrapper.appendChild(this.itemsContainer)\r\n\r\n        this.el.addEventListener('contextmenu', ev =>\r\n        {\r\n            ev.preventDefault();\r\n            $('#contextMenu').remove();\r\n            $(document).off('mousedown', vsClient.vsCanvas.closeContextMenu);\r\n            $(document).off('keyup', vsClient.vsCanvas.closeContextMenu);\r\n            vsClient.vsCanvas.createContextMenu(ev);\r\n        });\r\n\t\tthis.bar.addEventListener('mousedown', this.barOnclick, false)\r\n\t\tthis.el.addEventListener('wheel', this.barOnwheel, false)\r\n\t\tthis.bar.addEventListener('touchstart', this.barOntouchstart)\r\n\t\tthis.bar.addEventListener('touchmove', this.barOntouchmove)\r\n\t\tthis.bar.addEventListener('touchend', this.barOnstop)\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t\t// this.lineHeight = this.modeltreeButtons.offsetHeight\r\n\t\t// this.contentWrapper.style.top = this.lineHeight + 'px'\r\n\t\tthis.lineHeight = 20\r\n\t\tthis.contentWrapper.style.top = this.modeltreeButtons.offsetHeight + 'px'\r\n\t\tthis.contentWrapper.style.height = \"calc(100% - \" + (this.modeltreeButtons.offsetHeight) + 'px)'\r\n\r\n\t\t//Mock scroll events for body dragging\r\n\t\tthis.touchStart = 0\r\n\r\n\r\n\t\tvsClient.on('GetNodeTooltip', (response: any, XML: string) =>\r\n\t\t{\r\n\t\t\t//Add tooltip to array\r\n\t\t\tlet newTooltip: TreeTooltip = {\r\n\t\t\t\tkey: response.CustomId,\r\n\t\t\t\ttooltip: response.Tooltip\r\n\t\t\t};\r\n\t\t\tthis.addTooltipKey(newTooltip);\r\n\r\n\t\t\tlet actualTooltipKey = this.actualTooltip.key;\r\n\t\t\tlet tooltipMatch = this.mapTooltip(actualTooltipKey);\r\n\t\t\tif (tooltipMatch)\r\n\t\t\t{\r\n\t\t\t\tthis.actualTooltip.removeAttributes();\r\n\t\t\t\tthis.actualTooltip.addAttribute(tooltipMatch.tooltip);\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\n\taddMethods()\r\n\t{\r\n\t}\r\n\r\n\taddTooltipKey(tooltip: TreeTooltip)\r\n\t{\r\n\t\tlet keyCount = this.tooltipKeys.length;\r\n\t\t//Remove the first tooltip if the array gets too large (newest tooltip is at the end of the array)\r\n\t\tif (keyCount > 200)\r\n\t\t{\r\n\t\t\tthis.tooltipKeys.shift();\r\n\t\t}\r\n\t\tlet existed = false;\r\n\t\tfor (let k = 0; k < keyCount; k++)\r\n\t\t{\r\n\t\t\tif (this.tooltipKeys[k].key === tooltip.key)\r\n\t\t\t{\r\n\t\t\t\texisted = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!existed)\r\n\t\t{\r\n\t\t\tthis.tooltipKeys.push(tooltip);\r\n\t\t}\r\n\t}\r\n\r\n\tmapTooltip(key: string)\r\n\t{\r\n\t\tlet keyCount = this.tooltipKeys.length;\r\n\t\tfor (let k = 0; k < keyCount; k++)\r\n\t\t{\r\n\t\t\tif (this.tooltipKeys[k].key === key)\r\n\t\t\t{\r\n\t\t\t\treturn this.tooltipKeys[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn undefined\r\n\t}\r\n\r\n\taddEventListener = () =>\r\n\t{\r\n\t\tif (this.firstInit)\r\n\t\t{\r\n\t\t\tdocument.getElementById('wv-canvas').addEventListener('mouseenter', ev =>\r\n\t\t\t{\r\n\t\t\t\tthis.toggleScrollEvents(true)\r\n\t\t\t})\r\n\r\n\t\t\tdocument.getElementById('wv-canvas').addEventListener('mouseleave', ev =>\r\n\t\t\t{\r\n\t\t\t\tthis.toggleScrollEvents(false)\r\n\t\t\t})\r\n\t\t\tthis.firstInit = false;\r\n\t\t}\r\n\r\n\t\t$(this.itemsContainer).kendoTouch({\r\n\t\t\tdrag: (e) =>\r\n\t\t\t{\r\n\t\t\t\tif (this.touchStart > e.touch.y.location && (this.touchStart - e.touch.y.location) > 20)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.touchStart = e.touch.y.location\r\n\t\t\t\t\tthis.touchSteps++\r\n\t\t\t\t\tvar scrollbarFullHeight = this.contentWrapper.offsetHeight\r\n\t\t\t\t\tthis.scrollPosition += 3\r\n\t\t\t\t\tif (this.scrollPosition < 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.scrollPosition = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.scrollPosition > scrollbarFullHeight - this.bar.offsetHeight)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.scrollPosition = scrollbarFullHeight - this.bar.offsetHeight\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.bar.style.top = this.scrollPosition + 'px'\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.touchStart < e.touch.y.location && (e.touch.y.location - this.touchStart) > 20)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.touchStart = e.touch.y.location\r\n\t\t\t\t\tthis.touchSteps--\r\n\t\t\t\t\tvar scrollbarFullHeight = this.contentWrapper.offsetHeight\r\n\t\t\t\t\tthis.scrollPosition -= 3\r\n\t\t\t\t\tif (this.scrollPosition < 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.scrollPosition = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.scrollPosition > scrollbarFullHeight - this.bar.offsetHeight)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.scrollPosition = scrollbarFullHeight - this.bar.offsetHeight\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.bar.style.top = this.scrollPosition + 'px'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdragstart: (e) =>\r\n\t\t\t{\r\n\t\t\t\tthis.touchSteps = 0\r\n\t\t\t\tthis.touchStart = e.touch.y.location\r\n\t\t\t},\r\n\t\t\tdragend: (e) =>\r\n\t\t\t{\r\n\t\t\t\tthis.touchSteps *= 3\r\n\t\t\t\tlet xml\r\n\t\t\t\tif (this.touchSteps > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\txml = '<Call Method=\"VirtualTreeViewScrollDown\"><Steps>' + this.touchSteps + '</Steps></Call>'\r\n\t\t\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\txml = '<Call Method=\"VirtualTreeViewScrollUp\"><Steps>' + (this.touchSteps * -1) + '</Steps></Call>'\r\n\t\t\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\ttoggleScrollEvents(state)\r\n\t{\r\n\t\tif (state)\r\n\t\t{\r\n\t\t\t$(document).off('keydown', this.scrollOnKey).on('keydown', this.scrollOnKey)\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$(document).off('keydown', this.scrollOnKey)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tscrollOnKey (ev)\r\n\t{\r\n\t\t//First handle key events for the tree\r\n\t\tlet xml: string;\r\n\t\tswitch (ev.keyCode)\r\n\t\t{\r\n\t\t\tcase ev.ctrlKey && 67:    // Ctrl + C: Copy Object\r\n\t\t\t\txml = '<Call Method=\"ModifySelection\"><SelectionModifier>Copy</SelectionModifier></Call>';\r\n\t\t\t\tbreak;\r\n\t\t\tcase ev.ctrlKey && 86:    // Ctrl + V: Paste Object\r\n\t\t\t\txml = '<Call Method=\"ModifySelection\"><SelectionModifier>PasteToSelection</SelectionModifier></Call>';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif (xml)\r\n\t\t{\r\n\t\t\tvsClient.command.executeXML(xml);\r\n\t\t}\r\n\t\tif (appStates.interactionMode.indexOf('Flythrough') === -1)\r\n\t\t{\r\n\t\t\t//Test if arrow left/right are pressed to expand/collapes level\r\n\t\t\tif (ev.keyCode === 37 || ev.keyCode === 39)\r\n\t\t\t{\r\n\t\t\t\t//Left arrow -> collapse level\r\n\t\t\t\tif (ev.keyCode === 37)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet s = '<Call Method=\"VirtualTreeViewCollapseSelected\"></Call>';\r\n\t\t\t\t\tvsClient.command.executeXML(s);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tlet s = '<Call Method=\"VirtualTreeViewExpandSelected\"></Call>';\r\n\t\t\t\t\tvsClient.command.executeXML(s);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//Test if arrow up/down is pressed\r\n\t\t\tif (ev.keyCode !== 40 && ev.keyCode !== 38 || Date.now() - this.firstScrollHit < 200)\r\n\t\t\t{\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.firstScrollHit = Date.now()\r\n\t\t\tif (this.selectedNodeIds.length === 0)\r\n\t\t\t{\r\n\t\t\t\tif (ev.keyCode === 40)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet xml = '<Call Method=\"VirtualTreeViewScrollDown\"><Steps>1</Steps></Call>'\r\n\t\t\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t\t\t}\r\n\t\t\t\telse if (ev.keyCode === 38)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet xml = '<Call Method=\"VirtualTreeViewScrollUp\"><Steps>1</Steps></Call>'\r\n\t\t\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet itemCount = this.treeItemsInfo.length\r\n\t\t\t\tlet selectedItemIndex: number\r\n\t\t\t\tfor (let i = 0; i < itemCount; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.treeItemsInfo[i].NodeId === this.selectedNodeIds[0])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselectedItemIndex = i\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (selectedItemIndex === 0 && ev.keyCode === 38)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet xml = '<Call Method=\"VirtualTreeViewScrollUp\"><Steps>1</Steps></Call>'\r\n\t\t\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t\t\t\tvsClient.once('TreeviewUpdated', () =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setSelectedNodes(this.treeItemsInfo[0].NodeId)\r\n\t\t\t\t\t\tthis.selectedNodeIds = []\r\n\t\t\t\t\t\tthis.selectedNodeIds.push(this.treeItemsInfo[0].NodeId)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse if (selectedItemIndex === itemCount - 1 && ev.keyCode === 40)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet xml = '<Call Method=\"VirtualTreeViewScrollDown\"><Steps>1</Steps></Call>'\r\n\t\t\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t\t\t\tvsClient.once('TreeviewUpdated', () =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.setSelectedNodes(this.treeItemsInfo[itemCount - 1].NodeId)\r\n\t\t\t\t\t\tthis.selectedNodeIds = []\r\n\t\t\t\t\t\tthis.selectedNodeIds.push(this.treeItemsInfo[itemCount - 1].NodeId)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse if (ev.keyCode === 38)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet newSelectedItem = this.treeItemsInfo[selectedItemIndex - 1]\r\n\t\t\t\t\tthis.setSelectedNodes(newSelectedItem.NodeId)\r\n\t\t\t\t\tthis.selectedNodeIds = []\r\n\t\t\t\t\tthis.selectedNodeIds.push(newSelectedItem.NodeId)\r\n\t\t\t\t}\r\n\t\t\t\telse if (ev.keyCode === 40)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet newSelectedItem = this.treeItemsInfo[selectedItemIndex + 1]\r\n\t\t\t\t\tthis.setSelectedNodes(newSelectedItem.NodeId)\r\n\t\t\t\t\tthis.selectedNodeIds = []\r\n\t\t\t\t\tthis.selectedNodeIds.push(newSelectedItem.NodeId)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tthis.expandAllTooltip.setTitle(_lang_data['ID_EXPAND_ALL'][lang]);\r\n\t\tthis.collapseAllTooltip.setTitle(_lang_data['ID_COLLAPSE_ALL'][lang]);\r\n\t\tthis.expandSelectedTooltip.setTitle(_lang_data['ID_EXPAND_SELECTED'][lang]);\r\n\t\tthis.collapseSelectedTooltip.setTitle(_lang_data['ID_COLLAPSE_SELECTED'][lang]);\r\n        this.expandSelectedLevelTooltip.setTitle(_lang_data['ID_EXPAND_EACH_TILL_SELECTED'][lang]);\r\n        this.selectSameLevelTooltip.setTitle(_lang_data['ID_SELECT_SAME_LEVEL'][lang]);\r\n\t}\r\n\r\n\r\n\tprivate scrollPosition: number = 0\r\n\tprivate scrollTravelled: number = 0\r\n\tprivate lastPageY: number\r\n\tprivate barOnclick = (ev: MouseEvent) =>\r\n\t{\r\n\t\tthis.lastPageY = ev.pageY\r\n\t\tdocument.addEventListener('mousemove', this.barOndrag, false)\r\n\t\tdocument.addEventListener('mouseup', this.barOnstop, false)\r\n\t}\r\n\r\n\tprivate barOndrag = (ev: MouseEvent) =>\r\n\t{\r\n\t\tlet delta = ev.pageY - this.lastPageY\r\n\t\tthis.lastPageY = ev.pageY\r\n\t\tthis.scrollPosition += delta\r\n\t\tthis.scrollTravelled += delta\r\n\r\n\t\tif (this.scrollPosition < 0)\r\n\t\t{\r\n\t\t\tthis.scrollPosition = 0\r\n\t\t}\r\n\r\n\t\tif (this.scrollPosition > this.bar.parentElement.offsetHeight - this.bar.offsetHeight)\r\n\t\t{\r\n\t\t\tthis.scrollPosition = this.bar.parentElement.offsetHeight - this.bar.offsetHeight\r\n\t\t}\r\n\r\n\t\tthis.bar.style.top = this.scrollPosition + 'px'\r\n\t}\r\n\r\n\tprivate barOnstop = (ev: MouseEvent) =>\r\n\t{\r\n\t\tlet step = Math.floor(Math.abs(this.scrollTravelled) / (this.lineHeight * this.currentMaxVisible()) * this.currentExpandedNode)\r\n\t\tlet s: string\r\n\t\tif (this.scrollTravelled > 0)\r\n\t\t{\r\n\t\t\ts = '<Call Method=\"VirtualTreeViewScrollDown\"><Steps>' + step + '</Steps></Call>'\r\n\t\t\tvsClient.command.executeXML(s)\r\n\t\t} else if (this.scrollTravelled < 0)\r\n\t\t{\r\n\t\t\ts = '<Call Method=\"VirtualTreeViewScrollUp\"><Steps>' + step + '</Steps></Call>'\r\n\t\t\tvsClient.command.executeXML(s)\r\n\t\t}\r\n\r\n\r\n\t\tdocument.removeEventListener('mousemove', this.barOndrag)\r\n\t\tdocument.removeEventListener('mouseup', this.barOnstop)\r\n\t\tthis.scrollTravelled = 0\r\n\t}\r\n\r\n\t// TODO: more accurate bar positoin\r\n\tprivate barOnwheel = (ev: WheelEvent) =>\r\n\t{\r\n\t\tev.preventDefault()\r\n\t\tlet downScale = ev.deltaY > 0 ? 1.0 : -1.0\r\n\t\tlet step = 3\r\n\t\tvar scrollbarFullHeight = this.contentWrapper.offsetHeight\r\n\r\n\t\tthis.scrollPosition += step * downScale\r\n\t\tif (this.scrollPosition < 0)\r\n\t\t{\r\n\t\t\tthis.scrollPosition = 0\r\n\t\t}\r\n\t\tif (this.scrollPosition > scrollbarFullHeight - this.bar.offsetHeight)\r\n\t\t{\r\n\t\t\tthis.scrollPosition = scrollbarFullHeight - this.bar.offsetHeight\r\n\t\t}\r\n\r\n\t\tthis.bar.style.top = this.scrollPosition + 'px'\r\n\r\n\t\tlet s: string\r\n\t\tif (downScale > 0)\r\n\t\t{\r\n\t\t\ts = '<Call Method=\"VirtualTreeViewScrollDown\"><Steps>' + step + '</Steps></Call>'\r\n\t\t\tvsClient.command.executeXMLAsync(s)\r\n\t\t} else\r\n\t\t{\r\n\t\t\ts = '<Call Method=\"VirtualTreeViewScrollUp\"><Steps>' + step + '</Steps></Call>'\r\n\t\t\tvsClient.command.executeXMLAsync(s)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate barOntouchstart = (ev: TouchEvent) =>\r\n\t{\r\n\t\tthis.lastPageY = ev.touches[0].pageY\r\n\t}\r\n\r\n\tprivate barOntouchmove = (ev: TouchEvent) =>\r\n\t{\r\n\t\tlet delta = ev.touches[0].pageY - this.lastPageY\r\n\t\tthis.lastPageY = ev.touches[0].pageY\r\n\t\tthis.scrollPosition += delta\r\n\t\tthis.scrollTravelled += delta\r\n\t\tif (this.scrollPosition < 0)\r\n\t\t{\r\n\t\t\tthis.scrollPosition = 0\r\n\t\t}\r\n\r\n\t\tif (this.scrollPosition > this.contentWrapper.offsetHeight - this.bar.offsetHeight)\r\n\t\t{\r\n\t\t\tthis.scrollPosition = this.contentWrapper.offsetHeight - this.bar.offsetHeight\r\n\t\t}\r\n\t\tthis.bar.style.top = this.scrollPosition + 'px'\r\n\t}\r\n\r\n\tupdate = (treeviewInfo: TreeviewInfo) =>\r\n\t{\r\n\t\tif (appStates.popoutPanes.indexOf('modeltree') !== -1)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!treeviewInfo)\r\n\t\t{\r\n\t\t\tthis.contentWrapper.style.top = this.modeltreeButtons.offsetHeight + 'px';\r\n\t\t\tthis.contentWrapper.style.height = \"calc(100% - \" + (this.modeltreeButtons.offsetHeight) + 'px)';\r\n\t\t\tif (vsClient.command)\r\n\t\t\t{\r\n\t\t\t\tlet maxVisible = this.currentMaxVisible();\r\n\t\t\t\tlet getTreeview = '<Call Method=\"VirtualTreeViewSetSize\"><Size>' + maxVisible + '</Size></Call>';\r\n\t\t\t\tvsClient.command.executeXML(getTreeview);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.minBarHeight = 15\r\n\t\tlet positionRatio = treeviewInfo.VirtualScrollPosition / treeviewInfo.ExpandedNodes\r\n\t\tlet maxBarHeight = this.contentWrapper.offsetHeight\r\n\r\n\t\tlet barTop = positionRatio * maxBarHeight\r\n\t\tif (barTop > maxBarHeight - this.minBarHeight)\r\n\t\t{\r\n\t\t\tbarTop = maxBarHeight - this.minBarHeight\r\n\t\t}\r\n\r\n\t\tthis.scrollPosition = barTop\r\n\t\tthis.bar.style.top = barTop + 'px'\r\n\r\n\t\tlet heightRatio = this.currentMaxVisible() / treeviewInfo.ExpandedNodes\r\n\t\tlet barHeight = heightRatio * this.contentWrapper.offsetHeight\r\n\t\tif (heightRatio >= 1)\r\n\t\t{\r\n\t\t\tthis.bar.style.height = '0px'\r\n\t\t\tthis.barRail.style.display = 'none'\r\n\t\t} else if (barHeight < this.minBarHeight)\r\n\t\t{\r\n\t\t\tthis.bar.style.height = this.minBarHeight + 'px'\r\n\t\t\tthis.barRail.style.display = ''\r\n\t\t} else\r\n\t\t{\r\n\t\t\tthis.bar.style.height = heightRatio * 100 + '%'\r\n\t\t\tthis.barRail.style.display = ''\r\n\t\t}\r\n\r\n\t\tthis.treeItemsInfo = treeviewInfo.Items\r\n\t\tthis.currentExpandedNode = treeviewInfo.ExpandedNodes\r\n\t\tthis.layout()\r\n\t\tif (treeviewInfo.VirtualScrollPosition === 0)\r\n\t\t{\r\n\t\t\tui.canvasStack.setTabTitle(this.treeItemsInfo[0].NodeName);\r\n\t\t}\r\n\t}\r\n\r\n\tcurrentMaxVisible(): number\r\n\t{\r\n\t\treturn Math.floor(this.contentWrapper.clientHeight / this.lineHeight)\r\n\t}\r\n\r\n\tlayout()\r\n\t{\r\n\t\t$('.webviewer-tooltip-wrapper').each(function ()\r\n\t\t{\r\n\t\t\t$(this).remove();\r\n\t\t})\r\n\t\twhile (this.itemsContainer.firstChild)\r\n\t\t{\r\n\t\t\tthis.itemsContainer.removeChild(this.itemsContainer.firstChild)\r\n\t\t}\r\n\t\tthis.items = []\r\n\t\tthis.tooltips = []\r\n\t\tlet i = 0\r\n\t\tvsClient.setMaxListeners(0)\r\n\t\tfor (var item = this.treeItemsInfo.length - 1; item >= 0; item--)\r\n\t\t{\r\n\t\t\tlet hasParent = -1\r\n\t\t\tfor (var predecessor = item - 1; predecessor >= 0; predecessor--)\r\n\t\t\t{\r\n\t\t\t\tif (this.treeItemsInfo[predecessor].Level + 1 === this.treeItemsInfo[item].Level)\r\n\t\t\t\t{\r\n\t\t\t\t\thasParent = predecessor\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.treeItemsInfo[item].Parent = hasParent\r\n\t\t}\r\n\t\tthis.selectedNodeIds = []\r\n        for (let itemInfo of this.treeItemsInfo)\r\n        {\r\n            if (itemInfo.NodeType === 81)\r\n            {\r\n                let sceneName = itemInfo.NodeName;\r\n                try\r\n                {\r\n                    sceneName = _SceneNameOverride;\r\n                }\r\n                catch (e)\r\n                {\r\n                    if (appStates.fileName)\r\n                    {\r\n                        sceneName = appStates.fileName;\r\n                    }\r\n                }\r\n                itemInfo.NodeName = sceneName;\r\n            }\r\n            let item = document.createElement('div')\r\n            item.classList.add('modeltree-item')\r\n            item.style.paddingLeft = 10 + itemInfo.Level * 10 + 'px'\r\n            item.style.height = '20px'\r\n\r\n            let expander = document.createElement('span')\r\n            expander.classList.add('modeltree-item-expander')\r\n            switch (itemInfo.ExpanderState)\r\n            {\r\n                case 0:\r\n                    expander.style.marginLeft = '12px'\r\n                    break\r\n                case 1: // expanded\r\n                    expander.style.display = 'inline-block'\r\n                    let expanderWrapper = document.createElementNS(SVG_NS, 'svg')\r\n                    expanderWrapper.style.width = '12px'\r\n                    expanderWrapper.style.height = '8px'\r\n                    let downAngle = document.createElementNS(SVG_NS, \"polygon\")\r\n                    downAngle.setAttributeNS(null, 'points', \"9,0 0,9 9,9\")\r\n                    downAngle.setAttributeNS(null, 'style', \"fill:black\")\r\n                    expanderWrapper.appendChild(downAngle)\r\n                    expander.appendChild(expanderWrapper)\r\n                    break\r\n                case 2: // not expanded\r\n                    expander.style.display = 'inline-block'\r\n                    let expanderWrapper2 = document.createElementNS(SVG_NS, 'svg')\r\n                    expanderWrapper2.style.width = '12px'\r\n                    expanderWrapper2.style.height = '10px'\r\n                    expanderWrapper2.style.zIndex = '50'\r\n                    let rightAngle = document.createElementNS(SVG_NS, \"polygon\")\r\n                    rightAngle.setAttributeNS(null, 'points', \"4,0 4,10 10,5\")\r\n                    rightAngle.setAttributeNS(null, 'style', \"fill:black\")\r\n                    expanderWrapper2.appendChild(rightAngle)\r\n                    expander.appendChild(expanderWrapper2)\r\n                    break\r\n            }\r\n\r\n            expander.addEventListener('click', ev =>\r\n            {\r\n                ev.stopPropagation();\r\n                let s = '<Call Method=\"VirtualTreeViewToggleExpansion\"><NodeId>' + itemInfo.NodeId + '</NodeId></Call>';\r\n                vsClient.command.executeXML(s);\r\n            }, false);\r\n\r\n            let visibility = document.createElement('span');\r\n            visibility.classList.add('modeltree-item-visibility');\r\n            visibility.style.fontSize = '12px';\r\n            switch (itemInfo.Visibility)\r\n            {\r\n                case 0: // hidden\r\n                    visibility.classList.add('fa');\r\n                    visibility.classList.add('fa-eye-slash');\r\n                    visibility.style.color = 'black';\r\n                    break;\r\n                case 1: // visible\r\n                    visibility.classList.add('fa');\r\n                    visibility.classList.add('fa-eye');\r\n                    visibility.style.color = 'black';\r\n                    break;\r\n                case 2: // mixed\r\n                    visibility.style.color = 'black';\r\n                    break;\r\n                case 3: // ghost\r\n                    visibility.classList.add('fa');\r\n                    visibility.classList.add('fa-eye');\r\n                    visibility.style.color = 'lightsteelblue';\r\n                    break;\r\n            }\r\n            visibility.addEventListener('click', ev =>\r\n            {\r\n                ev.stopPropagation();\r\n                let s = '<Call Method=\"VirtualTreeViewToggleVisibility\"><NodeId>' + itemInfo.NodeId + '</NodeId></Call>';\r\n                vsClient.command.executeXML(s);\r\n            });\r\n\r\n            let nodeTypeIcon = <SVGSVGElement> document.createElementNS(SVG_NS, 'svg')\r\n            nodeTypeIcon.setAttribute('class', 'viewpane-item-icon')\r\n            nodeTypeIcon.style.width = '12px'\r\n            nodeTypeIcon.style.height = '12px'\r\n            nodeTypeIcon.style.marginRight = '2px'\r\n            nodeTypeIcon.style.marginBottom = '1px'\r\n\r\n            let useEl = document.createElementNS(SVG_NS, 'use')\r\n            useEl.setAttributeNS(XLINK_NS, 'href', '#' + GetNodeItemImage(itemInfo.NodeType))\r\n            if (GetNodeItemImage(itemInfo.NodeType) === 'ICON_GEOMETRY' || GetNodeItemImage(itemInfo.NodeType) === 'ICON_ROOT')\r\n            {\r\n                $(nodeTypeIcon).addClass('viewpane-item-icon-translate-down')\r\n            }\r\n            nodeTypeIcon.appendChild(useEl)\r\n\r\n            let nodeName = document.createElement('span')\r\n            nodeName.classList.add('modeltree-item-nodename')\r\n            nodeName.textContent = itemInfo.NodeName\r\n\r\n            switch (itemInfo.Selection)\r\n            {\r\n                case 0: // none\r\n                    item.classList.add('treeitem-selection-none')\r\n                    break\r\n                case 1: // selected\r\n                    item.classList.add('treeitem-selection-highlight')\r\n                    this.selectedNodeIds.push(itemInfo.NodeId)\r\n                    break\r\n                case 2: // parrent selected\r\n                    item.classList.add('treeitem-selection-parent-selected')\r\n            }\r\n            item.addEventListener('contextmenu', ev => \r\n            {\r\n                if (!appStates.nodesSelected)\r\n                {\r\n                    this.setSelectedNodes(itemInfo.NodeId)\r\n                    this.selectedNodeIds = []\r\n                    this.selectedNodeIds.push(itemInfo.NodeId)\r\n                }\r\n            });\r\n\r\n\t\t\titem.addEventListener('click', ev =>\r\n            {\r\n\t\t\t\tthis.selectedNodeIds.push(itemInfo.NodeId)\r\n\t\t\t\tif (ev.ctrlKey === true && ev.shiftKey === false)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.addToSelection(itemInfo.NodeId)\r\n\t\t\t\t} else if (ev.ctrlKey === false && ev.shiftKey === true && this.selectedNodeIds.length >= 2)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet lastNodeId = this.selectedNodeIds[this.selectedNodeIds.length - 2]\r\n\t\t\t\t\tlet s = `<Call Method=\"VirtualTreeViewSelectBetweenNodes\">\r\n<NodeId>${lastNodeId}</NodeId>\r\n<NodeId>${itemInfo.NodeId}</NodeId></Call>`\r\n\t\t\t\t\tvsClient.command.executeXML(s)\r\n\t\t\t\t} else\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setSelectedNodes(itemInfo.NodeId)\r\n\t\t\t\t\tthis.selectedNodeIds = []\r\n\t\t\t\t\tthis.selectedNodeIds.push(itemInfo.NodeId)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tlet tooltip = new WVTooltip(item);\r\n\t\t\ttooltip.setTitle(itemInfo.NodeName);\r\n\t\t\ttooltip.setKey(itemInfo.NodeId.toString());\r\n\t\t\ttooltip.setTriggerTime(1000);\r\n\r\n\t\t\t$(item).hover(ev =>\r\n\t\t\t{\r\n\t\t\t\tthis.actualTooltip = tooltip;\r\n\t\t\t\tlet xml = '<Call Method=\"GetNodeTooltip\" CustomId=\"' + itemInfo.NodeId + '\"><NodeId>' + itemInfo.NodeId + '</NodeId></Call>';\r\n\t\t\t\tvsClient.command.executeXML(xml);\r\n\t\t\t})\r\n\r\n\t\t\titem.appendChild(expander)\r\n\t\t\titem.appendChild(visibility)\r\n\t\t\titem.appendChild(nodeTypeIcon)\r\n\t\t\titem.appendChild(nodeName)\r\n\r\n\t\t\tthis.items.push(item)\r\n\r\n\t\t\tlet lineWrapper = document.createElementNS(SVG_NS, 'svg')\r\n\t\t\tlineWrapper.style.width = '100%'\r\n\t\t\tlineWrapper.style.height = '100%'\r\n\t\t\tlineWrapper.style.position = 'absolute'\r\n\t\t\tlineWrapper.style.pointerEvents = 'none'\r\n\t\t\tlet hLine = document.createElementNS(SVG_NS, \"line\")\r\n\t\t\thLine.setAttributeNS(null, 'x1', (7 + itemInfo.Level * 10).toString())\r\n\t\t\thLine.setAttributeNS(null, 'x2', (14 + itemInfo.Level * 10).toString())\r\n\t\t\thLine.setAttributeNS(null, 'y1', '10')\r\n\t\t\thLine.setAttributeNS(null, 'y2', '10')\r\n\t\t\thLine.setAttributeNS(null, \"style\", \"stroke:black;stroke-width:2\");\r\n\t\t\tlineWrapper.appendChild(hLine)\r\n\r\n\t\t\tlet lineWrapper2 = document.createElementNS(SVG_NS, 'svg')\r\n\t\t\tlineWrapper2.style.width = '100%'\r\n\t\t\tlineWrapper2.style.height = '100%'\r\n\t\t\tlineWrapper2.style.position = 'absolute'\r\n\t\t\tlineWrapper2.style.top = '0'\r\n\t\t\tlineWrapper2.style.zIndex = '1'\r\n\t\t\tlineWrapper2.style.pointerEvents = 'none'\r\n\t\t\tlet vLine = document.createElementNS(SVG_NS, \"line\")\r\n\t\t\tvLine.setAttributeNS(null, 'x1', (itemInfo.Level * 10 + 8).toString())\r\n\t\t\tvLine.setAttributeNS(null, 'x2', (itemInfo.Level * 10 + 8).toString())\r\n\t\t\tif (itemInfo.Parent !== -1)\r\n\t\t\t{\r\n\t\t\t\tvLine.setAttributeNS(null, 'y1', ((itemInfo.Parent + 1) * 20).toString())\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvLine.setAttributeNS(null, 'y1', '0')\r\n\t\t\t}\r\n\t\t\tvLine.setAttributeNS(null, 'y2', (10 + i * 20).toString())\r\n\t\t\tvLine.setAttributeNS(null, \"style\", \"stroke:black;stroke-width:2\");\r\n\t\t\tlineWrapper2.appendChild(vLine)\r\n\r\n\t\t\tthis.itemsContainer.appendChild(lineWrapper2)\r\n\t\t\tthis.itemsContainer.appendChild(lineWrapper)\r\n\t\t\tthis.itemsContainer.appendChild(item)\r\n\r\n\t\t\ti++\r\n\t\t}\r\n\t\tvsClient.setMaxListeners(30);\r\n    }\r\n\r\n    addToSelection (nodeId)\r\n    {\r\n        var s = '<Call Method=\"SetSelectedNodes\"><NodeId>' + nodeId + '</NodeId><AddToSelection>true</AddToSelection></Call>';\r\n        vsClient.command.executeXML(s);\r\n    }\r\n\r\n\tsetSelectedNodes(nodeId)\r\n\t{\r\n\t\tif (typeof vsClient === 'undefined')\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tvar nodeIdString = ''\r\n\t\tif (Array.isArray(nodeId))\r\n\t\t{\r\n\t\t\tfor (var i = 0; i < nodeId.length; i++)\r\n\t\t\t{\r\n\t\t\t\tnodeIdString += '<NodeId>'\r\n\t\t\t\tnodeIdString += nodeId[i]\r\n\t\t\t\tnodeIdString += '</NodeId>'\r\n\t\t\t}\r\n\t\t} else\r\n\t\t{\r\n\t\t\tnodeIdString += '<NodeId>'\r\n\t\t\tnodeIdString += nodeId\r\n\t\t\tnodeIdString += '</NodeId>'\r\n\t\t}\r\n\r\n\t\tvar s = '<Call Method=\"SetSelectedNodes\">' + nodeIdString + '</Call>';\r\n\t\tvsClient.command.executeXML(s)\r\n\t}\r\n}\r\n\r\nfunction GetNodeItemImage(nodeType: NodeType)\r\n{\r\n\tlet svgId: string\r\n\tswitch (nodeType)\r\n\t{\r\n\t\tcase NodeType.MasterRootNode: svgId = 'ICON_SCENE'; break;\r\n\t\t//case CRAPI::NodeType_None:\t\t\t\tiImage = 4;\t\tbreak;\r\n\t\tcase NodeType.Root: svgId = 'ICON_ROOT'; break;\r\n\t\tcase NodeType.ProductOccurrence: svgId = 'ICON_PO'; break;\r\n\t\tcase NodeType.DoNotUse1: svgId = 'ICON_GEOMETRY'; break;\r\n\t\tcase NodeType.DoNotUse2: svgId = 'ICON_GEOMETRY'; break;\r\n\t\tcase NodeType.Ri_BrepModel: svgId = 'ICON_GEOMETRY'; break;\r\n\t\tcase NodeType.Ri_PolyBrepModel: svgId = 'ICON_GEOMETRY'; break;\r\n\t\tcase NodeType.Ri_Set: svgId = 'ICON_GEOMETRY'; break;\r\n\t\tcase NodeType.Ri_PolyWire: svgId = 'ICON_WIRE'; break;\r\n\t\tcase NodeType.Ri_TessMarkup: svgId = 'ICON_MARKUP'; break;\r\n\t\tcase NodeType.DoNotUse3: svgId = ''; break;\r\n\t\tcase NodeType.Part: svgId = 'ICON_PART'; break;\r\n\t\tcase NodeType.AxisRoot: svgId = 'ICON_WIRE'; break;\r\n\t\tcase NodeType.Axis: svgId = 'ICON_WIRE'; break;\r\n\t\tcase NodeType.PMIView: svgId = 'ICON_VIEW'; break;\r\n\t\tcase NodeType.Annotation: svgId = 'ICON_MARKUP'; break;\r\n\t\tcase NodeType.AnnotationItem: svgId = 'ICON_MARKUP'; break;\r\n\t\t// extended node type\r\n\t\t// need to update the new image\r\n\t\tcase NodeType.PmiMarkup_Unknown:\r\n\t\tcase NodeType.PmiMarkup_Text:\r\n\t\tcase NodeType.PmiMarkup_Dimension:\r\n\t\tcase NodeType.PmiMarkup_Arrow:\r\n\t\tcase NodeType.PmiMarkup_Balloon:\r\n\t\tcase NodeType.PmiMarkup_CircleCenter:\r\n\t\tcase NodeType.PmiMarkup_Coordinate:\r\n\t\tcase NodeType.PmiMarkup_Datum:\r\n\t\tcase NodeType.PmiMarkup_Fastener:\r\n\t\tcase NodeType.PmiMarkup_Gdt:\r\n\t\tcase NodeType.PmiMarkup_Locator:\r\n\t\tcase NodeType.PmiMarkup_MeasurementPoint:\r\n\t\tcase NodeType.PmiMarkup_Roughness:\r\n\t\tcase NodeType.PmiMarkup_Welding:\r\n\t\tcase NodeType.PmiMarkup_Table:\r\n\t\tcase NodeType.PmiMarkup_Other: svgId = 'ICON_MARKUP'; break;\r\n\r\n\t\tcase NodeType.DataAnalysisResult: svgId = 'ICON_HEATMAP'; break;\r\n\r\n\t\tcase NodeType.AnnotationReference: svgId = 'ICON_MARKUP'; break;\r\n\t\tcase NodeType.AnnotationSet: svgId = 'ICON_MARKUP'; break;\r\n\t\tcase NodeType.Curve: svgId = 'ICON_WIRE'; break;\r\n\t\t// case NodeType.Line:\t\t\t\t\tsvgId = 22;\tbreak;\r\n\t\tcase NodeType.Plane: svgId = 'ICON_PLANE'; break;\r\n\t\t// case NodeType.Direction:\t\t\t\tsvgId = 30;\tbreak;\r\n\t\t//case NodeType.Point:\t\t\t\t\tsvgId = 21;\tbreak;\r\n\t\t//case NodeType.PointSet:\t\t\t\tsvgId = 21;\tbreak;\r\n\t\t// case NodeType.CoordinateSystem:\t\tsvgId = 31;\tbreak;\r\n\t\tcase NodeType.Solid: svgId = 'ICON_GEOMETRY'; break;\r\n\t\tcase NodeType.Wire: svgId = 'ICON_WIRE'; break;\r\n\r\n\t\tcase NodeType.Dimensioning: svgId = 'ICON_PMI_DISTANCE'; break;\r\n\r\n\t\t// \t// Markups\r\n\t\tcase NodeType.MarkupSet: svgId = 'ICON_FOLDER'; break;\r\n\t\tcase NodeType.Markup_Circle: svgId = 'ICON_MARKUP_CIRCLE'; break;\r\n\t\tcase NodeType.Markup_Rectangle: svgId = 'ICON_RECTANGLE'; break;\r\n\t\tcase NodeType.Markup_Freehand: svgId = 'ICON_LINE_FREEHAND'; break;\r\n\t\tcase NodeType.Markup_Text: svgId = 'ICON_NOTE'; break;\r\n\r\n\t\tcase NodeType.OffsetLine: svgId = 'ICON_OFFSETLINE'; break;\r\n\r\n\t\tcase NodeType.Drawing_Block: svgId = 'ICON_FOLDER'; break;\r\n\t\tcase NodeType.Drawing_BlockBackground: svgId = 'ICON_FOLDER'; break;\r\n\t\tcase NodeType.Drawing_BlockBasic: svgId = 'ICON_FOLDER'; break;\r\n\t\tcase NodeType.Drawing_BlockOperator: svgId = 'ICON_FOLDER'; break;\r\n\r\n\t\tcase NodeType.Drawing_Sheet: svgId = 'ICON_SHEET'; break;\r\n\t\tcase NodeType.Drawing_View: svgId = 'ICON_VIEW'; break;\r\n\t\tcase NodeType.Drawing_Model: svgId = 'ICON_SHEET'; break;\r\n\r\n\t\tcase NodeType.CutGeometry_Set: svgId = 'ICON_FOLDER'; break;\r\n\t\tcase NodeType.CutGeometry_Wire: svgId = 'ICON_WIRE'; break;\r\n\t\tcase NodeType.CutGeometry_Surface: svgId = 'ICON_PLANE'; break;\r\n\r\n\t\t//2D\r\n\t\tcase NodeType.Document2D: svgId = 'ICON_SHEET'; break;\r\n\t\tdefault:\r\n\t\t\tsvgId = 'ICON_GEOMETRY'\r\n\t}\r\n\r\n\treturn svgId;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/modeltree.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport * as w from '../ribbon/widget'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { appStates } from '../app/app-states';\r\nimport * as ribbonMenu from '../ribbon/menu';\r\n\r\nexport class NeighbourhoodSearchPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetNeighbourhoodSearchPaneTemplate = `<Call Method=\"GetTemplate\"><Type>NeighbourhoodSearchPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetNeighbourhoodSearchPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.NeighbourhoodSearchPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\taddMethods()\r\n    {\r\n        $(\"#wv-neighbourhoodsearch #OnNHSApplyToAllClick\").off('click').click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"ApplyNeighbourhoodSearchSettings\"/>'\r\n            vsClient.command.executeXML(xml)\r\n        });\r\n\r\n        $(\"#wv-neighbourhoodsearch #OnNHSCompute\").off('click').click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"ExecuteNeighbourhoodSearch\"/>'\r\n            vsClient.command.executeXML(xml)\r\n\r\n            vsClient.once('ExecuteNeighbourhoodSearch', res =>\r\n            {\r\n                if (res.Error === 'SUCCESS')\r\n                {\r\n                    if ($('#UID_NEIGHBOURHOOD_SEARCH_CLOSE_SELECTION_MODE_FLAG').val() === 'true')\r\n                    {\r\n                        vsClient.command.executeXML('<Call Method=\"SetSelectionMode\"><SelectionMode>Select</SelectionMode></Call>');\r\n                        vsClient.once('SetSelectionMode', (response) =>\r\n                        {\r\n                            if (response.Error === 'SUCCESS')\r\n                            {\r\n                                appStates.selectionMode = 'Select';\r\n                                ribbonMenu.handlePrependingPane('wv-neighbourhoodsearch', 'off');\r\n                                let nhsButton = w.findButton('ID_RIBBON_NEIGHBOURHOOD_SEARCH');\r\n                                if (nhsButton)\r\n                                {\r\n                                    nhsButton.applyHighlight(false);\r\n                                }\r\n                                let selectButton = w.findButton('ID_RIBBON_SELECT');\r\n                                if (selectButton)\r\n                                {\r\n                                    selectButton.applyHighlight(true);\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\t}\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.addMethods()\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            if (path[0] === 'Event')\r\n            {\r\n                value = parseFloat(value).toString()\r\n                pane.modifySettings(this.values, path, value)\r\n                let xml = XMLParser.serializeWithValue(path, value, ['Type=' + template['Event']])\r\n                vsClient.command.executeXML(xml)\r\n            }\r\n            else\r\n            {\r\n                pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n                let xml = XMLParser.serializeWithValue(path, value)\r\n                let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n                vsClient.command.executeXML(settings)\r\n                if (this.hasPresets)\r\n                {\r\n                    this.stack.changeToCustomPreset();\r\n                }\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tif ( response && !response.Type)\r\n\t\t{\r\n\t\t\tif (this.values && this.values['Event'])\r\n\t\t\t{\r\n\t\t\t\tresponse = this.values['Event'];\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/neighbourhood-search-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class NeutralAxisPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetNeutralAxisPaneTemplate = `<Call Method=\"GetTemplate\"><Type>NeutralAxisPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetNeutralAxisPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.NeutralAxisPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-neutralaxis #OnNeutralAxisComputeClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tlet xml = '<Call Method=\"Compute\"><Mode>NeutralAxis</Mode></Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n\t\tthis.addMethods()\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n            let xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/neutral-axis-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class ProjectedAreaPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-projectedarea #OnProjectedAreaComputeClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tvar xml = '<Call Method=\"Compute\">'\r\n\t\t\txml += '<Mode>ProjectedArea</Mode>'\r\n\t\t\txml += '</Call>'\r\n\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t})\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetProjectedAreaPane = `<Call Method=\"GetTemplate\"><Type>ProjectedAreaPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetProjectedAreaPane)\r\n\t\tvsClient.once('GetTemplate.ProjectedAreaPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n            let xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/projected-area-pane.ts","/// <reference path=\"../app/global-decl.d.ts\" />\r\nimport { VSWebClient } from '../base/vsweb-client-impl';\r\nimport * as pane from '../pane';\r\nimport { appStates } from '../app/app-states';\r\nimport * as w from '../ribbon/widget';\r\ndeclare var vsClient: VSWebClient;\r\nimport XMLParser = require('../base/DOMXMLParser');\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { WVTooltip } from '../app/tooltip';\r\nimport * as ui from '../app/ui';\r\n\r\nexport class PropertyPane extends PaneTemplate\r\n{\r\n\r\n\tel: HTMLTableElement\r\n\tscenePropertiesEl: HTMLTableElement\r\n\tpropertiesList: HTMLElement\r\n\tattributesList: HTMLElement[]\r\n    attributesRow: HTMLElement\r\n    nodePropertiesWrapper: HTMLElement\r\n    scenePropertiesWrapper: HTMLElement\r\n    buttonRow: HTMLElement\r\n\r\n\tnodePropertiesAdapter: pane.PaneAdapter\r\n    scenePropertiesAdapter: pane.PaneAdapter\r\n\r\n    scrollPosNode: number = 0\r\n    scrollPosScene: number = 0\r\n\r\n\tsceneSettings: any\r\n\tnodeProperties: any\r\n\r\n    sortAttributesTooltip: WVTooltip\r\n    sortAttributes: boolean = false\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n        super(paneId, caption);\r\n        this.noAdapter = true;\r\n\r\n        this.wrapperEl.style.overflow = 'hidden';\r\n        this.nodePropertiesWrapper = document.createElement('div');\r\n        this.nodePropertiesWrapper.style.overflowY = 'scroll';\r\n        this.nodePropertiesWrapper.onscroll = e =>\r\n        {\r\n            this.scrollPosNode = this.nodePropertiesWrapper.scrollTop;\r\n        }\r\n        this.scenePropertiesWrapper = document.createElement('div');\r\n        this.scenePropertiesWrapper.style.overflowY = 'scroll';\r\n        this.scenePropertiesWrapper.onscroll = e =>\r\n        {\r\n            this.scrollPosScene = this.scenePropertiesWrapper.scrollTop;\r\n        }\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n\r\n        this.scenePropertiesEl = document.createElement('table');\r\n        this.scenePropertiesEl.classList.add('pane-content');\r\n\r\n        this.scenePropertiesWrapper.style.display = '';\r\n        this.nodePropertiesWrapper.style.display = 'none';\r\n\r\n        this.attributesList = [];\r\n        this.buttonRow = document.createElement('div');\r\n        this.buttonRow.classList.add('pane-buttons-tab');\r\n\r\n        let sortAttributesIcon = document.createElement('i');\r\n        sortAttributesIcon.className = 'fa fa-sort-alpha-up tree-header-action-icon';\r\n        sortAttributesIcon.addEventListener('click', ev =>\r\n        {\r\n            this.sortAttributes = !this.sortAttributes;\r\n            if (this.sortAttributes)\r\n            {\r\n                sortAttributesIcon.style.backgroundColor = 'rgb(160, 160, 160)';\r\n            }\r\n            else\r\n            {\r\n                sortAttributesIcon.style.backgroundColor = '';\r\n            }\r\n            this.addAttributes();\r\n        });\r\n        this.sortAttributesTooltip = new WVTooltip(sortAttributesIcon);\r\n        this.sortAttributesTooltip.setTitle(ui.translate('ID_SORT_NODE_ATTRIBUTES_SETTING_INFO'));\r\n        this.buttonRow.appendChild(sortAttributesIcon);\r\n\r\n        this.nodePropertiesWrapper.appendChild(this.el);\r\n        this.scenePropertiesWrapper.appendChild(this.scenePropertiesEl);\r\n        this.wrapperEl.appendChild(this.buttonRow);\r\n        this.wrapperEl.appendChild(this.nodePropertiesWrapper);\r\n        this.wrapperEl.appendChild(this.scenePropertiesWrapper);\r\n        this.addMethods();\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n        $(\"#wv-properties #OnCreateGravityCenterClicked\").off('click').on('click', ev =>\r\n        {\r\n            var xml = '<Call Method=\"VisualizeGravityCenter\">';\r\n            xml += '</Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        $(\"#wv-properties #OnNumberOfTrianglesClicked\").off('click').on('click', ev =>\r\n        {\r\n            let xml = '<Call Method=\"Compute\"><Mode>NumberOfTriangles</Mode></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n    {\r\n        this.changeTemplateLang();\r\n        this.sortAttributesTooltip.setTitle(ui.translate('ID_SORT_NODE_ATTRIBUTES_SETTING_INFO'));\r\n        this.addMethods();\r\n\t}\r\n\r\n\r\n\tchangeTemplateLang()\r\n\t{\r\n\t\tlet GetScenePropertiesTemplate = `<Call Method=\"GetTemplate\"><Type>PropertiesPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetScenePropertiesTemplate)\r\n\t\tvsClient.once('GetTemplate.PropertiesPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.fromTemplate(template)\r\n\r\n\t\t\tif (this.sceneSettings)\r\n\t\t\t{\r\n\t\t\t\tthis.updateSceneSettings(this.sceneSettings)\r\n\t\t\t}\r\n\r\n\t\t\tif (this.nodeProperties)\r\n\t\t\t{\r\n\t\t\t\tthis.updateNodeProperties(this.nodeProperties)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tupdateSceneSettings(settings: any)\r\n\t{\r\n\t\tif (settings.Error === 'SUCCESS')\r\n\t\t{\r\n\t\t\tthis.sceneSettings = settings\r\n\t\t\tlet renderModes = settings['Settings']['Scene']['Visualization']['RenderMode'] as string\r\n\t\t\tlet renderModeStr = renderModes\r\n\r\n\t\t\tif (renderModeStr.length > 0)\r\n\t\t\t{\r\n\t\t\t\tlet renderModes = renderModeStr.split(' ')\r\n\t\t\t\tappStates.renderingModes = renderModes;\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\tappStates.renderingModes = [];\r\n\t\t\t}\r\n\t\t\t// Highlighting for RenderMode\r\n\t\t\tlet groupRender = w.findGroup('ID_RIBBON_RENDERING_MODE')\r\n\t\t\tlet documentMode = w.findGroup('ID_RIBBON_GRAPHIC_EFFECTS')\r\n\t\t\tgroupRender.getWidgets().forEach((button: w.BaseButton) => button.applyHighlight(false));\r\n\t\t\tdocumentMode.getWidgets().forEach((button: w.BaseButton) => button.applyHighlight(false));\r\n\t\t\tappStates.renderingModes.forEach((mode: string) =>\r\n\t\t\t{\r\n\t\t\t\tswitch (mode)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'Solid':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_SOLID').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'Wires':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_WIRES').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'Illustration':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_ILLUSTRATION_1').applyHighlight(true)\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_ILLUSTRATION').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'Perspective':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_PERSPECTIVE').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'Inverse':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_INVERT').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// Highlighting for GraphicEffect\r\n            let groupGraphic = w.findGroup('ID_RIBBON_GRAPHIC_EFFECTS_1');\r\n            if (!groupGraphic)\r\n            {\r\n                groupGraphic = w.findGroup('ID_RIBBON_GRAPHIC_EFFECTS');\r\n            }\r\n\t\t\tgroupGraphic.getWidgets().forEach((button: w.BaseButton) => button.applyHighlight(false));\r\n\t\t\tappStates.renderingModes.forEach((mode: string) =>\r\n\t\t\t{\r\n\t\t\t\tswitch (mode)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase 'Silhouette':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_SILHOUETTE').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'Opaque':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_OPAQUE').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'Shadow':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_SHADOW').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'Material':\r\n\t\t\t\t\t\tw.findButton('ID_RIBBON_MATERIAL').applyHighlight(true)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.scenePropertiesAdapter.updateValues(this.sceneSettings)\r\n\t\t}\r\n\t}\r\n\r\n\tfromTemplate(template: string)\r\n\t{\r\n\r\n\t\tthis.scenePropertiesAdapter = new pane.PaneAdapter(this.scenePropertiesEl)\r\n\t\tlet appendRoot = true\r\n\t\tthis.scenePropertiesAdapter.fromTemplate(template['Group'][0], appendRoot)\r\n        this.scenePropertiesAdapter.on('user-input', (src: pane.Visual, val) =>\r\n        {\r\n            if (val === 'toggle-folder-visibility')\r\n            {\r\n                this.scenePropertiesAdapter.updateValues(this.sceneSettings)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            pane.modifySettings(this.sceneSettings, path, val)\r\n            let xml = XMLParser.serializeWithValue(path, val)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n\r\n\t\tthis.nodePropertiesAdapter = new pane.PaneAdapter(this.el)\r\n\t\tthis.nodePropertiesAdapter.fromTemplate(template['Group'][1], appendRoot)\r\n\r\n\t\tthis.nodePropertiesAdapter.on('user-input', (src: pane.Visual, val) =>\r\n        {\r\n\t\t\tif (val === 'toggle-folder-visibility')\r\n            {\r\n                this.nodePropertiesAdapter.updateValues(this.nodeProperties);\r\n                this.addAttributes();\r\n                return;\r\n            }\r\n            else if (val === 'UID_PROPERTIES_PANE_ATTRIBUTES_SHOW')\r\n            {\r\n                this.attributesList.forEach(item =>\r\n                {\r\n                    $(item).show();\r\n                });\r\n                return;\r\n            }\r\n            else if (val === 'UID_PROPERTIES_PANE_ATTRIBUTES_HIDE')\r\n            {\r\n                this.attributesList.forEach(item =>\r\n                {\r\n                    $(item).hide();\r\n                });\r\n                return;\r\n            }\r\n            else if (src.item.id === 'UID_PRESET')\r\n            {\r\n                this.setNodeProperty(['Event', 'PhysicalProperties', 'Density'], val);\r\n                return;\r\n            }\r\n            let path = src.item.path\r\n\t\t\tpane.modifySettings(this.nodeProperties, path, val)\r\n\t\t\tthis.setNodeProperty(path, val)\r\n\t\t})\r\n\t}\r\n\r\n\tsetNodeProperty(path: string[], propValue: string)\r\n\t{\r\n\t\tlet xml = XMLParser.serializeWithValue(path, propValue);\r\n\t\txml = xml.replace('<Event>', '<Event Type=\"NodePropertiesChanged\">');\r\n\t\tvsClient.command.executeXMLAsync(xml.replace(/\\n<\\//, \"</\"));\r\n\t}\r\n\r\n\tclear()\r\n\t{\r\n\t\twhile (this.el.firstChild)\r\n\t\t{\r\n\t\t\tthis.el.removeChild(this.el.firstChild)\r\n\t\t}\r\n\t}\r\n\r\n\tupdate = () =>\r\n    {\r\n        this.nodePropertiesWrapper.scrollTop = this.scrollPosNode;\r\n        this.scenePropertiesWrapper.scrollTop = this.scrollPosScene;\r\n        let heightString = 'calc(100% - ' + ($(this.buttonRow).outerHeight(true)) + 'px)';\r\n        this.nodePropertiesWrapper.style.height = heightString;\r\n        this.scenePropertiesWrapper.style.height = heightString;\r\n\t}\r\n\r\n\tshowSceneProperties()\r\n    {\r\n\t\tthis.nodePropertiesWrapper.style.display = 'none'\r\n\t\tthis.scenePropertiesWrapper.style.display = ''\r\n\t}\r\n\r\n\r\n\tupdateNodeProperties(nodeProperties)\r\n\t{\r\n        let value;\r\n\t\tif (nodeProperties.Event)\r\n\t\t{\r\n            value = nodeProperties;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n            value = { Event: nodeProperties };\r\n\t\t}\r\n        this.nodeProperties = value;\r\n        this.scenePropertiesWrapper.style.display = 'none';\r\n        this.nodePropertiesWrapper.style.display = '';\r\n        this.nodePropertiesAdapter.updateValues(this.nodeProperties);\r\n        $('#UID_PRESET').val(parseFloat(this.nodeProperties.Event.PhysicalProperties.Density.__text__).toFixed(6));\r\n        this.addAttributes();\r\n        this.addMethods();\r\n    }\r\n    \r\n    addAttributes ()\r\n    {\r\n        if (this.attributesList)\r\n\t\t{\r\n\t\t\tfor (let i = 0; i < this.attributesList.length; i++)\r\n\t\t\t{\r\n                $(this.attributesList[i]).remove();\r\n\t\t\t}\r\n            this.attributesList = [];\r\n        }\r\n        this.attributesRow = document.getElementById('UID_PROPERTIES_PANE_ATTRIBUTES');\r\n\t\tif (this.nodeProperties && this.nodeProperties.Event && this.nodeProperties.Event.Attributes)\r\n        {\r\n            let attributeArr = this.nodeProperties.Event.Attributes.Attribute;\r\n\t\t\tif (!Array.isArray(attributeArr))\r\n\t\t\t{\r\n                attributeArr = [attributeArr];\r\n            }\r\n            let attributes = attributeArr.slice();\r\n            if (this.sortAttributes)\r\n            {\r\n                attributes = attributes.sort((a, b) =>\r\n                {\r\n                    let keyA = a.Key.toUpperCase();\r\n                    let keyB = b.Key.toUpperCase();\r\n                    if (keyA < keyB)\r\n                    {\r\n                        return 1;\r\n                    }\r\n                    if (keyA > keyB)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n            }\r\n\t\t\tfor (let i = 0; i < attributes.length; i++)\r\n\t\t\t{\r\n                let prop = attributes[i];\r\n                let row = document.createElement('tr');\r\n                row.className = 'pane-item';\r\n\r\n                let rowName = document.createElement('td');\r\n                let rowNameRef = $(rowName);\r\n                rowNameRef.addClass('pane-item-entry-name pane-item-indent-level2');\r\n                rowName.textContent = prop.Key;\r\n\t\t\t\tlet rowNameTooltip = new WVTooltip(rowName);\r\n\t\t\t\trowNameTooltip.setTitle(prop.Key);\r\n\r\n                row.appendChild(rowName);\r\n\r\n                let rowValWrapper = document.createElement('td');\r\n                rowValWrapper.className = 'pane-item-visual';\r\n\r\n                let valWrapper = document.createElement('div');\r\n                valWrapper.className = 'pane-item-entry-wrapper';\r\n                valWrapper.style.position = 'relative';\r\n\r\n                let rowVal = document.createElement('span');\r\n                rowVal.className = 'pane-item-entry-text';\r\n                rowVal.textContent = prop.Value;\r\n                let rowValTooltip = new WVTooltip(rowVal);\r\n\t\t\t\trowValTooltip.setTitle(prop.Value);\r\n\r\n                valWrapper.appendChild(rowVal);\r\n                rowValWrapper.appendChild(valWrapper);\r\n\r\n                row.appendChild(rowValWrapper);\r\n                this.attributesList.push(row);\r\n            }\r\n            $(this.attributesRow).show();\r\n            if (this.attributesList && this.attributesList.length > 0 && this.attributesRow)\r\n            {\r\n                for (let row of this.attributesList)\r\n                {\r\n                    this.attributesRow.parentNode.insertBefore(row, this.attributesRow.nextSibling);\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            $(this.attributesRow).hide();\r\n        }\r\n    }\r\n\r\n\ttoggleAttributes(forceCollapse)\r\n\t{\r\n\t\tif (this.attributesRow && forceCollapse)\r\n\t\t{\r\n\t\t\tif ($(this.el).find('tbody').find('.far').first().hasClass('fa-plus-square'))\r\n\t\t\t{\r\n                this.attributesRow.style.display = 'none';\r\n\t\t\t\tfor (let i = 0; i < this.attributesList.length; i++)\r\n                {\r\n                    this.attributesList[i].style.display = 'none';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n                this.attributesRow.style.display = '';\r\n                if ($(this.attributesRow).find('i').first().hasClass('fa-minus-square'))\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (let i = 0; i < this.attributesList.length; i++)\r\n\t\t\t\t\t{\r\n                        this.attributesList[i].style.display = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\t\tfor (let i = 0; i < this.attributesList.length; i++)\r\n\t\t{\r\n\t\t\tif (this.attributesList[i].style.display === '' || forceCollapse === true)\r\n\t\t\t{\r\n                this.attributesList[i].style.display = 'none';\r\n                $('#properties_attributes').removeClass('fa-minus-square');\r\n                $('#properties_attributes').addClass('fa-plus-square');\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n                $('#properties_attributes').removeClass('fa-plus-square');\r\n                $('#properties_attributes').addClass('fa-minus-square');\r\n                this.attributesList[i].style.display = '';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/property-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class QuickComparePane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetQuickComparePaneTemplate = `<Call Method=\"GetTemplate\"><Type>QuickComparePane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetQuickComparePaneTemplate)\r\n\t\tvsClient.once('GetTemplate.QuickComparePane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n            let xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/quick-compare-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { ClipboardModal } from '../ribbon/clipboard-modal/clipboard-overlay'\r\n\r\nexport class SectionPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: any\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n        $(\"#wv-section #OnSectionCenterHandleClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"SectionCenterHandles\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-section #OnSectionAlignmentXClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"SectionAlignAxis\">';\r\n            xml += '<Axis>X</Axis>';\r\n            xml += '</Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-section #OnSectionAlignmentYClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"SectionAlignAxis\">';\r\n            xml += '<Axis>Y</Axis>';\r\n            xml += '</Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-section #OnSectionAlignmentZClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"SectionAlignAxis\">';\r\n            xml += '<Axis>Z</Axis>';\r\n            xml += '</Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-section #OnSectionSetNormalClicked\").click(ev =>\r\n        {\r\n            vsClient.emit('setSectionNormal');\r\n        });\r\n\r\n        $(\"#wv-section #OnSectionCreateSurfaceClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"Compute\"><Mode>SectionGeometry</Mode>';\r\n            xml += '<Type>Filled</Type>';\r\n            if ($('#UID_SECTION_PANE_CREATE_MULTIPLE').val() === 'true')\r\n            {\r\n                xml += '<Step>' + $('#UID_SECTION_PANE_STEP_WIDTH').text() + '</Step>';\r\n            }\r\n            xml += '</Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-section #OnSectionCreateWireClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"Compute\"><Mode>SectionGeometry</Mode>';\r\n            xml += '<Type>Wire</Type>';\r\n            if ($('#UID_SECTION_PANE_CREATE_MULTIPLE').val() === 'true')\r\n            {\r\n                xml += '<Step>' + $('#UID_SECTION_PANE_STEP_WIDTH').val() + '</Step>';\r\n            }\r\n            xml += '</Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-section #OnSectionVectorExportClicked\").click(ev =>\r\n        {\r\n            let xml = '<Call Method=\"ExportSectionGeometry\"><ExportFormat2D>SVG</ExportFormat2D></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            vsClient.once('ExportSectionGeometry', res =>\r\n            {\r\n                let src = res.Image;\r\n                let overlay = new ClipboardModal(src, vsClient.vsCanvas.width, vsClient.vsCanvas.height, 'svg+xml');\r\n            });\r\n        });\r\n    }\r\n\r\n    changeLang (lang: string)\r\n\t{\r\n\t\tlet GetSectionPaneTemplate = `<Call Method=\"GetTemplate\"><Type>SectionPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetSectionPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.SectionPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (src.item.id === 'UID_SECTION_PANE_CREATE_MULTIPLE')\r\n            {\r\n                return;\r\n            }\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            if (path[0] === 'Event')\r\n            {\r\n                const event = template['Event']\r\n                value = parseFloat(value).toString()\r\n                pane.modifySettings(this.values, path, value)\r\n                let xml = XMLParser.serializeWithValue(path, value, [`Type=${event}`])\r\n                vsClient.command.executeXML(xml)\r\n            }\r\n            else\r\n            {\r\n                pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n                let xml = XMLParser.serializeWithValue(path, value)\r\n                let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n                vsClient.command.executeXML(settings)\r\n                if (this.hasPresets)\r\n                {\r\n                    this.stack.changeToCustomPreset();\r\n                }\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t\tvsClient.on('setSectionNormal', this.setSectionNormal)\r\n\r\n\t}\r\n\r\n\tsetSectionNormal = () =>\r\n\t{\r\n\t\tif (this.values.Event)\r\n\t\t{\r\n\t\t\tlet eventPathToNormal = this.values.Event.Movement.Normal\r\n\t\t\tlet xml = '<Call Method=\"SectionSetNormal\">'\r\n\t\t\txml += '<X>' + eventPathToNormal.X + '</X>'\r\n\t\t\txml += '<Y>' + eventPathToNormal.Y + '</Y>'\r\n\t\t\txml += '<Z>' + eventPathToNormal.Z + '</Z>'\r\n\t\t\txml += '</Call>'\r\n\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t}\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/section-pane.ts","/// <reference path=\"../app/global-decl.d.ts\" />\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { settings } from '../app/app-settings'\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\ndeclare var vsClient: VSWebClient\r\ndeclare var _lang_data: any\r\ndeclare var _custom_lang_data: any\r\n\r\n\r\ninterface SelectionItem\r\n{\r\n    id: string,\r\n    count: string\r\n}\r\n\r\nexport class SelectionsPane extends PaneTemplate\r\n{\r\n\r\n    el: HTMLElement;\r\n    tableTitle: HTMLElement;\r\n    buttons: HTMLElement;\r\n    selectedRow: HTMLElement;\r\n    tableBody: HTMLElement;\r\n    rows: HTMLElement[] = [];\r\n\r\n    selections: SelectionItem[] = [];\r\n    multiSelections: string[] = [];\r\n    multiRows: HTMLElement[] = [];\r\n\r\n    constructor (paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption);\r\n        this.noAdapter = true;\r\n\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n\r\n        this.wrapperEl.appendChild(this.el);\r\n\r\n        this.tableBody = document.createElement('tbody');\r\n        this.el.appendChild(this.tableBody);\r\n\r\n\r\n        this.el.addEventListener('contextmenu', ev =>\r\n        {\r\n            ev.preventDefault();\r\n            $('#contextMenu').remove();\r\n            $(document).off('mousedown', vsClient.vsCanvas.closeContextMenu);\r\n            $(document).off('keyup', vsClient.vsCanvas.closeContextMenu);\r\n            vsClient.vsCanvas.createContextMenu(ev);\r\n        })\r\n\r\n        //WORKAROUND: A CSS class hides the first row of a table with pane-content class\r\n        let hiddenRow = document.createElement('tr');\r\n        this.tableBody.appendChild(hiddenRow);\r\n\r\n        //Title row\r\n        let titleRow = document.createElement('tr');\r\n        titleRow.className = 'pane-item';\r\n        let titleRowCell = document.createElement('td');\r\n        titleRowCell.className = 'pane-item-visual pane-item-group';\r\n        titleRowCell.colSpan = 2;\r\n        this.tableTitle = document.createElement('b');\r\n        this.tableTitle.className = '';\r\n        this.tableTitle.textContent = _lang_data['ID_SELECTIONS_COLUMN_NAME'][settings.lang];\r\n\r\n        titleRow.appendChild(titleRowCell);\r\n        titleRowCell.appendChild(this.tableTitle);\r\n        this.tableBody.appendChild(titleRow);\r\n\r\n        vsClient.on('OpenFile', res =>\r\n        {\r\n            this.reset();\r\n        });\r\n\r\n        vsClient.on('NewScene3D', res =>\r\n        {\r\n            this.reset();\r\n        });\r\n\r\n        vsClient.on('GetSavedSelections', res =>\r\n        {\r\n            this.buildSelectionTable(res);\r\n        });\r\n\r\n        vsClient.on('SavedSelectionsChanged', res =>\r\n        {\r\n            this.buildSelectionTable(res, false);\r\n        });\r\n\r\n        this.buttons = document.createElement('div');\r\n        this.buttons.classList.add('pane-buttons-tab');\r\n\r\n        let addSelection = document.createElement('i');\r\n        addSelection.className = 'fa fa-plus tree-header-action-icon';\r\n        addSelection.addEventListener('click', ev =>\r\n        {\r\n            let createCall = '<Call Method=\"SaveCurrentSelection\"></Call>';\r\n            vsClient.command.executeXML(createCall);\r\n        });\r\n\r\n        let updateSelection = document.createElement('i');\r\n        updateSelection.className = 'fa fa-sync-alt tree-header-action-icon';\r\n        updateSelection.addEventListener('click', ev =>\r\n        {\r\n            let row = this.selectedRow;\r\n            let updateXML = '<Call Method=\"UpdateSavedSelection\"><Index>' + row.id.split('_')[1] + '</Index></Call>';\r\n            vsClient.command.executeXML(updateXML);\r\n        });\r\n\r\n        let removeSelection = document.createElement('i');\r\n        removeSelection.className = 'fa fa-trash tree-header-action-icon';\r\n        removeSelection.addEventListener('click', ev =>\r\n        {\r\n            let xml = '<Call Method=\"DeleteSavedSelections\">';\r\n            for (let i = 0; i < this.multiRows.length; i++)\r\n            {\r\n                let row = this.multiRows[i];\r\n                xml += '<Index>' + row.id.split('_')[1] + '</Index>';\r\n            }\r\n            xml += '</Call>';\r\n            vsClient.command.executeXML(xml);\r\n            this.multiRows = [];\r\n        });\r\n\r\n        this.buttons.appendChild(addSelection);\r\n        this.buttons.appendChild(updateSelection);\r\n        this.buttons.appendChild(removeSelection);\r\n\r\n        this.wrapperEl.appendChild(this.buttons);\r\n        this.wrapperEl.appendChild(this.el);\r\n    }\r\n\r\n\r\n    addMethods ()\r\n    {\r\n    }\r\n\r\n    update = () => \r\n    {\r\n    }\r\n\r\n    changeLang (lang: string)\r\n    {\r\n        this.tableTitle.textContent = _lang_data['ID_SELECTIONS_COLUMN_NAME'][settings.lang];\r\n    }\r\n\r\n    reset (getNewSessions: boolean = true, resetSelection: boolean = true)\r\n    {\r\n        for (let i = 0; i < this.rows.length; i++)\r\n        {\r\n            $(this.rows[i]).remove();\r\n        }\r\n        this.rows = [];\r\n        if (resetSelection)\r\n        {\r\n            this.multiRows = [];\r\n            this.multiSelections = [];\r\n            this.selectedRow = undefined;\r\n        }\r\n        this.selections = [];\r\n        if (getNewSessions)\r\n        {\r\n            let xml = '<Call Method=\"GetSavedSelections\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        }\r\n    }\r\n\r\n    buildSelectionTable (res, resetSelection: boolean = true)\r\n    {\r\n        this.reset(false, resetSelection);\r\n        if (!res.Selection)\r\n        {\r\n            return;\r\n        }\r\n        if (res.Selection && !Array.isArray(res.Selection))\r\n        {\r\n            res.Selection = [res.Selection];\r\n        }\r\n        for (let i = 0; i < res.Selection.length; i++)\r\n        {\r\n            this.addRow(res.Selection[i].Index, res.Selection[i].Name, !resetSelection);\r\n        }\r\n    }\r\n\r\n    enableTextChange (element: HTMLElement)\r\n    {\r\n        let el = $(element);\r\n        el.attr('contenteditable', 'true');\r\n        el.focus();\r\n        //Select text\r\n        let range = document.createRange();\r\n        range.selectNodeContents(element);\r\n        let sel = window.getSelection();\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n\r\n        el.blur(function (e)\r\n        {\r\n            $(e.target).off('blur');\r\n            $(e.target).attr('contenteditable', 'false');\r\n            let newName = e.target.textContent;\r\n            let index = e.target.parentElement.parentElement.id.split('_')[1];\r\n            let xml = '<Call Method=\"RenameSavedSelection\"><Index>' + index + '</Index>';\r\n            xml += '<Name>' + newName + '</Name></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        el.on('keydown', function (e)\r\n        {\r\n            if (e.keyCode === 13)\r\n            {\r\n                e.preventDefault();\r\n                $(e.target).off('keyup');\r\n                $(e.target).attr('contenteditable', 'false');\r\n            }\r\n        });\r\n    }\r\n\r\n    addRow (index, name, applySelectionState: boolean = false)\r\n    {\r\n        let newRow = document.createElement('tr');\r\n        newRow.className = 'pane-item selection-pane-row';\r\n        newRow.id = 'Selection_' + index;\r\n        let newRowCell = document.createElement('td');\r\n        newRowCell.className = 'pane-item-entry-name pane-item-visual';\r\n        newRowCell.colSpan = 2;\r\n        newRowCell.style.whiteSpace = 'normal';\r\n\r\n        let newRowEditIcon = document.createElement('i');\r\n        newRowEditIcon.className = 'fas fa-edit selection-pane-row-icon';\r\n\r\n        newRowEditIcon.onclick = ev =>\r\n        {\r\n            this.enableTextChange(newRowText);\r\n        };\r\n\r\n        let newRowText = document.createElement('span');\r\n        newRowText.textContent = name;\r\n        newRowText.addEventListener('keyup', ev =>\r\n        {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n        });\r\n\r\n        let newRowBadge = document.createElement('div');\r\n        newRowBadge.className = 'selection-pane-row-badge';\r\n        newRowBadge.id = 'Selection_' + index + '_Number';\r\n        newRowBadge.textContent = '-';\r\n\r\n        let changeText = false;\r\n\r\n        $(newRowText).mousedown(ev =>\r\n        {\r\n            changeText = true;\r\n            setTimeout(() =>\r\n            {\r\n                if (changeText)\r\n                {\r\n                    this.enableTextChange(newRowText);\r\n                }\r\n            }, 500)\r\n        });\r\n\r\n        $(newRowText).mouseup(ev =>\r\n        {\r\n            changeText = false;\r\n        });\r\n\r\n        newRow.onclick = ev =>\r\n        {\r\n            //Get clicked selection\r\n            let selection: string = newRow.id.split('_')[1];\r\n            //Multiselection\r\n            if (ev.ctrlKey)\r\n            {\r\n                $(newRow).toggleClass('selection-pane-row-active');\r\n                if (this.multiRows.indexOf(newRow) === -1)\r\n                {\r\n                    this.multiRows.push(newRow);\r\n                    //Push selection to multi selection array\r\n                    if (this.multiSelections.indexOf(selection) === -1)\r\n                    {\r\n                        this.multiSelections.push(selection);\r\n                    }\r\n                    //Select all nodes\r\n                    let xml = '<Call Method=\"ActivateSavedSelections\">';\r\n                    for (let n = 0; n < this.multiSelections.length; n++)\r\n                    {\r\n                        xml += '<Index>' + this.multiSelections[n] + '</Index>';\r\n                    }\r\n                    xml += '</Call>';\r\n                    vsClient.command.executeXML(xml);\r\n                }\r\n                else\r\n                {\r\n                    let index = this.multiRows.indexOf(newRow);\r\n                    this.multiRows.splice(index, 1);\r\n                    //Remove selection from selection array\r\n                    for (let s = 0; s < selection.length; s++)\r\n                    {\r\n                        if (this.multiSelections.indexOf(selection) !== -1)\r\n                        {\r\n                            this.multiSelections.splice(this.multiSelections.indexOf(selection), 1);\r\n                        }\r\n                    }\r\n                    //Select all nodes\r\n                    let xml = '<Call Method=\"ActivateSavedSelections\">';\r\n                    for (let n = 0; n < this.multiSelections.length; n++)\r\n                    {\r\n                        xml += '<Index>' + this.multiSelections[n] + '</Index>';\r\n                    }\r\n                    xml += '</Call>';\r\n                    vsClient.command.executeXML(xml);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                $('.selection-pane-row-active').each(function (ev)\r\n                {\r\n                    $(this).removeClass('selection-pane-row-active');\r\n                });\r\n                $(newRow).addClass('selection-pane-row-active');\r\n                this.selectedRow = newRow;\r\n                this.multiRows = [];\r\n                this.multiSelections = [];\r\n                this.multiRows.push(newRow);\r\n                this.multiSelections.push(selection);\r\n                let xml = '<Call Method=\"ActivateSavedSelections\">';\r\n                xml += '<Index>' + selection + '</Index>';\r\n                xml += '</Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n        };\r\n\r\n        newRowCell.appendChild(newRowEditIcon);\r\n        newRowCell.appendChild(newRowText);\r\n        //newRowCell.appendChild(newRowBadge);\r\n        newRow.appendChild(newRowCell);\r\n        this.rows.push(newRow);\r\n        let newSelection = {\r\n            id: 'Selection_' + index,\r\n            count: '-'\r\n        };\r\n        this.tableBody.appendChild(newRow);\r\n        this.selections.push(newSelection);\r\n        if (applySelectionState && this.selectedRow && this.selectedRow.id.split('_')[1] === index)\r\n        {\r\n            $(newRow).addClass('selection-pane-row-active');\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/selections-pane.ts","/// <reference path=\"../app/global-decl.d.ts\" />\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { settings } from '../app/app-settings'\r\nimport * as ui from '../app/ui'\r\nimport * as pane from '../pane'\r\nimport js2xmlparser = require('js2xmlparser')\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { WVTooltip } from '../app/tooltip';\r\nimport { appStates } from '../app/app-states'\r\n\r\ndeclare var vsClient: VSWebClient\r\n\r\ndeclare var _lang_data: any\r\n\r\nexport class SettingsPane extends PaneTemplate\r\n{\r\n    vsClient: VSWebClient\r\n\r\n    buttonsTab: HTMLElement\r\n    viewTab: HTMLElement\r\n    searchInput: HTMLInputElement\r\n    settingsButton: HTMLElement\r\n    currentSceneButton: HTMLElement\r\n    expandAll: HTMLElement\r\n    expandAllTooltip: WVTooltip\r\n    collapseAll: HTMLElement\r\n    collapseAllTooltip: WVTooltip\r\n    refreshIcon: HTMLElement\r\n    refreshIconTooltip: WVTooltip\r\n    saveIcon: HTMLElement\r\n    saveIconTooltip: WVTooltip\r\n\r\n\r\n    globalSettingsEl: HTMLTableElement\r\n    sceneSettingsEl: HTMLTableElement\r\n    sceneSettingsAdapter: pane.PaneAdapter\r\n    settingsAdapter: pane.PaneAdapter\r\n\r\n    scrollPosGlobal: number = 0\r\n    scrollPosScene: number = 0\r\n\r\n    resizableHandleAdded: boolean = false\r\n\r\n    langId_default: string\r\n    langId_currentScene: string\r\n\r\n    defaultSettings: any\r\n    sceneSettings: any\r\n\r\n    globalSettingsWrapper: HTMLElement\r\n    sceneSettingsWrapper: HTMLElement\r\n\r\n    settingsTemaplte: {}\r\n\r\n    constructor(paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption);\r\n        this.noAdapter = true;\r\n\r\n        this.langId_default = 'ID_DEFAULT_COLOR';\r\n        this.langId_currentScene = 'ID_SCENE_TAB';\r\n\r\n        //TODO Here the new table\r\n        this.globalSettingsEl = document.createElement('table');\r\n        this.globalSettingsEl.classList.add('pane-content');\r\n        this.globalSettingsEl.style.minWidth = '100px';\r\n\r\n        this.sceneSettingsEl = document.createElement('table');\r\n        this.sceneSettingsEl.classList.add('pane-content');\r\n\r\n\r\n        this._buildTabs();\r\n        this._buildSearch();\r\n        this.buttonsTab.appendChild(this.searchInput);\r\n        this.wrapperEl.appendChild(this.buttonsTab);\r\n        this.wrapperEl.appendChild(this.viewTab);\r\n            ;\r\n        // TO REFINE\r\n        this.globalSettingsWrapper = document.createElement('div');\r\n        this.globalSettingsWrapper.classList.add('pane-scroll-area');\r\n        this.globalSettingsWrapper.style.overflowY = 'scroll';\r\n        this.globalSettingsWrapper.appendChild(this.globalSettingsEl)\r\n        this.globalSettingsWrapper.onscroll = e =>\r\n        {\r\n            this.scrollPosGlobal = this.globalSettingsWrapper.scrollTop;\r\n        }\r\n\r\n        this.sceneSettingsWrapper = document.createElement('div')\r\n        this.sceneSettingsWrapper.classList.add('pane-scroll-area');\r\n        this.sceneSettingsWrapper.style.overflowY = 'scroll';\r\n        this.sceneSettingsWrapper.appendChild(this.sceneSettingsEl);\r\n        this.sceneSettingsWrapper.hidden = true;\r\n        this.sceneSettingsWrapper.onscroll = e =>\r\n        {\r\n            this.scrollPosScene = this.sceneSettingsWrapper.scrollTop;\r\n        }\r\n\r\n        this.wrapperEl.appendChild(this.globalSettingsWrapper)\r\n        this.wrapperEl.appendChild(this.sceneSettingsWrapper)\r\n        this.wrapperEl.style.overflow = 'hidden'\r\n\r\n    }\r\n\r\n    _buildTabs()\r\n    {\r\n        this.buttonsTab = document.createElement('div')\r\n        this.buttonsTab.classList.add('pane-buttons-tab-large')\r\n\r\n        this.expandAll = document.createElement('i');\r\n        this.expandAll.className = 'fa fa-chevron-double-right tree-header-action-icon';\r\n        this.expandAll.addEventListener('click', ev =>\r\n        {\r\n            let target: pane.PaneAdapter\r\n            if (this.globalSettingsWrapper.hidden)\r\n            {\r\n                target = this.sceneSettingsAdapter\r\n            } else\r\n            {\r\n                target = this.settingsAdapter\r\n            }\r\n\r\n            target.root.children.forEach((item: pane.Item) =>\r\n            {\r\n                let folder = item.visual as pane.Folder\r\n                folder.expander.classList.remove(pane.Folder.minus, pane.Folder.plus)\r\n                folder.expander.classList.add(pane.Folder.minus)\r\n                item.expandAll()\r\n            })\r\n            this.sceneSettingsAdapter.emit('user-input', this, 'toggle-folder-visibility')\r\n            this.settingsAdapter.emit('user-input', this, 'toggle-folder-visibility')\r\n        })\r\n        this.expandAllTooltip = new WVTooltip(this.expandAll);\r\n        this.expandAllTooltip.setTitle(_lang_data['ID_EXPAND_ALL'][this.lang]);\r\n\r\n        this.collapseAll = document.createElement('i');\r\n        this.collapseAll.className = 'fa fa-chevron-double-left tree-header-action-icon';\r\n        this.collapseAll.addEventListener('click', ev =>\r\n        {\r\n            let target: pane.PaneAdapter\r\n            if (this.globalSettingsWrapper.hidden)\r\n            {\r\n                target = this.sceneSettingsAdapter\r\n            } else\r\n            {\r\n                target = this.settingsAdapter\r\n            }\r\n\r\n            target.root.children.forEach(item =>\r\n            {\r\n                let folder = item.visual as pane.Folder\r\n                folder.expander.classList.remove(pane.Folder.minus, pane.Folder.plus)\r\n                folder.expander.classList.add(pane.Folder.plus)\r\n                item.collapseAll(false)\r\n            })\r\n            this.sceneSettingsAdapter.emit('user-input', this, 'toggle-folder-visibility')\r\n            this.settingsAdapter.emit('user-input', this, 'toggle-folder-visibility')\r\n        })\r\n        this.collapseAllTooltip = new WVTooltip(this.collapseAll);\r\n        this.collapseAllTooltip.setTitle(_lang_data['ID_COLLAPSE_ALL'][this.lang]);\r\n\r\n\r\n        this.saveIcon = document.createElement('i');\r\n        this.saveIcon.className = 'fa fa-save tree-header-action-icon';\r\n        this.saveIcon.id = 'save_scene_settings';\r\n        this.saveIcon.addEventListener('click', ev =>\r\n        {\r\n            let sceneSettings = this.sceneSettings.Settings.Scene;\r\n            let mergedSettings = this.defaultSettings.Settings;\r\n            mergedSettings.Scene = sceneSettings;\r\n            mergedSettings = removeProp(mergedSettings, '__text__');\r\n            mergedSettings = removeProp(mergedSettings, '__ordinal__');\r\n            delete mergedSettings.Renderer.General.Language;\r\n            let xml = js2xmlparser.parse('Settings', mergedSettings).replace(\"<?xml version='1.0'?>\", \"\");\r\n            let settingsCall = '<Call Method=\"SetSettings\">' + xml + '</Call>';\r\n            vsClient.command.executeXML(settingsCall);\r\n        })\r\n        this.saveIconTooltip = new WVTooltip(this.saveIcon);\r\n        this.saveIconTooltip.setTitle(_lang_data['ID_RIBBON_SAVE'][this.lang].split('(')[0]);\r\n\r\n        this.refreshIcon = document.createElement('i');\r\n        this.refreshIcon.className = 'fa fa-sync-alt tree-header-action-icon';\r\n        this.refreshIcon.id = 'settings_refresh';\r\n        this.refreshIcon.addEventListener('click', ev =>\r\n        {\r\n            localStorage.setItem('VSWVSettings', localStorage.getItem('VSWVDefaultSettings'));\r\n            let settingsCall = '<Call Method=\"SetSettings\">' + localStorage.getItem('VSWVDefaultSettings') + '</Call>';\r\n            vsClient.command.executeXMLAsync(settingsCall);\r\n            settingsCall = '<Call Method=\"GetSettings\"></Call>';\r\n            vsClient.command.executeXMLAsync(settingsCall);\r\n            vsClient.once('GetSettings', (response, xml) =>\r\n            {\r\n                this.updateSettings(response);\r\n            })\r\n            localStorage.removeItem('nativeLoadingSettings');\r\n        })\r\n        this.refreshIconTooltip = new WVTooltip(this.refreshIcon);\r\n        this.refreshIconTooltip.setTitle(_lang_data['ID_BUTTON_PROFILES_DEFAULT'][this.lang].split('(')[0]);\r\n\r\n\r\n        this.buttonsTab.appendChild(this.expandAll);\r\n        this.buttonsTab.appendChild(this.collapseAll);\r\n        this.buttonsTab.appendChild(this.saveIcon);\r\n        this.buttonsTab.appendChild(this.refreshIcon);\r\n\r\n        this.viewTab = document.createElement('div');\r\n        this.viewTab.classList.add('settings-selector-header');\r\n        this.settingsButton = document.createElement('span');\r\n        this.settingsButton.textContent = _lang_data[this.langId_default][settings.lang];\r\n        this.settingsButton.className = 'active-settings-pane';\r\n        this.settingsButton.classList.add('general-settings-tab');\r\n        this.settingsButton.addEventListener('click', ev =>\r\n        {\r\n            if ($(this.settingsButton).hasClass('active-settings-pane'))\r\n            {\r\n                return;\r\n            }\r\n            $(this.settingsButton).toggleClass('active-settings-pane');\r\n            $(this.currentSceneButton).toggleClass('active-settings-pane');\r\n\r\n            this.sceneSettingsWrapper.hidden = true;\r\n            this.globalSettingsWrapper.hidden = false;\r\n            this.settingsAdapter.filter(this.searchInput.value);\r\n        })\r\n\r\n        this.currentSceneButton = document.createElement('span');\r\n        this.currentSceneButton.textContent = _lang_data[this.langId_currentScene][settings.lang];\r\n        this.currentSceneButton.classList.add('scene-settings-tab');\r\n        this.currentSceneButton.addEventListener('click', ev =>\r\n        {\r\n            if ($(this.currentSceneButton).hasClass('active-settings-pane'))\r\n            {\r\n                return;\r\n            }\r\n            $(this.settingsButton).toggleClass('active-settings-pane')\r\n            $(this.currentSceneButton).toggleClass('active-settings-pane')\r\n\r\n            this.sceneSettingsWrapper.hidden = false;\r\n            this.globalSettingsWrapper.hidden = true;\r\n            this.sceneSettingsAdapter.filter(this.searchInput.value);\r\n        })\r\n\r\n\r\n        this.viewTab.appendChild(this.settingsButton);\r\n        this.viewTab.appendChild(this.currentSceneButton);\r\n    }\r\n\r\n    _buildSearch()\r\n    {\r\n        this.searchInput = document.createElement('input');\r\n        this.searchInput.className = 'settings-pane-search-input';\r\n        this.searchInput.placeholder = 'Search Settings...';\r\n        this.searchInput.setAttribute('type', 'search');\r\n        this.searchInput.onfocus = e =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n        }\r\n        this.searchInput.onblur = e =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = false;\r\n        }\r\n        this.searchInput.addEventListener('input', (ev: KeyboardEvent) =>\r\n        {\r\n            if (this.sceneSettingsWrapper.hidden)\r\n            {\r\n                this.settingsAdapter.filter(this.searchInput.value);\r\n                this.settingsAdapter.filterString = this.searchInput.value;\r\n            } else if (this.globalSettingsWrapper.hidden)\r\n            {\r\n                this.sceneSettingsAdapter.filter(this.searchInput.value);\r\n                this.sceneSettingsAdapter.filterString = this.searchInput.value;\r\n            }\r\n        });\r\n    }\r\n\r\n    fromTemplate(settingsTemplate: any)\r\n    {\r\n        this.settingsTemaplte = settingsTemplate;\r\n        this.settingsAdapter = new pane.PaneAdapter(this.globalSettingsEl);\r\n        this.settingsAdapter.fromTemplate(settingsTemplate['Group']);\r\n        this.settingsAdapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                return\r\n            }\r\n            let path = src.item.path;\r\n            // update the local duplicate\r\n            pane.modifySettings(this.defaultSettings, path, value);\r\n            // send the updated setting\r\n            let xml = XMLParser.serializeWithValue(path, value);\r\n            let settings = `<Call Method=\"SetSettings\"> ${xml} </Call>`;\r\n            vsClient.command.executeXMLAsync(settings);\r\n        });\r\n\r\n        this.sceneSettingsAdapter = new pane.PaneAdapter(this.sceneSettingsEl);\r\n        this.sceneSettingsAdapter.fromTemplate(settingsTemplate['Group']['Group'][2]);\r\n        this.sceneSettingsAdapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                return;\r\n            }\r\n            let path = src.item.path;\r\n            pane.modifySettings(this.sceneSettings, path, value);\r\n            let xml = XMLParser.serializeWithValue(path, value);\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`;\r\n            vsClient.command.executeXMLAsync(settings);\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n    }\r\n\r\n    addMethods()\r\n    {\r\n    }\r\n\r\n    changeLang(lang: string)\r\n    {\r\n        this.expandAllTooltip.setTitle(_lang_data['ID_EXPAND_ALL'][lang]);\r\n        this.collapseAllTooltip.setTitle(_lang_data['ID_COLLAPSE_ALL'][lang]);\r\n        this.refreshIconTooltip.setTitle(_lang_data['ID_BUTTON_PROFILES_DEFAULT'][lang].split('(')[0]);\r\n        this.saveIconTooltip.setTitle(_lang_data['ID_RIBBON_SAVE'][lang]);\r\n        this.settingsButton.textContent = _lang_data[this.langId_default][lang]\r\n        this.currentSceneButton.textContent = _lang_data[this.langId_currentScene][lang]\r\n\r\n        let GetSettingsTemplate = `<Call Method=\"GetTemplate\"><Type>SettingsPane</Type></Call>`\r\n        vsClient.command.executeXML(GetSettingsTemplate)\r\n        vsClient.once('GetTemplate.SettingsPane', (response: any) =>\r\n        {\r\n            const template = response['Source']['Template']\r\n            ui.settingsPane.fromTemplate(template)\r\n\r\n            if (this.defaultSettings)\r\n            {\r\n                this.updateSettings(this.defaultSettings);\r\n                if (this.sceneSettings)\r\n                {\r\n                    this.updateSceneSettings(this.sceneSettings);\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateSettings(settings: any)\r\n    {\r\n        this.defaultSettings = settings;\r\n        this.settingsAdapter.updateValues(this.defaultSettings);\r\n    }\r\n\r\n    updateSceneSettings(settings: {} = undefined)\r\n    {\r\n        if (settings !== undefined)\r\n        {\r\n            this.sceneSettings = settings;\r\n        }\r\n        this.sceneSettingsAdapter.updateValues(this.sceneSettings);\r\n    }\r\n\r\n    update = () =>\r\n    {\r\n        this.globalSettingsWrapper.scrollTop = this.scrollPosGlobal;\r\n        this.sceneSettingsWrapper.scrollTop = this.scrollPosScene;\r\n        let heightString = 'calc(100% - ' + ($(this.buttonsTab).outerHeight(true) + $(this.viewTab).outerHeight(true)) + 'px)';\r\n        this.globalSettingsWrapper.style.height = heightString;\r\n        this.sceneSettingsWrapper.style.height = heightString;\r\n        if (this.defaultSettings)\r\n        {\r\n            this.updateSceneSettings();\r\n            this.updateSettings(this.defaultSettings);\r\n        }\r\n    }\r\n\r\n    applySettings(settings: any)\r\n    {\r\n        let buildAttribute = 'Build=\"' + settings.Build + '\"';\r\n        let xml = js2xmlparser.parse('Settings', settings);\r\n        let re = new RegExp('<Settings>\\n    <Build>' + settings.Build + '</Build>');\r\n        xml = xml.replace(re, '<Settings ' + buildAttribute + '>');\r\n        var s = `<Call Method=\"SetSettings\">` + xml + `</Call>`;\r\n\r\n        vsClient.command.executeXML(s);\r\n    }\r\n\r\n    applySceneSettings(settings: any)\r\n    {\r\n        let buildAttribute = 'Build=\"' + settings.Build + '\"'\r\n        let xml = js2xmlparser.parse('Settings', settings)\r\n        let re = new RegExp('<Settings>\\n    <Build>' + settings.Build + '</Build>')\r\n        xml = xml.replace(re, '<Settings ' + buildAttribute + '>')\r\n        var s = `<Call Method=\"SetSceneSettings\">` + xml + `</Call>`\r\n        vsClient.command.executeXMLAsync(s)\r\n\r\n    }\r\n\r\n}\r\n\r\nconst removeProp = (obj, prop) =>\r\n{\r\n    Object.keys(obj).forEach(key =>\r\n        (key === prop) && delete obj[key] ||\r\n        (obj[key] && typeof obj[key] === 'object') && removeProp(obj[key], prop)\r\n    );\r\n    return obj;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./app-panes/settings-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { PlainInput, PlainSlider, PlainGroup, PlainColorPicker, PlainButton } from '../pane/widgets';\r\n\r\n\r\nexport interface SplitSession\r\n{\r\n    id: number,\r\n    name: string,\r\n    directionId: number,\r\n    directionName: string,\r\n    upColor: string,\r\n    upNumPatches: number,\r\n    downColor: string,\r\n    downNumPatches: number,\r\n    unassignedColor: string,\r\n    unassignedNumPatches: number,\r\n    directionEl: HTMLElement,\r\n    upEl: HTMLElement,\r\n    downEl: HTMLElement,\r\n    maxExplodeDistance: number,\r\n    sliderPos?: number\r\n}\r\n\r\nexport class SplitPane extends PaneTemplate\r\n{\r\n    el: HTMLTableElement\r\n    values: {}\r\n    sessions: SplitSession[] = []\r\n    activeSession: SplitSession\r\n    resultInitialized: boolean = false;\r\n    resultSessionIdEl: PlainInput\r\n    resultSessionNameEl: PlainInput\r\n    resultExplodeDistanceEl: PlainInput\r\n    resultSliderEl: PlainSlider\r\n    groupTable: HTMLTableElement\r\n    groupTableBody: HTMLElement\r\n    directionCol: HTMLElement\r\n    upCol: HTMLElement\r\n    downCol: HTMLElement\r\n    unassignedPatches: PlainInput\r\n    unassignedColor: PlainColorPicker\r\n    upColor: PlainColorPicker\r\n    downColor: PlainColorPicker\r\n    resultGroup: PlainGroup\r\n\r\n    constructor (paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption);\r\n\r\n        let buttonRowTable = document.createElement('table');\r\n        buttonRowTable.className = 'pane-content';\r\n        let splitRestartSessionButton = new PlainButton(3, buttonRowTable, \"\", \"\", 'ID_SPLIT_RESTART_SESSION_BUTTON', this.restartSession.bind(this));\r\n        this.wrapperEl.appendChild(buttonRowTable);\r\n\r\n        this.el = document.createElement('table');\r\n        this.el.classList.add('pane-content');\r\n        this.wrapperEl.appendChild(this.el);\r\n\r\n        this.groupTable = document.createElement('table');\r\n        this.groupTable.className = 'pane-content';\r\n        this.wrapperEl.appendChild(this.groupTable);\r\n\r\n        let tableHeader = document.createElement('thead');\r\n        this.groupTable.appendChild(tableHeader);\r\n\r\n        let headerRow = document.createElement('tr');\r\n        headerRow.className = 'pane-item';\r\n        tableHeader.appendChild(headerRow);\r\n\r\n        this.directionCol = document.createElement('th');\r\n        this.directionCol.textContent = ui.translate('ID_SPLIT_DIRECTION_VECTOR');\r\n        this.directionCol.className = 'pane-item-entry-name';\r\n        headerRow.appendChild(this.directionCol);\r\n\r\n        this.upCol = document.createElement('th');\r\n        this.upCol.textContent = ui.translate('ID_SPLIT_RESULT_GROUP_UP');\r\n        this.upCol.className = 'pane-item-entry-name';\r\n        headerRow.appendChild(this.upCol);\r\n\r\n        this.downCol = document.createElement('th');\r\n        this.downCol.textContent = ui.translate('ID_SPLIT_RESULT_GROUP_DOWN');\r\n        this.downCol.className = 'pane-item-entry-name';\r\n        headerRow.appendChild(this.downCol);\r\n\r\n        this.groupTableBody = document.createElement('tbody');\r\n        this.groupTable.appendChild(this.groupTableBody);\r\n\r\n        let placeholderRow = document.createElement('tr');\r\n        this.groupTableBody.appendChild(placeholderRow);\r\n\r\n        $(this.groupTable).hide();\r\n    }\r\n\r\n    appendSplitSession (ev)\r\n    {\r\n        if (ev.Error !== 'SUCCESS')\r\n        {\r\n            return;\r\n        }\r\n        let tableBody = $(this.el).children('tbody').first()[0] as HTMLElement;\r\n        let session: SplitSession = {\r\n            id: parseInt(ev.SplitSessionId),\r\n            name: ev.SplitSessionName,\r\n            directionId: parseInt(ev.SplitDirectionId),\r\n            directionName: ev.SplitDirectionName,\r\n            upColor: ev.SplitGroupUpColor,\r\n            upNumPatches: parseInt(ev.SplitGroupUpNumPatches),\r\n            downColor: ev.SplitGroupDownColor,\r\n            downNumPatches: parseInt(ev.SplitGroupDownNumPatches),\r\n            unassignedColor: ev.SplitGroupUnassignedColor,\r\n            unassignedNumPatches: parseInt(ev.SplitGroupUnassignedNumPatches),\r\n            directionEl: undefined,\r\n            upEl: undefined,\r\n            downEl: undefined,\r\n            maxExplodeDistance: parseFloat(ev.SplitFullExplodeDistance),\r\n            sliderPos: ev.SplitExplodeSliderPosition ? parseFloat(ev.SplitExplodeSliderPosition) : 0\r\n        };\r\n        if (!this.resultInitialized)\r\n        {\r\n            //Build result group\r\n            this.resultGroup = new PlainGroup(1, tableBody, 'ID_SPLIT_RESULTS', \"\");\r\n            this.resultSessionIdEl = new PlainInput(2, tableBody, 'ID_SPLIT_SESSION_ID', \"\", 'false', undefined);\r\n            this.resultSessionNameEl = new PlainInput(2, tableBody, 'ID_SPLIT_SESSION_NAME', \"\", 'true', this.setSessionName.bind(this));\r\n            this.resultExplodeDistanceEl = new PlainInput(2, tableBody, 'ID_SPLIT_EXPLODE_DISTANCE', \"\", 'true', this.setMaxExplodeDistance.bind(this));\r\n            this.resultSliderEl = new PlainSlider(2, tableBody, 'ID_SPLIT_EXPLODE_LEVEL', \"\", this.setDistance);\r\n            this.resultSliderEl.setVal(0);\r\n            this.resultGroup.children.push(this.resultSessionIdEl.wrapperEl, this.resultSessionNameEl.wrapperEl, this.resultExplodeDistanceEl.wrapperEl, this.resultSliderEl.wrapperEl);\r\n            //Build session group\r\n            let unassignedGroup = new PlainGroup(2, tableBody, 'ID_SPLIT_RESULT_GROUP_UNASSIGNED', \"\");\r\n            this.unassignedPatches = new PlainInput(3, tableBody, 'ID_SPLIT_NUMBER_OF_UNASSIGNED_PATCHES', \"\", 'false', undefined);\r\n            this.unassignedColor = new PlainColorPicker(3, tableBody, 'ID_COLOR', \"\", this.setUnassignedColor.bind(this));\r\n            let unassignedButton = new PlainButton(3, tableBody, \"\", \"\", 'ID_SPLIT_REGROUP_PATCH', this.moveUnassigned.bind(this));\r\n            unassignedGroup.children.push(this.unassignedPatches.wrapperEl, this.unassignedColor.wrapperEl, unassignedButton.wrapperEl);\r\n\r\n            let upGroup = new PlainGroup(2, tableBody, 'ID_SPLIT_RESULT_GROUP_UP', \"\");\r\n            this.upColor = new PlainColorPicker(3, tableBody, 'ID_COLOR', \"\", this.setUpColor.bind(this));\r\n            let upButton = new PlainButton(3, tableBody, \"\", \"\", 'ID_SPLIT_REGROUP_PATCH', this.moveUp.bind(this));\r\n            upGroup.children.push(this.upColor.wrapperEl, upButton.wrapperEl);\r\n\r\n            let downGroup = new PlainGroup(2, tableBody, 'ID_SPLIT_RESULT_GROUP_DOWN', \"\");\r\n            this.downColor = new PlainColorPicker(3, tableBody, 'ID_COLOR', \"\", this.setDownColor.bind(this));\r\n            let downButton = new PlainButton(3, tableBody, \"\", \"\", 'ID_SPLIT_REGROUP_PATCH', this.moveDown.bind(this));\r\n            downGroup.children.push(this.downColor.wrapperEl, downButton.wrapperEl);\r\n\r\n            this.resultGroup.childGroups.push(unassignedGroup, upGroup, downGroup);\r\n\r\n            this.resultInitialized = true;\r\n            $(this.groupTable).show();\r\n        }\r\n        if (this.sessions.length === 0)\r\n        {\r\n            let placeholderRow = document.createElement('tr');\r\n            this.groupTableBody.appendChild(placeholderRow);\r\n            $(this.groupTable).show();\r\n            this.resultGroup.expand();\r\n            $(this.resultGroup.wrapperEl).show();\r\n        }\r\n        //Add to group table\r\n        let tableRow = document.createElement('tr');\r\n        tableRow.className = 'pane-item';\r\n        tableRow.onclick = e =>\r\n        {\r\n            this.activateSession(session);\r\n        }\r\n        this.groupTableBody.appendChild(tableRow);\r\n\r\n        session.directionEl = document.createElement('td');\r\n        session.directionEl.textContent = session.directionName;\r\n        session.directionEl.className = 'pane-item-entry-name';\r\n        tableRow.appendChild(session.directionEl);\r\n\r\n        session.upEl = document.createElement('td');\r\n        session.upEl.textContent = session.upNumPatches.toString();\r\n        session.upEl.style.backgroundColor = '#' + session.upColor.slice(3);\r\n        session.upEl.style.color = this.calculateFontColor('#' + session.downColor.slice(3));\r\n        session.upEl.className = 'pane-item-entry-name';\r\n        tableRow.appendChild(session.upEl);\r\n\r\n        session.downEl = document.createElement('td');\r\n        session.downEl.textContent = session.downNumPatches.toString();\r\n        session.downEl.style.backgroundColor = '#' + session.downColor.slice(3);\r\n        session.downEl.style.color = this.calculateFontColor('#' + session.downColor.slice(3));\r\n        session.downEl.className = 'pane-item-entry-name';\r\n        tableRow.appendChild(session.downEl);\r\n        //Activate group\r\n        this.sessions.push(session);\r\n        this.activateSession(session);\r\n\r\n    }\r\n\r\n    clearGroupTable ()\r\n    {\r\n        $(this.groupTableBody).empty();\r\n    }\r\n\r\n    restartSession ()\r\n    {\r\n        if (!this.resultGroup)\r\n        {\r\n            return;\r\n        }\r\n        let xml = '<Call Method=\"StartNewSplitSession\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        $(this.groupTable).hide();\r\n        this.sessions = [];\r\n        this.resultGroup.collapse();\r\n        this.clearGroupTable();\r\n        $(this.resultGroup.wrapperEl).hide();\r\n    }\r\n\r\n    activateSession (session: SplitSession)\r\n    {\r\n        //Set slider values\r\n        this.resultSliderEl.setVal(session.sliderPos/100);\r\n        this.resultExplodeDistanceEl.setVal(session.maxExplodeDistance);\r\n        //Set result values\r\n        this.resultSessionIdEl.setVal(session.id);\r\n        this.resultSessionNameEl.setVal(session.name);\r\n        //Set session values\r\n        this.unassignedPatches.setVal(session.unassignedNumPatches);\r\n        this.unassignedColor.setVal(session.unassignedColor);\r\n        this.upColor.setVal(session.upColor);\r\n        this.downColor.setVal(session.downColor);\r\n        //Set active session\r\n        this.activeSession = session;\r\n        //Highlight session\r\n        $('.split-group-active').removeClass('split-group-active');\r\n        $(session.directionEl).addClass('split-group-active');\r\n    }\r\n\r\n    setSessionName (val)\r\n    {\r\n\r\n    }\r\n\r\n    setMaxExplodeDistance (val)\r\n    {\r\n        let xml = '<Call Method=\"SetSplitFullExplodeDistance\">';\r\n        xml += '<SplitFullExplodeDistance>' + parseFloat(val) + '</SplitFullExplodeDistance>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    setDistance (val)\r\n    {\r\n        let xml = '<Call Method=\"ExplodeSplitGroups\">';\r\n        xml += '<Position>' + parseInt((val * 100).toString()) + '</Position>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    setUnassignedColor (val)\r\n    {\r\n        let xml = '<Call Method=\"SetSplitUnassignedColor\">';\r\n        xml += '<SplitDirectionId>' + this.activeSession.directionId + '</SplitDirectionId>';\r\n        xml += '<SplitGroupUnassignedColor>' + val + '</SplitGroupUnassignedColor>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n        this.activeSession.unassignedColor = val;\r\n    }\r\n\r\n    setUpColor (val)\r\n    {\r\n        let xml = '<Call Method=\"SetSplitGroupUpColor\">';\r\n        xml += '<SplitDirectionId>' + this.activeSession.directionId + '</SplitDirectionId>';\r\n        xml += '<SplitGroupUpColor>' + val + '</SplitGroupUpColor>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n        this.activeSession.upColor = val;\r\n        this.activeSession.upEl.style.backgroundColor = val;\r\n    }\r\n\r\n    setDownColor (val)\r\n    {\r\n        let xml = '<Call Method=\"SetSplitGroupDownColor\">';\r\n        xml += '<SplitDirectionId>' + this.activeSession.directionId + '</SplitDirectionId>';\r\n        xml += '<SplitGroupDownColor>' + val + '</SplitGroupDownColor>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n        this.activeSession.downColor = val;\r\n        this.activeSession.downEl.style.backgroundColor = val;\r\n    }\r\n\r\n    moveUnassigned ()\r\n    {\r\n        let xml = '<Call Method=\"UnassignSplitSelectedPatches\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    moveUp ()\r\n    {\r\n        let xml = '<Call Method=\"AssignSplitSelectedPatchesToGroupUp\">';\r\n        xml += '<SplitDirectionId>' + this.activeSession.directionId + '</SplitDirectionId>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    moveDown ()\r\n    {\r\n        let xml = '<Call Method=\"AssignSplitSelectedPatchesToGroupDown\">';\r\n        xml += '<SplitDirectionId>' + this.activeSession.directionId + '</SplitDirectionId>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    calculateFontColor (color: string)\r\n    {\r\n        //Decide if font color is white or black\r\n        var rgb = color.substr(1);\r\n        var int = parseInt(rgb, 16);\r\n        var r = ((int >> 16) & 255) / 255;\r\n        var g = ((int >> 8) & 255) / 255;\r\n        var b = (int & 255) / 255;\r\n\r\n        var rgbArr = [r, g, b];\r\n\r\n        for (var j = 0; j < rgbArr.length; j++)\r\n        {\r\n            if (rgbArr[j] <= 0.03928)\r\n            {\r\n                rgbArr[j] = rgbArr[j] / 12.92;\r\n            }\r\n            else\r\n            {\r\n                rgbArr[j] = Math.pow((rgbArr[j] + 0.055) / 1.055, 2.4);\r\n            }\r\n        }\r\n        let luminance = 0.2126 * rgbArr[0] + 0.7152 * rgbArr[1] + 0.0722 * rgbArr[2];\r\n\r\n        let fontColor = (luminance > 0.179) ? 'black' : 'white';\r\n        return fontColor;\r\n    }\r\n\r\n    setSplitDirection ()\r\n    {\r\n        let xml = '<Call Method=\"SetSplitDirection\">';\r\n        xml += '<X>' + $(\"#wv-split #SplitXDirection\").text() + '</X>';\r\n        xml += '<Y>' + $(\"#wv-split #SplitYDirection\").text() + '</Y>';\r\n        xml += '<Z>' + $(\"#wv-split #SplitZDirection\").text() + '</Z>';\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    addMethods ()\r\n    {\r\n        $(\"#wv-split #OnSplitByNormalClicked\").off('click').click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"ActivateSplitDirectionPick\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-split #OnSplitXClicked\").off('click').click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"SetSplitDirectionXAxis\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-split #OnSplitYClicked\").off('click').click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"SetSplitDirectionYAxis\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-split #OnSplitZClicked\").off('click').click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"SetSplitDirectionZAxis\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-split #OnSplitComputeClicked\").off('click').click(ev =>\r\n        {\r\n            var xml = '<Call Method=\"Compute\"><Mode>Split</Mode></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n\r\n        $(\"#wv-split #SplitXDirection\").text(0);\r\n        $(\"#wv-split #SplitYDirection\").text(0);\r\n        $(\"#wv-split #SplitZDirection\").text(0);\r\n\r\n        $(\"#wv-split #SplitXDirection\").off('blur').blur(ev =>\r\n        {\r\n            this.setSplitDirection();\r\n        });\r\n\r\n        $(\"#wv-split #SplitYDirection\").off('blur').blur(ev =>\r\n        {\r\n            this.setSplitDirection();\r\n        });\r\n\r\n        $(\"#wv-split #SplitZDirection\").off('blur').blur(ev =>\r\n        {\r\n            this.setSplitDirection();\r\n        });\r\n    }\r\n\r\n    changeLang (lang: string)\r\n    {\r\n        let GetSplitPaneTemplate = `<Call Method=\"GetTemplate\"><Type>SplitPane</Type></Call>`\r\n        vsClient.command.executeXML(GetSplitPaneTemplate)\r\n        vsClient.once('GetTemplate.SplitPane', (response: any) =>\r\n        {\r\n            const template = response['Source']['Template']\r\n            this.adapter.fromTemplate(template)\r\n            this.addMethods()\r\n        })\r\n    }\r\n\r\n\r\n    fromTemplate (template: {})\r\n    {\r\n        this.adapter = new pane.PaneAdapter(this.el)\r\n\r\n        this.adapter.fromTemplate(template)\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            if ((path.indexOf('Angle1') !== -1 && value < 0) || (path.indexOf('Angle2') !== -1 && value > 0) || path.indexOf('Tolerance') !== -1 && value < 0)\r\n            {\r\n                value *= -1\r\n            }\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n            let xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n\r\n        if (template['Event'])\r\n        {\r\n            const event = template['Event']\r\n            vsClient.removeListener(event, this.update)\r\n            vsClient.on(event, this.update)\r\n        }\r\n\r\n    }\r\n\r\n    update = (response) =>\r\n    {\r\n        if (response === true)\r\n        {\r\n            $(this.groupTableBody).empty();\r\n            $(this.groupTable).hide();\r\n            this.sessions = [];\r\n            this.activeSession = undefined;\r\n            if (this.resultGroup)\r\n            {\r\n                this.resultGroup.collapse();\r\n                $(this.resultGroup.wrapperEl).hide();\r\n            }\r\n\r\n        }\r\n        this.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n            Settings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        }\r\n        this.adapter.updateValues(this.values)\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/split-pane.ts","import { VSWebClient } from '../../base/vsweb-client-impl'\r\nexport interface SceneTab\r\n{\r\n    name: string,\r\n    id: string,\r\n    tab: HTMLElement,\r\n    active: boolean\r\n}\r\n\r\ninterface SceneCanvas\r\n{\r\n    id: string,\r\n    canvas: HTMLElement\r\n}\r\n\r\n\r\n\r\nexport class CanvasStack\r\n{\r\n    parent: HTMLElement\r\n    stackSize: number = 0\r\n    tabBar: HTMLElement\r\n    stack: SceneTab[] = []\r\n    activeSceneId: string\r\n    isMaximized: boolean = false\r\n    client: VSWebClient\r\n    sceneStack: SceneCanvas[] = []\r\n\r\n\r\n    constructor(parent: HTMLElement, client: VSWebClient)\r\n    {\r\n        this.parent = parent;\r\n        this.client = client;\r\n        // Create tab bar\r\n        this.tabBar = document.createElement('div');\r\n        this.tabBar.className = 'canvas-pane-tab-bar';\r\n        this.parent.appendChild(this.tabBar);\r\n    }\r\n\r\n    addScene(sceneId: string): HTMLDivElement\r\n    {\r\n        this.addTab(sceneId);\r\n        let newSceneWrapper = document.createElement('div');\r\n        newSceneWrapper.id = 'wv-canvas';\r\n        newSceneWrapper.className = 'pane-content-area';\r\n        newSceneWrapper.style.margin = '0px';\r\n        this.parent.appendChild(newSceneWrapper);\r\n        this.activeSceneId = sceneId;\r\n        let newScene: SceneCanvas = {\r\n            id: sceneId,\r\n            canvas: newSceneWrapper\r\n        };\r\n        this.sceneStack.push(newScene);\r\n        return newSceneWrapper;\r\n    }\r\n\r\n    addTab(sceneId: string)\r\n    {\r\n        $(this.parent).show();\r\n        let title = '/';\r\n        let tab = document.createElement('div');\r\n        tab.className = 'pane-tab active-scene-pane-tab';\r\n        tab.style.marginBottom = '0px!important';\r\n\r\n        tab.textContent = title;\r\n        $(tab).click(e =>\r\n        {\r\n            for (let i = 0; i < this.stackSize; i++)\r\n            {\r\n                this.stack[i].active = false;\r\n                $(this.stack[i].tab).removeClass('active-pane-tab');\r\n            }\r\n            $(tab).addClass('active-pane-tab');\r\n        });\r\n\r\n        let newTab: SceneTab = {\r\n            name: title,\r\n            id: sceneId,\r\n            tab: tab,\r\n            active: true,\r\n        };\r\n\r\n        for (let i = 0; i < this.stackSize; i++)\r\n        {\r\n            this.stack[i].active = false;\r\n            $(this.stack[i].tab).removeClass('active-pane-tab');\r\n        }\r\n\r\n        this.stack.push(newTab);\r\n        this.stackSize++;\r\n        this.tabBar.appendChild(tab);\r\n    }\r\n\r\n    setTabTitle(title: string)\r\n    {\r\n        this.stack[0].tab.textContent = title;\r\n    }\r\n\r\n    maximize()\r\n    {\r\n        this.isMaximized = true;\r\n        $(this.parent).addClass('canvas-maximized');\r\n        $(this.sceneStack[0].canvas).addClass('canvas-maximized');\r\n    }\r\n\r\n    minimize()\r\n    {\r\n        this.isMaximized = false;\r\n        $(this.sceneStack[0].canvas).removeClass('canvas-maximized');\r\n        $(this.parent).removeClass('canvas-maximized');\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/template/canvas-stack.ts","import { PaneTemplate } from \"./pane-template\";\r\nimport { settings } from '../../app/app-settings';\r\nimport * as ui from '../../app/ui';\r\nimport { appStates } from \"../../app/app-states\";\r\n\r\nimport { VSWebClient } from '../../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient;\r\n\r\n\r\n\r\nconst SVG_NS = 'http://www.w3.org/2000/svg';\r\nconst XLINK_NS = 'http://www.w3.org/1999/xlink';\r\n\r\n\r\nexport class MinimizedPaneStack\r\n{\r\n    panel: HTMLElement\r\n    isVisible: boolean = false\r\n    paneWrapper: HTMLElement\r\n    stackSize: number = 0\r\n    tabStack: HTMLElement[] = []\r\n    tabBar: HTMLElement\r\n    contentArea: HTMLElement\r\n    orientation: string\r\n    panes: HTMLElement\r\n    stickyPane: boolean = false\r\n    paneWidth: number\r\n    verticalDivider: HTMLElement\r\n    paneArray: string[] = []\r\n    langKeys: string[] = []\r\n    presetTable: HTMLTableElement\r\n\r\n    constructor(orientation: string)\r\n    {\r\n        this.orientation = orientation;\r\n        // Create the wrapper element\r\n        this.paneWrapper = document.createElement('div');\r\n        this.paneWrapper.className = 'minimized-pane-wrapper';\r\n        if (localStorage.getItem('WV' + this.orientation + 'MinimizedPaneWidth') === null)\r\n        {\r\n            this.paneWidth = (document.body.clientWidth / 5);\r\n        }\r\n        else\r\n        {\r\n            this.paneWidth = parseInt(localStorage.getItem('WV' + this.orientation + 'MinimizedPaneWidth'));\r\n        }\r\n        this.paneWrapper.style.width = this.paneWidth + 'px';\r\n        // Create tab bar\r\n        this.tabBar = document.createElement('div');\r\n        this.tabBar.className = 'minimized-pane-tab-bar';\r\n        this.panel = document.getElementById(orientation + '-minimized-pane-panel');\r\n        this.panel.appendChild(this.tabBar);\r\n        this.panes = document.getElementById(orientation + '-pane-wrapper');\r\n         // Create presets area\r\n         this.presetTable = document.createElement('table');\r\n         this.presetTable.className = 'pane-content';\r\n         $(this.presetTable).hide();\r\n         this.paneWrapper.appendChild(this.presetTable);\r\n        // Create content area\r\n        this.contentArea = document.createElement('div');\r\n        this.contentArea.className = 'minimized-pane-content-area';\r\n        this.panel.appendChild(this.paneWrapper);\r\n\r\n        this.handleVerticalDown = this.handleVerticalDown.bind(this);\r\n        this.handleVerticalMove = this.handleVerticalMove.bind(this);\r\n        this.handleVerticalUp = this.handleVerticalUp.bind(this);\r\n\r\n\r\n        if (this.orientation === 'left')\r\n        {\r\n            this.paneWrapper.style.left = -(this.paneWidth + 20) + 'px';\r\n            this.tabBar.style.borderRight = '1px solid #c3c3c3';\r\n        }\r\n        else\r\n        {\r\n            this.paneWrapper.style.right = -(this.paneWidth + 20) + 'px';\r\n            this.tabBar.style.borderLeft = '1px solid #c3c3c3';\r\n        }\r\n\r\n        $(this.panel).hide();\r\n        this.checkTarget = this.checkTarget.bind(this);\r\n    }\r\n\r\n    registerPane(pane: PaneTemplate, paneId: string)\r\n    {\r\n        $(this.panel).show();\r\n        this.isVisible = true;\r\n        if (this.orientation === 'left')\r\n        {\r\n            this.panes.style.left = '20px';\r\n        }\r\n        else\r\n        {\r\n            this.panes.style.right = '20px';\r\n        }\r\n        this.registerTab(pane, paneId);\r\n        pane.registerInStack(this.contentArea, this.presetTable);\r\n        ui.paneResize();\r\n    }\r\n\r\n    translateTitle(langId: string)\r\n    {\r\n        let title: string;\r\n        if (_lang_data[langId] && _lang_data[langId][settings.lang])\r\n        {\r\n            title = _lang_data[langId][settings.lang]\r\n        } else if (_custom_lang_data && _custom_lang_data[langId] && _custom_lang_data[langId][settings.lang])\r\n        {\r\n            title = _custom_lang_data[langId][settings.lang]\r\n        } else if (_lang_data[langId] && _lang_data[langId]['ENU'])\r\n        {\r\n            title = _lang_data[langId]['ENU']\r\n        }\r\n        else if (_custom_lang_data && _custom_lang_data[langId] && _custom_lang_data[langId]['ENU'])\r\n        {\r\n            title = _custom_lang_data[langId]['ENU']\r\n        }\r\n        else\r\n        {\r\n            title = langId\r\n        }\r\n\r\n        return title;\r\n    }\r\n\r\n    registerTab(pane: PaneTemplate, paneId: string)\r\n    {\r\n        if (this.paneArray.indexOf(paneId) !== -1)\r\n        {\r\n            return;\r\n        }\r\n\r\n        let langId = pane.langId;\r\n        let title = this.translateTitle(langId);\r\n        let tab = document.createElement('div');\r\n        tab.className = 'minimized-pane-tab';\r\n        tab.textContent = title;\r\n        this.tabBar.appendChild(tab);\r\n\r\n        $(tab).hover(e =>\r\n        {\r\n            for (let i = 0; i < this.stackSize; i++)\r\n            {\r\n                this.tabStack[i].style.backgroundColor = 'rgb(225, 225, 225)';\r\n            }\r\n            tab.style.backgroundColor = 'white';\r\n            this.showPane(pane, langId, paneId, tab);\r\n        });\r\n        this.tabStack.push(tab);\r\n        this.paneArray.push(paneId);\r\n        this.langKeys.push(pane.langId);\r\n        this.stackSize++;\r\n    }\r\n\r\n    changeTitleLang()\r\n    {\r\n        for (let i = 0; i < this.stackSize; i++)\r\n        {\r\n            let langId = this.langKeys[i];\r\n            let title = this.translateTitle(langId);\r\n            this.tabStack[i].childNodes[0].nodeValue = title;\r\n\r\n        }\r\n    }\r\n\r\n    showPane(pane: PaneTemplate, langId: string, paneId: string, panelTab: HTMLElement)\r\n    {\r\n        $(this.paneWrapper).empty();\r\n        $(this.paneWrapper).show();\r\n\r\n        if (pane.lang !== settings.lang)\r\n        {\r\n            pane.changeLang(settings.lang);\r\n        }\r\n\r\n        let ribbon = document.getElementById('wv-ribbon');\r\n        this.paneWrapper.style.height = 'calc(100% - ' + (ribbon.clientHeight) + 'px)';\r\n\r\n        document.addEventListener('mousemove', this.checkTarget);\r\n        document.addEventListener('mousedown', this.checkTarget);\r\n\r\n        let tab = document.createElement('div');\r\n        tab.className = 'minimized-active-pane-tab';\r\n        let title = this.translateTitle(langId);\r\n        tab.textContent = title;\r\n\r\n        let tabIconDiv = document.createElement('div');\r\n        tabIconDiv.className = 'pane-tab-icon-wrapper';\r\n        tab.appendChild(tabIconDiv);\r\n\r\n        let maximizeIcon = document.createElement('i');\r\n        maximizeIcon.className = 'fal fa-thumbtack fa-rotate-90';\r\n        maximizeIcon.style.cursor = 'pointer';\r\n        tabIconDiv.appendChild(maximizeIcon);\r\n\r\n        maximizeIcon.onclick = e =>\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            let openPaneCount = appStates.panes.length;\r\n            for (let i = 0; i < openPaneCount; i++)\r\n            {\r\n                if (appStates.panes[i].paneId === paneId)\r\n                {\r\n                    appStates.panes[i].minimized = false;\r\n                }\r\n            }\r\n            localStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n            ui.prependPane(paneId);\r\n            $(this.paneWrapper).hide();\r\n            if (this.orientation === 'left')\r\n            {\r\n                this.paneWrapper.style.left = '-100%';\r\n            }\r\n            else\r\n            {\r\n                this.paneWrapper.style.right = '-100%';\r\n            }\r\n            $(panelTab).remove();\r\n            this.stackSize--;\r\n            let index = this.tabStack.indexOf(tab);\r\n            this.tabStack.splice(index, 1);\r\n            this.paneArray.splice(index, 1);\r\n            this.langKeys.splice(index, 1);\r\n            if (this.stackSize === 0)\r\n            {\r\n                $(this.panel).hide();\r\n                this.isVisible = false;\r\n                ui.paneResize(true);\r\n                if (this.orientation === 'left')\r\n                {\r\n                    this.panes.style.left = '0';\r\n                }\r\n                else\r\n                {\r\n                    this.panes.style.right = '0';\r\n                }\r\n            }\r\n        }\r\n\r\n        let closeIcon = document.createElement('i');\r\n        closeIcon.className = 'fal fa-times';\r\n        closeIcon.style.marginLeft = '10px';\r\n        closeIcon.style.cursor = 'pointer';\r\n        tabIconDiv.appendChild(closeIcon);\r\n\r\n        this.paneWrapper.appendChild(tab);\r\n        this.paneWrapper.appendChild(this.presetTable);\r\n        pane.stack.checkForPresets(paneId, this.presetTable);\r\n        this.contentArea.style.height = this.paneWrapper.clientHeight - tab.clientHeight - 5 + 'px';\r\n        this.paneWrapper.appendChild(pane.mount);\r\n        $(pane.mount).empty();\r\n        pane.mount.appendChild(pane.wrapperEl);\r\n        let prevEvent = pane.searchForEvent(pane.paneId);\r\n        if (prevEvent)\r\n        {\r\n            pane.update(prevEvent);\r\n        }\r\n        else\r\n        {\r\n            pane.update();\r\n        }\r\n\r\n        this.verticalDivider = document.createElement('div');\r\n        this.verticalDivider.className = 'vertical-pane-divider';\r\n        if (!appStates.lockPanes)\r\n        {\r\n            this.verticalDivider.addEventListener('mousedown', this.handleVerticalDown);\r\n            $(this.verticalDivider).kendoTouch({\r\n                dragstart: e =>\r\n                {\r\n                    this.stickyPane = true;\r\n                    this.paneWrapper.style.transition = '0s';\r\n                },\r\n                drag: e =>\r\n                {\r\n                    let width: number;\r\n                    if (this.orientation === 'left')\r\n                    {\r\n                        width = (e.touch.x.location - 20);\r\n                    }\r\n                    else\r\n                    {\r\n                        let wvDock = document.getElementById('wv-dock');\r\n                        width = wvDock.clientWidth - e.touch.x.location - 20;\r\n                    }\r\n                    this.paneWrapper.style.width = width + 'px';\r\n                    this.paneWidth = width;\r\n                },\r\n                dragend: e =>\r\n                {\r\n                    setTimeout(e =>\r\n                    {\r\n                        this.stickyPane = false;\r\n                    }, 200);\r\n                    localStorage.setItem('WV' + this.orientation + 'MinimizedPaneWidth', this.paneWidth.toString());\r\n                    this.paneWrapper.style.transition = '1s';\r\n                }\r\n            });\r\n        }\r\n        else\r\n        {\r\n            this.verticalDivider.style.pointerEvents = 'none';\r\n        }\r\n\r\n        this.paneWrapper.appendChild(this.verticalDivider);\r\n\r\n        closeIcon.onclick = e =>\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            $(panelTab).remove();\r\n            pane.stack.removePane(paneId);\r\n            this.stackSize--;\r\n            let index = this.tabStack.indexOf(tab);\r\n            this.tabStack.splice(index, 1);\r\n            this.paneArray.splice(index, 1);\r\n            this.langKeys.splice(index, 1);\r\n            if (this.stackSize === 0)\r\n            {\r\n                $(this.panel).hide();\r\n                this.isVisible = false;\r\n                ui.paneResize(true);\r\n                if (this.orientation === 'left')\r\n                {\r\n                    this.panes.style.left = '0';\r\n                }\r\n                else\r\n                {\r\n                    this.panes.style.right = '0';\r\n                }\r\n            }\r\n            let openPaneCount = appStates.panes.length;\r\n            for (let i = 0; i < openPaneCount; i++)\r\n            {\r\n                if (appStates.panes[i].paneId === paneId)\r\n                {\r\n                    appStates.panes[i].visible = false;\r\n                }\r\n            }\r\n            vsClient.emit('pane-closed', paneId);\r\n            localStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n        }\r\n\r\n        if (this.orientation === 'left')\r\n        {\r\n            this.paneWrapper.style.left = '20px';\r\n            this.verticalDivider.style.right = '0';\r\n\r\n        }\r\n        else\r\n        {\r\n            this.paneWrapper.style.right = '20px';\r\n            this.verticalDivider.style.left = '0';\r\n        }\r\n        pane.addMethods();\r\n    }\r\n\r\n    checkTarget(e)\r\n    {\r\n        if (!this.panel.contains(e.target) && !(e.target.correspondingUseElement))\r\n        {\r\n            if (!this.stickyPane)\r\n            {\r\n                for (let i = 0; i < this.stackSize; i++)\r\n                {\r\n                    this.tabStack[i].style.backgroundColor = 'rgb(225, 225, 225)';\r\n                }\r\n                document.removeEventListener('mousemove', this.checkTarget);\r\n                document.removeEventListener('mousedown', this.checkTarget);\r\n                if (this.orientation === 'left')\r\n                {\r\n                    this.paneWrapper.style.left = -(this.paneWidth + 20) + 'px';\r\n                }\r\n                else\r\n                {\r\n                    this.paneWrapper.style.right = -(this.paneWidth + 20) + 'px';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleVerticalDown(e)\r\n    {\r\n        e.preventDefault();\r\n        this.stickyPane = true;\r\n        this.paneWrapper.style.transition = '0s';\r\n        document.addEventListener('mousemove', this.handleVerticalMove);\r\n        document.addEventListener('mouseup', this.handleVerticalUp);\r\n    }\r\n\r\n    handleVerticalMove(e)\r\n    {\r\n        let width: number;\r\n        if (this.orientation === 'left')\r\n        {\r\n            width = (e.pageX - 20);\r\n        }\r\n        else\r\n        {\r\n            let wvDock = document.getElementById('wv-dock');\r\n            width = wvDock.clientWidth - e.pageX - 20;\r\n        }\r\n        this.paneWrapper.style.width = width + 'px';\r\n        this.paneWidth = width;\r\n    }\r\n\r\n    handleVerticalUp(e)\r\n    {\r\n        setTimeout(e =>\r\n        {\r\n            this.stickyPane = false;\r\n        }, 200);\r\n        localStorage.setItem('WV' + this.orientation + 'MinimizedPaneWidth', this.paneWidth.toString());\r\n        this.paneWrapper.style.transition = '1s';\r\n        document.removeEventListener('mousemove', this.handleVerticalMove);\r\n        document.removeEventListener('mouseup', this.handleVerticalUp);\r\n    }\r\n\r\n    reset()\r\n    {\r\n        this.paneWidth = (document.body.clientWidth / 5);\r\n        this.paneWrapper.style.width = this.paneWidth + 'px';\r\n        if (this.orientation === 'left')\r\n        {\r\n            this.panes.style.left = '0';\r\n        }\r\n        else\r\n        {\r\n            this.panes.style.right = '0';\r\n        }\r\n        $(this.panel).hide();\r\n        $(this.paneWrapper).empty();\r\n        $(this.tabBar).empty();\r\n        this.isVisible = false;\r\n        this.stackSize = 0;\r\n        this.tabStack = [];\r\n        this.paneArray = [];\r\n    }\r\n\r\n    closeTabById(paneId: string)\r\n    {\r\n        let index = this.paneArray.indexOf(paneId);\r\n        if (index !== -1)\r\n        {\r\n            this.paneArray.splice(index, 1);\r\n            this.langKeys.splice(index, 1);\r\n            let tab = this.tabStack.splice(index, 1)[0];\r\n            $(tab).remove();\r\n            this.stackSize--;\r\n            if (this.stackSize === 0)\r\n            {\r\n                $(this.panel).hide();\r\n                this.isVisible = false;\r\n                if (this.orientation === 'left')\r\n                {\r\n                    this.panes.style.left = '0';\r\n                }\r\n                else\r\n                {\r\n                    this.panes.style.right = '0';\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/template/minimized-pane-stack.ts","import { PaneTemplate } from \"./pane-template\";\r\nimport { settings } from '../../app/app-settings';\r\nimport * as ui from '../../app/ui';\r\nimport { MinimizedPaneStack } from './minimized-pane-stack'\r\nimport { appStates } from \"../../app/app-states\";\r\nimport { findButton, findPaneButton } from '../../ribbon/widget';\r\nimport js2xmlparser = require('js2xmlparser');\r\n\r\nimport { VSWebClient } from '../../base/vsweb-client-impl';\r\nimport { PlainGroup, PlainSelectSingleLine, PlainOption, SimplePaneInlineModal } from \"../../pane/widgets\";\r\nimport { Item } from \"../../pane\";\r\ndeclare var vsClient: VSWebClient;\r\ndeclare var _PanePresets: any;\r\ndeclare var _PopoutLock: boolean;\r\ndeclare var _UseCachedSettings: boolean;\r\ndeclare var _UseOfflineHelp: boolean;\r\n\r\n\r\nconst SVG_NS = 'http://www.w3.org/2000/svg';\r\nconst XLINK_NS = 'http://www.w3.org/1999/xlink';\r\nexport interface PaneTab\r\n{\r\n    name: string,\r\n    langId: string,\r\n    id: string,\r\n    tab: HTMLElement,\r\n    active: boolean,\r\n    pane: PaneTemplate,\r\n    minimized: boolean,\r\n    tabIconWrapper: HTMLElement,\r\n    width: number\r\n}\r\n\r\n\r\n\r\nexport class PaneStack\r\n{\r\n    parent: HTMLElement\r\n    isVisible: boolean = false\r\n    stackSize: number = 0\r\n    tabBar: HTMLElement\r\n    stack: PaneTab[] = []\r\n    contentArea: HTMLElement\r\n    dragCopy: HTMLElement\r\n    dragTime: number\r\n    activePane: PaneTemplate\r\n    orientation: string\r\n    minimizedStack: MinimizedPaneStack\r\n    tabStack: HTMLElement\r\n    stackedTabs: PaneTab[] = []\r\n    tabStackCountEl: HTMLElement\r\n    activeTab: PaneTab\r\n    tabList: HTMLElement\r\n    height: string = '50%'\r\n    tabBarTitle: HTMLElement\r\n    presetTable: HTMLTableElement\r\n    newPresetValue: string\r\n    presetNameEl: SimplePaneInlineModal\r\n    presetSelect: PlainSelectSingleLine\r\n    hasPresets: boolean = false\r\n    pos: number\r\n\r\n    constructor (parent: HTMLElement, minimizedStack: MinimizedPaneStack, pos: number)\r\n    {\r\n        this.parent = parent;\r\n        this.pos = pos;\r\n        this.orientation = minimizedStack.orientation;\r\n        // Create tab bar\r\n        this.tabBar = document.createElement('div');\r\n        this.tabBar.className = 'pane-tab-bar';\r\n        this.tabBarTitle = document.createElement('div');\r\n\r\n        //Create title for tab bars with active tabs longer than bar\r\n        this.tabBarTitle.textContent = 'No Tab';\r\n        this.tabBarTitle.className = 'pane-tab-bar-title';\r\n        this.tabBarTitle.onclick = ev =>\r\n        {\r\n            this.tabStack.click();\r\n        };\r\n        this.parent.appendChild(this.tabBarTitle);\r\n        this.parent.appendChild(this.tabBar);\r\n        // Create presets area\r\n        this.presetTable = document.createElement('table');\r\n        this.presetTable.className = 'pane-content';\r\n        this.presetTable.style.marginTop = '5px';\r\n        this.presetTable.style.marginBottom = '-5px';\r\n        if (this.orientation === 'right')\r\n        {\r\n            this.presetTable.style.marginLeft = '5px';\r\n        }\r\n        $(this.presetTable).hide();\r\n        this.parent.appendChild(this.presetTable);\r\n        // Create content area\r\n        this.contentArea = document.createElement('div');\r\n        this.contentArea.className = 'pane-content-area';\r\n        if (this.orientation === 'right')\r\n        {\r\n            this.contentArea.style.marginLeft = '5px';\r\n            this.contentArea.style.position = 'relative';\r\n            this.contentArea.style.right = '5px';\r\n        }\r\n        this.parent.appendChild(this.contentArea);\r\n        this.minimizedStack = minimizedStack;\r\n        // Create tab stack to put tabs in a list if the tab bar width is too narrow\r\n        this.tabStack = document.createElement('div');\r\n        this.tabStack.className = 'pane-tab';\r\n        this.tabStack.style.minWidth = 'min-content';\r\n        this.tabStack.style.overflow = 'visible';\r\n        this.tabStackCountEl = document.createElement('span');\r\n        this.tabStackCountEl.style.marginRight = '3px';\r\n        this.tabStack.appendChild(this.tabStackCountEl);\r\n        let tabStackIcon = document.createElement('i');\r\n        tabStackIcon.className = 'fas fa-caret-down';\r\n        this.tabStack.appendChild(tabStackIcon);\r\n        this.tabList = document.createElement('div');\r\n        this.tabList.className = 'stacked-pane-tab-list-wrapper';\r\n\r\n        vsClient.on('@changeLang', e =>\r\n        {\r\n            this.minimizedStack.changeTitleLang();\r\n            for (let i = 0; i < this.stackSize; i++)\r\n            {\r\n                if (this.stack[i].pane.adapter || this.stack[i].pane.noAdapter)\r\n                {\r\n                    this.stack[i].pane.changeLang(e);\r\n                }\r\n                this.stack[i].pane.lang = e;\r\n                this.setTitle(this.stack[i].tab, this.stack[i].pane.langId, false);\r\n            }\r\n            if (this.activePane)\r\n            {\r\n                this.tabBarTitle.textContent = this.setTitle(undefined, this.activePane.langId, false) + '...';\r\n            }\r\n        })\r\n\r\n        $(this.tabStack).hide();\r\n        this.tabBar.appendChild(this.tabStack);\r\n        this.tabStack.onclick = e =>\r\n        {\r\n            $(this.tabList).empty();\r\n            $(this.tabList).show();\r\n            let stackedTabCount = this.stackedTabs.length;\r\n            let list = document.createElement('div');\r\n            this.tabList.appendChild(list);\r\n\r\n            this.tabStack.appendChild(this.tabList);\r\n\r\n            for (let i = 0; i < stackedTabCount; i++)\r\n            {\r\n                let tab = this.stackedTabs[i];\r\n                let newTab = document.createElement('div');\r\n                newTab.className = 'stacked-pane-tab';\r\n                newTab.id = tab.id + '-stacked-tab';\r\n\r\n                //Text\r\n                let tabText = document.createElement('span')\r\n                tabText.textContent = tab.tab.textContent;\r\n                newTab.appendChild(tabText);\r\n\r\n                list.appendChild(newTab);\r\n\r\n                newTab.onclick = e =>\r\n                {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    for (let j = 0; j < this.stackSize; j++)\r\n                    {\r\n                        if (this.stack[j].id === tab.id)\r\n                        {\r\n                            let tabToSwitch = this.stack.splice(j, 1)[0];\r\n                            this.stack.unshift(tabToSwitch);\r\n                            this.tabBar.removeChild(tabToSwitch.tab);\r\n                            this.tabBar.insertBefore(tabToSwitch.tab, this.tabBar.firstChild);\r\n                            $(tabToSwitch.tab).click();\r\n                            this.tabResize(false);\r\n                        }\r\n                    }\r\n                    $(this.tabList).hide();\r\n                    document.removeEventListener('mousedown', this.checkStackTabClick);\r\n                };\r\n            }\r\n            document.addEventListener('mousedown', this.checkStackTabClick);\r\n        }\r\n        this.checkStackTabClick = this.checkStackTabClick.bind(this);\r\n        $(this.parent).hide();\r\n    }\r\n\r\n    setTitle (tab: HTMLElement, langId: string, init?: boolean): string\r\n    {\r\n        let title: string;\r\n        if (_lang_data[langId] && _lang_data[langId][settings.lang])\r\n        {\r\n            title = _lang_data[langId][settings.lang]\r\n        } else if (_custom_lang_data && _custom_lang_data[langId] && _custom_lang_data[langId][settings.lang])\r\n        {\r\n            title = _custom_lang_data[langId][settings.lang]\r\n        } else if (_lang_data[langId] && _lang_data[langId]['ENU'])\r\n        {\r\n            title = _lang_data[langId]['ENU']\r\n        }\r\n        else if (_custom_lang_data && _custom_lang_data[langId] && _custom_lang_data[langId]['ENU'])\r\n        {\r\n            title = _custom_lang_data[langId]['ENU']\r\n        }\r\n        else\r\n        {\r\n            title = langId\r\n        }\r\n        if (init)\r\n        {\r\n            tab.textContent = title;\r\n        }\r\n        else if (tab)\r\n        {\r\n            $(tab).contents().filter(function ()\r\n            {\r\n                return this.nodeType == 3;\r\n            })\r\n                .replaceWith(title);\r\n        }\r\n        return title;\r\n    }\r\n\r\n    checkStackTabClick (e)\r\n    {\r\n        if (!this.tabList.contains(e.target))\r\n        {\r\n            $(this.tabList).hide();\r\n            document.removeEventListener('mousedown', this.checkStackTabClick);\r\n        }\r\n    }\r\n\r\n    addPane (pane: PaneTemplate, paneId: string)\r\n    {\r\n        let indexOfTab = this.stack.map(item => { return item.id; }).indexOf(paneId);\r\n        if (indexOfTab !== -1)\r\n        {\r\n            $(this.stack[indexOfTab].tab).click();\r\n            return;\r\n        }\r\n        this.addTab(pane, paneId);\r\n        pane.setStack(this);\r\n        this.activePane = pane;\r\n        pane.registerInStack(this.contentArea);\r\n        if (paneId === 'wv-views')\r\n        {\r\n            pane.wrapperEl.style.overflow = 'hidden';\r\n        }\r\n        this.isVisible = true;\r\n        this.tabBarTitle.textContent = this.setTitle(undefined, pane.langId, false) + '...';\r\n        let button = findPaneButton(paneId);\r\n        if (button)\r\n        {\r\n            button.applyHighlight(true);\r\n        }\r\n        ui.paneStackIncrement(this.pos);\r\n    }\r\n\r\n    checkForPresets (paneId: string, minimizedTable?: HTMLElement)\r\n    {\r\n        try\r\n        {\r\n            if (_PanePresets[paneId])\r\n            {\r\n                $(this.presetTable).empty();\r\n                if (minimizedTable)\r\n                {\r\n                    $(minimizedTable).empty();\r\n                }\r\n                let presetTableBody = document.createElement('tbody');\r\n                if (minimizedTable)\r\n                {\r\n                    minimizedTable.appendChild(presetTableBody);\r\n                }\r\n                else\r\n                {\r\n                    this.presetTable.appendChild(presetTableBody);\r\n                }\r\n\r\n                let placeholderRow = document.createElement('tr');\r\n                presetTableBody.appendChild(placeholderRow);\r\n\r\n                let presetGroup = new PlainGroup(1, presetTableBody, 'ID_PRESETS_HEATMAP', \"\");\r\n\r\n                let presets = _PanePresets[paneId];\r\n                this.presetSelect = new PlainSelectSingleLine(2, presetTableBody, this.selectPreset.bind(this));\r\n                presetGroup.children.push(this.presetSelect.wrapperEl);\r\n\r\n                let options: PlainOption[] = [];\r\n                for (let i = 0; i < presets.length; i++)\r\n                {\r\n                    let option: PlainOption = {\r\n                        name: presets[i].name,\r\n                        val: presets[i].settings,\r\n                        isDefault: presets[i].isDefault,\r\n                        isCustom: false\r\n                    };\r\n                    options.push(option);\r\n                }\r\n                let customPresetsString = localStorage.getItem('WVPreset_' + this.activePane.paneId);\r\n                if (customPresetsString !== null)\r\n                {\r\n                    let customPresets = JSON.parse(customPresetsString)\r\n                    for (let i = 0; i < customPresets.length; i++)\r\n                    {\r\n                        let option: PlainOption = {\r\n                            name: customPresets[i].name,\r\n                            val: customPresets[i].val,\r\n                            isDefault: customPresets[i].isDefault,\r\n                            isCustom: true\r\n                        };\r\n                        options.push(option);\r\n                    }\r\n                }\r\n                this.presetSelect.setOptions(options);\r\n                let paneActivePreset = this.activePane.activePreset;\r\n                if (paneActivePreset)\r\n                {\r\n                    if (paneActivePreset === '<Not saved>')\r\n                    {\r\n                        this.changeToCustomPreset();\r\n                    }\r\n                    this.presetSelect.setActivePreset(paneActivePreset);\r\n                }\r\n                let activePreset = this.presetSelect.getActivePreset();\r\n                this.selectPreset(activePreset.val);\r\n                try\r\n                {\r\n                    if (_UseCachedSettings)\r\n                    {\r\n                        this.addPresetButtons(this.presetSelect.selectWrapperEl);\r\n                    }\r\n                }\r\n                catch (e)\r\n                {\r\n                    this.addPresetButtons(this.presetSelect.selectWrapperEl);\r\n                }\r\n                if (minimizedTable)\r\n                {\r\n                    $(minimizedTable).show();\r\n                }\r\n                else\r\n                {\r\n                    $(this.presetTable).show();\r\n                }\r\n                this.hasPresets = true;\r\n            }\r\n            else\r\n            {\r\n                if (minimizedTable)\r\n                {\r\n                    $(minimizedTable).hide();\r\n                }\r\n                else\r\n                {\r\n                    $(this.presetTable).hide();\r\n                }\r\n                this.hasPresets = false;\r\n            }\r\n        }\r\n        catch (e)\r\n        {\r\n            if (minimizedTable)\r\n            {\r\n                $(minimizedTable).hide();\r\n            }\r\n            else\r\n            {\r\n                $(this.presetTable).hide();\r\n            }\r\n            this.hasPresets = false;\r\n        }\r\n    }\r\n\r\n    addPresetButtons (wrapperEl: HTMLElement)\r\n    {\r\n        this.presetNameEl = new SimplePaneInlineModal(wrapperEl, this.addPreset.bind(this));\r\n\r\n        let iconWrapper = document.createElement('span');\r\n        iconWrapper.className = 'pane-buttons-tab';\r\n        iconWrapper.style.position = 'relative';\r\n        iconWrapper.style.top = '1px';\r\n        wrapperEl.appendChild(iconWrapper);\r\n\r\n        let restoreDefault = document.createElement('i');\r\n        restoreDefault.className = 'fas fa-sync-alt tree-header-action-icon';\r\n        restoreDefault.onclick = e =>\r\n        {\r\n            this.restoreDefaultPreset();\r\n        };\r\n        iconWrapper.appendChild(restoreDefault);\r\n\r\n        let addButton = document.createElement('i');\r\n        addButton.className = 'fas fa-plus-circle tree-header-action-icon';\r\n        addButton.onclick = e =>\r\n        {\r\n            let newPresetObj = {};\r\n            let childs: Item[] = this.activePane.adapter.settingItems;\r\n            for (let i = 0; i < childs.length; i++)\r\n            {\r\n                let child = childs[i];\r\n                if (child.visualStatus !== 'hidden')\r\n                {\r\n                    this.parseItem(child, newPresetObj);\r\n                }\r\n            }\r\n            this.newPresetValue = js2xmlparser.parse('Settings', newPresetObj, { declaration: { include: false }, format: { pretty: false } });\r\n            this.presetNameEl.show();\r\n        };\r\n        iconWrapper.appendChild(addButton);\r\n\r\n        let deleteButton = document.createElement('i');\r\n        deleteButton.className = 'fas fa-minus-circle tree-header-action-icon';\r\n        deleteButton.onclick = e =>\r\n        {\r\n            this.deletePreset();\r\n        };\r\n        iconWrapper.appendChild(deleteButton);\r\n\r\n        let setDefaultButton = document.createElement('i');\r\n        setDefaultButton.className = 'fas fa-bookmark tree-header-action-icon';\r\n        setDefaultButton.style.left = '5px';\r\n        setDefaultButton.onclick = e =>\r\n        {\r\n            this.setPresetDefault();\r\n        };\r\n        iconWrapper.appendChild(setDefaultButton);\r\n    }\r\n\r\n    changeToCustomPreset ()\r\n    {\r\n        let newPresetObj = {};\r\n        let childs: Item[] = this.activePane.adapter.settingItems;\r\n        for (let i = 0; i < childs.length; i++)\r\n        {\r\n            let child = childs[i];\r\n            if (child.visualStatus !== 'hidden')\r\n            {\r\n                this.parseItem(child, newPresetObj);\r\n            }\r\n        }\r\n        let newPresetValue = js2xmlparser.parse('Settings', newPresetObj, { declaration: { include: false }, format: { pretty: false } });\r\n        let newPreset: PlainOption = {\r\n            isDefault: false,\r\n            name: '<Not saved>',\r\n            val: newPresetValue,\r\n            isCustom: true,\r\n            isActive: true\r\n        };\r\n        this.presetSelect.removeOptionByName('<Not saved>');\r\n        this.presetSelect.addOption(newPreset);\r\n        this.activePane.activePreset = newPreset.name;\r\n    }\r\n\r\n    parseItem (item: Item, obj: {})\r\n    {\r\n        for (let i = 1; i < item.path.length; i++)\r\n        {\r\n            let pathPart = item.path[i];\r\n            obj = obj[pathPart] = i === item.path.length - 1 ? item.value : obj[pathPart] || {}//{};\r\n        }\r\n    }\r\n\r\n    selectPreset (preset, setPanePreset: boolean = true)\r\n    {\r\n        if (setPanePreset)\r\n        {\r\n            this.activePane.activePreset = this.presetSelect.getActivePreset().name;\r\n        }\r\n        let xml = '<Call Method=\"SetSceneSettings\">' + preset + '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n        xml = '<Call Method=\"GetSceneSettings\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    restoreDefaultPreset ()\r\n    {\r\n        let defaultPreset = this.presetSelect.restoreDefault();\r\n        this.selectPreset(defaultPreset.val);\r\n    }\r\n\r\n\r\n    addPreset (name: string)\r\n    {\r\n        let customPresetsString = localStorage.getItem('WVPreset_' + this.activePane.paneId);\r\n        let newPreset: PlainOption = {\r\n            isDefault: false,\r\n            name: name,\r\n            val: this.newPresetValue,\r\n            isCustom: true\r\n        };\r\n        let customPresets;\r\n        if (customPresetsString !== null)\r\n        {\r\n            customPresets = JSON.parse(customPresetsString);\r\n            if (!Array.isArray(customPresets))\r\n            {\r\n                customPresets = [customPresets];\r\n            }\r\n            for (let i = 0; i < customPresets.length; i++)\r\n            {\r\n                if (customPresets[i].name === name)\r\n                {\r\n                    newPreset.name = name + '*';\r\n                }\r\n            }\r\n            customPresets.push(newPreset);\r\n        }\r\n        else\r\n        {\r\n            customPresets = [newPreset];\r\n        }\r\n        localStorage.setItem('WVPreset_' + this.activePane.paneId, JSON.stringify(customPresets));\r\n        this.presetSelect.addOption(newPreset);\r\n        this.presetSelect.removeOptionByName('<Not saved>');\r\n    }\r\n\r\n    deletePreset ()\r\n    {\r\n        let activeOption = this.presetSelect.getActivePreset();\r\n        if (activeOption.isCustom)\r\n        {\r\n            this.presetSelect.removeOption(activeOption);\r\n            let customPresets = JSON.parse(localStorage.getItem('WVPreset_' + this.activePane.paneId));\r\n            for (let i = 0; i < customPresets.length; i++)\r\n            {\r\n                if (customPresets[i].name === activeOption.name)\r\n                {\r\n                    customPresets.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n            localStorage.setItem('WVPreset_' + this.activePane.paneId, JSON.stringify(customPresets));\r\n        }\r\n        else\r\n        {\r\n            let globalPresetWarning = {\r\n                ErrorCode: 0,\r\n                ErrorInfo: undefined,\r\n                Identifier: '',\r\n                Message: 'Global presets cannot be deleted.',\r\n                Type: ['Event', 'Warning']\r\n            };\r\n            vsClient.emit('ShowMessageBox', globalPresetWarning);\r\n        }\r\n    }\r\n\r\n    setPresetDefault ()\r\n    {\r\n        let activeOption = this.presetSelect.getActivePreset();\r\n        if (activeOption.isCustom)\r\n        {\r\n            let customPresets = JSON.parse(localStorage.getItem('WVPreset_' + this.activePane.paneId));\r\n            for (let i = 0; i < customPresets.length; i++)\r\n            {\r\n                if (customPresets[i].name === activeOption.name)\r\n                {\r\n                    customPresets[i].isDefault = true;\r\n                }\r\n                else\r\n                {\r\n                    customPresets[i].isDefault = false;\r\n                }\r\n            }\r\n            localStorage.setItem('WVPreset_' + this.activePane.paneId, JSON.stringify(customPresets));\r\n        }\r\n        this.presetSelect.setDefault(activeOption);\r\n    }\r\n\r\n    addTab (pane: PaneTemplate, paneId: string, triggerResize: boolean = true)\r\n    {\r\n        $(this.parent).show();\r\n\r\n        let tab = document.createElement('div');\r\n        tab.className = 'pane-tab active-pane-tab';\r\n        if (!appStates.lockPanes)\r\n        {\r\n            tab.draggable = true;\r\n        }\r\n        tab.id = paneId + '-pane-tab';\r\n        let langId = pane.langId;\r\n        let title = this.setTitle(tab, pane.langId, true);\r\n\r\n        let tabIconDiv = document.createElement('div');\r\n        tabIconDiv.className = 'pane-tab-icon-wrapper';\r\n        tab.appendChild(tabIconDiv);\r\n\r\n        if (appStates.paneHelpLinks[paneId])\r\n        {\r\n            let helpIcon = document.createElement('i');\r\n            helpIcon.className = 'fas fa-question-circle';\r\n            helpIcon.style.marginRight = '10px';\r\n            tabIconDiv.appendChild(helpIcon);\r\n\r\n            helpIcon.onclick = e =>\r\n            {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                let offlineHelp: boolean = false;\r\n                try\r\n                {\r\n                    offlineHelp = _UseOfflineHelp;\r\n                }\r\n                catch (e)\r\n                {\r\n                }\r\n                let cat = offlineHelp ? appStates.paneHelpLinks[paneId].replace('php', 'html') : appStates.paneHelpLinks[paneId];\r\n                let url = offlineHelp ? '/Help/webviewer/' + ui.mapCountry(settings.lang) + '/' + cat : 'https://viewer.kisters.de/help/webviewer/' + appStates.version + '/' + ui.mapCountry(settings.lang) + '/' + cat;\r\n                window.open(url, '_blank');\r\n            }\r\n        }\r\n\r\n        let showPopoutIcon = true;\r\n\r\n        try\r\n        {\r\n            showPopoutIcon = !_PopoutLock;\r\n        }\r\n        catch (e) { }\r\n\r\n        if (showPopoutIcon && paneId !== 'wv-command')\r\n        {\r\n            let popOutIcon = document.createElement('i');\r\n            popOutIcon.className = 'far fa-window-restore';\r\n            popOutIcon.style.marginRight = '10px';\r\n            tabIconDiv.appendChild(popOutIcon);\r\n\r\n            popOutIcon.onclick = e =>\r\n            {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                ui.popout(paneId, langId);\r\n            }\r\n        }\r\n\r\n        let minimizeIcon = document.createElement('i');\r\n        minimizeIcon.className = 'fal fa-thumbtack';\r\n        minimizeIcon.style.marginRight = '10px';\r\n        tabIconDiv.appendChild(minimizeIcon);\r\n\r\n        minimizeIcon.onclick = e =>\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.minimizePane(pane, paneId);\r\n        }\r\n\r\n        let closeIcon = document.createElement('i');\r\n        closeIcon.className = 'fal fa-times';\r\n        tabIconDiv.appendChild(closeIcon);\r\n\r\n        closeIcon.onclick = e =>\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            let openPaneCount = appStates.panes.length;\r\n            for (let i = 0; i < openPaneCount; i++)\r\n            {\r\n                if (appStates.panes[i].paneId === paneId)\r\n                {\r\n                    appStates.panes[i].visible = false;\r\n                }\r\n            }\r\n            vsClient.emit('pane-closed', paneId);\r\n            localStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n            this.removePane(paneId);\r\n        }\r\n\r\n        tab.addEventListener('dragstart', e =>\r\n        {\r\n            e.stopPropagation();\r\n            e.dataTransfer.setData('Text', 'mock');\r\n\r\n            $('.pane-drop').each(function ()\r\n            {\r\n                $(this).show();\r\n            })\r\n            let highestElement = document.elementFromPoint(e.pageX, e.pageY);\r\n            if (!$(highestElement).hasClass('pane-tab'))\r\n            {\r\n                $('.pane-drop').each(function ()\r\n                {\r\n                    this.style.pointerEvents = 'none';\r\n                    tab.ondrag = e =>\r\n                    {\r\n                        let highestElement = document.elementFromPoint(e.pageX, e.pageY);\r\n                        if (!$(highestElement).hasClass('pane-drop'))\r\n                        {\r\n                            $('.pane-drop').each(function ()\r\n                            {\r\n                                this.style.pointerEvents = '';\r\n                            });\r\n                            $(tab).off('drag');\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            $(this.contentArea).toggleClass('pane-in-drag');\r\n            ui.setDraggedPane(paneId);\r\n            tab.appendChild(this.contentArea.cloneNode(true));\r\n            $(this.contentArea).toggleClass('pane-in-drag');\r\n            $(this.contentArea).empty();\r\n            this.dragTime = e.timeStamp;\r\n        });\r\n\r\n        tab.addEventListener('dragend', e =>\r\n        {\r\n            if (e.timeStamp - this.dragTime < 100)\r\n            {\r\n                return;\r\n            }\r\n            e.preventDefault()\r\n            $(tab).remove();\r\n            $('.pane-drop').each(function ()\r\n            {\r\n                $(this).removeClass('allow-pane-drop');\r\n                $(this).hide();\r\n            });\r\n            for (let i = 0; i < this.stackSize; i++)\r\n            {\r\n                if (this.stack[i].id === paneId)\r\n                {\r\n                    this.stack.splice(i, 1);\r\n                    this.stackSize--;\r\n                    break;\r\n                }\r\n            }\r\n            if (this.stackSize === 0)\r\n            {\r\n                $(this.parent).hide();\r\n                this.isVisible = false;\r\n            }\r\n            else\r\n            {\r\n                let stackNeedNewActive = true;\r\n                for (let i = 0; i < this.stackSize; i++)\r\n                {\r\n                    if (this.stack[i].id === paneId)\r\n                    {\r\n                        stackNeedNewActive = false;\r\n                    }\r\n                }\r\n                if (stackNeedNewActive)\r\n                {\r\n                    $(this.stack[0].tab).click();\r\n                }\r\n            }\r\n            ui.paneStackDecrement(this.pos);\r\n            ui.prependPane(paneId);\r\n        });\r\n\r\n        $(tab).click(e =>\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.activePane = pane;\r\n            pane.setStack(this);\r\n            pane.registerInStack(this.contentArea);\r\n            this.tabBarTitle.textContent = this.setTitle(undefined, pane.langId, false) + '...';\r\n            for (let i = 0; i < this.stackSize; i++)\r\n            {\r\n                this.stack[i].active = this.stack[i].tab === tab;\r\n                this.activeTab = newTab;\r\n                $(this.stack[i].tab).removeClass('active-pane-tab');\r\n                $(this.stack[i].tabIconWrapper).hide();\r\n            }\r\n            $(tab).addClass('active-pane-tab');\r\n            $(tabIconDiv).show();\r\n            this.tabResize(false);\r\n        });\r\n\r\n        let newTab: PaneTab = {\r\n            name: title,\r\n            langId: langId,\r\n            id: paneId,\r\n            tab: tab,\r\n            active: true,\r\n            pane: pane,\r\n            minimized: false,\r\n            tabIconWrapper: tabIconDiv,\r\n            width: 0\r\n        };\r\n        for (let i = 0; i < this.stackSize; i++)\r\n        {\r\n            this.stack[i].active = false;\r\n            $(this.stack[i].tab).removeClass('active-pane-tab');\r\n            $(this.stack[i].tabIconWrapper).hide();\r\n        }\r\n\r\n        this.stackSize++;\r\n        this.stack.push(newTab);\r\n        this.tabBar.appendChild(tab);\r\n        $(this.tabStack).remove();\r\n        this.tabBar.appendChild(this.tabStack);\r\n        newTab.width = $(tab).outerWidth(true);\r\n        this.activeTab = newTab;\r\n    }\r\n\r\n    minimizePane (pane: PaneTemplate, paneId: string)\r\n    {\r\n        let openPaneCount = appStates.panes.length;\r\n        for (let i = 0; i < openPaneCount; i++)\r\n        {\r\n            if (appStates.panes[i].paneId === paneId)\r\n            {\r\n                appStates.panes[i].minimized = true;\r\n            }\r\n        }\r\n        localStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n        this.minimizedStack.registerPane(pane, paneId);\r\n        this.removePane(paneId);\r\n    }\r\n\r\n    removePane (paneId: string, poppedOut: boolean = false)\r\n    {\r\n        let tab: PaneTab;\r\n        if (paneId === 'wv-neighbourhoodsearch')\r\n        {\r\n            let selectionModeSelectCall = '<Call Method=\"SetSelectionMode\"><SelectionMode>Select</SelectionMode></Call>';\r\n            vsClient.command.executeXML(selectionModeSelectCall);\r\n            appStates.selectionMode = 'Select';\r\n            let selectButton = findButton('ID_RIBBON_SELECT');\r\n            if (selectButton)\r\n            {\r\n                selectButton.applyHighlight(true);\r\n            }\r\n        }\r\n        else if (paneId === 'wv-clash')\r\n        {\r\n            let clashCloseCall = '<Call Method=\"DeactivateClash\"></Call>';\r\n            vsClient.command.executeXML(clashCloseCall);\r\n        }\r\n        for (let i = 0; i < this.stackSize; i++)\r\n        {\r\n            if (paneId === this.stack[i].id)\r\n            {\r\n                tab = this.stack[i];\r\n                $(tab.tab).remove();\r\n                this.stack.splice(i, 1);\r\n                this.stackSize--;\r\n                if (this.stackSize > 0)\r\n                {\r\n                    if (i === 0)\r\n                    {\r\n                        $(this.stack[i].tab).click();\r\n                    }\r\n                    else\r\n                    {\r\n                        $(this.stack[i - 1].tab).click();\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    $(this.parent).hide();\r\n                    this.activePane = undefined;\r\n                    this.isVisible = false;\r\n                }\r\n                ui.paneStackDecrement(this.pos);\r\n                break;\r\n            }\r\n        }\r\n        if (!poppedOut)\r\n        {\r\n            let button = findPaneButton(paneId);\r\n            if (button)\r\n            {\r\n                button.applyHighlight(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    tabResize (recursive: boolean = true)\r\n    {\r\n        this.stackedTabs = [];\r\n        let fit = true;\r\n        let accumulatedWidth = this.activeTab ? this.activeTab.width : 0;\r\n        let maxWidth = (accumulatedWidth + ((this.stackSize - 1) * 55 ) > this.tabBar.clientWidth) ? this.tabBar.clientWidth - 45 : this.tabBar.clientWidth;\r\n        for (let i = 0; i < this.stackSize; i++)\r\n        {\r\n            let tab = this.stack[i];\r\n            accumulatedWidth += tab.active ? 0 : 55;\r\n            if (accumulatedWidth < maxWidth)\r\n            {\r\n                $(tab.tab).removeClass('pane-tab-hidden');\r\n                continue;\r\n            }\r\n            else\r\n            {\r\n                $(tab.tab).addClass('pane-tab-hidden');\r\n                $(this.tabStack).show();\r\n                this.stackedTabs.push(tab);\r\n                fit = false;\r\n            }\r\n        }\r\n        this.tabStackCountEl.textContent = '+' + this.stackedTabs.length.toString();\r\n        if (this.stackSize !== 0 && this.stackedTabs.length === this.stackSize)\r\n        {\r\n            $(this.tabBarTitle).show();\r\n            $(this.tabStack).addClass('pane-stack-right-floating');\r\n\r\n        }\r\n        else\r\n        {\r\n            $(this.tabBarTitle).hide();\r\n            $(this.tabStack).removeClass('pane-stack-right-floating');\r\n        }\r\n        if (fit)\r\n        {\r\n            $(this.tabStack).hide();\r\n        }\r\n        if (recursive)\r\n        {\r\n            let stackedLength = this.stackedTabs.length;\r\n            for (let i = 0; i < stackedLength; i++)\r\n            {\r\n                let stackedTab = this.stackedTabs[i];\r\n                if (stackedTab && stackedTab.id === this.activePane.paneId)\r\n                {\r\n                    for (let j = 0; j < this.stackSize; j++)\r\n                    {\r\n                        if (this.stack[j].id === stackedTab.id)\r\n                        {\r\n                            let tabToSwitch = this.stack.splice(j, 1)[0];\r\n                            this.stack.unshift(tabToSwitch);\r\n                            this.tabBar.removeChild(tabToSwitch.tab);\r\n                            this.tabBar.insertBefore(tabToSwitch.tab, this.tabBar.firstChild);\r\n                            $(stackedTab.tab).click();\r\n                            $(stackedTab.tab).removeClass('pane-tab-hidden');\r\n                            this.stackedTabs.splice(i, 1);\r\n                            this.stackedTabs.push(this.stack[1]);\r\n                            this.tabStackCountEl.textContent = this.stackedTabs.length.toString();\r\n                            this.tabResize(false);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    resize (newSize: string, resizeHeader: boolean = true)\r\n    {\r\n        let presetHeight = this.hasPresets ? this.presetTable.clientHeight : 0;\r\n        if (!newSize)\r\n        {\r\n            this.contentArea.style.height = this.parent.clientHeight - this.tabBar.clientHeight - 6 - presetHeight + 'px';\r\n            if (this.activePane)\r\n            {\r\n                let prevEvent = this.activePane.searchForEvent(this.activePane.paneId);\r\n                if (prevEvent)\r\n                {\r\n                    this.activePane.update(prevEvent);\r\n                }\r\n                else if(this.activePane.adapter || this.activePane.noAdapter)\r\n                {\r\n                    this.activePane.update();\r\n                }\r\n            }\r\n        }\r\n        else if (newSize === '0')\r\n        {\r\n            $(this.parent).hide();\r\n        }\r\n        else\r\n        {\r\n            if (newSize !== '100%')\r\n            {\r\n                this.height = newSize;\r\n            }\r\n            this.parent.style.height = newSize;\r\n            this.contentArea.style.height = this.parent.clientHeight - this.tabBar.clientHeight - 6 - presetHeight + 'px';\r\n            if (this.activePane)\r\n            {\r\n                let prevEvent = this.activePane.searchForEvent(this.activePane.paneId);\r\n                if (prevEvent && (this.activePane.adapter || this.activePane.noAdapter))\r\n                {\r\n                    this.activePane.update(prevEvent);\r\n                }\r\n                else if (this.activePane.adapter || this.activePane.noAdapter)\r\n                {\r\n                    this.activePane.update();\r\n                }\r\n            }\r\n        }\r\n        if (resizeHeader)\r\n        {\r\n            this.tabResize();\r\n        }\r\n    }\r\n\r\n    reset (resetUI: boolean)\r\n    {\r\n        let length = this.stackSize;\r\n        for (let i = 0; i < length; i++)\r\n        {\r\n            this.removePane(this.stack[0].id);\r\n        }\r\n        if (resetUI)\r\n        {\r\n            this.height = '50%';\r\n            this.minimizedStack.reset();\r\n        }\r\n    }\r\n\r\n    closePaneById (paneId: string, isMinimized: boolean, popedOut: boolean = false)\r\n    {\r\n        if (isMinimized)\r\n        {\r\n            this.minimizedStack.closeTabById(paneId);\r\n        }\r\n        this.removePane(paneId, popedOut);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/template/pane-stack.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class TextSearchPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\tsearchCount: number\r\n\tsearchIndex: number\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\t\tthis.searchCount = 0\r\n\t\tthis.searchIndex = 1\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$('#wv-textsearch #OnTextSearchSearchClicked').off('click').click(this.textSearch)\r\n\r\n        $('#wv-textsearch #UID_TEXT_SEARCH_TEXT').off('keyup').on('keyup', ev =>\r\n        {\r\n            if (ev.keyCode === 13)\r\n            {\r\n                ev.preventDefault();\r\n                this.textSearch()\r\n            }\r\n        });\r\n\r\n        $('#wv-textsearch #UID_TEXT_SEARCH_TEXT').off('keydown').on('keydown', ev =>\r\n        {\r\n            if (ev.keyCode === 13)\r\n            {\r\n                ev.preventDefault();\r\n            }\r\n        });\r\n\r\n\t\t$('#wv-textsearch #OnTextSearchNextResultClicked').click(ev =>\r\n\t\t{\r\n\t\t\tlet xml = '<Call Method=\"HighlightNextTextSearchResult\"></Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t\tvsClient.once('HighlightNextTextSearchResult', res =>\r\n\t\t\t{\r\n\t\t\t\tif (res.Error === 'SUCCESS')\r\n\t\t\t\t{\r\n\t\t\t\t\tlet xml = '<Call Method=\"GetHighlightedTextSearchResultIndex\" />'\r\n\t\t\t\t\tvsClient.command.executeXML(xml)\r\n\t\t\t\t\tvsClient.once('GetHighlightedTextSearchResultIndex', res =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvsClient.emit('TextSearchChangeIndex', res.Index)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\t$('#wv-textsearch #OnTextSearchPreviousResultClicked').click(ev =>\r\n\t\t{\r\n\t\t\tlet xml = '<Call Method=\"HighlightPreviousTextSearchResult\"></Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t\tvsClient.once('HighlightPreviousTextSearchResult', res =>\r\n\t\t\t{\r\n\t\t\t\tif (res.Error === 'SUCCESS')\r\n\t\t\t\t{\r\n\t\t\t\t\tlet xml = '<Call Method=\"GetHighlightedTextSearchResultIndex\" />'\r\n\t\t\t\t\tvsClient.command.executeXML(xml)\r\n\t\t\t\t\tvsClient.once('GetHighlightedTextSearchResultIndex', res =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvsClient.emit('TextSearchChangeIndex', res.Index)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n        })\r\n\t}\r\n\r\n\ttextSearch()\r\n\t{\r\n\t\tlet searchText = $('#UID_TEXT_SEARCH_TEXT').text()\r\n\t\tif (searchText !== '')\r\n\t\t{\r\n\t\t\tvsClient.once('SearchText', (res) =>\r\n\t\t\t{\r\n\t\t\t\tif (res.Error === 'SUCCESS')\r\n\t\t\t\t{\r\n\t\t\t\t\tvsClient.emit('TextSearch', res.Results)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tlet xml = '<Call Method=\"SearchText\"><SearchString>' + searchText + '</SearchString></Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t}\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetTextSearchPaneTemplate = `<Call Method=\"GetTemplate\"><Type>TextSearchPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetTextSearchPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.TextSearchPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n            let xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tlet event = template['Event']\r\n\t\t\tevent = 'TextSearchChanged'\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/text-search-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class TransformPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\r\n\taddMethods()\r\n\t{\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetTransformPaneTemplate = `<Call Method=\"GetTemplate\"><Type>TransformPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetTransformPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.TransformPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.adapter.updateValues(this.values)\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\t\tthis.adapter.fromTemplate(template)\r\n\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            if (path[0] === 'Event')\r\n            {\r\n                value = parseFloat(value).toString()\r\n                pane.modifySettings(this.values, path, value)\r\n                let xml = XMLParser.serializeWithValue(path, value, ['Type=' + template['Event']])\r\n                vsClient.command.executeXML(xml)\r\n            }\r\n            else\r\n            {\r\n                pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n                let xml = XMLParser.serializeWithValue(path, value)\r\n                let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n                vsClient.command.executeXML(settings)\r\n                if (this.hasPresets)\r\n                {\r\n                    this.stack.changeToCustomPreset();\r\n                }\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/transform-pane.ts","/// <reference path=\"../app/global-decl.d.ts\" />\r\nimport { VSWebClient, ConfigurationViewsData, ConfigurationViewChangedEvent } from '../base/vsweb-client-impl'\r\nimport * as ui from '../app/ui'\r\nimport { PaneTemplate } from './template/pane-template';\r\nimport { appStates } from '../app/app-states';\r\nimport { WVTooltip } from '../app/tooltip';\r\n\r\nconst SVG_NS = 'http://www.w3.org/2000/svg'\r\nconst XLINK_NS = 'http://www.w3.org/1999/xlink'\r\n\r\ndeclare var vsClient: VSWebClient\r\n\r\n\r\nexport class ViewPane extends PaneTemplate\r\n{\r\n\r\n    el: HTMLElement\r\n    buttons: HTMLElement\r\n    content: HTMLElement\r\n    //Tooltips\r\n    homeTooltip: WVTooltip\r\n    addTooltip: WVTooltip\r\n    selectAllTooltip: WVTooltip\r\n    updateTooltip: WVTooltip\r\n    deleteTooltip: WVTooltip\r\n    reversePlayTooltip: WVTooltip\r\n    stopTooltip: WVTooltip\r\n    playTooltip: WVTooltip\r\n    exportPDFTooltip: WVTooltip\r\n\r\n    scrollPos: number = 0\r\n\r\n    currentPosition: number = 0\r\n\r\n    duration: number = 3.5\r\n\r\n    viewElements: HTMLElement[] = []\r\n\r\n    hasMultiSelect: boolean = false\r\n    positionArray: number[] = []\r\n\r\n    inDragPos: number = -1\r\n\r\n    tooltips: WVTooltip[] = [];\r\n\r\n    constructor(paneId: string, caption: string)\r\n    {\r\n        super(paneId, caption);\r\n        this.noAdapter = true;\r\n\r\n        this.el = document.createElement('div');\r\n        this.el.classList.add('viewpane-innerwrapper');\r\n        this.el.onkeydown = e =>\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n\r\n        this.buttons = document.createElement('div');\r\n        this.buttons.classList.add('pane-buttons-tab');\r\n\r\n        let addView = document.createElement('i');\r\n        addView.className = 'fa fa-plus tree-header-action-icon';\r\n        addView.addEventListener('click', ev =>\r\n        {\r\n            const crateConfigurationView = '<Call Method=\"CreateConfigurationView\"></Call>';\r\n            vsClient.command.executeXML(crateConfigurationView);\r\n            const getConfigurationView = '<Call Method=\"GetConfigurationViewInformation\"><Image>true</Image></Call>';\r\n            vsClient.command.executeXML(getConfigurationView);\r\n        });\r\n        this.addTooltip = new WVTooltip(addView);\r\n        this.addTooltip.setTitle(_lang_data['ID_CREATE_CONFIGVIEW'][this.lang]);\r\n\r\n        let deleteView = document.createElement('i');\r\n        deleteView.className = 'fa fa-trash tree-header-action-icon';\r\n        deleteView.addEventListener('click', ev =>\r\n        {\r\n            let mutliSelectLength = this.positionArray.length;\r\n            if (mutliSelectLength > 0)\r\n            {\r\n                let numArray = this.positionArray.sort((a, b) => a - b);\r\n                for (let i = 0; i < mutliSelectLength; i++)\r\n                {\r\n                    let positionXml = '<Position>' + (numArray[i] - i) + '</Position>';\r\n                    let deleteConfigurationView = '<Call Method=\"DeleteConfigurationView\">' + positionXml + '</Call>';\r\n\r\n                    vsClient.command.executeXML(deleteConfigurationView);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                let positionXml = '<Position>' + this.currentPosition + '</Position>';\r\n                let deleteConfigurationView = '<Call Method=\"DeleteConfigurationView\">' + positionXml + '</Call>';\r\n                vsClient.command.executeXML(deleteConfigurationView);\r\n            }\r\n            let getConfigurationView = '<Call Method=\"GetConfigurationViewInformation\"><Image>true</Image></Call>';\r\n            vsClient.command.executeXML(getConfigurationView);\r\n        });\r\n        this.deleteTooltip = new WVTooltip(deleteView);\r\n        this.deleteTooltip.setTitle(_lang_data['ID_DELETE_CONFIGVIEW'][this.lang]);\r\n\r\n\r\n        let updateView = document.createElement('i');\r\n        updateView.className = 'fa fa-sync-alt tree-header-action-icon';\r\n        updateView.addEventListener('click', ev =>\r\n        {\r\n            let mutliSelectLength = this.positionArray.length;\r\n            if (mutliSelectLength > 0)\r\n            {\r\n                for (let i = 0; i < mutliSelectLength; i++)\r\n                {\r\n                    let positionXml = '<Position>' + this.positionArray[i] + '</Position>';\r\n                    let updateConfigurationView = '<Call Method=\"UpdateConfigurationView\">' + positionXml + '</Call>';\r\n                    vsClient.command.executeXML(updateConfigurationView);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                let positionXml = '<Position>' + this.currentPosition + '</Position>';\r\n                let updateConfigurationView = '<Call Method=\"UpdateConfigurationView\">' + positionXml + '</Call>';\r\n                vsClient.command.executeXML(updateConfigurationView);\r\n            }\r\n            let getConfigurationView = '<Call Method=\"GetConfigurationViewInformation\"><Image>true</Image></Call>';\r\n            vsClient.command.executeXML(getConfigurationView);\r\n        });\r\n        this.updateTooltip = new WVTooltip(updateView);\r\n        this.updateTooltip.setTitle(_lang_data['ID_VIEWS_UPDATE_VIEW'][this.lang]);\r\n\r\n        let home = document.createElement('i');\r\n        home.className = 'fas fa-home tree-header-action-icon';\r\n        home.addEventListener('click', ev =>\r\n        {\r\n            let xml = '<Call Method=\"ActivateOnSaveConfigurationView\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        this.homeTooltip = new WVTooltip(home);\r\n        this.homeTooltip.setTitle(_lang_data['ID_BUTTON_ACTIVATE_VIEW_ON_SAVE'][this.lang]);\r\n\r\n        let reversePlay = document.createElement('i');\r\n        reversePlay.className = 'fa fa-backward tree-header-action-icon';\r\n        reversePlay.addEventListener('click', ev =>\r\n        {\r\n            let xml = '<Call Method=\"StartPlayConfigurationViews\"><Reverse>true</Reverse><ConfigurationView>' + this.currentPosition + '</ConfigurationView></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        this.reversePlayTooltip = new WVTooltip(reversePlay);\r\n        this.reversePlayTooltip.setTitle(_lang_data['ID_VIEWS_PLAY_BACKWARD'][this.lang]);\r\n\r\n        let stop = document.createElement('i');\r\n        stop.className = 'fa fa-stop tree-header-action-icon';\r\n        stop.addEventListener('click', ev =>\r\n        {\r\n            stopPlayMode();\r\n        });\r\n        this.stopTooltip = new WVTooltip(stop);\r\n        this.stopTooltip.setTitle(_lang_data['ID_VIEWS_STOP'][this.lang]);\r\n\r\n        vsClient.on('OpenFile', ev =>\r\n        {\r\n            stopPlayMode();\r\n        });\r\n\r\n        vsClient.on('NewScene3D', ev =>\r\n        {\r\n            stopPlayMode();\r\n        });\r\n\r\n        vsClient.on('ImportFile', ev =>\r\n        {\r\n            stopPlayMode();\r\n        });\r\n\r\n        vsClient.on('GetSceneSettings', (response) =>\r\n        {\r\n            if (response.Error === 'SUCCESS')\r\n            {\r\n                this.duration = parseInt(response.Settings.Scene.ConfigurationView.ViewPlay.DurationTime);\r\n            }\r\n        });\r\n\r\n        let play = document.createElement('i');\r\n        play.className = 'fa fa-forward tree-header-action-icon';\r\n        play.addEventListener('click', ev =>\r\n        {\r\n            let xml = '<Call Method=\"StartPlayConfigurationViews\"><Reverse>false</Reverse><ConfigurationView>' + this.currentPosition + '</ConfigurationView></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        });\r\n        this.playTooltip = new WVTooltip(play);\r\n        this.playTooltip.setTitle(_lang_data['ID_VIEWS_PLAY_FORWARD'][this.lang]);\r\n\r\n\r\n        vsClient.on('ConfigurationViewPlaySelectionChange', res =>\r\n        {\r\n            let pos = parseInt(res.Selection);\r\n            let activeViewEvent: ConfigurationViewChangedEvent = {\r\n                pos: pos,\r\n                view: vsClient.getConfigurationViews()[pos]\r\n            };\r\n            vsClient.setDefaultConfigurationView(vsClient.getConfigurationViews()[pos]);\r\n            vsClient.emit('ConfigurationViewChanged', activeViewEvent);\r\n        });\r\n\r\n        vsClient.on('ConfigurationViewChanged', (event: ConfigurationViewChangedEvent) =>\r\n        {\r\n            this.currentPosition = event.pos;\r\n            this.viewElements[event.pos].focus();\r\n            this.viewElements.forEach(el => setHighlight(el, false));\r\n            setHighlight(this.viewElements[event.pos], true);\r\n            let GetSettings = `<Call Method=\"GetSceneSettings\"></Call>`;\r\n            vsClient.command.executeXML(GetSettings);\r\n        });\r\n\r\n        vsClient.on('ConfigurationViewPlayStart', res =>\r\n        {\r\n            reversePlay.style.color = res.Reverse === 'true' ? appStates.mainColor : 'black';\r\n            play.style.color = res.Reverse === 'true' ? 'black' :appStates.mainColor;\r\n        });\r\n\r\n        vsClient.on('ConfigurationViewPlayFinish', res =>\r\n        {\r\n            reversePlay.style.color = 'black';\r\n            play.style.color = 'black';\r\n        });\r\n\r\n        let stopPlayMode = () =>\r\n        {\r\n            let xml = '<Call Method=\"StopPlayConfigurationViews\"></Call>';\r\n            vsClient.command.executeXML(xml);\r\n        };\r\n\r\n        let downloadPDFButton = document.createElement('i');\r\n        downloadPDFButton.className = 'fas fa-file-pdf tree-header-action-icon';\r\n        downloadPDFButton.onclick = e =>\r\n        {\r\n            this.createPDF();\r\n        }\r\n        this.exportPDFTooltip = new WVTooltip(downloadPDFButton);\r\n        this.exportPDFTooltip.setTitle(_lang_data['ID_BUTTON_SAVE_VIEWS_PDF'][this.lang]);\r\n\r\n\r\n        let selectAllIcon = document.createElement('i');\r\n        selectAllIcon.className = 'fas fa-check-double tree-header-action-icon';\r\n        selectAllIcon.onclick = e =>\r\n        {\r\n            this.selectAll();\r\n        }\r\n        this.selectAllTooltip = new WVTooltip(selectAllIcon);\r\n        this.selectAllTooltip.setTitle(_lang_data['ID_RIBBON_SELECT_ALL'][this.lang]);\r\n\r\n        this.buttons.appendChild(home);\r\n        this.buttons.appendChild(addView);\r\n        this.buttons.appendChild(selectAllIcon);\r\n        this.buttons.appendChild(updateView);\r\n        this.buttons.appendChild(deleteView);\r\n        this.buttons.appendChild(reversePlay);\r\n        this.buttons.appendChild(stop);\r\n        this.buttons.appendChild(play);\r\n        this.buttons.appendChild(downloadPDFButton);\r\n\r\n        this.content = document.createElement('div');\r\n        this.content.classList.add('viewpane-content');\r\n        this.el.appendChild(this.content);\r\n\r\n        this.el.onscroll = e =>\r\n        {\r\n            this.scrollPos = this.el.scrollTop;\r\n        }\r\n\r\n        this.wrapperEl.appendChild(this.buttons);\r\n        this.wrapperEl.appendChild(this.el);\r\n    }\r\n\r\n\r\n    addMethods()\r\n    {\r\n        if (vsClient && vsClient.command)\r\n        {\r\n            let getConfigurationView = '<Call Method=\"GetConfigurationViewInformation\"><Image>true</Image></Call>';\r\n            vsClient.command.executeXML(getConfigurationView);\r\n        }\r\n    }\r\n\r\n    changeLang(lang: string)\r\n    {\r\n        for (let i = 0; i < this.tooltips.length; i += 3)\r\n        {\r\n            if (this.tooltips[i])\r\n            {\r\n                this.tooltips[i].setTitle(_lang_data['ID_ACTIVATE_CONFIGURATION_VIEW_TOOLTIP'][lang]);\r\n            }\r\n            if (this.tooltips[i + 1])\r\n            {\r\n                this.tooltips[i + 1].setTitle(_lang_data['ID_ACTIVATE_CONFIGURATION_VIEW_CAMERA_TOOLTIP'][lang]);\r\n            }\r\n            if (this.tooltips[i + 2])\r\n            {\r\n                this.tooltips[i + 2].setTitle(_lang_data['ID_ACTIVATE_CONFIGURATION_VIEW_STATE_TOOLTIP'][lang]);\r\n            }\r\n        }\r\n\r\n        this.homeTooltip.setTitle(_lang_data['ID_BUTTON_ACTIVATE_VIEW_ON_SAVE'][lang]);\r\n        this.addTooltip.setTitle(_lang_data['ID_CREATE_CONFIGVIEW'][lang]);\r\n        this.deleteTooltip.setTitle(_lang_data['ID_DELETE_CONFIGVIEW'][lang]);\r\n        this.updateTooltip.setTitle(_lang_data['ID_VIEWS_UPDATE_VIEW'][lang]);\r\n        this.reversePlayTooltip.setTitle(_lang_data['ID_VIEWS_PLAY_BACKWARD'][lang]);\r\n        this.stopTooltip.setTitle(_lang_data['ID_VIEWS_STOP'][lang]);\r\n        this.playTooltip.setTitle(_lang_data['ID_VIEWS_PLAY_FORWARD'][lang]);\r\n        this.exportPDFTooltip.setTitle(_lang_data['ID_BUTTON_SAVE_VIEWS_PDF'][lang]);\r\n        this.selectAllTooltip.setTitle(_lang_data['ID_RIBBON_SELECT_ALL'][lang]);\r\n    }\r\n\r\n    selectAll ()\r\n    {\r\n        this.hasMultiSelect = true;\r\n        this.positionArray = [];\r\n        this.viewElements.forEach((view: HTMLElement, index: number) =>\r\n        {\r\n            setHighlight(view, true);\r\n            this.positionArray.push(index);\r\n        });\r\n    }\r\n\r\n    createPDF ()\r\n    {\r\n        let xml = '<Call Method=\"GetViewsAsPDF\" CustomId=\"WVViewPDF\">';\r\n        if (this.positionArray.length > 0)\r\n        {\r\n            let sortedArray = this.positionArray.sort((a, b) => a - b);\r\n            sortedArray.forEach(pos =>\r\n            {\r\n                xml += '<Id>' + pos + '</Id>';\r\n            });\r\n        }\r\n        else\r\n        {\r\n            xml += '<Id>' + this.currentPosition + '</Id>';\r\n        }\r\n        xml += '</Call>';\r\n        vsClient.command.executeXML(xml);\r\n        ui.blockUI();\r\n    }\r\n\r\n\r\n    clearViews()\r\n    {\r\n        while (this.content.firstChild)\r\n        {\r\n            this.content.removeChild(this.content.firstChild)\r\n        }\r\n    }\r\n\r\n    update = (viewsData: ConfigurationViewsData[]) =>\r\n    {\r\n        if (!viewsData)\r\n        {\r\n            let heightString = 'calc(100% - ' + $(this.buttons).outerHeight(true) + 'px)';\r\n            this.el.style.height = heightString;\r\n            return;\r\n        }\r\n        vsClient.setConfigurationViews(viewsData);\r\n\r\n        this.viewElements = [];\r\n\r\n        let tabindexBegin = 1000;\r\n\r\n        this.positionArray = [];\r\n        this.tooltips = [];\r\n        for (let itemInfo of viewsData)\r\n        {\r\n            let viewEl = document.createElement('div');\r\n            viewEl.classList.add('viewpane-item');\r\n            viewEl.tabIndex = tabindexBegin++;\r\n            let viewImg = document.createElement('img');\r\n            viewImg.width = 160;\r\n            viewImg.height = 90;\r\n            viewImg.style.border = '1px solid #000';\r\n            viewImg.src = 'data:image/jpeg;base64,' + itemInfo.Image;\r\n            viewImg.draggable = false;\r\n            viewImg.style.pointerEvents = 'none';\r\n            viewEl.draggable = true;\r\n            viewEl.appendChild(viewImg);\r\n            //Action buttons\r\n            let iconBar = document.createElement('div');\r\n            iconBar.className = 'viewpane-item-action-bar';\r\n            viewEl.appendChild(iconBar);\r\n            //Activate view\r\n            let activateIcon = document.createElement('i');\r\n            activateIcon.className = 'fas fa-play view-action-icon';\r\n            let activateTooltip = new WVTooltip(activateIcon);\r\n            activateTooltip.setTitle(_lang_data['ID_ACTIVATE_CONFIGURATION_VIEW_TOOLTIP'][this.lang]);\r\n            this.tooltips.push(activateTooltip);\r\n            iconBar.appendChild(activateIcon);\r\n            activateIcon.onclick = e =>\r\n            {\r\n                vsClient.setConfigurationViewPosition(parseInt(itemInfo.Position));\r\n            }\r\n            //Activate only the camera of the view\r\n            let onlyCameraIcon = document.createElement('i');\r\n            onlyCameraIcon.className = 'fas fa-video view-action-icon';\r\n            let cameraTooltip = new WVTooltip(onlyCameraIcon);\r\n            cameraTooltip.setTitle(_lang_data['ID_ACTIVATE_CONFIGURATION_VIEW_CAMERA_TOOLTIP'][this.lang]);\r\n            this.tooltips.push(cameraTooltip);\r\n            iconBar.appendChild(onlyCameraIcon);\r\n            onlyCameraIcon.onclick = e =>\r\n            {\r\n                vsClient.setConfigurationViewPosition(parseInt(itemInfo.Position), true, false);\r\n            };\r\n            let withoutCameraIcon = document.createElement('i');\r\n            withoutCameraIcon.className = 'fas fa-video-slash view-action-icon';\r\n            let withoutCameraTooltip = new WVTooltip(withoutCameraIcon);\r\n            withoutCameraTooltip.setTitle(_lang_data['ID_ACTIVATE_CONFIGURATION_VIEW_STATE_TOOLTIP'][this.lang]);\r\n            this.tooltips.push(withoutCameraTooltip);\r\n            iconBar.appendChild(withoutCameraIcon);\r\n            withoutCameraIcon.onclick = e =>\r\n            {\r\n                vsClient.setConfigurationViewPosition(parseInt(itemInfo.Position), false, true);\r\n            }\r\n            //Name icon and text\r\n            let nameWrapper = document.createElement('div');\r\n            viewEl.appendChild(nameWrapper);\r\n            let editIcon = document.createElement('i');\r\n            editIcon.className = 'fas fa-edit';\r\n            editIcon.style.marginRight = '5px';\r\n            let viewName = document.createElement('span');\r\n            nameWrapper.appendChild(editIcon);\r\n            viewName.textContent = itemInfo.Name;\r\n            nameWrapper.appendChild(viewName);\r\n            viewEl.ondragstart = e =>\r\n            {\r\n                this.inDragPos = parseInt(itemInfo.Position);\r\n            }\r\n            viewEl.ondragenter = e =>\r\n            {\r\n                e.preventDefault();\r\n                viewImg.style.borderLeft = '5px solid ' + appStates.mainColor;\r\n            }\r\n            viewEl.ondragleave = e =>\r\n            {\r\n                e.preventDefault();\r\n                viewImg.style.borderLeft = '1px solid rgb(0, 0, 0)';\r\n            }\r\n            viewEl.ondragover = e =>\r\n            {\r\n                e.preventDefault();\r\n                viewImg.style.borderLeft = '5px solid ' + appStates.mainColor;\r\n            }\r\n            viewEl.ondrop = e =>\r\n            {\r\n                if (this.inDragPos !== -1)\r\n                {\r\n                    let xml = '<Call Method=\"MoveConfigurationView\">';\r\n                    xml += '<ConfigurationView>' + this.inDragPos + '</ConfigurationView>';\r\n                    xml += '<Position>' + parseInt(itemInfo.Position) + '</Position></Call>';\r\n                    this.inDragPos = -1;\r\n                    xml += '<Call Method=\"GetConfigurationViewInformation\"><Image>true</Image></Call>';\r\n                    vsClient.command.executeXML(xml);\r\n                }\r\n            }\r\n            viewEl.addEventListener('click', (ev) =>\r\n            {\r\n                let allItems = this.content.querySelectorAll('.viewpane-item');\r\n                let itemsArray: HTMLElement[] = Array.prototype.slice.call(allItems);\r\n\r\n                let pos = parseInt(itemInfo.Position) || 0;\r\n                if (ev.ctrlKey)\r\n                {\r\n                    this.hasMultiSelect = true;\r\n                }\r\n                else\r\n                {\r\n                    this.hasMultiSelect = false;\r\n                    this.positionArray = [];\r\n                }\r\n                if (this.hasMultiSelect)\r\n                {\r\n                    //Push new view to the array if it isn't already part of it\r\n                    if (this.positionArray.indexOf(pos) === -1)\r\n                    {\r\n                        this.positionArray.push(pos);\r\n                        setHighlight(viewEl, true);\r\n                    }\r\n                    //Extract new view from array if it is already part of it\r\n                    else\r\n                    {\r\n                        this.positionArray.splice(this.positionArray.indexOf(pos), 1);\r\n                        setHighlight(viewEl, false);\r\n                    }\r\n                    //Push the single selected element to the array if there was a single selection before\r\n                    if (this.positionArray.indexOf(this.currentPosition) === -1 && this.currentPosition !== undefined)\r\n                    {\r\n                        this.positionArray.push(this.currentPosition);\r\n                        setHighlight(viewEl, true);\r\n                    }\r\n                    this.currentPosition = undefined;\r\n                }\r\n                else\r\n                {\r\n                    itemsArray.forEach(item => setHighlight(item, false));\r\n                    this.positionArray = [];\r\n                    this.currentPosition = pos;\r\n                    setHighlight(viewEl, true);\r\n                }\r\n            })\r\n\r\n            editIcon.addEventListener('click', ev =>\r\n            {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                let el = $(viewName);\r\n                el.attr('contenteditable', 'true');\r\n                //Select text\r\n                let range = document.createRange();\r\n                range.selectNodeContents(viewName);\r\n                let sel = window.getSelection();\r\n                sel.removeAllRanges();\r\n                sel.addRange(range);\r\n                el.focus();\r\n                el.blur(e =>\r\n                {\r\n                    e.stopPropagation();\r\n                    setName(e, itemInfo.Position);\r\n                    el.off('blur');\r\n                    el.attr('contenteditable', 'false');\r\n                });\r\n                el.on('keydown', function (e)\r\n                {\r\n                    e.stopPropagation();\r\n                    if (e.keyCode === 13)\r\n                    {\r\n                        e.preventDefault();\r\n                        el.off('keydown');\r\n                        el.attr('contenteditable', 'false');\r\n                    }\r\n                });\r\n                el.on('keyup', function (e)\r\n                {\r\n                    e.stopPropagation();\r\n                });\r\n            });\r\n\r\n            $(viewEl).kendoTouch({\r\n                doubletap: ev =>\r\n                {\r\n                    this.activateView(itemInfo);\r\n                    setHighlight(viewEl, true);\r\n                    this.currentPosition = parseInt(itemInfo.Position) || 0;\r\n                },\r\n                hold: ev =>\r\n                {\r\n                    ev.preventDefault();\r\n                    let el = $(viewName);\r\n                    el.attr('contenteditable', 'true');\r\n                    el.focus();\r\n                    //Select text\r\n                    let range = document.createRange();\r\n                    range.selectNodeContents(viewName);\r\n                    let sel = window.getSelection();\r\n                    sel.removeAllRanges();\r\n                    sel.addRange(range);\r\n                    el.focus();\r\n                    el.blur(e =>\r\n                    {\r\n                        e.stopPropagation();\r\n                        setName(e, itemInfo.Position);\r\n                        $(e.target).off('blur');\r\n                        $(e.target).attr('contenteditable', 'false');\r\n                    });\r\n                    el.on('keydown', function (e)\r\n                    {\r\n                        e.stopPropagation();\r\n                        if (e.keyCode === 13)\r\n                        {\r\n                            e.preventDefault();\r\n                            $(e.target).off('keydown')\r\n                            $(e.target).attr('contenteditable', 'false')\r\n                        }\r\n                    });\r\n                    el.on('keyup', function (e)\r\n                    {\r\n                        e.stopPropagation();\r\n                    });\r\n                }\r\n            });\r\n\r\n            this.content.appendChild(viewEl);\r\n            this.viewElements.push(viewEl);\r\n        }\r\n\r\n        // highlight the first view element and set the default view\r\n        if (this.viewElements.length && (!this.currentPosition || this.currentPosition === 0))\r\n        {\r\n            vsClient.setDefaultConfigurationView(viewsData[0]);\r\n            $(this.viewElements[0]).children().first().css('border', '3px solid ' + appStates.mainColor);\r\n            $(this.viewElements[0]).children().last().css('color', appStates.mainColor);\r\n            this.currentPosition = 0;\r\n        }\r\n        this.el.scrollTop = this.scrollPos;\r\n    }\r\n\r\n    activateView(itemInfo: ConfigurationViewsData)\r\n    {\r\n        vsClient.setConfigurationViewPosition(parseInt(itemInfo.Position));\r\n    }\r\n}\r\n\r\nfunction setHighlight(el: HTMLElement, hightlight: boolean)\r\n{\r\n    let element = $(el)\r\n    $(element).children().first().css('border', hightlight ? '3px solid ' + appStates.mainColor : '1px solid rgb(0, 0, 0)')\r\n    $(element).children().last().css('color', hightlight ? appStates.mainColor : 'rgb(0, 0, 0)')\r\n}\r\n\r\nfunction setName(e: JQueryEventObject, position: string)\r\n{\r\n    var command = '<Call Method=\"UpdateConfigurationView\"><Position>' + position + '</Position>';\r\n    command += '<Name>' + e.target.textContent + '</Name></Call>';\r\n    vsClient.command.executeXML(command);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./app-panes/view-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class VisibilityTestPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-visibilitytest #OnVisibilityTestComputeClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tlet xml = '<Call Method=\"Compute\"><Mode>VisibilityTest</Mode></Call>'\r\n\t\t\tvsClient.command.executeXMLAsync(xml)\r\n\t\t})\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetVisibilityTestPaneTemplate = `<Call Method=\"GetTemplate\"><Type>VisibilityTestPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetVisibilityTestPaneTemplate)\r\n\t\tvsClient.once('GetTemplate.VisibilityTestPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n            let xml = XMLParser.serializeWithValue(path, value)\r\n            let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n            vsClient.command.executeXML(settings)\r\n            if (this.hasPresets)\r\n            {\r\n                this.stack.changeToCustomPreset();\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n\t{\r\n\r\n\t\tthis.values = {\r\n\t\t\tEvent: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n\t\t}\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/visibility-test-pane.ts","import * as pane from '../pane'\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport * as ui from '../app/ui'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport { PaneTemplate } from './template/pane-template';\r\n\r\nexport class WallthicknessPane extends PaneTemplate\r\n{\r\n\tel: HTMLTableElement\r\n\tvalues: {}\r\n\r\n\tconstructor(paneId: string, caption: string)\r\n\t{\r\n\t\tsuper(paneId, caption)\r\n\r\n\t\tthis.el = document.createElement('table')\r\n\t\tthis.el.classList.add('pane-content')\r\n\r\n\t\tthis.wrapperEl.appendChild(this.el)\r\n\t}\r\n\r\n\taddMethods()\r\n\t{\r\n\t\t$(\"#wv-wallthickness #OnWallthicknessComputeClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tlet xml = '<Call Method=\"Compute\"><Mode>Wallthickness</Mode></Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n\t\t})\r\n\r\n\t\t$(\"#wv-wallthickness #OnWallthicknessStopComputationClicked\").click(ev =>\r\n\t\t{\r\n\t\t\tlet xml = '<Call Method=\"StopComputation\"></Call>'\r\n\t\t\tvsClient.command.executeXML(xml)\r\n        })\r\n\r\n        $(\"#wv-wallthickness #OnWallthicknessResetClicked\").click(ev =>\r\n            {\r\n                let xml = '<Call Method=\"ResetWallthicknessVisualization\"></Call>'\r\n                vsClient.command.executeXML(xml)\r\n            })\r\n\t}\r\n\r\n\tchangeLang(lang: string)\r\n\t{\r\n\t\tlet GetWallthicknessPanePaneTemplate = `<Call Method=\"GetTemplate\"><Type>WallThicknessPane</Type></Call>`\r\n\t\tvsClient.command.executeXML(GetWallthicknessPanePaneTemplate)\r\n\t\tvsClient.once('GetTemplate.WallThicknessPane', (response: any) =>\r\n\t\t{\r\n\t\t\tconst template = response['Source']['Template']\r\n\t\t\tthis.adapter.fromTemplate(template)\r\n\t\t\tthis.addMethods()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfromTemplate(template: {})\r\n\t{\r\n\t\tthis.adapter = new pane.PaneAdapter(this.el)\r\n\r\n\t\tthis.adapter.fromTemplate(template)\r\n        this.adapter.on('user-input', (src: pane.Visual, value) =>\r\n        {\r\n            if (value === 'toggle-folder-visibility')\r\n            {\r\n                this.adapter.updateValues(this.values)\r\n                return\r\n            }\r\n            let path = src.item.path\r\n            if (path.length > 1 && path[1] === 'Preset' && value !== 'USERDEF')\r\n            {\r\n                let xml = '<Call Method=\"ActivatePreset\"><Type>WallthicknessHeatmap</Type>'\r\n                xml += '<Identifier>' + value + '</Identifier></Call>'\r\n                vsClient.command.executeXML(xml)\r\n                vsClient.on('ActivatePreset', ev =>\r\n                {\r\n                    vsClient.command.executeXML('<Call Method=\"GetSceneSettings\"></Call>')\r\n                })\r\n            }\r\n            else if (path[0] === 'Event')\r\n            {\r\n                value = parseFloat(value).toString()\r\n                pane.modifySettings(this.values, path, value)\r\n                let xml = XMLParser.serializeWithValue(path, value, ['Type=' + template['Event']])\r\n                vsClient.command.executeXML(xml)\r\n            }\r\n            else\r\n            {\r\n                pane.modifySettings(ui.settingsPane.sceneSettings, path, value)\r\n                let xml = XMLParser.serializeWithValue(path, value)\r\n                let settings = `<Call Method=\"SetSceneSettings\"> ${xml} </Call>`\r\n                vsClient.command.executeXML(settings)\r\n                if (this.hasPresets)\r\n                {\r\n                    this.stack.changeToCustomPreset();\r\n                }\r\n            }\r\n        });\r\n\r\n\t\tif (template['Event'])\r\n\t\t{\r\n\t\t\tconst event = template['Event']\r\n\t\t\tvsClient.removeListener(event, this.update)\r\n\t\t\tvsClient.on(event, this.update)\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tupdate = (response) =>\r\n    {\r\n\t\tthis.values = {\r\n            Event: ((response && !response.Type) && (this.values && this.values['Event'] && this.values['Event'].Type)) ? this.values['Event'] : response,\r\n\t\t\tSettings: ui.settingsPane.sceneSettings ? ui.settingsPane.sceneSettings['Settings'] : undefined\r\n        }\r\n\t\tthis.adapter.updateValues(this.values)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app-panes/wallthickness-pane.ts","/// <reference path=\"../app/global-decl.d.ts\" />\r\nimport * as ui from './ui'\r\nimport { appStates } from './app-states'\r\nimport { VSWebClient, Options, ConfigurationViewsData } from '../base/vsweb-client-impl'\r\nimport * as w from '../ribbon/widget'\r\nimport { settings } from './app-settings'\r\nimport XMLParser = require('../base/DOMXMLParser')\r\nimport * as pa from '../app-panes'\r\nimport * as js2xmlparser from 'js2xmlparser'\r\nimport * as ribbonMenu from '../ribbon/menu'\r\n\r\ndeclare var vsClient: VSWebClient\r\n\r\nimport { vsRibbon } from './ui';\r\nimport { ILog } from '../app-panes/command';\r\ndeclare function escape(any): any;\r\n\r\ndeclare var _UseCachedSettings: boolean\r\ndeclare var _2DReducedSet: any\r\ndeclare var _3DReducedSet: any\r\ndeclare var _ClosePanesOnOpenFile: boolean;\r\ndeclare var _HideUICommandLog: boolean;\r\ndeclare var _ShortCuts: any;\r\ndeclare var _ShowFileRibbonOnUrlOpen: any;\r\ndeclare var _AppMainColor: string;\r\ndeclare var _AppRibbonHeaderTextColor: string;\r\ndeclare var _PreventGlobalKeyEvents: boolean;\r\ndeclare var _DisableSessionRestore: boolean;\r\n\r\ndeclare global {\r\n    interface Array<T> {\r\n        contains(item: T): boolean;\r\n    }\r\n}\r\n\r\n//Touch\r\nlet holdActive: boolean = false;\r\nlet hasTouchHandlers: boolean = false;\r\nlet dbHandledInTouch: boolean = false;\r\nlet hasClicked: boolean = false;\r\nlet middleClick: boolean = false;\r\nlet moveIndex = 0;\r\n\r\n//Popouts\r\nlet events = [\r\n    'MeasurementChanged',\r\n    'AsyncEventBegin',\r\n    'AsyncEventProgress',\r\n    'AsyncEventEnd',\r\n    'TransformChanged',\r\n    'DraftAngleChanged',\r\n    'ProjectedAreaChanged',\r\n    'TextSearchChanged',\r\n    'NeighbourhoodSearchChanged',\r\n    'SectionChanged',\r\n    'ShowMessageBox',\r\n    'ImportFinished',\r\n    'CalloutSelectionChanged',\r\n    'SavedSelectionsChanged',\r\n    'WallthicknessValuesChanged',\r\n    'SplitResultUpdated',\r\n    'ActivateCompare',\r\n    'CalloutAutoAlignmentChanged',\r\n    'BandAnalysis',\r\n    'ClashResultUpdated',\r\n    'ConfigurationViewPlaySelectionChange',\r\n    'ConfigurationViewPlayStart',\r\n    'ConfigurationViewPlayFinish',\r\n    'PresetChanged'\r\n];\r\n\r\n/**    exports for the purpose of debugging */\r\nexports.getClient = function () {\r\n    return vsClient\r\n}\r\nexports.getStates = function () {\r\n    return appStates\r\n}\r\nexports.render = function () {\r\n    ui.vsRibbon.render()\r\n}\r\nexports.lang = function (lang) {\r\n    settings.lang = lang\r\n    ui.vsRibbon.render()\r\n}\r\nexports.modeltree = function () {\r\n    // return modeltree\r\n}\r\n\r\nexports.parseXML = function (xml) {\r\n    return XMLParser.parseXML(xml)\r\n}\r\n\r\nexports.getRibbonGroups = function () {\r\n    var content = 'var _RibbonGroups = ' + JSON.stringify(ui.vsRibbon.exposedGroupIDs, null, '\\t')\r\n    var blob = new Blob([content], { type: 'application/javascript' })\r\n    var downloadEl = document.createElement('a')\r\n    downloadEl.href = URL.createObjectURL(blob)\r\n    downloadEl.download = 'custom_groups.js'\r\n    downloadEl.style.display = 'none'\r\n    document.body.appendChild(downloadEl)\r\n    downloadEl.click()\r\n    document.body.removeChild(downloadEl)\r\n}\r\n\r\n\r\n///////////////////////////////////////////////////////////////////////////////\r\n//  main()    \r\n///////////////////////////////////////////////////////////////////////////////\r\nlet stopLogging = localStorage.getItem('WVStopInitialLogging') === 'true';\r\n//Overwrite app main color with custom color\r\ntry\r\n{\r\n    if (_AppMainColor)\r\n    {\r\n        appStates.mainColor = _AppMainColor;\r\n        document.documentElement.style.setProperty('--app-main-color', _AppMainColor);\r\n    }\r\n}\r\ncatch (e)\r\n{\r\n    \r\n}\r\n\r\ntry\r\n{\r\n    if (_AppRibbonHeaderTextColor)\r\n    {\r\n        document.documentElement.style.setProperty('--app-ribbon-text-color', _AppRibbonHeaderTextColor);\r\n    }\r\n}\r\ncatch (e)\r\n{\r\n    \r\n}\r\n\r\nlet wvCanvas = ui.init()\r\n\r\nvsClient.initOptions = {\r\n    canvasMode: 'image',\r\n    parseXMLResponse: true,\r\n    emitXMLResponsesUnparsed: false,\r\n    sendSessionReady: false,\r\n    blockOnLoad: true\r\n}\r\n\r\nvsClient.on('@logMousemove', (log: boolean) =>\r\n{\r\n    vsClient.command.logMousemove(log);\r\n});\r\nlet websocketAddress =  \"ws://localhost:8085/ws\";\r\ntry\r\n{\r\n    websocketAddress = g_sWebSocketAdress;\r\n}\r\ncatch (e)\r\n{\r\n    console.warn('Please define a WebSocket address!');\r\n}\r\n//Compute the client init options\r\nlet parkedSession = localStorage.getItem('WVParkedSession');\r\nlet client = localStorage.getItem('WVClient');\r\nlet connectedToSession: boolean = false;\r\nlet initOptions: Options = {};\r\nlet isNewSession: boolean = true;\r\nlet clientInitialized: boolean = false;\r\n//URL parameter for reconnections\r\nlet urlFileName: string;\r\nlet urlFileType: string;\r\n//Set client if available\r\nif (client && client !== null)\r\n{\r\n    initOptions.testForSessions = true;\r\n    initOptions.client = client;\r\n}\r\nelse\r\n{\r\n    initOptions.testForSessions = false;\r\n}\r\n//Connect to parked session after UI change\r\nif (parkedSession && parkedSession !== null)\r\n{\r\n    initOptions.sessionToConnect = parkedSession;\r\n    localStorage.removeItem('WVParkedSession');\r\n    connectedToSession = true;\r\n    vsClient.initialize(wvCanvas, websocketAddress, initOptions);\r\n}\r\n//Test for crashed sessions\r\nelse\r\n{\r\n    vsClient.initialize(wvCanvas, websocketAddress, initOptions);\r\n}\r\nui.resizeHandler()\r\n\r\nlet array = new Uint32Array(10);\r\nlet crypto = prefixCrypto(window);\r\ncrypto.getRandomValues(array);\r\nlet uid = array[0];\r\nappStates.sessionUID = uid;\r\n\r\nfunction prefixCrypto(win)\r\n{\r\n    return win.crypto || win.msCrypto;\r\n}\r\n\r\n/**    touch handlers */\r\nfunction TouchPosCorrectionX(pos) {\r\n    let rect = wvCanvas.getBoundingClientRect()\r\n    var mouseX = pos - rect.left\r\n    return mouseX\r\n}\r\n\r\nfunction TouchPosCorrectionY(pos) {\r\n    let rect = wvCanvas.getBoundingClientRect()\r\n    var mouseY = pos - rect.top\r\n    return mouseY\r\n}\r\n\r\nfunction TouchHoldMove(e)\r\n{\r\n    if (!appStates.touchActive) {\r\n        e.sender.cancel();\r\n        return;\r\n    }\r\n\r\n    var mouseX = TouchPosCorrectionX(e.touch.x.client);\r\n    var mouseY = TouchPosCorrectionY(e.touch.y.client);\r\n\r\n    var mouseFlag = '';\r\n\r\n    if (e.event.altKey === true || e.event.ctrlKey === true) {\r\n        mouseFlag = '<MouseFlag>Ctrl</MouseFlag>';\r\n    }\r\n\r\n    //mouse move before down to simulate hover\r\n    var s = '<Call Method=\"MouseMove\" Response=\"true\"><X>' + mouseX + '</X><Y>' + mouseY + '</Y><MouseButton>None</MouseButton></Call>';\r\n    if (!holdActive)\r\n    {\r\n        s += '<Call Method=\"MouseDown\" Response=\"false\"><X>' + mouseX + '</X><Y>' + mouseY + '</Y><MouseButton>Left</MouseButton></Call>';\r\n        holdActive = true;\r\n    }\r\n    vsClient.command.executeXMLMouse(s);\r\n}\r\n\r\n\r\nfunction HandleMouseForTouchGestureStart(touchevent) {\r\n    //initialize\r\n    appStates.lastGestureDistance = touchevent.distance;\r\n\r\n    appStates.lastGestureCenterX = TouchPosCorrectionX(touchevent.center.x);\r\n    appStates.lastGestureCenterY = TouchPosCorrectionY(touchevent.center.y);\r\n    //activate pan\r\n    var sCommands = '<Call Method=\"SetMouseButtonFunctions\" Response=\"false\"><LeftMouseButtonFunction>Pan</LeftMouseButtonFunction></Call>';\r\n    //down pan\r\n    sCommands += '<Call Method=\"MouseDown\" Response=\"false\"><X>' + appStates.lastGestureCenterX + '</X><Y>' + appStates.lastGestureCenterY + '</Y><MouseButton>Left</MouseButton></Call>';\r\n    vsClient.command.executeXMLMouse(sCommands);\r\n}\r\n\r\nfunction HandleMouseForTouchGesture(touchevent) {\r\n    var bSendZoom = false;\r\n    appStates.lastGestureDelta = touchevent.distance - appStates.lastGestureDistance;\r\n\r\n    if (Math.abs(appStates.lastGestureDelta) > 10) {\r\n        bSendZoom = true;\r\n        appStates.lastGestureDistance = touchevent.distance;\r\n    }\r\n\r\n    appStates.lastGestureCenterX = TouchPosCorrectionX(touchevent.center.x);\r\n    appStates.lastGestureCenterY = TouchPosCorrectionY(touchevent.center.y);\r\n\r\n    var sMouseButtonDown = '<MouseButton>Left</MouseButton>';\r\n    var callMove = '<Call Method=\"MouseMove\" Response=\"true\"><X>' + appStates.lastGestureCenterX + '</X><Y>' + appStates.lastGestureCenterY + '</Y>' + sMouseButtonDown + '</Call>';\r\n\r\n    if (bSendZoom) {\r\n        vsClient.command.executeXMLZoomMouseWheel(appStates.lastGestureCenterX, appStates.lastGestureCenterY, appStates.lastGestureDelta)\r\n    }\r\n    else {\r\n        vsClient.command.executeXMLMouse(callMove)\r\n    }\r\n}\r\n\r\nfunction HandleMouseForTouchGestureEnd()\r\n{\r\n    //combined touch pan and zoom\r\n    var sCommands = '<Call Method=\"MouseUp\" Response=\"false\"><X>' + appStates.lastGestureCenterX + '</X><Y>' + appStates.lastGestureCenterY + '</Y><MouseButton>Left</MouseButton></Call>';\r\n    //reset mouse mode\r\n    sCommands += '<Call Method=\"SetMouseButtonFunctions\" Response=\"false\"><LeftMouseButtonFunction>' + appStates.mouseLeftButtonMode + '</LeftMouseButtonFunction></Call>';\r\n    vsClient.command.executeXMLMouse(sCommands);\r\n}\r\n\r\nfunction HandleTouchDragStart(touchevent) {\r\n\r\n    if (!appStates.touchGestureActive && !appStates.mouseActive) {\r\n        touchevent.preventDefault();\r\n\r\n        var mouseX = TouchPosCorrectionX(touchevent.touch.x.client);\r\n        var mouseY = TouchPosCorrectionY(touchevent.touch.y.client);\r\n\r\n        if (appStates.mouseLeftButtonMode === 'RectZoom' || appStates.mouseLeftButtonMode == 'RectSelect') {\r\n            vsClient.startRect(mouseX, mouseY)\r\n        }\r\n\r\n        //mouse move before down to simulate hover\r\n        var s = '<Call Method=\"MouseMove\" Response=\"true\"><X>' + mouseX + '</X><Y>' + mouseY + '</Y><MouseButton>None</MouseButton></Call>';\r\n        s += '<Call Method=\"MouseDown\" Response=\"false\"><X>' + mouseX + '</X><Y>' + mouseY + '</Y><MouseButton>Left</MouseButton></Call>';\r\n        vsClient.command.executeXMLMouse(s);\r\n    }\r\n}\r\n\r\nfunction HandleTouchDrag(touchevent) {\r\n    if (!appStates.touchGestureActive && !appStates.mouseActive) {\r\n        touchevent.preventDefault();\r\n\r\n        var mouseX = TouchPosCorrectionX(touchevent.touch.x.client);\r\n        var mouseY = TouchPosCorrectionY(touchevent.touch.y.client);\r\n\r\n        var sMouseButtonDown = '<MouseButton>Left</MouseButton>';\r\n        var callMove = '<Call Method=\"MouseMove\" Response=\"true\"><X>' + mouseX + '</X><Y>' + mouseY + '</Y>' + sMouseButtonDown + '</Call>';\r\n\r\n        if ((appStates.mouseLeftButtonMode === 'RectZoom' || appStates.mouseLeftButtonMode == 'RectSelect') && appStates.drawRect\r\n            && appStates.interactionMode.indexOf('Flythrough') === -1)\r\n        {\r\n            vsClient.drawRect(mouseX, mouseY)\r\n        }\r\n        else\r\n        {\r\n            vsClient.command.executeXMLMouseMove(callMove);\r\n        }\r\n    }\r\n}\r\n\r\nfunction HandleTouchDragEnd(touchevent) {\r\n    if (!appStates.touchGestureActive && !appStates.mouseActive) {\r\n        touchevent.preventDefault();\r\n        var mouseX = TouchPosCorrectionX(touchevent.touch.x.client);\r\n        var mouseY = TouchPosCorrectionY(touchevent.touch.y.client);\r\n\r\n        var xml = '<Call Method=\"MouseUp\" Response=\"false\"><X>' + mouseX + '</X><Y>' + mouseY + '</Y><MouseButton>Left</MouseButton></Call>';\r\n        vsClient.command.executeXMLMouse(xml);\r\n    }\r\n}\r\n\r\n/** mouse handlers */\r\nfunction mousedownHandler(ev) {\r\n    // ev.preventDefault()\r\n    $('#floating-attribute-wrapper').remove();\r\n    if (appStates.touchActive)\r\n    {\r\n        return;\r\n    }\r\n    appStates.mouseActive = true;\r\n    hasClicked = true;\r\n\r\n    let boundingRect = wvCanvas.getBoundingClientRect();\r\n    let offsetLeft = boundingRect.left;\r\n    let offsetTop = boundingRect.top;\r\n\r\n    var mouseX = ev.pageX - offsetLeft;\r\n    var mouseY = ev.pageY - offsetTop;\r\n\r\n    var button = 'None';\r\n    switch (ev.which) {\r\n        case 1:\r\n            $('#wv-dock').toggleClass('disable-selection');\r\n            appStates.mouseLeftButtonDown = true;\r\n            button = 'Left';\r\n            if (appStates.mouseLeftButtonMode === 'RectZoom' || appStates.mouseLeftButtonMode === 'RectSelect')\r\n            {\r\n                vsClient.startRect(mouseX, mouseY);\r\n            }\r\n            break;\r\n        case 2:\r\n            button = 'Middle';\r\n            if (appStates.mouseMiddleButtonMode === 'RectZoom' || appStates.mouseMiddleButtonMode === 'RectSelect')\r\n            {\r\n                vsClient.startRect(mouseX, mouseY);\r\n            }\r\n            break;\r\n        case 3:\r\n            button = 'Right';\r\n            if (appStates.mouseRightButtonMode === 'RectZoom' || appStates.mouseRightButtonMode === 'RectSelect')\r\n            {\r\n                vsClient.startRect(mouseX, mouseY);\r\n            }\r\n            break;\r\n    }\r\n\r\n    var xml = '<Call Method=\"MouseDown\"><X>'\r\n        + mouseX + '</X><Y>'\r\n        + mouseY + '</Y>'\r\n        + '<MouseButton>'\r\n        + button + '</MouseButton></Call>';\r\n    vsClient.command.executeXMLMouse(xml);\r\n}\r\n\r\n\r\nfunction mousemoveHandler(ev)\r\n{\r\n    if (appStates.touchActive)\r\n    {\r\n        return;\r\n    }\r\n    // prevent the inexplicable mousemove event being triggered in some situation when mouse does not move\r\n    if (ev.pageX === appStates.lastPagePosX && ev.pageY === appStates.lastPagePosY)\r\n    {\r\n        return;\r\n    }\r\n    appStates.lastPagePosX = ev.pageX;\r\n    appStates.lastPagePosY = ev.pageY;\r\n\r\n    let boundingRect = wvCanvas.getBoundingClientRect();\r\n    let offsetLeft = boundingRect.left;\r\n    let offsetTop = boundingRect.top;\r\n    var mouseX = ev.pageX - offsetLeft;\r\n    var mouseY = ev.pageY - offsetTop;\r\n    vsClient.mouseX = mouseX;\r\n    vsClient.mouseY = mouseY;\r\n\r\n\r\n    var button = 'None';\r\n    switch (ev.which)\r\n    {\r\n        case 1:\r\n            if (ev.buttons > 1)\r\n            {\r\n                button = 'Middle';\r\n                if ((appStates.mouseMiddleButtonMode === 'RectZoom' || appStates.mouseMiddleButtonMode == 'RectSelect') && appStates.drawRect\r\n                    && appStates.interactionMode.indexOf('Flythrough') === -1)\r\n                {\r\n                    if (!middleClick)\r\n                    {\r\n                        vsClient.startRect(mouseX, mouseY);\r\n                        middleClick = true;\r\n                        var xml = '<Call Method=\"MouseDown\"><X>'\r\n                            + mouseX + '</X><Y>'\r\n                            + mouseY + '</Y>'\r\n                            + '<MouseButton>'\r\n                            + button + '</MouseButton></Call>'\r\n\r\n                        vsClient.command.executeXMLNoMirror(xml);\r\n                        return;\r\n                    }\r\n                    vsClient.drawRect(mouseX, mouseY);\r\n                    return;\r\n                }\r\n                break;\r\n            }\r\n            button = 'Left';\r\n            if (appStates.mouseLeftButtonDown &&\r\n                ((appStates.mouseLeftButtonMode === 'RectZoom' || appStates.mouseLeftButtonMode == 'RectSelect') && appStates.drawRect\r\n                    && appStates.interactionMode.indexOf('Flythrough') === -1))\r\n            {\r\n                vsClient.drawRect(mouseX, mouseY);\r\n                return;\r\n            }\r\n            break;\r\n        case 2:\r\n            if ((appStates.mouseMiddleButtonMode === 'RectZoom' || appStates.mouseMiddleButtonMode == 'RectSelect') && appStates.drawRect\r\n                && appStates.interactionMode.indexOf('Flythrough') === -1)\r\n            {\r\n                vsClient.drawRect(mouseX, mouseY);\r\n                return;\r\n            }\r\n            button = 'Middle';\r\n            break;\r\n        case 3:\r\n            if ((appStates.mouseRightButtonMode === 'RectZoom' || appStates.mouseRightButtonMode == 'RectSelect') && appStates.drawRect\r\n                && appStates.interactionMode.indexOf('Flythrough') === -1)\r\n            {\r\n                vsClient.drawRect(mouseX, mouseY);\r\n                return;\r\n            }\r\n            button = 'Right';\r\n            break;\r\n    }\r\n\r\n    var xml = '<Call Method=\"MouseMove\" Response=\"true\"><X>'\r\n        + mouseX + '</X><Y>'\r\n        + mouseY + '</Y><MouseButton>'\r\n        + button + '</MouseButton></Call>'\r\n\r\n    vsClient.command.executeXMLMouseMove(xml);\r\n}\r\n\r\nfunction mouseupHandler(ev)\r\n{\r\n    appStates.lastMouseY = ev.clientY;\r\n    appStates.lastMouseX = ev.clientX;\r\n    if (appStates.touchActive)\r\n    {\r\n        return;\r\n    }\r\n    let boundingRect = wvCanvas.getBoundingClientRect();\r\n    let offsetLeft = boundingRect.left;\r\n    let offsetTop = boundingRect.top;\r\n    var mouseX = ev.pageX - offsetLeft;\r\n    var mouseY = ev.pageY - offsetTop;\r\n\r\n    var button = 'None';\r\n    switch (ev.which) {\r\n        case 1:\r\n            $('#wv-dock').toggleClass('disable-selection');\r\n            button = 'Left';\r\n            appStates.mouseLeftButtonDown = false;\r\n            break;\r\n        case 2:\r\n            button = 'Middle';\r\n            break;\r\n        case 3:\r\n            button = 'Right';\r\n            break;\r\n    }\r\n\r\n    var mouseFlag = '';\r\n    if (ev.ctrlKey === true) {\r\n        mouseFlag = '<MouseFlag>Ctrl</MouseFlag>';\r\n    }\r\n\r\n    if (middleClick)\r\n    {\r\n        middleClick = false;\r\n        button = 'Middle';\r\n    }\r\n\r\n    var xml = '<Call Method=\"MouseUp\" Response=\"false\"><X>'\r\n        + mouseX + '</X><Y>'\r\n        + mouseY + '</Y>'\r\n        + mouseFlag\r\n        + '<MouseButton>' + button + '</MouseButton></Call>'\r\n\r\n    vsClient.command.executeXMLMouse(xml);\r\n\r\n    appStates.mouseActive = false;\r\n}\r\n\r\nfunction dblclickHandler(ev)\r\n{\r\n    ev.preventDefault()\r\n    ev.stopPropagation()\r\n\r\n    let boundingRect = wvCanvas.getBoundingClientRect()\r\n    let offsetLeft = boundingRect.left\r\n    let offsetTop = boundingRect.top\r\n    var mouseX = ev.pageX - offsetLeft\r\n    var mouseY = ev.pageY - offsetTop\r\n\r\n    var button = 'None'\r\n    if (ev.which === 1) button = 'Left'\r\n\r\n    dbClickMethod(mouseX, mouseY, button);\r\n}\r\n\r\nfunction dbClickMethod(x: number, y: number, button: string)\r\n{\r\n    if (dbHandledInTouch)\r\n    {\r\n        dbHandledInTouch = false;\r\n        return;\r\n    }\r\n\r\n    let xml = '<Event Type=\"NodePropertiesChanged\"></Event>';\r\n    vsClient.command.executeXML(xml);\r\n    vsClient.once('NodePropertiesChanged', res =>\r\n    {\r\n        if (res && res.General && res.General.Name === 'MarkupSet')\r\n        {\r\n            let xml = '<Call Method=\"Undo\"><Steps>1</Steps></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            vsClient.once('Undo', () =>\r\n            {\r\n                vsClient.once('NodePropertiesChanged', resp =>\r\n                {\r\n                    createMarkupOverlay(resp, x, y);\r\n                });\r\n            })\r\n        }\r\n        else if (res && res.General && res.General.Name === 'CreatedNotes')\r\n        {\r\n            let xml = '<Call Method=\"Undo\"><Steps>1</Steps></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            vsClient.once('Undo', () =>\r\n            {\r\n                if (res && res.General.Name === 'MarkupSet')\r\n                {\r\n                    let xml = '<Call Method=\"Undo\"><Steps>1</Steps></Call>';\r\n                    vsClient.command.executeXML(xml);\r\n                    vsClient.once('Undo', () =>\r\n                    {\r\n                        vsClient.once('NodePropertiesChanged', response =>\r\n                        {\r\n                            createMarkupOverlay(response, x, y);\r\n                        });\r\n                    })\r\n                }\r\n                else\r\n                {\r\n                    let dbClickXML = '<Call Method=\"MouseDoubleClick\" Response=\"false\"><X>'\r\n                        + x + '</X><Y>'\r\n                        + y + '</Y><MouseButton>'\r\n                        + button + '</MouseButton></Call>'\r\n                    vsClient.command.executeXMLMouse(dbClickXML);\r\n                }\r\n            })\r\n        }\r\n        else if (res && res.Markup)\r\n        {\r\n            createMarkupOverlay(res, x, y);\r\n        }\r\n        else\r\n        {\r\n            let dbClickXML = '<Call Method=\"MouseDoubleClick\" Response=\"false\"><X>'\r\n                + x + '</X><Y>'\r\n                + y + '</Y><MouseButton>'\r\n                + button + '</MouseButton></Call>'\r\n            vsClient.command.executeXMLMouse(dbClickXML);\r\n        }\r\n    })\r\n}\r\n\r\nfunction createMarkupOverlay(res: any, x: number, y: number)\r\n{\r\n    if (!res.Markup)\r\n    {\r\n        return;\r\n    }\r\n    appStates.preventGlobalKeyEvents = true;\r\n    let boundingRect = wvCanvas.getBoundingClientRect()\r\n    let offsetLeft = boundingRect.left\r\n    let offsetTop = boundingRect.top\r\n    let text: string;\r\n    //Minimize the markup to allow a smoother overlay\r\n    let xml = '<Event Type=\"NodePropertiesChanged\"><Markup><Text><Content>.</Content></Text></Markup></Event>';\r\n    vsClient.command.executeXML(xml);\r\n\r\n    let markupTextField = document.createElement('div');\r\n    markupTextField.contentEditable = 'true';\r\n    markupTextField.className = 'editable-markup-overlay';\r\n    x = Math.max(0, Math.min(x - 150, wvCanvas.clientWidth - 300));\r\n    y = Math.max(0, Math.min(y - 50, wvCanvas.clientHeight - 100));\r\n    markupTextField.style.top = (y + offsetTop) + 'px';\r\n    markupTextField.style.left = (x + offsetLeft) + 'px';\r\n    let initialText = res.Markup.Text.Content;\r\n    $(markupTextField).html(initialText);\r\n    document.body.appendChild(markupTextField);\r\n    markupTextField.focus();\r\n    window.getSelection().selectAllChildren(markupTextField);\r\n    markupTextField.addEventListener('keydown', (e) =>\r\n    {\r\n        if (e.keyCode === 27)\r\n        {\r\n            appStates.preventGlobalKeyEvents = false;\r\n            let xml = '<Event Type=\"NodePropertiesChanged\"><Markup><Text><Content>' + initialText + '</Content></Text></Markup></Event>';\r\n            vsClient.command.executeXML(xml);\r\n            $(markupTextField).off('blur');\r\n            $(markupTextField).remove();\r\n        }\r\n    });\r\n    $(markupTextField).on('blur', e =>\r\n    {\r\n        appStates.preventGlobalKeyEvents = false;\r\n        text = markupTextField.innerText ? markupTextField.innerText : '.';\r\n        let xml = '<Event Type=\"NodePropertiesChanged\"><Markup><Text><Content>' + text + '</Content></Text></Markup></Event>';\r\n        vsClient.command.executeXML(xml);\r\n        $(markupTextField).remove();\r\n    });\r\n}\r\n\r\nfunction wheelHandler(ev) {\r\n    ev.preventDefault()\r\n    ev = ev.originalEvent\r\n    let boundingRect = wvCanvas.getBoundingClientRect()\r\n    let offsetLeft = boundingRect.left\r\n    let offsetTop = boundingRect.top\r\n    var mouseX = ev.pageX - offsetLeft\r\n    var mouseY = ev.pageY - offsetTop\r\n\r\n    var deltaY = ev.deltaY\r\n\r\n    // firefox or not\r\n    var correctedDeltaY = navigator.userAgent.indexOf(\"Firefox\") != -1 ? deltaY * -0.1 : deltaY * -0.005\r\n\r\n    var xml = '<Call Method=\"MouseWheel\" Response=\"false\"><X>'\r\n        + mouseX + '</X><Y>' + mouseY + '</Y><Delta>'\r\n        + correctedDeltaY + ' </Delta></Call>'\r\n\r\n    vsClient.command.executeXMLMouse(xml);\r\n}\r\n\r\n/**    client callbacks */\r\n\r\n\r\nfunction applyCachedSettings(defaultSettings)\r\n{\r\n\r\n    try\r\n\t{\r\n        if (_UseCachedSettings)\r\n        {\r\n            let settingsObj = XMLParser.parseXML(localStorage.getItem('VSWVSettings'))\r\n            ui.settingsPane.updateSettings(settingsObj)\r\n            let settingsCall = '<Call Method=\"SetSettings\">' + localStorage.getItem('VSWVSettings') + '</Call>'\r\n            vsClient.command.executeXMLNoMirror(settingsCall)\r\n        }\r\n        else\r\n        {\r\n            ui.settingsPane.updateSettings(defaultSettings)\r\n        }\r\n    }\r\n    catch (e)\r\n    {\r\n        ui.settingsPane.updateSettings(defaultSettings)\r\n\t}\r\n}\r\n\r\nconst removeProp = (obj, prop) => {\r\n    Object.keys(obj).forEach(key =>\r\n      (key === prop) && delete obj[key] ||\r\n      (obj[key] && typeof obj[key] === 'object') && removeProp(obj[key],prop)\r\n    );\r\n    return obj;\r\n};\r\n\r\n\r\nfunction openFileHandler (response: any)\r\n{\r\n    if (response.FileName)\r\n    {\r\n        appStates.fileName = response.FileName;\r\n    }\r\n    if (!(response.Error == \"SUCCESS\"))\r\n    {\r\n        let errorMessage = response.Error == \"SUCCESS\";\r\n\r\n\t\talert(\"Error on loading file! \" + errorMessage)\r\n    }\r\n    else\r\n    {\r\n        let type = response.Type;\r\n        appStates.fileType = type;\r\n        if (type === '2D')\r\n        {\r\n            try\r\n            {\r\n                for (let i = 0; i < _2DReducedSet.length; i++)\r\n                {\r\n                    $('#' + _2DReducedSet[i]).hide();\r\n                }\r\n                for (let i = 0; i < _3DReducedSet.length; i++)\r\n                {\r\n                    $('#' + _3DReducedSet[i]).show();\r\n                }\r\n            }\r\n            catch(e){}\r\n        }\r\n        else\r\n        {\r\n            try\r\n            {\r\n                for (let i = 0; i < _2DReducedSet.length; i++)\r\n                {\r\n                    $('#' + _2DReducedSet[i]).show();\r\n                }\r\n                for (let i = 0; i < _3DReducedSet.length; i++)\r\n                {\r\n                    $('#' + _3DReducedSet[i]).hide();\r\n                }\r\n            }\r\n            catch(e){}\r\n        }\r\n        /** scene settings */\r\n        let GetSettings = `<Call Method=\"GetSceneSettings\"></Call>`\r\n        vsClient.command.executeXMLNoMirror(GetSettings)\r\n        // reset to default\r\n        appStates.fileLoaded = true\r\n        ui.vsRibbon.reset()\r\n\r\n        // tree view\r\n        let maxVisible = ui.modeltreePane.currentMaxVisible()\r\n        if (appStates.popoutPanes.indexOf('wv-modeltree') !== -1)\r\n        {\r\n            let height = appStates.popedOutWindows[appStates.popoutPanes.indexOf('wv-modeltree')].innerHeight - 30;\r\n            let lineHeight = ui.modeltreePane.lineHeight;\r\n            let popoutVisibleRows = Math.floor(height / lineHeight);\r\n            maxVisible = popoutVisibleRows;\r\n        }\r\n        const getTreeview = `<Call Method=\"VirtualTreeViewSetSize\"><Size>${maxVisible}</Size></Call>`\r\n        vsClient.command.executeXML(getTreeview)\r\n\r\n        /** configuration view */\r\n        const getConfigurationView = '<Call Method=\"GetConfigurationViewInformation\"><Image>true</Image></Call>'\r\n        vsClient.command.executeXML(getConfigurationView)\r\n\r\n        if(response.Type === '2D')\r\n        {\r\n            const pageCount = `<Call Method=\"GetPageCount\"></Call>`\r\n            vsClient.command.executeXML(pageCount)\r\n            vsClient.once('GetPageCount', res => {\r\n                if (res.Error !== 'SUCCESS') {\r\n                    appStates.pageCount = ''\r\n                } else {\r\n                    appStates.pageCount = res.Pages\r\n                    // find the page input\r\n                    let pageInput = ui.vsRibbon.classes['PageInput'][0] as w.Input\r\n                    let inputEl = pageInput.el as HTMLInputElement\r\n                    inputEl.value = `1 / ${res.Pages}`\r\n                }\r\n            })\r\n        }\r\n\r\n        // activate the mouse\r\n        $(wvCanvas).off('mousedown').on('mousedown', (e) =>\r\n        {\r\n            mousedownHandler(e)\r\n        })\r\n        $(wvCanvas).off('mousemove').on('mousemove', (e) =>\r\n        {\r\n            mousemoveHandler(e)\r\n        })\r\n        $(wvCanvas).off('mouseup').on('mouseup', (e) =>\r\n        {\r\n            mouseupHandler(e)\r\n        })\r\n        $(wvCanvas).off('dblclick').on('dblclick', (e) =>\r\n        {\r\n            dblclickHandler(e)\r\n        })\r\n        $(wvCanvas).off('wheel').on('wheel', (e) =>\r\n        {\r\n            wheelHandler(e)\r\n        })\r\n        $(wvCanvas).off('mouseleave').on('mouseleave', (e) =>\r\n        {\r\n            mouseupHandler(e)\r\n        })\r\n\r\n\r\n        wvCanvas.ontouchmove = stopDefaultMouseEventPropagation;\r\n        \r\n        if (!hasTouchHandlers)\r\n        {\r\n            hasTouchHandlers = true;\r\n            $(wvCanvas).kendoTouch({\r\n                doubleTapTimeout: 250,\r\n                multiTouch: true,\r\n                enableSwipe: false,\r\n                touchstart: function (e)\r\n                {\r\n                    if (appStates.mouseActive || (e.event.originalEvent['pointerType'] && e.event.originalEvent['pointerType'] !== 'touch'))\r\n                    {\r\n                        e.sender.cancel();\r\n                    }\r\n                    else\r\n                    {\r\n                        appStates.touchActive = true;\r\n                    }\r\n                },\r\n                gesturestart: function (e)\r\n                {\r\n                    appStates.touchGestureActive = true;\r\n                    HandleMouseForTouchGestureStart(e);\r\n                },\r\n                gesturechange: function (e)\r\n                {\r\n                    HandleMouseForTouchGesture(e);\r\n                },\r\n                gestureend: function (e)\r\n                {\r\n                    e.preventDefault();\r\n                    HandleMouseForTouchGestureEnd();\r\n                },\r\n                drag: function (e)\r\n                {\r\n                    if (holdActive)\r\n                    {\r\n                        TouchHoldMove(e);\r\n                        return;\r\n                    }\r\n                    HandleTouchDrag(e);\r\n                },\r\n                dragstart: function (e)\r\n                {\r\n                    if (holdActive)\r\n                    {\r\n                        TouchHoldMove(e);\r\n                        return;\r\n                    }\r\n\r\n                    HandleTouchDragStart(e);\r\n                },\r\n                dragend: function (e)\r\n                {\r\n                    if (holdActive)\r\n                    {\r\n                        e.sender.cancel();\r\n                        holdActive = false;\r\n                        var mouseX = TouchPosCorrectionX(e.touch.x.client);\r\n                        var mouseY = TouchPosCorrectionY(e.touch.y.client);\r\n\r\n                        var mouseFlag = '';\r\n\r\n                        if (e.event.altKey === true || e.event.ctrlKey === true)\r\n                        {\r\n                            mouseFlag = '<MouseFlag>Ctrl</MouseFlag>';\r\n                        }\r\n\r\n                        //mouse move before down to simulate hover\r\n                        var s = '<Call Method=\"MouseMove\" Response=\"true\"><X>' + mouseX + '</X><Y>' + mouseY + '</Y><MouseButton>None</MouseButton></Call>';\r\n                        s += '<Call Method=\"MouseUp\" Response=\"false\"><X>' + mouseX + '</X><Y>' + mouseY + '</Y>' + mouseFlag + '<MouseButton>Left</MouseButton></Call>';\r\n                        vsClient.command.executeXMLMouse(s);\r\n                        return;\r\n                    }\r\n                    HandleTouchDragEnd(e);\r\n                    appStates.touchActive = false;\r\n                    appStates.touchGestureActive = false;\r\n                },\r\n                hold: function (e)\r\n                {\r\n                    if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n                    {\r\n                        TouchHoldMove(e);\r\n                    }\r\n                },\r\n                doubletap: function (e)\r\n                {\r\n                    e.preventDefault();\r\n                    dbHandledInTouch = false;\r\n                    let boundingRect = wvCanvas.getBoundingClientRect();\r\n                    let offsetLeft = boundingRect.left;\r\n                    let offsetTop = boundingRect.top;\r\n                    var mouseX = e.touch.x.location - offsetLeft;\r\n                    var mouseY = e.touch.y.location - offsetTop;\r\n\r\n                    var button = 'None';\r\n                    if (e.event.which !== undefined && (e.event.which === 1 || e.event.which === 0))\r\n                    {\r\n                        button = 'Left';\r\n                    }\r\n                    dbClickMethod(mouseX, mouseY, button);\r\n                    dbHandledInTouch = true;\r\n                },\r\n                tap: function (e)\r\n                {\r\n                    if(hasClicked)\r\n                    {\r\n                        hasClicked = false;\r\n                        return;\r\n                    }\r\n                    else\r\n                    {\r\n                        let boundingRect = wvCanvas.getBoundingClientRect();\r\n                        let offsetLeft = boundingRect.left;\r\n                        let offsetTop = boundingRect.top;\r\n\r\n                        var mouseX = e.touch.x.location - offsetLeft;\r\n                        var mouseY = e.touch.y.location - offsetTop;\r\n\r\n                        var button = 'Left';\r\n                        $('#wv-dock').toggleClass('disable-selection');\r\n                        appStates.mouseLeftButtonDown = true;\r\n                        if (appStates.mouseLeftButtonMode === 'RectZoom' || appStates.mouseLeftButtonMode === 'RectSelect')\r\n                        {\r\n                            vsClient.startRect(mouseX, mouseY);\r\n                        }\r\n\r\n                        let xml = '<Call Method=\"MouseMove\" Response=\"true\"><X>';\r\n                        xml += mouseX;\r\n                        xml += '</X><Y>';\r\n                        xml += mouseY;\r\n                        xml += '</Y><MouseButton>None</MouseButton></Call>';;\r\n\r\n                        vsClient.command.executeXMLNoMirror(xml);\r\n\r\n                        xml = '<Call Method=\"MouseDown\"><X>';\r\n                        xml += mouseX + '</X><Y>';\r\n                        xml += mouseY + '</Y>';\r\n                        xml += '<MouseButton>';\r\n                        xml += button + '</MouseButton></Call>';\r\n\r\n                        vsClient.command.executeXMLNoMirror(xml);\r\n\r\n                        xml = '<Call Method=\"MouseUp\"><X>';\r\n                        xml += mouseX + '</X><Y>';\r\n                        xml += mouseY + '</Y>';\r\n                        xml += '<MouseButton>';\r\n                        xml += button + '</MouseButton></Call>';\r\n\r\n                        vsClient.command.executeXMLNoMirror(xml);\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        try\r\n        {\r\n            if (_ClosePanesOnOpenFile)\r\n            {\r\n                ui.resetPanes(false);\r\n                if (appStates.qsMode)\r\n                {\r\n                    let isOpen = appStates.panes.map(item => { return item.paneId === 'wv-command' && item.visible }).indexOf(true) !== -1;\r\n                    let isPopout = appStates.popoutPanes.indexOf('wv-command') !== -1;\r\n                    if (!isOpen && !isPopout)\r\n                    {\r\n                        ui.prependPane('wv-command');\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                ui.closePane('wv-neighbourhoodsearch');\r\n                ui.closePane('wv-split');\r\n            }\r\n        }\r\n        catch (e)\r\n        {\r\n            ui.closePane('wv-neighbourhoodsearch');\r\n            ui.closePane('wv-split');\r\n        }\r\n    }\r\n}\r\n//Workaround to enable tap/double tap and kendo touch events (kendo does not provide the 'touchMove' event)\r\nfunction stopDefaultMouseEventPropagation(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n}\r\n\r\nvsClient.on('GetSessions', res =>\r\n{\r\n    let disableSessionRestore;\r\n    try\r\n    {\r\n        disableSessionRestore = _DisableSessionRestore;\r\n    }\r\n    catch (e)\r\n    {\r\n        disableSessionRestore = false;\r\n    }\r\n    var queryString = window.location.search.substr(1);\r\n    var kvs = queryString.split('&');\r\n    var query = {};\r\n    for (let kv of kvs)\r\n    {\r\n        let [k, v] = kv.split('=');\r\n        query[k] = v;\r\n    }\r\n    if (typeof query['session'] !== 'undefined')\r\n    {\r\n        return;\r\n    }\r\n    if (res && res.Session && !Array.isArray(res.Session))\r\n    {\r\n        res.Session = [res.Session];\r\n    }\r\n    if (res.Session && res.Session.length > 0 && !disableSessionRestore)\r\n    {\r\n        ui.showSessionRestoreDialog(res.Session);\r\n    }\r\n    else\r\n    {\r\n        vsClient.connect();\r\n        if (appStates.backendToken)\r\n        {\r\n            vsClient.SessionToken( appStates.backendToken);\r\n        }\r\n    }\r\n});\r\n\r\nvsClient.on('ConnectionLost', () =>\r\n{\r\n    ui.blockUI('Connection lost.\\n Trying to reconnect..');\r\n});\r\n\r\nvsClient.on('ConnectionRestored', () =>\r\n{\r\n    try\r\n    {\r\n        $(\".ws_indicator\").css('fill', _AppRibbonHeaderTextColor);\r\n    }\r\n    catch (e)\r\n    {\r\n        $(\".ws_indicator\").css('fill', 'green');\r\n    }\r\n    ui.unblockUI();\r\n});\r\n\r\nvsClient.on('initialized', (response: any) =>\r\n{\r\n    try\r\n    {\r\n        $(\".ws_indicator\").css('fill', _AppRibbonHeaderTextColor);\r\n    }\r\n    catch (e)\r\n    {\r\n        $(\".ws_indicator\").css('fill', 'green');\r\n    }\r\n    appStates.clientInitialized = true;\r\n    var queryString = window.location.search.substr(1);\r\n    var kvs = queryString.split('&')\r\n    var query = {}\r\n    for (let kv of kvs)\r\n    {\r\n        let [k, v] = kv.split('=')\r\n        query[k] = v\r\n    }\r\n\r\n    vsClient.on('NewScene3D', function (response)\r\n    {\r\n\r\n        // const XML = '<Call Method=\"Resize\"><Width>' + vsClient.sessionInfo.canvasWidth + '</Width><Height>' + vsClient.sessionInfo.canvasHeight + '</Height></Call>'\r\n        // vsClient.command.executeXML(XML)\r\n\r\n        let events = '<Call Method=\"AddEventListener\">'\r\n        events += '<Event>ActivateInteraction</Event>'\r\n        events += '<Event>DeactivateInteraction</Event>'\r\n        events += '<Event>SelectionChanged</Event>'\r\n        events += '<Event>SelectionChangedCustomId</Event>'\r\n        events += '<Event>NodePropertiesChanged</Event></Call>'\r\n\r\n        vsClient.command.executeXMLNoMirror(events)\r\n\r\n        vsClient.AutoResize()\r\n\r\n        openFileHandler(response)\r\n    });\r\n\r\n\r\n    if (typeof query['session'] !== 'undefined')\r\n    {\r\n        vsClient.initOptions.sessionToConnect = query['session'];\r\n        connectedToSession = true;\r\n        //Handle UI parameter\r\n        if (typeof query['filetype'] !== 'undefined')\r\n        {\r\n            urlFileType = query['filetype'];\r\n        }\r\n        if (typeof query['filename'] !== 'undefined')\r\n        {\r\n            urlFileName = query['filename'];\r\n        }\r\n        vsClient.connect();\r\n    }\r\n    if (typeof query['token'] !== 'undefined')\r\n    {\r\n        appStates.backendToken = decodeURIComponent(query['token']);\r\n        ui.vsRibbon.disableFileList();\r\n        if (!client)\r\n        {\r\n            vsClient.SessionToken( appStates.backendToken);\r\n        }\r\n        else\r\n        {\r\n            vsClient.sessionInfo.token = appStates.backendToken;\r\n        }\r\n        vsClient.on('OpenFile', function (response)\r\n        {\r\n            handleVisShareOpen(response);\r\n            let events = '<Call Method=\"AddEventListener\">'\r\n            events += '<Event>ActivateInteraction</Event>'\r\n            events += '<Event>DeactivateInteraction</Event>'\r\n            events += '<Event>SelectionChanged</Event>'\r\n            events += '<Event>SelectionChangedCustomId</Event>'\r\n            events += '<Event>NodePropertiesChanged</Event></Call>'\r\n\r\n            vsClient.command.executeXMLNoMirror(events)\r\n\r\n            vsClient.AutoResize()\r\n\r\n            openFileHandler(response)\r\n        });\r\n        vsClient.on('SessionInitialized', (res) =>\r\n        {\r\n            setSessionInfo(res);\r\n            prepareApp(true);\r\n        });\r\n    }\r\n    else\r\n    {\r\n        ui.vsRibbon.deleteShareRibbon();\r\n        vsClient.on('SessionInitialized', (res) =>\r\n        {\r\n            setSessionInfo(res);\r\n            prepareApp(false);\r\n        });\r\n    }\r\n    window.addEventListener('storage', e =>\r\n    {\r\n        if (e.key === 'WVCommand' + appStates.sessionUID)\r\n        {\r\n            if (e.newValue.indexOf('ComputeSplitForPopout') !== -1)\r\n            {\r\n                vsClient.once('Compute', res =>\r\n                {\r\n                    localStorage.setItem('WVSplitGroupAdded' + appStates.sessionUID, JSON.stringify(res));\r\n                });\r\n            }\r\n            else if (e.newValue.indexOf('ComputeBOMForPopout') !== -1)\r\n            {\r\n                vsClient.once('Compute', res =>\r\n                {\r\n                    localStorage.setItem('WVBOMComputed' + appStates.sessionUID, JSON.stringify(res));\r\n                });\r\n            }\r\n            else if (e.newValue.indexOf('ComputeClashForPopout') !== -1)\r\n            {\r\n                vsClient.once('Compute', res =>\r\n                {\r\n                    localStorage.setItem('WVClashComputed' + appStates.sessionUID, JSON.stringify(res));\r\n                });\r\n            }\r\n            else if (e.newValue.indexOf('CustomId=\"WVViewPDF\"') !== -1)\r\n            {\r\n                ui.blockUI();\r\n            }\r\n            else if (e.newValue.indexOf('GetBOMAttributeCols'))\r\n            {\r\n                vsClient.once('GetBillOfMaterialNodePropertyNames', props =>\r\n                {\r\n                    vsClient.command.executeXML('<Call Method=\"GetBillOfMaterialAttributeNames\"></Call>');\r\n                    vsClient.once('GetBillOfMaterialAttributeNames', attr =>\r\n                    {\r\n                        let values = { props: props, attr: attr };\r\n                        localStorage.setItem('WVBOMColls' + appStates.sessionUID, JSON.stringify(values));\r\n                    });\r\n                });\r\n            }\r\n            vsClient.command.executeXML(e.newValue);\r\n            localStorage.removeItem(e.key);\r\n        }\r\n        else\r\n        {\r\n            switch (e.key)\r\n            {\r\n                case 'WVActivateView' + appStates.sessionUID:\r\n                    let activationObj = JSON.parse(e.newValue);\r\n                    vsClient.setConfigurationViewPosition(activationObj.pos, activationObj.withCamera, activationObj.withState);\r\n                    localStorage.removeItem(e.key);\r\n                    break;\r\n                case 'WVViewsData' + appStates.sessionUID:\r\n                    let views = JSON.parse(e.newValue) as ConfigurationViewsData[];\r\n                    vsClient.setConfigurationViews(views);\r\n                    localStorage.removeItem(e.key);\r\n                    break;\r\n            }\r\n        }\r\n\r\n    }, false);\r\n\r\n\r\n    window.onunload = e =>\r\n    {\r\n        localStorage.removeItem('WVCommand' + appStates.sessionUID);\r\n        let eventLength = events.length;\r\n        for (let e = 0; e < eventLength; e++)\r\n        {\r\n            localStorage.removeItem('WV' + events[e] + appStates.sessionUID);\r\n        }\r\n        localStorage.removeItem('WVNodePropertiesChanged' + appStates.sessionUID);\r\n        let length = appStates.popedOutWindows.length;\r\n        for (let i = 0; i < length; i++)\r\n        {\r\n            appStates.popedOutWindows[i].close();\r\n        }\r\n        localStorage.removeItem('WVSettingsChange' + appStates.sessionUID);\r\n        localStorage.removeItem('WVTreeViewUpdated' + appStates.sessionUID);\r\n        localStorage.removeItem('WVSceneSettingsChange' + appStates.sessionUID);\r\n        localStorage.removeItem('WVCommand' + appStates.sessionUID);\r\n        localStorage.removeItem('WVSelectedNodeColor' + appStates.sessionUID);\r\n        localStorage.removeItem('WVSplitGroupAdded' + appStates.sessionUID);\r\n    }\r\n});\r\n\r\nfunction setSessionInfo (res)\r\n{\r\n    let session = res.Session;\r\n    let client = res.Client;\r\n    isNewSession = res.NewSession;\r\n    if (client)\r\n    {\r\n        localStorage.setItem('WVClient', client);\r\n        vsClient.initOptions['client'] = client;\r\n    }\r\n    if (session)\r\n    {\r\n        //Retry failed due to timeout or invalid session id\r\n        if (appStates.session && isNewSession)\r\n        {\r\n            let sessionError = {\r\n                ErrorCode: 0,\r\n                ErrorInfo: 'SessionInvalid',\r\n                Identifier: 'SessionInvalid',\r\n                Message: 'Invalid session.',\r\n                Type: ['Event', 'Error']\r\n            };\r\n            vsClient.emit('ShowMessageBox', sessionError);\r\n            vsClient.vsCanvas.setDefaultImage();\r\n        }\r\n        appStates.session = session;\r\n    }\r\n}\r\n\r\nfunction handleVisShareOpen (response)\r\n{\r\n    if (response.CustomId && response.CustomId.indexOf('VSOpen') !== -1)\r\n    {\r\n        appStates.VisShareSpec = response.CustomId;\r\n        if (response.CustomId.indexOf('VSName') !== -1)\r\n        {\r\n            document.title = response.CustomId.split('VSName')[1];;\r\n        }\r\n        let accessRights = response.CustomId.split('VSOpen')[1].split('_')[0];\r\n        if (accessRights === 'Write')\r\n        {\r\n            $('#ID_RIBBON_VISSHARE_SAVE').hide();\r\n        }\r\n        else if (accessRights === 'None')\r\n        {\r\n            ui.vsRibbon.deleteShareRibbon();\r\n        }\r\n    }\r\n    else\r\n    {\r\n        ui.vsRibbon.deleteShareRibbon();\r\n    }\r\n}\r\n\r\nfunction mapLanguage (browserLang: string)\r\n{\r\n    let country = browserLang.split('-')[0].toLowerCase();\r\n    switch (country)\r\n    {\r\n        case 'en':\r\n            return 'ENU';\r\n        case 'de':\r\n            return 'DEU';\r\n        case 'it':\r\n            return 'ITA';\r\n        case 'es':\r\n            return 'ESP';\r\n        case 'fr':\r\n            return 'FRA';\r\n        case 'ko':\r\n            return 'KOR';\r\n        case 'zh':\r\n            return 'CHS';\r\n        case 'ja':\r\n            return 'JPN';\r\n        default:\r\n            return 'ENU';\r\n    }\r\n}\r\n\r\nfunction prepareApp(isBackendMode)\r\n{\r\n    if (clientInitialized)\r\n    {\r\n        return;\r\n    }\r\n    clientInitialized = true;\r\n    //Compute language\r\n    let lang = localStorage.getItem('WVLang');\r\n    if (!lang)\r\n    {\r\n        lang = mapLanguage(navigator.language);\r\n        vsClient.emit('@changeLang', lang);\r\n    }\r\n    $('#wv-ribbon-language').val(lang).change();\r\n    vsClient.setMaxListeners(30);\r\n    let GetSettingsTemplate = `<Call Method=\"GetTemplate\"><Type>SettingsPane</Type></Call>`;\r\n    vsClient.command.executeXMLNoMirror(GetSettingsTemplate);\r\n\r\n    vsClient.once('GetTemplate.SettingsPane', (response: any) => {\r\n        const template = response['Source']['Template'];\r\n        ui.settingsPane.fromTemplate(template);\r\n        let GetSettings = `<Call Method=\"GetSettings\"></Call>`;\r\n        vsClient.command.executeXMLNoMirror(GetSettings);\r\n        vsClient.once('GetSettings', (response, xml) =>\r\n        {\r\n            //First GetSettings call to initialize app\r\n            let cachedSettings = localStorage.getItem('VSWVSettings');\r\n            response = removeProp(response, '__text__');\r\n            response = removeProp(response, '__ordinal__');\r\n            delete response.Settings.Renderer.General.Language;\r\n            let version;\r\n            if (response.Settings.Version)\r\n            {\r\n                if (Array.isArray(response.Settings.Version))\r\n                {\r\n                    version = response.Settings.Version[0];\r\n                }\r\n                else\r\n                {\r\n                    version = response.Settings.Version;\r\n                }\r\n            }\r\n            delete response.Settings.Version;\r\n            let call = js2xmlparser.parse('Settings', response.Settings).replace(\"<?xml version='1.0'?>\", \"\");\r\n            call = call.replace('<Settings>', '<Settings Version=\"' + version + '\">');\r\n            localStorage.setItem('VSWVDefaultSettings', call);\r\n            if (cachedSettings === null)\r\n            {\r\n                localStorage.setItem('VSWVSettings', call);\r\n                ui.settingsPane.updateSettings(response);\r\n                getTemplates(isBackendMode);\r\n            }\r\n            else\r\n            {\r\n                applyCachedSettings(response);\r\n                getTemplates(isBackendMode);\r\n            }\r\n            localStorage.setItem('WVSettingsChange' + appStates.sessionUID, JSON.stringify(response));\r\n            vsClient.on('GetSettings', (response, xml) =>\r\n            {\r\n                response = removeProp(response, '__text__');\r\n                response = removeProp(response, '__ordinal__');\r\n                let version;\r\n                if (response.Settings.Version)\r\n                {\r\n                    if (Array.isArray(response.Settings.Version))\r\n                    {\r\n                        version = response.Settings.Version[0];\r\n                    }\r\n                    else\r\n                    {\r\n                        version = response.Settings.Version;\r\n                    }\r\n                }\r\n                delete response.Settings.Version;\r\n                let call = js2xmlparser.parse('Settings', response.Settings).replace(\"<?xml version='1.0'?>\", \"\");\r\n                call = call.replace('<Settings>', '<Settings Version=\"' + version + '\">');\r\n                ui.settingsPane.updateSettings(response);\r\n                delete response.Settings.Renderer.General.Language;\r\n                localStorage.setItem('VSWVSettings', call);\r\n                localStorage.setItem('WVSettingsChange' + appStates.sessionUID, JSON.stringify(response));\r\n            })\r\n        })\r\n\r\n        vsClient.on('SetSceneSettings', () =>\r\n        {\r\n            let GetSettings = `<Call Method=\"GetSceneSettings\"></Call>`;\r\n            vsClient.command.executeXMLNoMirror(GetSettings);\r\n        })\r\n        vsClient.on('SetSettings', () =>\r\n        {\r\n            let GetSettings = `<Call Method=\"GetSettings\"></Call>`;\r\n            vsClient.command.executeXMLNoMirror(GetSettings);\r\n        })\r\n\r\n    })\r\n\r\n    vsClient.on('GetSceneSettings', GetSceneSettingsCallback);\r\n\r\n    // Events registered on Open and NewScene\r\n    // <Event>NodePropertiesChanged</Event>\r\n    // <Event>SelectionChanged</Event>\r\n    // <Event>SelectionChangedCustomId</Event>\r\n\r\n    let registerEvents = ' <Call Method=\"AddEventListener\">';\r\n    let eventLength = events.length;\r\n    for (let e = 0; e < eventLength; e++)\r\n    {\r\n        registerEvents += '<Event>' + events[e] + '</Event>';\r\n        vsClient.on(events[e], registerEventHandlerForPopout)\r\n    }\r\n    registerEvents += '</Call>';\r\n\r\n    vsClient.command.executeXMLNoMirror(registerEvents);\r\n\r\n    //Get version\r\n    let xml = '<Call Method=\"GetVersionInfo\"></Call>';\r\n    vsClient.command.executeXMLAsync(xml);\r\n    vsClient.once(\"GetVersionInfo\", response =>\r\n    {\r\n        let versionArr = response.Version.split('.');\r\n        versionArr.pop();\r\n        appStates.version = versionArr.join('.');\r\n    });\r\n}\r\n\r\nfunction registerEventHandlerForPopout(res)\r\n{\r\n    if (Array.isArray(res.Type))\r\n    {\r\n        return;\r\n    }\r\n    localStorage.setItem('WV' + res.Type + appStates.sessionUID, JSON.stringify(res));\r\n}\r\n\r\nfunction getTemplates(isBackendMode)\r\n{\r\n    let GetScenePropertiesTsemplate = `<Call Method=\"GetTemplate\"><Type>PropertiesPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetScenePropertiesTsemplate)\r\n    vsClient.once('GetTemplate.PropertiesPane', (response: any) =>\r\n    {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.propertiesPane.fromTemplate(template)\r\n\t})\r\n\r\n    let GetMeasurementPane = `<Call Method=\"GetTemplate\"><Type>MeasurementPane</Type></Call>`\r\n    vsClient.command.executeXMLNoMirror(GetMeasurementPane)\r\n    vsClient.once('GetTemplate.MeasurementPane', (response: any) =>\r\n    {\r\n        const template = response['Source']['Template']\r\n        ui.measurementPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetDraftAnglePane = `<Call Method=\"GetTemplate\"><Type>DraftAnglePane</Type></Call>`\r\n    vsClient.command.executeXMLNoMirror(GetDraftAnglePane)\r\n    vsClient.once('GetTemplate.DraftAnglePane', (response: any) =>\r\n    {\r\n        const template = response['Source']['Template']\r\n        ui.draftAnglePane.fromTemplate(template)\r\n    })\r\n\r\n\tlet GetTransformPane = `<Call Method=\"GetTemplate\"><Type>TransformPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetTransformPane)\r\n\tvsClient.once('GetTemplate.TransformPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.transformPane.fromTemplate(template)\r\n\r\n    })\r\n    \r\n    let GetMarkupPaneReduced = `<Call Method=\"GetTemplate\"><Type>MarkupPane_Reduced</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetMarkupPaneReduced)\r\n\tvsClient.once('GetTemplate.MarkupPane_Reduced', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.markupPane_Reduced.fromTemplate(template)\r\n    })\r\n\r\n    let GetMarkupPane = `<Call Method=\"GetTemplate\"><Type>MarkupPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetMarkupPane)\r\n\tvsClient.once('GetTemplate.MarkupPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.markupPane.fromTemplate(template)\r\n    })\r\n    \r\n    let GetSectionPane = `<Call Method=\"GetTemplate\"><Type>SectionPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetSectionPane)\r\n\tvsClient.once('GetTemplate.SectionPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.sectionPane.fromTemplate(template)\r\n    })\r\n    \r\n    let GetQuickComparePane = `<Call Method=\"GetTemplate\"><Type>QuickComparePane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetQuickComparePane)\r\n\tvsClient.once('GetTemplate.QuickComparePane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.quickComparePane.fromTemplate(template)\r\n    })\r\n\r\n    let GetProjectedAreaPane = `<Call Method=\"GetTemplate\"><Type>ProjectedAreaPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetProjectedAreaPane)\r\n\tvsClient.once('GetTemplate.ProjectedAreaPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.projectedAreaPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetExactComparePane = `<Call Method=\"GetTemplate\"><Type>ExactComparePane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetExactComparePane)\r\n\tvsClient.once('GetTemplate.ExactComparePane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.exactComparePane.fromTemplate(template)\r\n    })\r\n\r\n    let GetMirrorPane = `<Call Method=\"GetTemplate\"><Type>MirrorPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetMirrorPane)\r\n\tvsClient.once('GetTemplate.MirrorPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.mirrorPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetFilterPane = `<Call Method=\"GetTemplate\"><Type>FilterPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetFilterPane)\r\n\tvsClient.once('GetTemplate.FilterPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.filterPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetFlyThroughPane = `<Call Method=\"GetTemplate\"><Type>FlyThroughPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetFlyThroughPane)\r\n\tvsClient.once('GetTemplate.FlyThroughPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.flyThroughPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetDistortionPane = `<Call Method=\"GetTemplate\"><Type>DistortionPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetDistortionPane)\r\n\tvsClient.once('GetTemplate.DistortionPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.distortionPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetVisibilityTestPane = `<Call Method=\"GetTemplate\"><Type>VisibilityTestPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetVisibilityTestPane)\r\n\tvsClient.once('GetTemplate.VisibilityTestPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.visibilityTestPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetWallthicknessPane = `<Call Method=\"GetTemplate\"><Type>WallThicknessPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetWallthicknessPane)\r\n\tvsClient.once('GetTemplate.WallThicknessPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.wallthicknessPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetDrillholePane = `<Call Method=\"GetTemplate\"><Type>DrillholePane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetDrillholePane)\r\n\tvsClient.once('GetTemplate.DrillholePane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.drillholePane.fromTemplate(template)\r\n    })\r\n\r\n    let GetNeutralAxisPane = `<Call Method=\"GetTemplate\"><Type>NeutralAxisPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetNeutralAxisPane)\r\n\tvsClient.once('GetTemplate.NeutralAxisPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.neutralAxisPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetNeighbourhoodSearchPane = `<Call Method=\"GetTemplate\"><Type>NeighbourhoodSearchPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetNeighbourhoodSearchPane)\r\n\tvsClient.once('GetTemplate.NeighbourhoodSearchPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.neighbourhoodSearchPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetBOMPane = `<Call Method=\"GetTemplate\"><Type>BOMPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetBOMPane)\r\n\tvsClient.once('GetTemplate.BOMPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.bomPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetClashPane = `<Call Method=\"GetTemplate\"><Type>ClashPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetClashPane)\r\n\tvsClient.once('GetTemplate.ClashPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.clashPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetCalloutPane = `<Call Method=\"GetTemplate\"><Type>CalloutPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetCalloutPane)\r\n\tvsClient.once('GetTemplate.CalloutPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.calloutPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetSplitPane = `<Call Method=\"GetTemplate\"><Type>SplitPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetSplitPane)\r\n\tvsClient.once('GetTemplate.SplitPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.splitPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetExplodePane = `<Call Method=\"GetTemplate\"><Type>ExplodePane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetExplodePane)\r\n\tvsClient.once('GetTemplate.ExplodePane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.explodePane.fromTemplate(template)\r\n    })\r\n\r\n    let GetAnimationPane = `<Call Method=\"GetTemplate\"><Type>AnimationPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetAnimationPane)\r\n\tvsClient.once('GetTemplate.AnimationPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.animationPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetGeomertyToolsPane = `<Call Method=\"GetTemplate\"><Type>GeometryToolsPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetGeomertyToolsPane)\r\n\tvsClient.once('GetTemplate.GeometryToolsPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n\t\tui.geometryToolsPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetBandAnalysisPane = `<Call Method=\"GetTemplate\"><Type>BandAnalysisPane</Type></Call>`\r\n    vsClient.command.executeXMLNoMirror(GetBandAnalysisPane)\r\n    vsClient.once('GetTemplate.BandAnalysisPane', (response: any) =>\r\n    {\r\n        const template = response['Source']['Template']\r\n        ui.bandAnalysisPane.fromTemplate(template)\r\n    })\r\n\r\n    let GetTextSearchPane = `<Call Method=\"GetTemplate\"><Type>TextSearchPane</Type></Call>`\r\n\tvsClient.command.executeXMLNoMirror(GetTextSearchPane)\r\n\tvsClient.once('GetTemplate.TextSearchPane', (response: any) => {\r\n\t\tconst template = response['Source']['Template']\r\n        ui.textSearchPane.fromTemplate(template)\r\n        \r\n        //new trigger session ready after clients UI API communication done\r\n        //after last template received\r\n        const SendSessionReady = `\r\n        <Call Method=\"SendSessionReady\">\r\n        </Call>\r\n        `\r\n        vsClient.command.executeXML(SendSessionReady);\r\n        vsClient.emit('@logMousemove', (localStorage.getItem('WVLogMouseMove') !== 'false'));\r\n\r\n        if (isBackendMode === false)\r\n        {\r\n            vsClient.on('OpenFile', openFileHandler)\r\n\r\n            if (window.location.search.length > 0)\r\n            {\r\n                interceptQueryString(false)\r\n            }\r\n        }\r\n        else\r\n        {\r\n            interceptQueryString(true);\r\n        }\r\n        if (connectedToSession)\r\n        {\r\n            let type: string;\r\n            if (urlFileType)\r\n            {\r\n                type = urlFileType\r\n            }\r\n            else\r\n            {\r\n                type = localStorage.getItem('WVFileType') ? localStorage.getItem('WVFileType') : '3D';\r\n                localStorage.removeItem('WVFileType');\r\n            }\r\n            appStates.fileType = type;\r\n            let fileName;\r\n            if (urlFileName)\r\n            {\r\n                fileName = urlFileName;\r\n            }\r\n            else\r\n            {\r\n                fileName = localStorage.getItem('WVFileName') ? localStorage.getItem('WVFileName') : '';\r\n                localStorage.removeItem('WVFileName');\r\n            }\r\n            let visShareSpec = localStorage.getItem('WVVisShareSpec') ? localStorage.getItem('WVVisShareSpec') : '';\r\n            localStorage.removeItem('WVVisShareSpec');\r\n            vsClient.emit('OpenFile', { Error: 'SUCCESS', Type: type, CustomId: visShareSpec, FileName: fileName });\r\n        }\r\n        stopLogging = false;\r\n        console.log(\"WV Client send SessionReady\")\r\n    })\r\n\r\n}\r\n\r\nvsClient.on('AsyncEventBegin', res =>\r\n{\r\n    ui.progressContainer.start();\r\n    if (res.BlockingOperation === \"1\")\r\n    {\r\n        ui.progressContainer.addBar(res.Id, res.Indeterminate === \"1\", res.Description, true);\r\n    }\r\n    else\r\n    {\r\n        ui.progressContainer.addBar(res.Id, res.Indeterminate === \"1\", res.Description);\r\n    }\r\n});\r\n\r\nvsClient.on('AsyncEventProgress', res =>\r\n{\r\n    ui.progressContainer.stepBarById(res.Id, res.Progress);\r\n});\r\n\r\nvsClient.on('AsyncEventEnd', res =>\r\n{\r\n    ui.progressContainer.stopBarById(res.Id);\r\n});\r\n\r\nvsClient.on('ClashResultUpdated', (res) =>\r\n{\r\n    let isOpen = appStates.panes.map(item => { return item.paneId === 'wv-clash' && item.visible }).indexOf(true) !== -1;\r\n    let isPopout = appStates.popoutPanes.indexOf('wv-clash') !== -1;\r\n    if (!isOpen && !isPopout)\r\n    {\r\n        ui.prependPane('wv-clash');\r\n    }\r\n});\r\n\r\nvsClient.on('SplitResultUpdated', (res, xml) =>\r\n{\r\n    let isOpen = appStates.panes.map(item => { return item.paneId === 'wv-split' && item.visible }).indexOf(true) !== -1;\r\n    let isPopout = appStates.popoutPanes.indexOf('wv-split') !== -1;\r\n    if (!isOpen && !isPopout)\r\n    {\r\n        ui.prependPane('wv-split');\r\n    }\r\n    ui.splitPane.clearGroupTable();\r\n    ui.splitPane.sessions = [];\r\n    if (!Array.isArray(res.Data))\r\n    {\r\n        res.Data = [res.Data];\r\n    }\r\n    let splitSession = res.SplitGeneralData;\r\n    if (!Array.isArray(res.Data[0].SplitDirectionId))\r\n    {\r\n        res.Data[0].SplitDirectionId = [res.Data[0].SplitDirectionId];\r\n    }\r\n    if (isPopout)\r\n    {\r\n        localStorage.setItem('WVClearSplit' + appStates.sessionUID, '');\r\n    }\r\n    for (let i = 0; i < res.Data[0].SplitDirectionId.length; i++)\r\n    {\r\n        let item = res.Data[0].SplitDirectionId[i];\r\n        let fullSession = { ...splitSession, ...item };\r\n        fullSession.SplitDirectionId = item.Id;\r\n        fullSession.Error = 'SUCCESS';\r\n        if (!isPopout)\r\n        {\r\n            ui.splitPane.appendSplitSession(fullSession);\r\n        }\r\n        else\r\n        {\r\n            localStorage.setItem('WVSplitGroupAdded' + appStates.sessionUID, JSON.stringify(fullSession));\r\n        }\r\n    }\r\n})\r\n\r\nvsClient.on('UpdateScene', function (response)\r\n{\r\n    handleVisShareOpen(response);\r\n    // tree view\r\n    let maxVisible = ui.modeltreePane.currentMaxVisible()\r\n    if (appStates.popoutPanes.indexOf('wv-modeltree') !== -1)\r\n    {\r\n        let height = appStates.popedOutWindows[appStates.popoutPanes.indexOf('wv-modeltree')].innerHeight - 30;\r\n        let lineHeight = ui.modeltreePane.lineHeight;\r\n        let popoutVisibleRows = Math.floor(height / lineHeight);\r\n        maxVisible = popoutVisibleRows;\r\n    }\r\n    const getTreeview = `<Call Method=\"VirtualTreeViewSetSize\"><Size>${maxVisible}</Size></Call>`\r\n    vsClient.command.executeXML(getTreeview)\r\n});\r\n\r\n\r\nvsClient.on('TreeviewUpdated', (treeviewInfo: pa.TreeviewInfo) =>\r\n{\r\n    if (appStates.popoutPanes.length > 0 && appStates.popoutPanes.indexOf('wv-modeltree') !== -1)\r\n    {\r\n        localStorage.setItem('WVTreeViewUpdated' + appStates.sessionUID, JSON.stringify(treeviewInfo));\r\n    }\r\n    else\r\n    {\r\n        ui.modeltreePane.update(treeviewInfo);\r\n    }\r\n});\r\n\r\nvsClient.on('GetConfigurationViewInformation', (response) =>\r\n{\r\n    if (appStates.popoutPanes.length > 0 && appStates.popoutPanes.indexOf('wv-views') !== -1 && response.ConfigurationView)\r\n    {\r\n        let configurationViewsJson = Array.isArray(response.ConfigurationView) ? response.ConfigurationView : [response.ConfigurationView];\r\n        localStorage.setItem('WVConfigurationViewInformation' + appStates.sessionUID, JSON.stringify(configurationViewsJson));\r\n    }\r\n    else\r\n    {\r\n        ui.viewPane.clearViews();\r\n        if (!response.ConfigurationView)\r\n        {\r\n            return;\r\n        }\r\n        let configurationViewsJson = Array.isArray(response.ConfigurationView) ? response.ConfigurationView : [response.ConfigurationView];\r\n        ui.viewPane.update(configurationViewsJson);\r\n    }\r\n});\r\n\r\nvsClient.on('GetViewsAsPDF' , res =>\r\n{\r\n    if (res.CustomId && res.CustomId.indexOf('WVViewPDF') !== -1)\r\n    {\r\n        let name = appStates.fileName ? 'ViewExport_' + appStates.fileName + '.pdf' : 'ViewExport.pdf';\r\n        ui.unblockUI();\r\n        let byteCharacters = atob(res.Image);\r\n        let byteNumbers = new Array(byteCharacters.length);\r\n        for (let i = 0; i < byteCharacters.length; i++)\r\n        {\r\n            byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n        }\r\n        let byteArray = new Uint8Array(byteNumbers);\r\n        let blob = new Blob([byteArray], {\r\n            type: 'application/pdf'\r\n        });\r\n        //IE and edge\r\n        if (window.navigator && window.navigator.msSaveOrOpenBlob)\r\n        {\r\n            window.navigator.msSaveOrOpenBlob(blob, name);\r\n        }\r\n        else\r\n        {\r\n            const link = document.createElement('a');\r\n            // create a blobURI pointing to our Blob\r\n            link.href = URL.createObjectURL(blob);\r\n            link.download = name;\r\n            // some browser needs the anchor to be in the doc\r\n            document.body.appendChild(link);\r\n            link.click();\r\n            link.remove();\r\n        }\r\n    }\r\n});\r\n\r\nvsClient.on('PresetChanged', res =>\r\n{\r\n    if (res.Type.indexOf('WallthicknessHeatmap') !== -1)\r\n    {\r\n        $('#UID_PRESETS').val(res.Name === \"\" ? 'USERDEF' : res.Name);\r\n    }\r\n});\r\n\r\n// REMIND: fire \"SelectionChanged\" when hide/ ghost \r\nvsClient.on('SelectionChanged', (response: any) =>\r\n{\r\n    let nodeId = response.NodeId\r\n    if (typeof nodeId !== 'undefined')\r\n    {\r\n        appStates.nodesSelected = true;\r\n    }\r\n    else\r\n    {\r\n        ui.propertiesPane.showSceneProperties();\r\n        appStates.nodesSelected = false;\r\n    }\r\n    let bomOpen = appStates.panes.some(pane =>\r\n    {\r\n        return (pane.paneId === 'wv-bom' && pane.visible === true);\r\n    });\r\n    if (bomOpen)\r\n    {\r\n        ui.bomPane.selectCallouts();\r\n    }\r\n    if (appStates.popoutPanes.indexOf('wv-bom') !== -1)\r\n    {\r\n        let xml = '<Call Method=\"GetSelectedBillOfMaterialRows\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        vsClient.once('GetSelectedBillOfMaterialRows', res =>\r\n        {\r\n            if (res.RowId)\r\n            {\r\n                let rows = Array.isArray(res.RowId) ? res.RowId : [res.RowId];\r\n                localStorage.setItem('WVCalloutSelected' + appStates.sessionUID, JSON.stringify(rows));\r\n            }\r\n            else\r\n            {\r\n                localStorage.setItem('WVCalloutSelected' + appStates.sessionUID, JSON.stringify([]));\r\n            }\r\n        });\r\n    }\r\n    if (appStates.popoutPanes.indexOf('wv-explode') !== -1)\r\n    {\r\n        let xml = '<Call Method=\"GetSelectionExplosionValue\"></Call>';\r\n        xml += '<Call Method=\"GetSelectionNodeLevel\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        vsClient.once('GetSelectionNodeLevel', res =>\r\n        {\r\n            localStorage.setItem('WVNodeLevel' + appStates.sessionUID, JSON.stringify(res));\r\n        });\r\n        vsClient.once('GetSelectionExplosionValue', res =>\r\n        {\r\n            localStorage.setItem('WVExplosionLevel' + appStates.sessionUID, JSON.stringify(res));\r\n        });\r\n    }\r\n    if (appStates.popoutPanes.indexOf('wv-modeltree') !== -1)\r\n    {\r\n        localStorage.setItem('WVSelectedNodes' + appStates.sessionUID, JSON.stringify(response));\r\n    }\r\n});\r\n\r\nvsClient.on('NodePropertiesChanged', function (ev)\r\n{\r\n    if (appStates.selectionMode === 'Attributes')\r\n    {\r\n        let attributes = ev.Attributes;\r\n        if (attributes)\r\n        {\r\n            let wrapper = document.createElement('div');\r\n            wrapper.className = 'floating-attribute-wrapper';\r\n            wrapper.id = 'floating-attribute-wrapper';\r\n            wrapper.style.left = (appStates.lastMouseX + 10) + 'px';\r\n            wrapper.style.top = (appStates.lastMouseY + 10) + 'px';\r\n            document.body.appendChild(wrapper);\r\n            for (let i = 0; i < attributes.Attribute.length; i++)\r\n            {\r\n                let attribute = attributes.Attribute[i];\r\n                let attrItem = document.createElement('div');\r\n                attrItem.className = 'floating-attribute-item';\r\n                attrItem.textContent = attribute.Key + ': ' + attribute.Value;\r\n                wrapper.appendChild(attrItem);\r\n            }\r\n        }\r\n    }\r\n    //If node type is Markup_Text disable the zoom/select rectangle\r\n    appStates.drawRect = (!ev.General || ev.General.Type !== 'Markup_Text');\r\n    if(ev.General)\r\n    {\r\n        ui.propertiesPane.updateNodeProperties(ev)\r\n        localStorage.setItem('WVNodePropertiesChanged' + appStates.sessionUID, JSON.stringify(ev));\r\n        //Highlight color in color search results\r\n        if (ev.General.Color)\r\n        {\r\n            let color = ev.General.Color.replace('#', '')\r\n            localStorage.setItem('WVSelectedNodeColor' + appStates.sessionUID, color);\r\n            $('.color-search-result-row').each(function ()\r\n            {\r\n                if (this.id === 'ColorSearchResult_' + color)\r\n                {\r\n                    $(this).css('background-color', 'rgb(160, 160, 160)')\r\n                }\r\n                else\r\n                {\r\n                    $(this).css('background-color', 'white')\r\n                }\r\n            })\r\n        }\r\n    }\r\n    else\r\n    {\r\n        $('.color-search-result-row').each(function(){\r\n            $(this).css('background-color', 'white')\r\n        })\r\n    }\r\n    if (ev.Markup && ev.Markup.Text && !ev.Markup.Text.Content)\r\n    {\r\n        let boundingRect = wvCanvas.getBoundingClientRect();\r\n        let offsetLeft = boundingRect.left;\r\n        let offsetTop = boundingRect.top;\r\n        createMarkupOverlay(ev, appStates.lastPagePosX- offsetLeft, appStates.lastPagePosY- offsetTop);\r\n    }\r\n})\r\n\r\nvsClient.on('CalloutAutoAlignmentChanged', res =>\r\n{\r\n    let button = w.findButton('ID_RIBBON_CALLOUTS_AUTO_ALIGNMENT');\r\n    if (button && res && res.State)\r\n    {\r\n        button.applyHighlight(res.State === '1');\r\n    }\r\n});\r\n\r\nvsClient.on('ActivateCompare', res =>\r\n{\r\n    ui.prependPane('wv-quickcompare');\r\n});\r\n\r\nfunction GetSceneSettingsCallback(response, xml)\r\n{\r\n\tui.settingsPane.updateSceneSettings(response)\r\n\tui.propertiesPane.updateSceneSettings(response)\r\n    ui.measurementPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.draftAnglePane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.markupPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.markupPane_Reduced.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.sectionPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.quickComparePane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.exactComparePane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.projectedAreaPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.mirrorPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.filterPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.flyThroughPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.distortionPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.visibilityTestPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.wallthicknessPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.drillholePane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.neutralAxisPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.neighbourhoodSearchPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.textSearchPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.bomPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.clashPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.calloutPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.splitPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.explodePane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.geometryToolsPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.bandAnalysisPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n    ui.animationPane.update(ui.settingsPane.sceneSettings['Settings'])\r\n\r\n    let leftMouseButtonMode = response.Settings.Scene.Mouse.LeftButtonFunction;\r\n    let rightMouseButtonMode = response.Settings.Scene.Mouse.RightButtonFunction;\r\n    let middleMouseButtonMode = response.Settings.Scene.Mouse.MiddleButtonFunction;\r\n    appStates.mouseLeftButtonMode = leftMouseButtonMode;\r\n    appStates.mouseRightButtonMode = rightMouseButtonMode;\r\n    appStates.mouseMiddleButtonMode = middleMouseButtonMode;\r\n    highlightLeftMouseMode(leftMouseButtonMode);\r\n\r\n    let showGrid = response.Settings.Scene.Visualization.ShowGrid === 'true';\r\n    let gridButton = w.findButton('ID_RIBBON_SHOW_GRID');\r\n    if (gridButton)\r\n    {\r\n        gridButton.applyHighlight(showGrid);\r\n    }\r\n    let selectAssociatedNode = response.Settings.Scene.Tools.Callout.SelectAssociatedNodes === 'true';\r\n    let calloutSelectButton = w.findButton('ID_RIBBON_CALLOUTS_SELECT_ASSOCIATED_NODES');\r\n    if (calloutSelectButton)\r\n    {\r\n        calloutSelectButton.applyHighlight(selectAssociatedNode);\r\n    }\r\n    let mutliAnchors = response.Settings.Scene.Tools.Callout.MultiAnchorGroups === 'true';\r\n    let ribbonConnectionsButton = w.findButton('ID_RIBBON_CALLOUTS_MULTIPLE_CONNECTIONS');\r\n    if (ribbonConnectionsButton)\r\n    {\r\n        ribbonConnectionsButton.applyHighlight(mutliAnchors);\r\n    }\r\n    let freeRotateMouseMode = response.Settings.Scene.Mouse.UseFreeRotate === 'true';\r\n    let freeRotateButton = w.findButton('ID_MOUSE_USE_FREE_ROTATE');\r\n    if (freeRotateButton)\r\n    {\r\n        freeRotateButton.applyHighlight(freeRotateMouseMode);\r\n    }\r\n    if (appStates.popoutPanes.length > 0)\r\n    {\r\n        localStorage.setItem('WVSceneSettingsChange' + appStates.sessionUID, JSON.stringify(response));\r\n    }\r\n    let doAnimate = response.Settings.Scene.General.Animation === 'true';\r\n    let animateButton = w.findButton('ID_RIBBON_ANIMATE');\r\n    animateButton.applyHighlight(doAnimate);\r\n}\r\n\r\nfunction highlightLeftMouseMode(mode: string){\r\n    let buttonId: string;\r\n    switch (mode)\r\n    {\r\n        case 'Rotate':\r\n            buttonId = 'ID_RIBBON_ROTATE';\r\n            break;\r\n        case 'Pan':\r\n            buttonId = 'ID_RIBBON_PAN';\r\n            break;\r\n        case 'RectSelect':\r\n            buttonId = 'ID_RIBBON_SELECTION_FRAME';\r\n            break;\r\n        case 'Zoom':\r\n            buttonId = 'ID_RIBBON_ZOOM';\r\n            break;\r\n        case 'RectZoom':\r\n            buttonId = 'ID_RIBBON_ZOOM_RECTANGLE';\r\n            break;\r\n        case 'Turntable':\r\n            buttonId = 'ID_RIBBON_TURNTABLE';\r\n            break;\r\n    }\r\n\r\n    ui.vsRibbon.classes['LMBFunction'].forEach((button: w.BaseButton) =>\r\n    {\r\n        if (button.id.indexOf(buttonId) === -1)\r\n        {\r\n            button.applyHighlight(false);\r\n        }\r\n        else\r\n        {\r\n            if (button.id.indexOf('RECTANGLE') !== -1 && buttonId === 'ID_RIBBON_ZOOM')\r\n            {\r\n                button.applyHighlight(false);\r\n            }\r\n            else\r\n            {\r\n                button.applyHighlight(true);\r\n            }\r\n        }\r\n        if (button instanceof w.DropdownButton)\r\n        {\r\n            button.items.forEach((item: w.DropdownItem) =>\r\n            {\r\n                if (item.id.indexOf(buttonId) !== -1)\r\n                {\r\n                    if (item.id.indexOf('RECTANGLE') !== -1 && buttonId === 'ID_RIBBON_ZOOM')\r\n                    {\r\n                        item.setHighlight(false);\r\n                    }\r\n                    else\r\n                    {\r\n                        item.activate();\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    item.setHighlight(false);\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n//Define custom key listener\r\ntry\r\n{\r\n    if (_ShortCuts)\r\n    {\r\n        window.onkeydown = e =>\r\n        {\r\n            let externalEventPrevention: boolean = false;\r\n            try\r\n            {\r\n                externalEventPrevention = _PreventGlobalKeyEvents;\r\n            }\r\n            catch (e)\r\n            {\r\n            }\r\n            if (appStates.preventGlobalKeyEvents || externalEventPrevention)\r\n            {\r\n                return;\r\n            }\r\n            if (_ShortCuts[e.keyCode])\r\n            {\r\n                let shortCut = _ShortCuts[e.keyCode];\r\n                if (shortCut.ctrl && !e.ctrlKey || shortCut.alt && !e.altKey || shortCut.shift && !e.shiftKey)\r\n                {\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n        window.onkeyup = e =>\r\n        {\r\n            let externalEventPrevention: boolean = false;\r\n            try\r\n            {\r\n                externalEventPrevention = _PreventGlobalKeyEvents;\r\n            }\r\n            catch (e)\r\n            {\r\n            }\r\n            if (appStates.preventGlobalKeyEvents || externalEventPrevention)\r\n            {\r\n                return;\r\n            }\r\n            if (_ShortCuts[e.keyCode])\r\n            {\r\n                let shortCut = _ShortCuts[e.keyCode];\r\n                if (shortCut.ctrl && !e.ctrlKey || shortCut.alt && !e.altKey || shortCut.shift && !e.shiftKey)\r\n                {\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                if (shortCut.method)\r\n                {\r\n                    shortCut.method(vsClient);\r\n                    return;\r\n                }\r\n                if (shortCut.ribbonKey)\r\n                {\r\n                    document.getElementById(shortCut.ribbonKey).click();\r\n                    return;\r\n                }\r\n                if (shortCut.call)\r\n                {\r\n                    vsClient.command.executeXML(shortCut.call);\r\n                }\r\n                if (shortCut.paneId)\r\n                {\r\n                    let isOpen = appStates.panes.map(item => { return item.paneId === shortCut.paneId && item.visible }).indexOf(true) !== -1;\r\n                    let isPopout = appStates.popoutPanes.indexOf(shortCut.paneId) !== -1;\r\n                    if (!isOpen && !isPopout)\r\n                    {\r\n                        ui.prependPane(shortCut.paneId);\r\n                    }\r\n                    else\r\n                    {\r\n                        ui.closePane(shortCut.paneId, isPopout);\r\n                        appStates.panes.forEach(pane =>\r\n                        {\r\n                            if (pane.paneId === shortCut.paneId)\r\n                            {\r\n                                pane.visible = false;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n           }\r\n        }\r\n    }\r\n}\r\ncatch(e){}\r\n\r\n/** Escape onKey for Deactivate_AllInteractions and reset Controls and Selection*/\r\nwindow.addEventListener(\"keyup\", function (e)\r\n{\r\n    let externalEventPrevention: boolean = false;\r\n    try\r\n    {\r\n        externalEventPrevention = _PreventGlobalKeyEvents;\r\n    }\r\n    catch(e)\r\n    {\r\n    }\r\n    if (appStates.preventGlobalKeyEvents || externalEventPrevention)\r\n    {\r\n        return;\r\n    }\r\n    let xml = '';\r\n    try\r\n    {\r\n        if (_ShortCuts && _ShortCuts[e.keyCode] )\r\n        {\r\n            let customShortcut = _ShortCuts[e.keyCode];\r\n            let modifierMissMatch = (customShortcut.ctrl && !e.ctrlKey) || (customShortcut.alt && !e.altKey) || (customShortcut.shift && !e.shiftKey);\r\n            if (!modifierMissMatch)\r\n            {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    catch (e) { }\r\n    switch (e.keyCode) {\r\n        case 27:    // Escape\r\n            // Deactivate all Interactions and panes\r\n            ribbonMenu.deactivateAll(vsClient, vsRibbon);\r\n            break;\r\n        // case 116: // F5 --> Fit all\r\n        // Reset SelectionMode\r\n        // xml = '<Call Method=\"FitAll\"></Call>'\r\n        // vsClient.command.executeXML(xml)\r\n        // break\r\n        case 46: // DEL --> Delete selected node\r\n            xml = '<Call Method=\"ModifySelection\"><SelectionModifier>Delete</SelectionModifier></Call>';\r\n            vsClient.command.executeXML(xml);\r\n            break;\r\n        case 38:\r\n        case 87:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>MoveFront</FlythroughCommand><Activate>false</Activate></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            break;\r\n        case 40:\r\n        case 83:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>MoveBack</FlythroughCommand><Activate>false</Activate></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            break;\r\n        case 39:\r\n        case 68:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>PanRight</FlythroughCommand><Activate>false</Activate></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            break;\r\n        case 37:\r\n        case 65:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>PanLeft</FlythroughCommand><Activate>false</Activate></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            break;\r\n        case 32:\r\n        case 33:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>PanUp</FlythroughCommand><Activate>false</Activate></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            break;\r\n        case 67:\r\n        case 34:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>PanDown</FlythroughCommand><Activate>false</Activate></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            break;\r\n        case 187:\r\n        case 171:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>IncreaseSpeed</FlythroughCommand></Call>';\r\n                xml += '<Call Method=\"GetSceneSettings\"></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            break;\r\n        case 189:\r\n        case 109:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>DecreaseSpeed</FlythroughCommand></Call>';\r\n                xml += '<Call Method=\"GetSceneSettings\"></Call>';\r\n                vsClient.command.executeXML(xml);\r\n            }\r\n            break;\r\n    }\r\n},\r\n    false);\r\n\r\n/** Escape onKey for Deactivate_AllInteractions and reset Controls and Selection*/\r\nwindow.addEventListener(\"keydown\", function (e)\r\n{\r\n    let externalEventPrevention: boolean = false;\r\n    try\r\n    {\r\n        externalEventPrevention = _PreventGlobalKeyEvents;\r\n    }\r\n    catch(e)\r\n    {\r\n    }\r\n    if (appStates.preventGlobalKeyEvents || externalEventPrevention)\r\n    {\r\n        return;\r\n    }\r\n    let xml = ''\r\n    try\r\n    {\r\n        if (_ShortCuts && _ShortCuts[e.keyCode])\r\n        {\r\n            let customShortcut = _ShortCuts[e.keyCode];\r\n            let modifierMissMatch = (customShortcut.ctrl && !e.ctrlKey) || (customShortcut.alt && !e.altKey) || (customShortcut.shift && !e.shiftKey);\r\n            if (!modifierMissMatch)\r\n            {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    catch(e){}\r\n    switch (e.keyCode) {\r\n        case e.altKey && 65:    // Alt + A: Show all\r\n            xml = '<Call Method=\"ShowAll\"></Call>'\r\n            break\r\n        case e.altKey && 73:    // Alt + I: Isolate Selection\r\n            xml = '<Call Method=\"ModifySelection\"><SelectionModifier>Isolate</SelectionModifier></Call>'\r\n            break\r\n        case e.altKey && 72:     // Alt + H: Hide Selection\r\n            xml = '<Call Method=\"MouseHoverAction\"><Action>Hide</Action></Call>'\r\n            break\r\n        case e.altKey && 71:     // Alt + G: Ghost Selection\r\n            xml = '<Call Method=\"MouseHoverAction\"><Action>Ghost</Action></Call>'\r\n            break\r\n        case e.altKey && 83:     // Alt + S: Unghost Selection\r\n            xml = '<Call Method=\"UnghostLastNode\" />'\r\n            break\r\n        case e.altKey && 65:     // Alt + A: Show all\r\n            xml = '<Call Method=\"ShowAll\"></Call>'\r\n            break\r\n        case e.ctrlKey && 65:    // Ctrl + A: Select All or Ctrl + Shift + A: Deselect\r\n            e.preventDefault();\r\n            if (!e.shiftKey)\r\n            {\r\n                xml = '<Call Method=\"SelectAllGeometries\"></Call>'\r\n            }\r\n            else\r\n            {\r\n                xml = '<Call Method=\"ModifySelection\"><SelectionModifier>Deselect</SelectionModifier></Call>'\r\n            }\r\n            break\r\n        case e.ctrlKey && e.shiftKey && 65:    // Ctrl + Shift + A: Deselect All\r\n            xml = '<Call Method=\"ModifySelection\"><SelectionModifier>Deselect</SelectionModifier></Call>'\r\n            break\r\n        case e.ctrlKey && 73:    // Ctrl + I: Invert Selection\r\n            xml = '<Call Method=\"ModifySelection\"><SelectionModifier>Invert</SelectionModifier></Call>'\r\n            break\r\n        case e.ctrlKey && 90:    // Ctrl + Z: Undo last action\r\n            xml = '<Call Method=\"Undo\"><Steps>1</Steps></Call>'\r\n            break\r\n        case e.ctrlKey && 85:    // Ctrl + U: Toggle grid\r\n            e.preventDefault()\r\n            xml = '<Call Method=\"GetSceneSettings\"></Call>'\r\n            vsClient.command.executeXMLAsync(xml)\r\n            vsClient.once('GetSceneSettings', (response) => {\r\n                let gridStatus = response.Settings.Scene.Visualization.ShowGrid\r\n                gridStatus = gridStatus === 'true' ? 'false' : 'true'\r\n                xml = '<Call Method=\"SetSceneSettings\">'\r\n                xml += '<Settings><Scene><Visualization><ShowGrid>' + gridStatus\r\n                xml += '</ShowGrid></Visualization></Scene></Settings></Call>'\r\n                vsClient.command.executeXMLAsync(xml)\r\n            })\r\n            break\r\n        case 112:   //F1: Open about dialog\r\n            e.preventDefault()\r\n            $('#wv-ribbon-about').click()\r\n            break\r\n        case 120:   //F9: Toggle wireframe\r\n            let index = appStates.renderingModes.indexOf('Wireframe');\r\n            if (index === -1)\r\n            {\r\n                appStates.renderingModes.push('Wireframe');\r\n            }\r\n            else\r\n            {\r\n                appStates.renderingModes.splice(index, 1);\r\n            }\r\n            xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Visualization><RenderMode>';\r\n            for (var i = 0; i < appStates.renderingModes.length; i++)\r\n            {\r\n                xml = xml + appStates.renderingModes[i] + ' ';\r\n            }\r\n            xml = xml + '</RenderMode></Visualization></Scene></Settings></Call>';\r\n            vsClient.command.executeXML(xml);\r\n\r\n            vsClient.once('SetSceneSettings', ev =>\r\n            {\r\n                vsClient.command.executeXML('<Call Method=\"GetSceneSettings\"></Call>');\r\n            })\r\n            break\r\n        case 113:   //F2: Toggle Command pane\r\n            let length = appStates.panes.length;\r\n            let existing = false;\r\n            for (let i = 0; i < length; i++)\r\n            {\r\n                let pane = appStates.panes[i];\r\n                if (pane.paneId === 'wv-command')\r\n                {\r\n                    if (!pane.visible)\r\n                    {\r\n                        ribbonMenu.handlePrependingPane('wv-command', 'on');\r\n                        appStates.panes[i].visible = true;\r\n                    }\r\n                    else\r\n                    {\r\n                        ribbonMenu.handlePrependingPane('wv-command', 'off');\r\n                        appStates.panes[i].visible = false;\r\n                    }\r\n                    existing = true;\r\n                }\r\n            }\r\n            if (!existing)\r\n            {\r\n                ribbonMenu.handlePrependingPane('wv-command', 'on');\r\n            }\r\n            localStorage.setItem('panePositions', JSON.stringify(appStates.panes));\r\n            break\r\n        case 122: //F11: Maximise\r\n            e.preventDefault();\r\n            ribbonMenu.toggleFullscreen(ui.vsRibbon);\r\n            break;\r\n        case 38:\r\n        case 87:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>MoveFront</FlythroughCommand><Activate>true</Activate></Call>';\r\n            }\r\n            break;\r\n        case 40:\r\n        case 83:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>MoveBack</FlythroughCommand><Activate>true</Activate></Call>';\r\n            }\r\n            break;\r\n        case 39:\r\n        case 68:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>PanRight</FlythroughCommand><Activate>true</Activate></Call>';\r\n            }\r\n            break;\r\n        case 37:\r\n        case 65:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>PanLeft</FlythroughCommand><Activate>true</Activate></Call>';\r\n            }\r\n            break;\r\n        case 32:\r\n        case 33:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>PanUp</FlythroughCommand><Activate>true</Activate></Call>';\r\n            }\r\n            break;\r\n        case 67:\r\n        case 34:\r\n            if (appStates.interactionMode.indexOf('Flythrough') !== -1)\r\n            {\r\n                xml = '<Call Method=\"ApplyFlythroughCommand\"><FlythroughCommand>PanDown</FlythroughCommand><Activate>true</Activate></Call>';\r\n            }\r\n            break;\r\n        default:\r\n            return\r\n    }\r\n    vsClient.command.executeXML(xml)\r\n},\r\n    false);\r\n\r\n\r\nvsClient.on('Relay', res =>\r\n{\r\n    let message = res.__text__;\r\n    //Handle VisShare calls\r\n    if (message === 'VisShare_SaveAsDone')\r\n    {\r\n        ui.toast(true);\r\n    }\r\n    else if (message.startsWith('ShowNativeLoadingModal_') && !connectedToSession)\r\n    {\r\n        let parsedFileArr = message.split('_');\r\n        parsedFileArr.shift();\r\n        let filename = parsedFileArr.join('_');\r\n        let showNativeLoading = ui.openNativeLoadingModal(filename, resumeBackendLoading.bind(vsClient), true);\r\n        if (!showNativeLoading)\r\n        {\r\n            resumeBackendLoading(filename);\r\n        }\r\n    }\r\n    else if (message.startsWith('VisShareBlockUI'))\r\n    {\r\n        let method = message.split('_')[1];\r\n        vsClient.blockUI();\r\n        vsClient.once(method, res =>\r\n        {\r\n            vsClient.unblockUI();\r\n        })\r\n    }\r\n});\r\n\r\nvsClient.on('@changeLang', function(e){\r\n    let length = appStates.popoutPanes.length;\r\n    for (let i = 0; i < length; i++)\r\n    {\r\n        let paneId = appStates.popoutPanes[i];\r\n        if (paneId === 'wv-modeltree' || paneId === 'wv-views')\r\n        {\r\n            return;\r\n        }\r\n        let templateName = ui.mapPaneIdToTemplate(paneId);\r\n        let template = '<Call Method=\"GetTemplate\"><Type>' + templateName + '</Type></Call>';\r\n        vsClient.command.executeXML(template);\r\n        vsClient.once('GetTemplate.' + templateName, (response: any) =>\r\n        {\r\n            let templateObj = response['Source']['Template'];\r\n            localStorage.setItem('WV' + paneId + appStates.sessionUID, JSON.stringify(templateObj));\r\n        });\r\n    }\r\n})\r\n\r\nvsClient.on('@recvXML', (msg, timestamp) =>\r\n{\r\n    let log: ILog = {\r\n        type: 'inbound',\r\n        msg: msg\r\n    };\r\n    ui.commandPane.addCommand(log);\r\n});\r\n\r\nvsClient.on('@sendXML', (msg, timestamp) =>\r\n{\r\n    if (!stopLogging)\r\n    {\r\n        try\r\n        {\r\n            if ((_HideUICommandLog || appStates.qsMode) &&\r\n                (msg.indexOf('GetTemplate') !== -1\r\n                    || msg.indexOf('SendSessionReady') !== -1\r\n                    || msg.indexOf('VirtualTreeViewSetSize') !== -1\r\n                    || msg.indexOf('GetNodeTooltip') !== -1\r\n                    || msg.indexOf('GetSettings') !== -1\r\n                    || msg.indexOf('GetSceneSettings') !== -1\r\n                    || msg.indexOf('VirtualTreeViewToggleVisibility') !== -1\r\n                    || msg.indexOf('SetSettings') !== -1\r\n                    || msg.indexOf('GetSelectedBillOfMaterialRows') !== -1 ))\r\n            {\r\n                return;\r\n            }\r\n        }\r\n        catch (e) { }\r\n\r\n        let log: ILog = {\r\n            type: 'outbound',\r\n            msg: msg\r\n        };\r\n        ui.commandPane.addCommand(log);\r\n    }\r\n\r\n});\r\n\r\n\r\nfunction resumeBackendLoading (fileName: string)\r\n{\r\n    vsClient.relayMessageToBackend('NativeLoadingModalFinished');\r\n}\r\n\r\nfunction interceptQueryString(isBackend: boolean) {\r\n    var queryString = window.location.search.substr(1);\r\n    var kvs = queryString.split('&')\r\n    var query = {}\r\n    for (let kv of kvs) {\r\n        let [k, v] = kv.split('=')\r\n        query[k] = v\r\n    }\r\n\r\n    if (query['closesessions'])\r\n    {\r\n        appStates.sessionUrlClose = query['closesessions'];\r\n        localStorage.removeItem('WVSessionCloseID');\r\n        localStorage.setItem('WVSessionCloseID', query['closesessions']);\r\n        window.addEventListener('storage', e =>\r\n        {\r\n            let urlCloseCommand = localStorage.getItem('WVSessionCloseID');\r\n            if (e.key === 'WVSessionCloseID' && urlCloseCommand && urlCloseCommand !== null && urlCloseCommand !== '' && appStates.sessionUrlClose === urlCloseCommand)\r\n            {\r\n                vsClient.destroy();\r\n                let url = location.href.split('/');\r\n                url.pop();\r\n                window.open(url.join('/') + '/session_in_use_index.html', '_self');\r\n            }\r\n        });\r\n    }\r\n    var file1, file2;\r\n\r\n    if (query['compare'] === '2d')\r\n    {\r\n\r\n        if (query['file1'])\r\n        {\r\n            file1 = decodeURIComponent(query['file1'])\r\n        }\r\n        if (query['file2'])\r\n        {\r\n            file2 = decodeURIComponent(query['file2'])\r\n        }\r\n        if (query['open1'])\r\n        {\r\n            file1 = decodeURIComponent(escape(window.atob(query['open1'])))\r\n        }\r\n        if (query['open2'])\r\n        {\r\n            file2 = decodeURIComponent(escape(window.atob(query['open2'])))\r\n        }\r\n\r\n        if (file1 && file2)\r\n        {\r\n            try\r\n            {\r\n                if (!_ShowFileRibbonOnUrlOpen)\r\n                {\r\n                    ui.vsRibbon.disableFileList();\r\n                }\r\n            }\r\n            catch (e)\r\n            {\r\n                ui.vsRibbon.disableFileList();\r\n            }\r\n            vsClient.OpenFile(file1)\r\n\r\n            vsClient.on('ActivateGraphicalCompare', function (ev) {\r\n\r\n                if (ev.CustomId == 'full_ui_2d_compare') {\r\n                    if (ev.Error == 'SUCCESS') {\r\n\r\n                        //const XML = `<Call Method=\"ResumeRendering\"/>`\r\n                        //client.command.executeXML(XML)\r\n                    }\r\n\r\n                    if (!(ev.Error == \"SUCCESS\")) {\r\n                        alert(\"Error on 2D compare: \" + ev.Error + \" Info: \" + ev.ErrorInfo)\r\n                        console.log(\"Error on 2D compare: \" + ev.Error + \" Info: \" + ev.ErrorInfo)\r\n                    }\r\n\r\n                }\r\n            })\r\n\r\n            vsClient.on('OpenFile', function () {\r\n\r\n                const XML = `\r\n                <Call Method=\"ImportFile\">\r\n                <FileName>${file2}</FileName>\r\n              </Call>`\r\n\r\n                vsClient.command.executeXML(XML)\r\n                const XML2 = `\r\n                <Call Method=\"ActivateGraphicalCompare\"><Activate>true</Activate> CustomId=\"full_ui_2d_compare\"</Call>`\r\n\r\n                vsClient.command.executeXML(XML2)\r\n\r\n\r\n            })\r\n        }\r\n\r\n    }\r\n    else if (query['compare'] === 'quick')\r\n    {\r\n        compareByURI(query, 'full_ui_quick_compare', 'ActivateGraphicalCompare');\r\n    }\r\n    else if (query['compare'] === 'exact')\r\n    {\r\n        compareByURI(query, 'full_ui_exact_compare', 'ComputeBrepCompare');\r\n    }\r\n    else if (typeof query['file'] !== 'undefined')\r\n    {\r\n        try\r\n        {\r\n            if (!_ShowFileRibbonOnUrlOpen)\r\n            {\r\n                ui.vsRibbon.disableFileList();\r\n            }\r\n        }\r\n        catch (e)\r\n        {\r\n            ui.vsRibbon.disableFileList();\r\n        }\r\n        let showModal = query['NativeLoadingModal'];\r\n        let filename = decodeURIComponent(query['file']);\r\n        if (showModal && showModal === 'true')\r\n        {\r\n            ui.openNativeLoadingModal(filename, vsClient.OpenFile.bind(vsClient));\r\n        }\r\n        else\r\n        {\r\n            vsClient.OpenFile(filename);\r\n        }\r\n\r\n    } else if (typeof query['open'] !== 'undefined')\r\n    {\r\n        try\r\n        {\r\n            if (!_ShowFileRibbonOnUrlOpen)\r\n            {\r\n                ui.vsRibbon.disableFileList();\r\n            }\r\n        }\r\n        catch (e)\r\n        {\r\n            ui.vsRibbon.disableFileList();\r\n        }\r\n        let filename = decodeURIComponent(escape(window.atob(query['open'])));\r\n        let showModal = query['NativeLoadingModal'];\r\n        if (showModal && showModal === 'true')\r\n        {\r\n            ui.openNativeLoadingModal(filename, vsClient.OpenFile.bind(vsClient));\r\n        }\r\n        else\r\n        {\r\n            vsClient.OpenFile(filename);\r\n        }\r\n    }\r\n    else if (query['internalMode'])\r\n    {\r\n        console.log('WebViewer runs in internal mode!')\r\n        let xml = '<Call Method=\"EnableInternalMode\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n    else if (query['qs'])\r\n    {\r\n        console.log('WebViewer runs in internal mode!')\r\n        let xml = '<Call Method=\"EnableInternalMode\"></Call>';\r\n        vsClient.command.executeXML(xml);\r\n        appStates.qsMode = true;\r\n        let isOpen = appStates.panes.map(item => { return item.paneId === 'wv-command' && item.visible }).indexOf(true) !== -1;\r\n        let isPopout = appStates.popoutPanes.indexOf('wv-command') !== -1;\r\n        if (appStates.defaultPanes.indexOf('wv-command') === -1)\r\n        {\r\n            appStates.defaultPanes.push('wv-command');\r\n        }\r\n        if (!isOpen && !isPopout)\r\n        {\r\n            ui.prependPane('wv-command');\r\n        }\r\n    }\r\n}\r\n\r\nfunction compareByURI (query, customId: string, compareMethod: string)\r\n{\r\n    let file1: string, file2: string;\r\n    if (query['file1'])\r\n    {\r\n        file1 = decodeURIComponent(query['file1'])\r\n    }\r\n    if (query['file2'])\r\n    {\r\n        file2 = decodeURIComponent(query['file2'])\r\n    }\r\n    if (query['open1'])\r\n    {\r\n        file1 = decodeURIComponent(escape(window.atob(query['open1'])))\r\n    }\r\n    if (query['open2'])\r\n    {\r\n        file2 = decodeURIComponent(escape(window.atob(query['open2'])))\r\n    }\r\n    if (file1 && file2)\r\n    {\r\n        try\r\n        {\r\n            if (!_ShowFileRibbonOnUrlOpen)\r\n            {\r\n                ui.vsRibbon.disableFileList();\r\n            }\r\n        }\r\n        catch (e)\r\n        {\r\n            ui.vsRibbon.disableFileList();\r\n        }\r\n        // show the progress indicator\r\n        if (vsClient.initOptions.blockOnLoad)\r\n        {\r\n            vsClient.blockUI();\r\n        }\r\n\r\n        vsClient.once(compareMethod, function (ev)\r\n        {\r\n            vsClient.unblockUI();\r\n            if (ev.CustomId === customId)\r\n            {\r\n                if (ev.Error != \"SUCCESS\")\r\n                {\r\n                    if (compareMethod === 'ComputeBrepCompare')\r\n                    {\r\n                        console.log(\"Error on exact compare: \" + ev.ErrorInfo + \" Try quick compare.\");\r\n                        compareByURI(query, 'full_ui_quick_compare', 'ActivateGraphicalCompare');\r\n                    }\r\n                    else\r\n                    {\r\n                        console.log(\"Error on quick compare: \" + ev.Error + \" Info: \" + ev.ErrorInfo);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    handleCompare(ev);\r\n                }\r\n            }\r\n        });\r\n\r\n        vsClient.NewScene3D();\r\n\r\n        vsClient.once('NewScene3D', function (response)\r\n        {\r\n            handleNewSceneForCompare(response, file1, file2, customId, compareMethod);\r\n        });\r\n    }\r\n}\r\n\r\nfunction handleCompare (ev)\r\n{\r\n    if (ev.Error == 'SUCCESS')\r\n    {\r\n\r\n        let xml = `<Call Method=\"AlignView\"><Alignment>Isometric</Alignment></Call><Call Method=\"ModifySelection\"><SelectionModifier>Deselect</SelectionModifier></Call>`;\r\n        vsClient.command.executeXML(xml);\r\n    }\r\n\r\n    // tree view\r\n    let maxVisible = ui.modeltreePane.currentMaxVisible();\r\n    if (appStates.popoutPanes.indexOf('wv-modeltree') !== -1)\r\n    {\r\n        let height = appStates.popedOutWindows[appStates.popoutPanes.indexOf('wv-modeltree')].innerHeight - 30;\r\n        let lineHeight = ui.modeltreePane.lineHeight;\r\n        let popoutVisibleRows = Math.floor(height / lineHeight);\r\n        maxVisible = popoutVisibleRows;\r\n    }\r\n    let getTreeview = `<Call Method=\"VirtualTreeViewSetSize\"><Size>${maxVisible}</Size></Call>`;\r\n    vsClient.command.executeXML(getTreeview);\r\n\r\n    let xml = `<Call Method=\"ResumeRendering\"/>`;\r\n    vsClient.command.executeXML(xml);\r\n}\r\n\r\nfunction handleNewSceneForCompare (response, file1: string, file2:string, customId: string, compareMethod: string)\r\n{\r\n    openFileHandler(response);\r\n    let xml = `\r\n    <Call Method=\"SetSettings\">\r\n        <Settings>\r\n            <Import3D>\r\n                <General>\r\n                    <ReadMode>PreferGeometry</ReadMode>\r\n                    <ReadPMIs>false</ReadPMIs>\r\n                    <ReadSolids>true</ReadSolids>\r\n                    <ReadConstructionAndReferences>false</ReadConstructionAndReferences>\r\n                </General>\r\n                <_3DVS>\r\n                    <IncrementalLoading>false</IncrementalLoading>\r\n                    <RemoveBrep>false</RemoveBrep>\r\n                </_3DVS>\r\n            </Import3D>\r\n        </Settings>\r\n    </Call>\r\n\r\n    <Call Method=\"PauseRendering\"/>\r\n\r\n    <Call Method=\"UpdateScene\">\r\n        <VSXML>\r\n            <Node CustomId=\"Root1\" Name=\"Compare1\" Type=\"Root\">\r\n                <Node CustomId=\"V1\" Name=\"V1\" Type=\"ProductOccurrence\" FileName=\"${file1}\" />\r\n            </Node>\r\n            <Node CustomId=\"Root2\" Name=\"Compare2\" Type=\"Root\">\r\n                <Node CustomId=\"V2\" Name=\"V2\" Type=\"ProductOccurrence\" FileName=\"${file2}\" />\r\n            </Node>\r\n        </VSXML>\r\n    </Call>\r\n\r\n    <Call Method=\"FitAll\"/>\r\n\r\n    <Call Method=\"SetSelectedNodes\">\r\n    <NodeId>#V1</NodeId>\r\n    <NodeId>#V2</NodeId>\r\n    </Call>\r\n\r\n        `;\r\n    let fulLCompareCall = '<Call Method=\"ComputeBrepCompare\" CustomId=\"full_ui_exact_compare\"></Call>';\r\n    let quickCompareCall = '<Call Method=\"ActivateGraphicalCompare\" CustomId=\"full_ui_quick_compare\"><Activate>true</Activate></Call>';\r\n    xml += compareMethod === 'ComputeBrepCompare' ? fulLCompareCall : quickCompareCall;\r\n    vsClient.command.executeXML(xml);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/app.ts","import * as ui from '../ui'\r\nimport { VSWebClient } from '../../base/vsweb-client-impl';\r\nimport { FileBrowserSwitch } from './widgets/file-browser-switch';\r\nimport { BreadcrumbBar } from './widgets/breadcrumb-bar';\r\nimport { PaginationRow } from './widgets/pagination';\r\nimport { FolderItem, Folder } from './widgets/folder';\r\nimport { FileItem, File } from './widgets/file';\r\nimport { BreadcrumbItem } from \"./widgets/breadcrumb\";\r\nimport { appStates } from '../app-states';\r\n\r\n\r\ndeclare var _FileBrowserPageSize;\r\n\r\nexport class FileBrowserModal\r\n{\r\n    modalWrapper: HTMLElement\r\n    textElement: HTMLElement\r\n    client: VSWebClient\r\n    type: string\r\n    isOpen: boolean\r\n    folderSearchEl: FileBrowserSwitch\r\n    doFolderSearch: boolean = true\r\n    fileSearchEl: HTMLInputElement\r\n    breadcrumbBar: BreadcrumbBar\r\n    pageSize: number\r\n    page: number\r\n    size: number\r\n    activePath: string\r\n    nameHeader: HTMLElement\r\n    dateHeader: HTMLElement\r\n    sizeHeader: HTMLElement\r\n    tableBody: HTMLElement\r\n    fileCountEl: HTMLElement\r\n    pagination: PaginationRow\r\n    filePreviewEl: FileBrowserSwitch\r\n    showFilePreview: boolean = false\r\n    openCallBack: any\r\n    folder: any[]\r\n    tableFooterEl: HTMLElement\r\n    buttonRow: HTMLElement\r\n    searchedFolder: any[] = [9]\r\n    fileList: string[] = []\r\n    loadingWrapper: HTMLDivElement\r\n\r\n    constructor(client: VSWebClient, type: string, openCallBack: any)\r\n    {\r\n        this.client = client;\r\n        this.type = type;\r\n        this.openCallBack = openCallBack;\r\n        this.isOpen = true;\r\n        this.detectOutsideClick = this.detectOutsideClick.bind(this);\r\n        this.detectEscPressed = this.detectEscPressed.bind(this);\r\n        this.pageSize = 100;\r\n        this.activePath = appStates.activePath;\r\n        try\r\n        {\r\n            this.pageSize = _FileBrowserPageSize;\r\n        }\r\n        catch (e) { }\r\n        this.page = 1;\r\n        this.folderSearchClick = this.folderSearchClick.bind(this);\r\n        this.filePreviewClick = this.filePreviewClick.bind(this);\r\n        this.submit = this.submit.bind(this);\r\n        this.resize = this.resize.bind(this);\r\n\r\n        document.body.addEventListener('mousedown', this.detectOutsideClick);\r\n        document.body.addEventListener('keyup', this.detectEscPressed);\r\n        this.modalWrapper = document.createElement('div');\r\n        this.modalWrapper.className = 'file-browser-modal';\r\n\r\n        //Loading icon\r\n        this.loadingWrapper = document.createElement('div');\r\n        this.loadingWrapper.className = 'fullscreen-loading-wrapper';\r\n        this.loadingWrapper.style.left = \"0\";\r\n\r\n        let spinnerIcon = document.createElement('i');\r\n        spinnerIcon.className = 'fullscreen-loading-icon fal fa-spinner-third fa-spin';\r\n        this.loadingWrapper.appendChild(spinnerIcon);\r\n\r\n        let windowHeaderEl = document.createElement('div');\r\n        windowHeaderEl.className = 'file-browser-header';\r\n        //this.modalWrapper.appendChild(windowHeaderEl);\r\n\r\n        this.folderSearchEl = new FileBrowserSwitch(windowHeaderEl, 'ID_FILE_BROWSER_DEEP_SEARCH', this.folderSearchClick, 'file', this.doFolderSearch);\r\n\r\n        this.fileSearchEl = document.createElement('input');\r\n        this.fileSearchEl.className = 'file-browser-search-input';\r\n        this.fileSearchEl.placeholder = ui.translate('ID_FILE_BROWSER_SEARCH_PLACEHOLDER');\r\n        this.fileSearchEl.oninput = e =>\r\n        {\r\n            //MOCKED\r\n            let xml = '<Call Method=\"SearchFolders\"><FileName>' + this.fileSearchEl.value + '</FileName><DeepSearch>' + this.doFolderSearch + '</DeepSearch></Call>';\r\n            // this.client.command.executeXML(xml);\r\n            this.client.once('SearchFolders', res =>\r\n            {\r\n\r\n            })\r\n            this.folder = this.folder.filter(el =>\r\n            {\r\n                return el.key.toLowerCase().indexOf(this.fileSearchEl.value) !== -1;\r\n            });\r\n            this.build();\r\n        }\r\n        windowHeaderEl.appendChild(this.fileSearchEl);\r\n\r\n        this.breadcrumbBar = new BreadcrumbBar(this.modalWrapper, this);\r\n        let rootCrumb: BreadcrumbItem = {\r\n            key: \"\",\r\n            name: \"Root\"\r\n        };\r\n        this.breadcrumbBar.pushBreadcrumb(rootCrumb);\r\n\r\n        //Add breadcrumbs if the path isn't root\r\n        if (this.activePath !== \"\")\r\n        {\r\n            let path: string[] = this.activePath.split('\\\\');\r\n            let pathLength = path.length;\r\n            let accumPath = \"\";\r\n            for (let p = 0; p < pathLength; p++)\r\n            {\r\n                accumPath += path[p] + '\\\\';\r\n                let crumb: BreadcrumbItem = {\r\n                    key: accumPath,\r\n                    name: path[p]\r\n                };\r\n                this.breadcrumbBar.pushBreadcrumb(crumb);\r\n            }\r\n        }\r\n\r\n        let tableEl = document.createElement('div');\r\n        tableEl.className = 'file-browser-table-header-row';\r\n        this.modalWrapper.appendChild(tableEl);\r\n\r\n        this.nameHeader = document.createElement('div');\r\n        this.nameHeader.className = 'file-browser-table-header';\r\n        this.nameHeader.style.width = 'calc(55% + 14px)';\r\n        tableEl.appendChild(this.nameHeader);\r\n\r\n\r\n        let nameTextEl = document.createElement('span');\r\n        nameTextEl.className = 'file-browser-table-header-text';\r\n        nameTextEl.textContent = ui.translate('ID_FILE_BROWSER_TABLE_HEADER_NAME');\r\n        this.nameHeader.appendChild(nameTextEl);\r\n\r\n        let nameSortIcon = document.createElement('i');\r\n        nameSortIcon.className = 'file-brwoser-table-header-icon fas fa-sort-down';\r\n        //this.nameHeader.appendChild(nameSortIcon);\r\n\r\n        this.nameHeader.onclick = e =>\r\n        {\r\n            // this.changeOrder(nameSortIcon, this.nameHeader, 'name');\r\n        }\r\n\r\n        this.dateHeader = document.createElement('div');\r\n        this.dateHeader.className = 'file-browser-table-header';\r\n        this.dateHeader.style.width = 'calc(25% + 12px)';\r\n        tableEl.appendChild(this.dateHeader);\r\n\r\n        let dateTextEl = document.createElement('span');\r\n        dateTextEl.className = 'file-browser-table-header-text';\r\n        dateTextEl.textContent = ui.translate('ID_FILE_BROWSER_TABLE_HEADER_DATE');\r\n        this.dateHeader.appendChild(dateTextEl);\r\n\r\n        let dateSortIcon = document.createElement('i');\r\n        dateSortIcon.className = 'file-brwoser-table-header-icon fas fa-sort-down';\r\n        //this.dateHeader.appendChild(dateSortIcon);\r\n\r\n        this.dateHeader.onclick = e =>\r\n        {\r\n            //this.changeOrder(dateSortIcon, this.dateHeader, 'date');\r\n        }\r\n\r\n        this.sizeHeader = document.createElement('div');\r\n        this.sizeHeader.className = 'file-browser-table-header';\r\n        this.sizeHeader.style.width = 'calc(20% - 26px)';\r\n        tableEl.appendChild(this.sizeHeader);\r\n\r\n        let sizeTextEl = document.createElement('span');\r\n        sizeTextEl.className = 'file-browser-table-header-text';\r\n        sizeTextEl.textContent = ui.translate('ID_FILE_BROWSER_TABLE_HEADER_SIZE');\r\n        this.sizeHeader.appendChild(sizeTextEl);\r\n\r\n        let sizeSortIcon = document.createElement('i');\r\n        sizeSortIcon.className = 'file-brwoser-table-header-icon fas fa-sort-down';\r\n        //this.sizeHeader.appendChild(sizeSortIcon);\r\n\r\n        this.sizeHeader.onclick = e =>\r\n        {\r\n            //  this.changeOrder(sizeSortIcon, this.sizeHeader, 'size');\r\n        }\r\n\r\n        this.tableBody = document.createElement('div');\r\n        this.tableBody.className = 'file-browser-table-body';\r\n        this.modalWrapper.appendChild(this.tableBody);\r\n\r\n        this.tableFooterEl = document.createElement('div');\r\n        this.tableFooterEl.className = 'file-browser-table-footer';\r\n        this.modalWrapper.appendChild(this.tableFooterEl);\r\n\r\n        this.pagination = new PaginationRow(this.tableFooterEl, this);\r\n\r\n        this.fileCountEl = document.createElement('div');\r\n        this.fileCountEl.className = 'file-browser-file-count';\r\n        this.tableFooterEl.appendChild(this.fileCountEl);\r\n\r\n\r\n        this.buttonRow = document.createElement('div');\r\n        this.buttonRow.className = 'file-browser-button-row';\r\n        this.modalWrapper.appendChild(this.buttonRow);\r\n\r\n        let storedPreviewState = localStorage.getItem('VSFilePreview');\r\n        if (storedPreviewState !== null && this.type ==='open')\r\n        {\r\n            this.showFilePreview = storedPreviewState === 'true';\r\n        }\r\n        if (this.type === 'open')\r\n        {\r\n            this.folderSearchEl = new FileBrowserSwitch(this.buttonRow, 'ID_FILE_BROWSER_FILE_PREVIEW', this.filePreviewClick, 'file', this.showFilePreview);\r\n        }\r\n\r\n        let submitButton = document.createElement('button');\r\n        submitButton.className = 'file-browser-submit-button';\r\n        submitButton.textContent = 'OK';\r\n        this.buttonRow.appendChild(submitButton);\r\n\r\n        submitButton.onclick = this.submit;\r\n\r\n        document.body.appendChild(this.modalWrapper);\r\n\r\n        this.client.on('GetFolderContent', (folderContent) =>\r\n        {\r\n            this.folder = folderContent;\r\n            this.getFileNumber();\r\n            this.build();\r\n            this.stopLoadingBlocker();\r\n        })\r\n\r\n        this.client.on('GetFolderFileCount', (folderSize) =>\r\n        {\r\n            this.size = folderSize;\r\n            this.pagination.updatePageCount();\r\n            this.fileCountEl.textContent = this.size + ' ' + ui.translate('ID_FILE_BROWSER_FILE_COUNT');\r\n            if (folderSize <= this.pageSize)\r\n            {\r\n                this.pagination.hide();\r\n            }\r\n            else\r\n            {\r\n                this.pagination.show();\r\n            }\r\n        })\r\n\r\n        let newFolder = this.client.command.makeBinaryPath(this.activePath, true, 0, this.pageSize - 1);\r\n        this.startLoadingBlocker();\r\n        this.client.sendBinaryPackage(1, 210, newFolder);\r\n\r\n        let sizeCall = this.client.command.makeBinaryPath(this.activePath, true, 0, this.pageSize - 1);\r\n        this.client.sendBinaryPackage(1, 211, sizeCall);\r\n\r\n        this.resize();\r\n        window.addEventListener('resize', this.resize);\r\n    }\r\n\r\n    resize()\r\n    {\r\n        let tableTop = this.tableBody.offsetTop;\r\n        let footerHeight = this.tableFooterEl.offsetHeight;\r\n        let buttonHeight = this.buttonRow.offsetHeight;\r\n        let modalHeight = this.modalWrapper.clientHeight;\r\n        let modalPadding = 40;\r\n        this.tableBody.style.height = modalHeight - buttonHeight - footerHeight - tableTop - modalPadding + 'px';\r\n    }\r\n\r\n    build()\r\n    {\r\n        $(this.tableBody).empty();\r\n        $('.webviewer-tooltip-wrapper').each(function ()\r\n\t\t{\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n        for (let i = 0; i < this.folder.length; i++)\r\n        {\r\n            if (!this.folder[i].size)\r\n            {\r\n                let newFolder: FolderItem;\r\n                newFolder = {\r\n                    name: this.folder[i].key,\r\n                    date: this.folder[i].modified,\r\n                    path: this.folder[i].path\r\n                };\r\n                let folder = new Folder(this.tableBody, newFolder, this);\r\n            }\r\n            else\r\n            {\r\n                let newFile: FileItem;\r\n                newFile =\r\n                    {\r\n                        name: this.folder[i].key,\r\n                        date: this.folder[i].modified,\r\n                        path: this.folder[i].path,\r\n                        size: this.folder[i].size\r\n                    };\r\n\r\n                let folder = new File(this.tableBody, newFile, this);\r\n            }\r\n        }\r\n    }\r\n\r\n    getFileNumber()\r\n    {\r\n        let sizeCall = this.client.command.makeBinaryPath(this.activePath, false, 0, 100);\r\n        this.client.sendBinaryPackage(1, 211, sizeCall);\r\n    }\r\n\r\n    changeOrder(iconEl: HTMLElement, fieldEl: HTMLElement, orderKey: string)\r\n    {\r\n        //sort header\r\n        let orderDirection: string;\r\n        //Switch to ASC\r\n        if ($(iconEl).hasClass('fa-sort-down'))\r\n        {\r\n            orderDirection = 'ASC';\r\n            $(iconEl).removeClass('fa-sort-down');\r\n            $(iconEl).addClass('fa-sort-up');\r\n            this.sortAsc(orderKey);\r\n        }\r\n        else\r\n        {\r\n            orderDirection = 'DESC';\r\n            $(iconEl).addClass('fa-sort-down');\r\n            $(iconEl).removeClass('fa-sort-up');\r\n            this.sortDesc(orderKey);\r\n        }\r\n        $(this.nameHeader).removeClass('file-browser-table-header-active');\r\n        $(this.dateHeader).removeClass('file-browser-table-header-active');\r\n        $(this.sizeHeader).removeClass('file-browser-table-header-active');\r\n\r\n        $(fieldEl).addClass('file-browser-table-header-active');\r\n        //MOCK call\r\n        this.build();\r\n        console.log('Sortkey:' + orderKey + 'Sortdirection: ' + orderDirection);\r\n    }\r\n\r\n    sortDesc(orderKey: string)\r\n    {\r\n        switch (orderKey)\r\n        {\r\n            case 'name':\r\n                this.folder.sort(function (a, b)\r\n                {\r\n                    if (!a.size)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    let nameA = a.key.toLowerCase();\r\n                    let nameB = b.key.toLowerCase();\r\n                    if (nameA < nameB)\r\n                    {\r\n                        return 1;\r\n                    }\r\n                    if (nameA > nameB)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n                break;\r\n            case 'date':\r\n                this.folder.sort(function (a, b)\r\n                {\r\n                    if (!a.size)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    let dateA = new Date(a.modified);\r\n                    let dateB = new Date(b.modified);\r\n                    if (dateA < dateB)\r\n                    {\r\n                        return 1;\r\n                    }\r\n                    if (dateA > dateB)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n                break;\r\n            case 'size':\r\n                this.folder.sort(function (a, b)\r\n                {\r\n                    if (!a.size)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    let sizeA = parseFloat(a);\r\n                    let sizeB = parseFloat(b);\r\n                    if (sizeA < sizeB)\r\n                    {\r\n                        return 1;\r\n                    }\r\n                    if (sizeA > sizeB)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n        }\r\n    }\r\n\r\n    sortAsc(orderKey: string)\r\n    {\r\n        switch (orderKey)\r\n        {\r\n            case 'name':\r\n                this.folder.sort(function (a, b)\r\n                {\r\n                    if (!a.size)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    let nameA = a.key.toLowerCase();\r\n                    let nameB = b.key.toLowerCase();\r\n                    if (nameA > nameB)\r\n                    {\r\n                        return 1;\r\n                    }\r\n                    if (nameA < nameB)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n                break;\r\n            case 'date':\r\n                this.folder.sort(function (a, b)\r\n                {\r\n                    if (!a.size)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    let dateA = new Date(a.modified);\r\n                    let dateB = new Date(b.modified);\r\n                    if (dateA > dateB)\r\n                    {\r\n                        return 1;\r\n                    }\r\n                    if (dateA < dateB)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n                break;\r\n            case 'size':\r\n                this.folder.sort(function (a, b)\r\n                {\r\n                    if (!a.size)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    let sizeA = parseFloat(a);\r\n                    let sizeB = parseFloat(b);\r\n                    if (sizeA > sizeB)\r\n                    {\r\n                        return 1;\r\n                    }\r\n                    if (sizeA < sizeB)\r\n                    {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n        }\r\n    }\r\n\r\n    folderSearchClick(state: boolean)\r\n    {\r\n        this.doFolderSearch = state;\r\n    }\r\n\r\n    filePreviewClick(state: boolean)\r\n    {\r\n        localStorage.setItem('VSFilePreview', state.toString());\r\n        this.showFilePreview = state;\r\n    }\r\n\r\n    getPage()\r\n    {\r\n        return this.page;\r\n    }\r\n\r\n    setPath(folder: FolderItem)\r\n    {\r\n        this.activePath = folder.path;\r\n        let newCrumb: BreadcrumbItem = {\r\n            key: folder.path,\r\n            name: folder.name\r\n        };\r\n        this.breadcrumbBar.pushBreadcrumb(newCrumb);\r\n\r\n    }\r\n\r\n    setPage(page: number)\r\n    {\r\n        this.page = page;\r\n        this.startLoadingBlocker();\r\n        let newFolder = this.client.command.makeBinaryPath(this.activePath, true, (this.page - 1) * this.pageSize, (this.page * this.pageSize) - 1);\r\n        this.client.sendBinaryPackage(1, 210, newFolder);\r\n    }\r\n\r\n    hide()\r\n    {\r\n        window.removeEventListener('resize', this.resize);\r\n        document.body.removeEventListener('mousedown', this.detectOutsideClick);\r\n        document.body.removeEventListener('keyup', this.detectEscPressed);\r\n        this.isOpen = false;\r\n        $(this.modalWrapper).remove();\r\n    }\r\n\r\n\r\n    detectOutsideClick(e)\r\n    {\r\n        if (!(e.target === this.modalWrapper || this.modalWrapper.contains(e.target)))\r\n        {\r\n            this.submit();\r\n        }\r\n    }\r\n\r\n    detectEscPressed(e)\r\n    {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (e.keyCode === 27)\r\n        {\r\n            this.submit();\r\n        }\r\n    }\r\n\r\n    submit(e?)\r\n    {\r\n        if (e)\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n        $('.webviewer-tooltip-wrapper').each(function ()\r\n\t\t{\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n        appStates.activePath = this.activePath;\r\n        let length = this.fileList.length;\r\n        if (length > 0)\r\n        {\r\n            ui.serializedLoad(this.fileList, true);\r\n        }\r\n        this.fileList = [];\r\n        this.hide();\r\n    }\r\n\r\n    startLoadingBlocker ()\r\n    {\r\n        this.modalWrapper.appendChild(this.loadingWrapper);\r\n    }\r\n\r\n    stopLoadingBlocker ()\r\n    {\r\n        if (this.modalWrapper.contains(this.loadingWrapper))\r\n        {\r\n            this.modalWrapper.removeChild(this.loadingWrapper);\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/file-browser-modal/file-browser-modal.ts","import { Breadcrumb, BreadcrumbItem } from \"./breadcrumb\";\r\nimport { FileBrowserModal } from \"../file-browser-modal\";\r\nimport { VSWebClient } from '../../../base/vsweb-client-impl';\r\n\r\nexport class BreadcrumbBar\r\n{\r\n    parentEl: HTMLElement\r\n    barEl: HTMLElement\r\n    backButton: HTMLElement\r\n    breadcrumbs: Breadcrumb[] = []\r\n    breadcrumbsMap: string[] = []\r\n    activePath: string\r\n    pageSize: number\r\n    fileBrowser: FileBrowserModal\r\n    client: VSWebClient\r\n    constructor(parentEl: HTMLElement, browser: FileBrowserModal)\r\n    {\r\n        this.parentEl = parentEl;\r\n        this.fileBrowser = browser;\r\n        this.pageSize = browser.pageSize;\r\n        this.client = browser.client;\r\n\r\n        let breadcrumbBarWrapper = document.createElement('div');\r\n        breadcrumbBarWrapper.className = 'file-browser-breadcrumb-bar-wrapper';\r\n        this.parentEl.appendChild(breadcrumbBarWrapper);\r\n\r\n        this.backButton = document.createElement('i');\r\n        this.backButton.className = 'file-browser-breadcrumb-back-button fas fa-arrow-alt-square-left';\r\n        this.backButton.onclick = e =>\r\n        {\r\n            this.popCrumb();\r\n        }\r\n        breadcrumbBarWrapper.appendChild(this.backButton);\r\n\r\n        this.barEl = document.createElement('ul');\r\n        this.barEl.className = 'file-browser-breadcrumb-bar'\r\n        breadcrumbBarWrapper.appendChild(this.barEl);\r\n    }\r\n\r\n    changePath()\r\n    {\r\n        let currentFolder = this.client.command.makeBinaryPath(this.activePath, true, 0, this.pageSize - 1);\r\n        this.client.sendBinaryPackage(1, 210, currentFolder);\r\n        this.fileBrowser.activePath = this.activePath;\r\n    }\r\n\r\n    pushBreadcrumb(breadcrumb: BreadcrumbItem)\r\n    {\r\n        let newBreadCrum = new Breadcrumb(this.barEl, this, breadcrumb);\r\n        this.breadcrumbs.push(newBreadCrum);\r\n        this.breadcrumbsMap.push(breadcrumb.key);\r\n        this.activePath = breadcrumb.key;\r\n    }\r\n\r\n    popCrumb()\r\n    {\r\n        if (this.breadcrumbs.length > 1)\r\n        {\r\n            let breadcrumb = this.breadcrumbs.pop();\r\n            this.breadcrumbsMap.pop();\r\n            breadcrumb.remove();\r\n            let breadcrumbKey = this.breadcrumbsMap[this.breadcrumbsMap.length - 1];\r\n            this.activePath = breadcrumbKey;\r\n            this.changePath();\r\n        }\r\n    }\r\n\r\n    removeBreadcrumbByKey(key: string)\r\n    {\r\n        let startIndex: number;\r\n        let breadcrumbLength = this.breadcrumbsMap.length;\r\n        for (let i = 0; i < breadcrumbLength; i++)\r\n        {\r\n            if (this.breadcrumbsMap[i] === key)\r\n            {\r\n                startIndex = i + 1;\r\n                break;\r\n            }\r\n        }\r\n        if (startIndex)\r\n        {\r\n            this.breadcrumbsMap.splice(startIndex, this.breadcrumbsMap.length - 1);\r\n            for (let j = startIndex; j < breadcrumbLength; j++)\r\n            {\r\n                let crumb = this.breadcrumbs[j];\r\n                crumb.remove();\r\n            }\r\n            this.breadcrumbs.splice(startIndex, this.breadcrumbs.length - 1);\r\n        }\r\n        this.activePath = key;\r\n        this.changePath();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/file-browser-modal/widgets/breadcrumb-bar.ts","import { BreadcrumbBar } from \"./breadcrumb-bar\";\r\n\r\nexport interface BreadcrumbItem\r\n{\r\n    key: string,\r\n    name: string\r\n}\r\n\r\n\r\nexport class Breadcrumb\r\n{\r\n    item: BreadcrumbItem\r\n    parentEl: HTMLElement\r\n    bar: BreadcrumbBar\r\n    itemEl: HTMLElement\r\n    constructor(parentEl: HTMLElement, breadcrumbBar: BreadcrumbBar, breadcrumb: BreadcrumbItem)\r\n    {\r\n        this.parentEl = parentEl;\r\n        this.bar = breadcrumbBar;\r\n        this.item = breadcrumb;\r\n\r\n        this.itemEl = document.createElement('li');\r\n\r\n        let itemTextEl = document.createElement('a');\r\n        itemTextEl.textContent = this.item.name.replace('\\\\', '');\r\n        this.itemEl.appendChild(itemTextEl);\r\n\r\n        this.itemEl.onclick = e =>\r\n        {\r\n            breadcrumbBar.removeBreadcrumbByKey(this.item.key);\r\n        }\r\n        this.parentEl.appendChild(this.itemEl);\r\n    }\r\n\r\n    remove()\r\n    {\r\n        $(this.itemEl).remove();\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/file-browser-modal/widgets/breadcrumb.ts","import { FileBrowserModal } from \"../file-browser-modal\";\r\nimport { WVTooltip } from \"../../tooltip\";\r\n\r\nexport interface FileItem\r\n{\r\n    name: string,\r\n    path: string,\r\n    size: number,\r\n    date: string\r\n}\r\n\r\n\r\nexport class File\r\n{\r\n    parentEl: HTMLElement\r\n    item: FileItem\r\n    browser: FileBrowserModal\r\n    fileWrapper: HTMLElement\r\n    constructor(parentEl: HTMLElement, values: FileItem, browser: FileBrowserModal)\r\n    {\r\n        this.parentEl = parentEl;\r\n        this.item = values;\r\n        this.browser = browser;\r\n\r\n        this.fileWrapper = document.createElement('div');\r\n        this.fileWrapper.className = 'file-browser-item-row';\r\n        this.parentEl.appendChild(this.fileWrapper);\r\n\r\n        let fileIcon = document.createElement('i');\r\n        fileIcon.className = 'fas fa-file file-browser-file-icon';\r\n        fileIcon.style.width = '20px';\r\n        fileIcon.style.color = 'black';\r\n        this.fileWrapper.appendChild(fileIcon);\r\n\r\n        let fileName = document.createElement('span');\r\n        fileName.className = 'file-browser-item-text';\r\n        fileName.textContent = this.item.name;\r\n        fileName.style.width = 'calc(55% - 12px)';\r\n        this.fileWrapper.appendChild(fileName);\r\n\r\n        let fileDate = document.createElement('span');\r\n        fileDate.className = 'file-browser-item-text';\r\n        fileDate.style.width = 'calc(25% - 12px)';\r\n        let date = this.item.date.replace(/-/g, '/');\r\n        fileDate.textContent = new Date(date).toLocaleString();\r\n        this.fileWrapper.appendChild(fileDate);\r\n\r\n        let fileSize = document.createElement('span');\r\n        fileSize.className = 'file-browser-item-text';\r\n        fileSize.style.width = 'calc(20% - 12px)';\r\n        fileSize.style.textAlign = 'right';\r\n        let size = this.calculateSize(this.item.size);\r\n        fileSize.textContent = size;\r\n        this.fileWrapper.appendChild(fileSize);\r\n\r\n        let fileTooltip = new WVTooltip(this.fileWrapper);\r\n        fileTooltip.setTitle(this.item.name);\r\n        fileTooltip.addAttribute(date);\r\n        fileTooltip.addAttribute(size);\r\n\r\n\r\n        this.fileWrapper.onclick = e =>\r\n        {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            if (!e.ctrlKey)\r\n            {\r\n                browser.fileList = [];\r\n            }\r\n            else\r\n            {\r\n                let index = browser.fileList.indexOf(this.item.path);\r\n                if (index === -1)\r\n                {\r\n                    browser.fileList.push(this.item.path);\r\n                }\r\n                else\r\n                {\r\n                    browser.fileList.splice(index, 1);\r\n                }\r\n                $(this.fileWrapper).toggleClass('file-browser-item-row-slected');\r\n                return;\r\n            }\r\n            browser.openCallBack(this.item.path);\r\n            if (!browser.showFilePreview && !e.ctrlKey)\r\n            {\r\n                browser.submit();\r\n            }\r\n            else\r\n            {\r\n                $('.file-browser-item-row').each(function ()\r\n                {\r\n                    $(this).removeClass('file-browser-item-row-slected');\r\n                })\r\n                $(this.fileWrapper).addClass('file-browser-item-row-slected');\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    calculateSize(sizeInB: number)\r\n    {\r\n        let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n        let i = Math.floor(Math.log(sizeInB) / Math.log(1024));\r\n        if (i === 0)\r\n        {\r\n            return sizeInB + ' ' + sizes[i];\r\n        }\r\n        return (sizeInB / Math.pow(1024, i)).toFixed(1) + ' ' + sizes[i];\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/file-browser-modal/widgets/file.ts","import { FileBrowserModal } from '../file-browser-modal';\r\nimport { WVTooltip } from '../../tooltip';\r\n\r\nexport interface FolderItem\r\n{\r\n    name: string,\r\n    path: string,\r\n    date: string\r\n}\r\n\r\n\r\nexport class Folder\r\n{\r\n    parentEl: HTMLElement\r\n    item: FolderItem\r\n    browser: FileBrowserModal\r\n    folderWrapper: HTMLElement\r\n    constructor(parentEl: HTMLElement, values: FolderItem, browser: FileBrowserModal)\r\n    {\r\n        this.parentEl = parentEl;\r\n        this.item = values;\r\n\r\n        this.folderWrapper = document.createElement('div');\r\n        this.folderWrapper.className = 'file-browser-item-row';\r\n        this.parentEl.appendChild(this.folderWrapper);\r\n\r\n        let folderIcon = document.createElement('i');\r\n        folderIcon.className = 'far fa-folder file-browser-folder-icon';\r\n        this.folderWrapper.appendChild(folderIcon);\r\n\r\n        let folderName = document.createElement('span');\r\n        folderName.className = 'file-browser-item-text';\r\n        let name = this.item.name.replace('\\\\', '');\r\n        folderName.textContent = name;\r\n        folderName.style.width = 'calc(55% - 12px)';\r\n        this.folderWrapper.appendChild(folderName);\r\n\r\n        let folderDate = document.createElement('span');\r\n        folderDate.className = 'file-browser-item-text';\r\n        folderDate.style.width = 'calc(25% - 12px)';\r\n        let date = this.item.date.replace(/-/g, '/');\r\n        folderDate.textContent = new Date(date).toLocaleString();\r\n        this.folderWrapper.appendChild(folderDate);\r\n\r\n        let folderTooltip = new WVTooltip(this.folderWrapper);\r\n        folderTooltip.setTitle(name);\r\n        folderTooltip.addAttribute(date);\r\n\r\n        this.folderWrapper.onclick = e =>\r\n        {\r\n            browser.setPath(this.item);\r\n            browser.setPage(1);\r\n        }\r\n\r\n    }\r\n\r\n    calculateSize(sizeInB: number)\r\n    {\r\n        let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n        let i = Math.floor(Math.log(sizeInB) / Math.log(1024));\r\n        if (i === 0)\r\n        {\r\n            return sizeInB + ' ' + sizes[i];\r\n        }\r\n        return (sizeInB / Math.pow(1024, i)).toFixed(1) + ' ' + sizes[i];\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/file-browser-modal/widgets/folder.ts","import { FileBrowserModal } from \"../file-browser-modal\";\r\n\r\nexport class PaginationRow\r\n{\r\n    parentEl: HTMLElement\r\n    browser: FileBrowserModal\r\n    page: number = 1\r\n    actualPageInput: HTMLInputElement\r\n    maxPage: HTMLElement\r\n    wrapperEl: HTMLElement\r\n    constructor(parentEl: HTMLElement, browser: FileBrowserModal)\r\n    {\r\n        this.parentEl = parentEl;\r\n        this.browser = browser;\r\n        this.page = browser.getPage();\r\n\r\n        this.wrapperEl = document.createElement('div');\r\n        this.wrapperEl.className = 'file-browser-pagination-row';\r\n        this.parentEl.appendChild(this.wrapperEl);\r\n\r\n        let firstPage = document.createElement('div');\r\n        firstPage.className = 'file-browser-pagination-icon';\r\n        let firstPageIcon = document.createElement('i');\r\n        firstPageIcon.className = 'far fa-chevron-double-left';\r\n\r\n        $(firstPage).off('click').on('click', ev =>\r\n        {\r\n            this.setPage(1);\r\n        });\r\n        firstPage.appendChild(firstPageIcon);\r\n        this.wrapperEl.appendChild(firstPage);\r\n\r\n        let prevPage = document.createElement('div');\r\n        prevPage.className = 'file-browser-pagination-icon';\r\n        let prevPageIcon = document.createElement('i');\r\n        prevPageIcon.className = 'far fa-chevron-left';\r\n\r\n        $(prevPage).off('click').on('click', ev =>\r\n        {\r\n            if (this.page > 1)\r\n            {\r\n                this.setPage(this.page - 1);\r\n            }\r\n\r\n        });\r\n        prevPage.appendChild(prevPageIcon);\r\n        this.wrapperEl.appendChild(prevPage);\r\n\r\n        this.actualPageInput = document.createElement('input');\r\n        this.actualPageInput.className = 'file-browser-actual-page-input';\r\n        this.actualPageInput.value = this.page.toString();\r\n        $(this.actualPageInput).change(ev =>\r\n        {\r\n            this.setPage(parseInt(this.actualPageInput.value));\r\n        });\r\n        this.wrapperEl.appendChild(this.actualPageInput);\r\n\r\n\r\n        this.maxPage = document.createElement('span');\r\n        this.maxPage.className = 'file-browser-max-page';\r\n        this.maxPage.textContent = ' /' + Math.ceil(this.browser.size / this.browser.pageSize);\r\n        this.wrapperEl.appendChild(this.maxPage);\r\n\r\n\r\n        let nextPage = document.createElement('div');\r\n        nextPage.className = 'file-browser-pagination-icon';\r\n        let nextPageIcon = document.createElement('i');\r\n        nextPageIcon.className = 'far fa-chevron-right';\r\n\r\n        $(nextPage).off('click').on('click', ev =>\r\n        {\r\n            if (this.page < this.browser.size / this.browser.pageSize)\r\n            {\r\n                this.setPage(this.page + 1);\r\n            }\r\n        });\r\n        nextPage.appendChild(nextPageIcon);\r\n        this.wrapperEl.appendChild(nextPage);\r\n\r\n        let lastPage = document.createElement('div');\r\n        lastPage.className = 'file-browser-pagination-icon';\r\n        let lastPageIcon = document.createElement('i');\r\n        lastPageIcon.className = 'far fa-chevron-double-right';\r\n\r\n        $(lastPage).off('click').on('click', ev =>\r\n        {\r\n            this.setPage(Math.ceil(this.browser.size / this.browser.pageSize));\r\n        });\r\n        lastPage.appendChild(lastPageIcon);\r\n        this.wrapperEl.appendChild(lastPage);\r\n    }\r\n\r\n    setPage(page: number)\r\n    {\r\n        this.page = page;\r\n        this.actualPageInput.value = this.page.toString();\r\n        this.browser.setPage(page);\r\n    }\r\n\r\n    updatePageCount()\r\n    {\r\n        this.maxPage.textContent = ' /' + Math.ceil(this.browser.size / this.browser.pageSize);\r\n    }\r\n\r\n    show()\r\n    {\r\n        $(this.wrapperEl).show();\r\n    }\r\n\r\n    hide()\r\n    {\r\n        $(this.wrapperEl).hide();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/file-browser-modal/widgets/pagination.ts","import * as ui from '../ui'\r\nimport { NativeLoadingSwitch } from './widgets/switch';\r\nimport { OptionToggle } from './widgets/option-toggle';\r\nimport { LoadingSlider } from './widgets/loading-slider';\r\nimport { VSWebClient } from '../../base/vsweb-client-impl';\r\nimport { WVTooltip } from '../tooltip';\r\n\r\ndeclare var _FastNativeLoading: string\r\ndeclare var _ModerateNativeLoading: string\r\ndeclare var _CompleteNativeLoading: string\r\ndeclare var _IncludeHiddenNativeLoading: string\r\ndeclare var _Hide2DSwitch: boolean\r\nlet sliderStepIdMapping = ['ID_IMPORTDIALOG_SLIDER_TEXT_0', 'ID_IMPORTDIALOG_SLIDER_TEXT_1', 'ID_IMPORTDIALOG_SLIDER_TEXT_2', 'ID_IMPORTDIALOG_SLIDER_TEXT_3'];\r\nlet sliderStepTooltipIdMapping = ['ID_IMPORTDIALOG_SLIDER_TOOLTIP_0', 'ID_IMPORTDIALOG_SLIDER_TOOLTIP_1', 'ID_IMPORTDIALOG_SLIDER_TOOLTIP_2', 'ID_IMPORTDIALOG_SLIDER_TOOLTIP_3'];\r\n\r\nexport class NativeLoadingModal\r\n{\r\n    modalWrapper: HTMLElement\r\n    titleEl: HTMLElement\r\n    mousePointerEvent: any\r\n    slider: LoadingSlider\r\n    client: VSWebClient\r\n    file: string\r\n    isOpen: boolean\r\n    preferGeometrySwitch: OptionToggle\r\n    prefer3DSwitch: OptionToggle\r\n    rememberMeSwitch: NativeLoadingSwitch\r\n    initSettings: any\r\n    readModeTooltip: WVTooltip\r\n    geomTooltip: WVTooltip\r\n    submitButton: HTMLButtonElement\r\n    skipButton: HTMLButtonElement\r\n    callback: any\r\n    constructor(client: VSWebClient, file: string, callback: any, hideRememberMe: boolean)\r\n    {\r\n        this.client = client;\r\n        this.file = file;\r\n        this.callback = callback;\r\n        this.modalWrapper = document.createElement('div');\r\n        this.modalWrapper.className = 'native-loading-modal';\r\n        this.isOpen = true;\r\n        this.detectOutsideClick = this.detectOutsideClick.bind(this);\r\n        this.detectEscPressed = this.detectEscPressed.bind(this);\r\n        this.setTesselation = this.setTesselation.bind(this);\r\n        this.setImportMode = this.setImportMode.bind(this);\r\n        this.setSliderStep = this.setSliderStep.bind(this);\r\n        this.titleEl = document.createElement('span');\r\n        this.titleEl.className = 'native-loading-modal-title';\r\n        this.titleEl.textContent = ui.translate('ID_IMPORTDIALOG_TITLE_TEXT');\r\n        this.modalWrapper.appendChild(this.titleEl);\r\n\r\n        let contentWrapper = document.createElement('div');\r\n        contentWrapper.className = 'native-loading-modal-content-wrapper';\r\n        contentWrapper.style.marginTop = '20px';\r\n        contentWrapper.style.height = 'calc(50% - 20px)';\r\n        this.modalWrapper.appendChild(contentWrapper);\r\n\r\n        this.slider = new LoadingSlider(contentWrapper, true, this.setSliderStep);\r\n\r\n        this.preferGeometrySwitch = new OptionToggle(contentWrapper, 'ID_IMPORTDIALOG_SWITCH_READMODE_TEXT_BREP', 'ID_IMPORTDIALOG_SWITCH_READMODE_TEXT_TESSELLATION', this.setTesselation);\r\n        this.geomTooltip = new WVTooltip(this.preferGeometrySwitch.wrapperEl);\r\n        this.geomTooltip.setTitle(ui.translate('ID_IMPORTDIALOG_SWITCH_READMODE_TOOLTIP'));\r\n        this.prefer3DSwitch = new OptionToggle(contentWrapper, 'ID_IMPORTDIALOG_SWITCH_IMPORTMODE_TEXT_2D', 'ID_IMPORTDIALOG_SWITCH_IMPORTMODE_TEXT_3D', this.setImportMode);\r\n        this.readModeTooltip = new WVTooltip(this.prefer3DSwitch.wrapperEl);\r\n        this.readModeTooltip.setTitle(ui.translate('ID_IMPORTDIALOG_SWITCH_IMPORTMODE_TOOLTIP'));\r\n        this.prefer3DSwitch.wrapperEl.style.marginTop = '20px';\r\n\r\n        try\r\n        {\r\n            if (_Hide2DSwitch)\r\n            {\r\n                $(this.prefer3DSwitch.wrapperEl).hide();\r\n            }\r\n        }\r\n        catch (e) {}\r\n\r\n        let buttonWrapper = document.createElement('div');\r\n        buttonWrapper.className = 'native-loading-buttons';\r\n        this.modalWrapper.appendChild(buttonWrapper);\r\n\r\n        this.skipButton = document.createElement('button');\r\n        this.skipButton.textContent = ui.translate('ID_IMPORTDIALOG_BUTTON_SKIP');\r\n        this.skipButton.className = 'native-loading-skip';\r\n        buttonWrapper.appendChild(this.skipButton);\r\n\r\n        $(this.skipButton).click(e =>\r\n        {\r\n            this.skip();\r\n        });\r\n\r\n        if (!hideRememberMe)\r\n        {\r\n            this.rememberMeSwitch = new NativeLoadingSwitch(buttonWrapper, 'ID_IMPORTDIALOG_SWITCH_DONOTSHOWAGAIN_TEXT', false);\r\n            this.rememberMeSwitch.wrapperEl.className = 'remember-me-switch';\r\n        }\r\n\r\n        this.submitButton = document.createElement('button');\r\n        this.submitButton.className = 'native-loading-ok';\r\n        this.submitButton.textContent = ui.translate('ID_IMPORTDIALOG_BUTTON_OK');\r\n        buttonWrapper.appendChild(this.submitButton);\r\n\r\n        $(this.submitButton).click(e =>\r\n        {\r\n            let step = this.slider.getStep();\r\n            let nativeLoadingSettings = {\r\n                prefer2D: this.prefer3DSwitch.getVal(),\r\n                preferTesselation: this.preferGeometrySwitch.getVal(),\r\n                step: step,\r\n                rememberMe: this.rememberMeSwitch ? this.rememberMeSwitch.getVal() : false\r\n            };\r\n            this.initSettings = nativeLoadingSettings;\r\n            this.submit(nativeLoadingSettings);\r\n        });\r\n\r\n        document.body.appendChild(this.modalWrapper);\r\n\r\n        window.onresize = e =>\r\n        {\r\n            ui.resizeHandler();\r\n            this.resize();\r\n        }\r\n\r\n        let storage = localStorage.getItem('nativeLoadingSettings');\r\n        if (storage !== null)\r\n        {\r\n            let parsedStorage = JSON.parse(storage);\r\n            this.initSettings = parsedStorage;\r\n        }\r\n        else\r\n        {\r\n            this.initSettings = {\r\n                step: 3,\r\n                prefer2D: true,\r\n                rememberMe: false,\r\n                preferTesselation: true\r\n            }\r\n            this.slider.stepTo(3);\r\n        }\r\n        this.langChanged();\r\n        this.client.on('@changeLang', lang =>\r\n        {\r\n            this.langChanged();\r\n        })\r\n        this.resize();\r\n    }\r\n\r\n    setCallback(callback: any)\r\n    {\r\n        this.callback = callback;\r\n    }\r\n\r\n    setTesselation(state: boolean)\r\n    {\r\n        if (this.preferGeometrySwitch)\r\n        {\r\n            this.slider.setTesselationMode(!state);\r\n            if (!state)\r\n            {\r\n                this.preferGeometrySwitch.setHighlightColor('darkred');\r\n            }\r\n            else\r\n            {\r\n                this.preferGeometrySwitch.setHighlightColor('darkgreen');\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    setImportMode(state: boolean)\r\n    {\r\n    }\r\n\r\n    setSliderStep(pos: number)\r\n    {\r\n        if (this.preferGeometrySwitch && this.prefer3DSwitch)\r\n        {\r\n            let preset: string;\r\n            switch (pos)\r\n            {\r\n                case 0:\r\n                    preset = _IncludeHiddenNativeLoading;\r\n                    break;\r\n                case 1:\r\n                    preset = _CompleteNativeLoading;\r\n                    break;\r\n                case 2:\r\n                    preset = _ModerateNativeLoading;\r\n                    break;\r\n                case 3:\r\n                    preset = _FastNativeLoading;\r\n                    break;\r\n            }\r\n            let preferBREP = preset.indexOf('PreferGeometry') !== -1;\r\n            if (preferBREP)\r\n            {\r\n                this.preferGeometrySwitch.setVal(false);\r\n            }\r\n            let preferTesselation = preset.indexOf('PreferTessellation') !== -1;\r\n            if (preferTesselation)\r\n            {\r\n                this.preferGeometrySwitch.setVal(true);\r\n            }\r\n            let prefer3D = preset.indexOf('Prefer3D') !== -1;\r\n            if (prefer3D)\r\n            {\r\n                this.prefer3DSwitch.setVal(true);\r\n            }\r\n            let prefer2D = preset.indexOf('Prefer2D') !== -1;\r\n            if (prefer2D)\r\n            {\r\n                this.prefer3DSwitch.setVal(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    langChanged()\r\n    {\r\n        this.titleEl.textContent = ui.translate('ID_IMPORTDIALOG_TITLE_TEXT');\r\n        this.prefer3DSwitch.changeLang();\r\n        this.preferGeometrySwitch.changeLang();\r\n        this.readModeTooltip.setTitle(ui.translate('ID_IMPORTDIALOG_SWITCH_IMPORTMODE_TOOLTIP'));\r\n        this.geomTooltip.setTitle(ui.translate('ID_IMPORTDIALOG_SWITCH_READMODE_TOOLTIP'));\r\n\r\n        let slider1 = document.getElementById('slider_step_0_text');\r\n        slider1.textContent = ui.translate(sliderStepIdMapping[0]);\r\n        let slider1Tooltip = new WVTooltip(slider1);\r\n        slider1Tooltip.setTitle(ui.translate(sliderStepTooltipIdMapping[0]));\r\n        let slider1Handle = document.getElementById('Step_0');\r\n        let slider1HandleTooltip = new WVTooltip(slider1Handle);\r\n        slider1HandleTooltip.setTitle(ui.translate(sliderStepTooltipIdMapping[0]));\r\n\r\n        let slider2 = document.getElementById('slider_step_1_text');\r\n        slider2.textContent = ui.translate(sliderStepIdMapping[1]);\r\n        let slider2Tooltip = new WVTooltip(slider2);\r\n        slider2Tooltip.setTitle(ui.translate(sliderStepTooltipIdMapping[1]));\r\n        let slider2Handle = document.getElementById('Step_1');\r\n        let slider2HandleTooltip = new WVTooltip(slider2Handle);\r\n        slider2HandleTooltip.setTitle(ui.translate(sliderStepTooltipIdMapping[1]));\r\n\r\n        let slider3 = document.getElementById('slider_step_2_text');\r\n        slider3.textContent = ui.translate(sliderStepIdMapping[2]);\r\n        let slider3Tooltip = new WVTooltip(slider3);\r\n        slider3Tooltip.setTitle(ui.translate(sliderStepTooltipIdMapping[2]));\r\n        let slider3Handle = document.getElementById('Step_2');\r\n        let slider3HandleTooltip = new WVTooltip(slider3Handle);\r\n        slider3HandleTooltip.setTitle(ui.translate(sliderStepTooltipIdMapping[2]));\r\n\r\n        let slider4 = document.getElementById('slider_step_3_text')\r\n        slider4.textContent = ui.translate(sliderStepIdMapping[3]);\r\n        let slider4Tooltip = new WVTooltip(slider4);\r\n        slider4Tooltip.setTitle(ui.translate(sliderStepTooltipIdMapping[3]));\r\n        let slider4Handle = document.getElementById('Step_3');\r\n        let slider4HandleTooltip = new WVTooltip(slider4Handle);\r\n        slider4HandleTooltip.setTitle(ui.translate(sliderStepTooltipIdMapping[3]));\r\n\r\n        if (this.rememberMeSwitch)\r\n        {\r\n            this.rememberMeSwitch.changeLang();\r\n        }\r\n    }\r\n\r\n    resize()\r\n    {\r\n        this.slider.resize();\r\n        this.prefer3DSwitch.resize();\r\n        this.preferGeometrySwitch.resize();\r\n    }\r\n\r\n    skip()\r\n    {\r\n        let showAgain = this.rememberMeSwitch ? this.rememberMeSwitch.getVal() : false;\r\n        this.initSettings.rememberMe = showAgain;\r\n        localStorage.setItem('nativeLoadingSettings', JSON.stringify(this.initSettings));\r\n        this.hide();\r\n    }\r\n\r\n    hide(cancel?: boolean)\r\n    {\r\n        document.body.removeEventListener('click', this.detectOutsideClick);\r\n        document.body.removeEventListener('keyup', this.detectEscPressed);\r\n        this.isOpen = false;\r\n        if (!cancel)\r\n        {\r\n            ui.deactivateInteraction(this.client);\r\n            this.callback(this.file);\r\n            ui.canvasStack.setTabTitle(this.file.split(\"/\")[this.file.split(\"/\").length - 1]);\r\n            this.client.emit('@NativeLoad', this.file);\r\n        }\r\n        this.file = undefined;\r\n        this.callback = undefined;\r\n        $(this.modalWrapper).hide();\r\n    }\r\n\r\n    setFile(filename: string)\r\n    {\r\n        this.file = filename;\r\n    }\r\n\r\n    show()\r\n    {\r\n        this.isOpen = true;\r\n        $(this.modalWrapper).show();\r\n        document.body.addEventListener('click', this.detectOutsideClick);\r\n        document.body.addEventListener('keyup', this.detectEscPressed);\r\n\r\n        let storedSettings = localStorage.getItem('nativeLoadingSettings');\r\n        if (storedSettings === null)\r\n        {\r\n            this.initSettings = {\r\n                step: 3,\r\n                prefer2D: true,\r\n                preferTesselation: true\r\n            };\r\n        }\r\n        this.prefer3DSwitch.setVal(this.initSettings.prefer2D);\r\n        this.preferGeometrySwitch.setVal(this.initSettings.preferTesselation);\r\n        this.slider.stepTo(this.initSettings.step);\r\n        if (this.rememberMeSwitch)\r\n        {\r\n            this.rememberMeSwitch.setVal(false);\r\n            let buttonWidthSum = this.submitButton.offsetWidth + this.skipButton.offsetWidth + 100;\r\n            this.rememberMeSwitch.wrapperEl.style.width = 'calc(100% - ' + buttonWidthSum + 'px)';\r\n            this.rememberMeSwitch.titleEl.style.overflow = 'hidden';\r\n            this.rememberMeSwitch.titleEl.style.textOverflow = 'ellipsis';\r\n            this.rememberMeSwitch.titleEl.style.whiteSpace = 'nowrap';\r\n            this.rememberMeSwitch.titleEl.style.width = 'calc(100% - 40px)';\r\n        }\r\n    }\r\n\r\n    detectOutsideClick(e)\r\n    {\r\n        if (!(e.target === this.modalWrapper || this.modalWrapper.contains(e.target)) && this.rememberMeSwitch)\r\n        {\r\n            this.hide(true);\r\n        }\r\n    }\r\n\r\n    detectEscPressed(e)\r\n    {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (e.keyCode === 27)\r\n        {\r\n            this.hide(true);\r\n        }\r\n    }\r\n\r\n    submit(nativeLoadingSettings)\r\n    {\r\n        localStorage.removeItem('nativeLoadingSettings');\r\n        localStorage.setItem('nativeLoadingSettings', JSON.stringify(nativeLoadingSettings));\r\n\r\n        let xml = '<Call Method=\"SetSettings\">';\r\n        switch (nativeLoadingSettings.step)\r\n        {\r\n            case 0:\r\n                xml += _IncludeHiddenNativeLoading\r\n                break\r\n            case 1:\r\n                xml += _CompleteNativeLoading\r\n                break\r\n            case 2:\r\n                xml += _ModerateNativeLoading\r\n                break\r\n            case 3:\r\n                xml += _FastNativeLoading\r\n                break\r\n        }\r\n        xml += '</Call>'\r\n        this.client.command.executeXML(xml);\r\n        let prefer2DString = nativeLoadingSettings.prefer2D ? 'Prefer3D' : 'Prefer2D';\r\n        let preferTesselationString = nativeLoadingSettings.preferTesselation === false ? 'PreferGeometry' : 'PreferTessellation';\r\n        xml = '<Call Method=\"SetSettings\"><Settings><Import3D><General><ImportMode>' + prefer2DString + '</ImportMode>';\r\n        xml += '<ReadMode>' + preferTesselationString + '</ReadMode></General ></Import3D ></Settings ></Call > ';\r\n        this.client.command.executeXML(xml);\r\n        this.client.once('SetSettings', ev =>\r\n        {\r\n            this.hide();\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/native-loading-modal/native-loading-modal.ts","import * as ui from '../../ui'\r\n\r\nlet sliderStepIdMapping = ['ID_IMPORTDIALOG_SLIDER_TEXT_0', 'ID_IMPORTDIALOG_SLIDER_TEXT_1', 'ID_IMPORTDIALOG_SLIDER_TEXT_2', 'ID_IMPORTDIALOG_SLIDER_TEXT_3'];\r\n\r\nexport class LoadingSlider\r\n{\r\n    parent: HTMLElement\r\n    step: number\r\n    wrapperEl: HTMLElement\r\n    loadTesselation: boolean\r\n    offset: number\r\n    shrink: number\r\n    sliderWrapper: HTMLElement\r\n    handle: HTMLElement\r\n    bar: HTMLElement\r\n    clickcallBack: any\r\n\r\n    constructor(parent: HTMLElement, loadTesselation: boolean, clickcallBack: any)\r\n    {\r\n        this.clickcallBack = clickcallBack;\r\n        this.parent = parent;\r\n        this.wrapperEl = document.createElement('div');\r\n        this.wrapperEl.className = 'stepped-slider-wrapper';\r\n        this.parent.appendChild(this.wrapperEl);\r\n\r\n        this.sliderWrapper = document.createElement('div');\r\n        this.sliderWrapper.className = 'stepped-slider-bar';\r\n        this.wrapperEl.appendChild(this.sliderWrapper);\r\n\r\n        this.handle = document.createElement('span');\r\n        this.handle.className = 'stepped-slider-handle draggable';\r\n        this.handle.id = 'native-loading-handle';\r\n        this.sliderWrapper.appendChild(this.handle);\r\n\r\n        this.bar = document.createElement('span');\r\n        this.bar.className = 'stepped-slider-bar-filled';\r\n        this.bar.id = 'native-loading-bar';\r\n        this.sliderWrapper.appendChild(this.bar);\r\n\r\n        for (let i = 0; i < sliderStepIdMapping.length; i++)\r\n        {\r\n            let step = document.createElement('span');\r\n            step.id = 'Step_' + i;\r\n            step.className = 'slider-step';\r\n            $(step).css('left', i * 133);\r\n\r\n            let placeHolder = document.createElement('span');\r\n            step.appendChild(placeHolder);\r\n\r\n            let stepText = document.createElement('span');\r\n            stepText.className = 'slider-step-title';\r\n            stepText.id = 'slider_step_' + i + '_text';\r\n            let langId = sliderStepIdMapping[i];\r\n            stepText.textContent = ui.translate(langId);\r\n\r\n            $(step).click(e =>\r\n            {\r\n                this.stepTo(i);\r\n            })\r\n            step.appendChild(stepText);\r\n            this.sliderWrapper.appendChild(step);\r\n        }\r\n\r\n        let emptyBar = document.createElement('span');\r\n        emptyBar.className = 'stepped-slider-bar-empty';\r\n        $(emptyBar).click(e =>\r\n        {\r\n            let pos = e.pageX - $(e.target).parent().offset().left;\r\n            let lowerStep = Math.floor(pos / 133);\r\n            let higherStep = Math.ceil(pos / 133);\r\n            if (higherStep > this.step)\r\n            {\r\n                this.stepTo(higherStep);\r\n            }\r\n            else\r\n            {\r\n                this.stepTo(lowerStep);\r\n            }\r\n        })\r\n        this.sliderWrapper.appendChild(emptyBar);\r\n        this.setTesselationMode(loadTesselation);\r\n\r\n        this.shrink = 0;\r\n\r\n        $(this.handle).kendoTouch({\r\n            dragstart: e =>\r\n            {\r\n                this.offset = $(this.parent).offset().left;\r\n            },\r\n            drag: e =>\r\n            {\r\n                let widthFactor = 500 - document.body.clientWidth;\r\n                if (e.touch.x.location - this.offset <= 404 - widthFactor && e.touch.x.location - this.offset >= 0)\r\n                {\r\n                    this.handle.style.left = e.touch.x.location - this.offset + 'px';\r\n                    this.bar.style.width = e.touch.x.location - this.offset + 'px';\r\n                }\r\n            },\r\n            dragend: e =>\r\n            {\r\n                let value = parseInt($(this.handle).css('left'));\r\n                this.stepTo(Math.round(value / (133 - this.shrink)));\r\n            }\r\n        });\r\n    }\r\n\r\n    stepTo(step: number)\r\n    {\r\n        this.clickcallBack(step);\r\n        this.step = step;\r\n        $('#native-loading-bar').css('width', step * 133 - step * this.shrink);\r\n        $('#native-loading-handle').css('left', step * 133 - step * this.shrink + 4);\r\n        let loadTesselation = this.loadTesselation;\r\n        $('.slider-step').each(function(index)\r\n        {\r\n            let stepNumber = parseInt(this.id.split('_')[1]);\r\n            //Color tesselation/BREP mode\r\n            if (loadTesselation)\r\n            {\r\n                $(this).removeClass('slider-step-green-hover').addClass('slider-step-orange-hover');\r\n                if (stepNumber === step)\r\n                {\r\n                    $(this).children('.slider-step-title').css('color', 'darkred');\r\n                }\r\n                else\r\n                {\r\n                    $(this).children('.slider-step-title').css('color', 'black');\r\n                }\r\n            }\r\n            else\r\n            {\r\n                $(this).removeClass('slider-step-orange-hover').addClass('slider-step-green-hover');\r\n                if (stepNumber === step)\r\n                {\r\n                    $(this).children('.slider-step-title').css('color', 'green');\r\n                }\r\n                else\r\n                {\r\n                    $(this).children('.slider-step-title').css('color', 'black');\r\n                }\r\n            }\r\n            //Color step width\r\n            if (stepNumber < step)\r\n            {\r\n                $(this).children().first().addClass('slider-step-highlighted');\r\n            }\r\n            else\r\n            {\r\n                $(this).children().first().removeClass('slider-step-highlighted')\r\n            }\r\n        })\r\n        if (loadTesselation)\r\n        {\r\n            $('#native-loading-handle').css('background-color', 'darkred');\r\n            $('.stepped-slider-bar-filled').css('background-color', 'darkred');\r\n            $('.slider-step-highlighted').css('background-color', 'darkred');\r\n        }\r\n        else\r\n        {\r\n            $('#native-loading-handle').css('background-color', 'darkgreen');\r\n            $('.stepped-slider-bar-filled').css('background-color', 'darkgreen');\r\n            $('.slider-step-highlighted').css('background-color', 'darkgreen');\r\n        }\r\n    }\r\n\r\n    setTesselationMode(bool: boolean)\r\n    {\r\n        this.loadTesselation = bool;\r\n        if (bool)\r\n        {\r\n            $('#native-loading-handle').css('background-color', 'darkred');\r\n            $('.stepped-slider-bar-filled').css('background-color', 'darkred');\r\n            $('.slider-step-highlighted').css('background-color', 'darkred');\r\n            let distance = this.step;\r\n            $('.slider-step').each(function (index)\r\n            {\r\n                let stepNumber = parseInt(this.id.split('_')[1]);\r\n                $(this).removeClass('slider-step-green-hover').addClass('slider-step-orange-hover');\r\n                if (stepNumber === distance)\r\n                {\r\n                    $(this).children('.slider-step-title').css('color', 'darkred');\r\n                }\r\n                else\r\n                {\r\n                    $(this).children('.slider-step-title').css('color', 'black');\r\n                }\r\n            });\r\n        }\r\n        else\r\n        {\r\n            $('#native-loading-handle').css('background-color', 'darkgreen');\r\n            $('.stepped-slider-bar-filled').css('background-color', 'darkgreen');\r\n            $('.slider-step-highlighted').css('background-color', 'darkgreen');\r\n            let distance = this.step;\r\n            $('.slider-step').each(function (index)\r\n            {\r\n                let stepNumber = parseInt(this.id.split('_')[1]);\r\n                $(this).removeClass('slider-step-orange-hover').addClass('slider-step-green-hover');\r\n                if (stepNumber === distance)\r\n                {\r\n                    $(this).children('.slider-step-title').css('color', 'darkgreen');\r\n                }\r\n                else\r\n                {\r\n                    $(this).children('.slider-step-title').css('color', 'black');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    resize()\r\n    {\r\n        let widthFactor = 500 - document.body.clientWidth;\r\n        if (widthFactor > 0)\r\n        {\r\n            this.sliderWrapper.style.width = 418 - widthFactor + 'px';\r\n            let shrink = widthFactor / 3;\r\n            this.shrink = shrink;\r\n            this.bar.style.width = this.step * 133 - this.step * this.shrink + 'px';\r\n            this.handle.style.left = this.step * 133 - this.step * this.shrink + 4 + 'px';\r\n            $('.slider-step').each(function (index)\r\n            {\r\n                this.style.left = index * 133 - index * shrink + 'px';\r\n            });\r\n        }\r\n        else\r\n        {\r\n            this.sliderWrapper.style.width = 418 + 'px';\r\n            this.shrink = 0;\r\n            let shrink = 0;\r\n            this.bar.style.width = this.step * 133 - this.step * this.shrink + 'px';\r\n            this.handle.style.left = this.step * 133 - this.step * this.shrink + 4 + 'px';\r\n            $('.slider-step').each(function (index)\r\n            {\r\n                this.style.left = index * 133 - index * shrink + 'px';\r\n            });\r\n        }\r\n    }\r\n\r\n    getStep()\r\n    {\r\n        return this.step;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/native-loading-modal/widgets/loading-slider.ts","import * as ui from '../../ui'\r\n\r\nexport class OptionToggle\r\n{\r\n    boxEl: HTMLElement\r\n    handleEl: HTMLElement\r\n    parent: HTMLElement\r\n    val: boolean = false\r\n    wrapperEl: HTMLElement\r\n    titleElLeft: HTMLElement\r\n    titleElRight: HTMLElement\r\n    clickCallback: any\r\n    titleIdLeft: string\r\n    titleIdRight: string\r\n\r\n    constructor(parent: HTMLElement, titleIdLeft: string, titleIdRight: string, clickCallback: any, initialVal?: string)\r\n    {\r\n        this.parent = parent;\r\n        this.clickCallback = clickCallback;\r\n        this.titleIdLeft = titleIdLeft;\r\n        this.titleIdRight = titleIdRight;\r\n        this.wrapperEl = document.createElement('div');\r\n        this.wrapperEl.className = 'option-toggle';\r\n        this.parent.appendChild(this.wrapperEl);\r\n        if (initialVal)\r\n        {\r\n            this.val = initialVal === 'right';\r\n        }\r\n        //Title element left\r\n        this.titleElLeft = document.createElement('div');\r\n        this.titleElLeft.className = 'option-toggle-title';\r\n        this.titleElLeft.id = titleIdLeft;\r\n        this.titleElLeft.textContent = ui.translate(titleIdLeft);\r\n        this.wrapperEl.appendChild(this.titleElLeft);\r\n        //Box element\r\n        this.boxEl = document.createElement('div');\r\n        this.boxEl.className = 'option-toggle-wrapper option-toggle-wrapper';\r\n        let statusClass = this.val ? 'toggle-on' : 'toggle-off';\r\n        $(this.boxEl).addClass(statusClass);\r\n        this.wrapperEl.appendChild(this.boxEl);\r\n        //Handle element\r\n        this.handleEl = document.createElement('div');\r\n        this.handleEl.className = 'toggle-handle';\r\n        this.boxEl.appendChild(this.handleEl);\r\n        //Title element right\r\n        this.titleElRight = document.createElement('div');\r\n        this.titleElRight.className = 'option-toggle-title';\r\n        this.titleElRight.id = titleIdRight;\r\n        this.titleElRight.textContent = ui.translate(titleIdRight);\r\n        this.wrapperEl.appendChild(this.titleElRight);\r\n\r\n        this.titleElLeft.style.left = 'calc(50% - ' + (this.titleElLeft.clientWidth + 15) + 'px)';\r\n\r\n        $(this.boxEl).click(e =>\r\n        {\r\n            this.setVal(!this.val);\r\n        });\r\n\r\n        this.setVal(this.val);\r\n    }\r\n\r\n    resize()\r\n    {\r\n        this.titleElLeft.style.left = 'calc(50% - ' + (this.titleElLeft.clientWidth + 15) + 'px)';\r\n    }\r\n\r\n    getVal(): boolean\r\n    {\r\n        return this.val;\r\n    }\r\n\r\n    setVal(val: boolean)\r\n    {\r\n        this.val = val;\r\n        this.clickCallback(this.val);\r\n        if (this.val)\r\n        {\r\n            $(this.boxEl).removeClass('toggle-off').addClass('toggle-on');\r\n            $(this.titleElLeft).removeClass('option-toggle-title-active');\r\n            $(this.titleElRight).addClass('option-toggle-title-active');\r\n        }\r\n        else\r\n        {\r\n            $(this.boxEl).removeClass('toggle-on').addClass('toggle-off');\r\n            $(this.titleElLeft).addClass('option-toggle-title-active');\r\n            $(this.titleElRight).removeClass('option-toggle-title-active');\r\n        }\r\n    }\r\n\r\n    changeLang()\r\n    {\r\n        this.titleElLeft.textContent = ui.translate(this.titleIdLeft);\r\n        this.titleElRight.textContent = ui.translate(this.titleIdRight);\r\n    }\r\n\r\n    setHighlightColor(color: string)\r\n    {\r\n        if (this.val)\r\n        {\r\n            this.titleElRight.style.color = color;\r\n            this.titleElLeft.style.color = 'black';\r\n        }\r\n        else\r\n        {\r\n            this.titleElLeft.style.color = color;\r\n            this.titleElRight.style.color = 'black';\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/native-loading-modal/widgets/option-toggle.ts","import * as ui from '../../ui'\r\n\r\nexport class NativeLoadingSwitch\r\n{\r\n    boxEl: HTMLElement\r\n    handleEl: HTMLElement\r\n    hiddenCheckbox: HTMLInputElement\r\n    parent: HTMLElement\r\n    val: boolean = false\r\n    wrapperEl: HTMLElement\r\n    titleEl: HTMLElement\r\n    titleId: string\r\n\r\n    constructor(parent: HTMLElement, titleId: string, initialVal?: boolean)\r\n    {\r\n        this.parent = parent;\r\n        this.titleId = titleId;\r\n        this.wrapperEl = document.createElement('div');\r\n        this.parent.appendChild(this.wrapperEl);\r\n        if (initialVal)\r\n        {\r\n            this.val = initialVal;\r\n        }\r\n        //Hidden checkbox\r\n        this.hiddenCheckbox = document.createElement('input');\r\n        this.hiddenCheckbox.type = 'checkbox';\r\n        this.hiddenCheckbox.value = this.val + '';\r\n        this.hiddenCheckbox.style.display = 'none';\r\n        this.wrapperEl.appendChild(this.hiddenCheckbox);\r\n        //Box element\r\n        this.boxEl = document.createElement('div');\r\n        this.boxEl.className = 'switch-wrapper';\r\n        this.boxEl.style.display = 'inline-block';\r\n        let statusClass = this.val ? 'switch-on' : 'switch-off';\r\n        $(this.boxEl).addClass(statusClass);\r\n        this.wrapperEl.appendChild(this.boxEl);\r\n        //Title element\r\n        this.titleEl = document.createElement('div');\r\n        this.titleEl.className = 'switch-title';\r\n        this.titleEl.id = titleId;\r\n        this.titleEl.textContent = ui.translate(titleId);\r\n        this.wrapperEl.appendChild(this.titleEl);\r\n        //Handle element\r\n        this.handleEl = document.createElement('div');\r\n        this.handleEl.className = 'switch-handle';\r\n        this.boxEl.appendChild(this.handleEl);\r\n\r\n        $(this.boxEl).click(e =>\r\n        {\r\n            this.val = !this.val;\r\n            let val = this.val ? 'true' : 'false';\r\n            $(this.hiddenCheckbox).val(val);\r\n            $(this.hiddenCheckbox).trigger('change');\r\n            if (this.val)\r\n            {\r\n                $(this.boxEl).removeClass('switch-off').addClass('switch-on');\r\n            }\r\n            else\r\n            {\r\n                $(this.boxEl).removeClass('switch-on').addClass('switch-off');\r\n            }\r\n        });\r\n\r\n        this.setVal(this.val);\r\n    }\r\n\r\n    getTitleEl(): HTMLElement\r\n    {\r\n        return this.titleEl;\r\n    }\r\n\r\n    getClickEl(): HTMLElement\r\n    {\r\n        return this.hiddenCheckbox;\r\n    }\r\n\r\n    getVal(): boolean\r\n    {\r\n        return this.val;\r\n    }\r\n\r\n    changeLang()\r\n    {\r\n        this.titleEl.textContent = ui.translate(this.titleId);\r\n    }\r\n\r\n    setVal(val)\r\n    {\r\n        let valString = val ? 'true' : 'false';\r\n        this.val = val;\r\n        $(this.hiddenCheckbox).val(valString);\r\n        $(this.hiddenCheckbox).trigger('change');\r\n        if (this.val)\r\n        {\r\n            $(this.boxEl).removeClass('switch-off').addClass('switch-on');\r\n        }\r\n        else\r\n        {\r\n            $(this.boxEl).removeClass('switch-on').addClass('switch-off');\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/native-loading-modal/widgets/switch.ts","export enum NodeType\r\n{\r\n\tNone = 0,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tRoot,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// DO NOT - UNDER ANY CIRCUMSTANCES - CHANGE THE ORDER OF THE NODETYPES\r\n\tProductOccurrence,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// OR ELSE 3DVS BACKWARDSCOMPATIBILITY WONT BE ASSURED\r\n\tDoNotUse1,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tDoNotUse2,\r\n\tRi_BrepModel,\r\n\tRi_PolyBrepModel,\r\n\tRi_Set,\r\n\tRi_PolyWire,\r\n\tRi_TessMarkup,\r\n\tDoNotUse3,\r\n\tPart,\r\n\r\n\tAxisRoot,\r\n\tAxis,\r\n\r\n\tPMIView,\r\n\tAnnotation,\r\n\tPLACEHOLDER_AnnotationItem, // AnnotationItem was here\r\n\tAnnotationReference,\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tAnnotationSet,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// DO NOT - UNDER ANY CIRCUMSTANCES - CHANGE THE ORDER OF THE NODETYPES\r\n\tCurve,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// OR ELSE 3DVS BACKWARDSCOMPATIBILITY WONT BE ASSURED\r\n\tLine,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tPlane,\r\n\tDirection,\r\n\tPoint,\r\n\tPointSet,\r\n\tCoordinateSystem,\r\n\r\n\tHandle_Root,\r\n\tHandle_Arrow,\r\n\tHandle_Sphere,\r\n\tHandle_Curlyarrow,\r\n\r\n\tSolid,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tWire,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// DO NOT - UNDER ANY CIRCUMSTANCES - CHANGE THE ORDER OF THE NODETYPES\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// OR ELSE 3DVS BACKWARDSCOMPATIBILITY WONT BE ASSURED\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\t// corresponds a markup which consists of polylines and fonts\r\n\t// must be maintained to keep backward compatibility\r\n\t// this is a generalized pmi markup node type\r\n\tAnnotationItem,\r\n\r\n\tMarkup_Text,\r\n\tDimensioning,\r\n\r\n\tPointMarker,\r\n\tEdgeMarker,\r\n\tCircleMarker,\r\n\tAxisMarker,\r\n\tReferenceLine,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tLineMarker,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// DO NOT - UNDER ANY CIRCUMSTANCES - CHANGE THE ORDER OF THE NODETYPES\r\n\tTriangleMesh,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// OR ELSE 3DVS BACKWARDSCOMPATIBILITY WONT BE ASSURED\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tScene,\r\n\r\n\tMarkup_Circle,\r\n\tMarkup_Rectangle,\r\n\tMarkup_Freehand,\r\n\r\n\tCutGeometry_Surface,\r\n\tCutGeometry_Wire,\r\n\r\n\tPmiMarkup_Unknown,\r\n\tPmiMarkup_Text,\r\n\tPmiMarkup_Dimension,\r\n\tPmiMarkup_Arrow,\r\n\tPmiMarkup_Balloon,\r\n\tPmiMarkup_CircleCenter,\r\n\tPmiMarkup_Coordinate,\r\n\tPmiMarkup_Datum,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tPmiMarkup_Fastener,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// DO NOT - UNDER ANY CIRCUMSTANCES - CHANGE THE ORDER OF THE NODETYPES\r\n\tPmiMarkup_Gdt,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// OR ELSE 3DVS BACKWARDSCOMPATIBILITY WONT BE ASSURED\r\n\tPmiMarkup_Locator,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tPmiMarkup_MeasurementPoint,\r\n\tPmiMarkup_Roughness,\r\n\tPmiMarkup_Welding,\r\n\tPmiMarkup_Table,\r\n\tPmiMarkup_Other,\r\n\r\n\tOffsetLine,\r\n\r\n\tDrawing,\r\n\tDrawing_Model,\r\n\tDrawing_Sheet,\r\n\tDrawing_View,\r\n\tDrawing_Entity,\r\n\tDrawing_Block,\r\n\tDrawing_BlockBasic,\r\n\tDrawing_BlockOperator,\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tDrawing_BlockBackground,\t\t\t\t\t\t\t\t\t\t\t\t\t/// DO NOT - UNDER ANY CIRCUMSTANCES - CHANGE THE ORDER OF THE NODETYPES\r\n\tDrawing_ClipFrame,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/// OR ELSE 3DVS BACKWARDSCOMPATIBILITY WONT BE ASSURED\r\n\tDrawing_Curve,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t///=====================================================================\r\n\tDrawing_FilledArea,\r\n\tDrawing_Picture,\r\n\tDrawing_Vertices,\r\n\r\n\tDummy,\r\n\tCutGeometry_Set,\r\n\tMasterRootNode,\r\n\tMarkupSet,\r\n\r\n\tDataAnalysisResult,\r\n\tMarkup, // universal nodetype for markups needed in CPmiNode::IsType()\r\n\r\n\tUnitTranslation,\r\n\tDocument2D,\r\n\r\n\t//reserved\r\n\tVarious = 0xffffffff - 1,\r\n\tUnknown = 0xffffffff,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/node-types.ts","import { VSWebClient } from '../../base/vsweb-client-impl';\r\nimport { RadioButtonGroup, RadioButtonItem } from './widgets/radiobutton-group'\r\nimport * as ui from '../ui'\r\nimport { FileBrowserSwitch } from '../file-browser-modal/widgets/file-browser-switch';\r\nimport { ModalColorPicker } from './widgets/color-picker'\r\nimport { appStates } from '../app-states';\r\n\r\ndeclare var _PrintPaperSizes: any[];\r\ndeclare var _BrowserPrintButtonDeactivated: boolean;\r\n\r\ninterface PrintOption\r\n{\r\n    value: string,\r\n    langId: string\r\n};\r\n\r\ninterface PaperSize\r\n{\r\n    langId: string,\r\n    width: number,\r\n    height: number,\r\n    dpi: number\r\n};\r\n\r\nexport class PrintModal\r\n{\r\n    //Enums\r\n    printRangeEnum: PrintOption[]\r\n    printScaleEnum: PrintOption[]\r\n    printOrientationEnum: PrintOption[]\r\n    printLineWidthUnit: PrintOption[]\r\n    printFontNameEnum: string[]\r\n    printFontStyleEnum: PrintOption[]\r\n    printPaperSizeEnum: PaperSize[]\r\n    //Settings independent dynamic HTML elements\r\n    buttonRow: HTMLElement\r\n    defaultOptionWrapper: HTMLElement\r\n    textOptionWrapper: HTMLElement\r\n    previewImage: HTMLImageElement\r\n    activeTextInput: HTMLInputElement\r\n    fontColor: ModalColorPicker\r\n    modalWrapper: HTMLElement\r\n    //Settings dependent dynamic HTML elements\r\n    widthEl: HTMLElement\r\n    heightEl: HTMLElement\r\n    widthInput: HTMLInputElement\r\n    heightInput: HTMLInputElement\r\n    orientationGroup: RadioButtonGroup\r\n    paperSizeSelect: HTMLSelectElement\r\n    fontName: HTMLSelectElement\r\n    scalingGroup: RadioButtonGroup\r\n    whiteBackgroundSwitch: FileBrowserSwitch\r\n    lineWidthSwitch: FileBrowserSwitch\r\n    lineWidthInput: HTMLInputElement\r\n    unitSelect: HTMLSelectElement\r\n    rangeGroup: RadioButtonGroup\r\n    fromInput: HTMLInputElement\r\n    toInput: HTMLInputElement\r\n    scaleDynamicValue: HTMLInputElement\r\n    tiledSwitch: FileBrowserSwitch\r\n    dpiInput: HTMLInputElement\r\n    //Variables\r\n    client: VSWebClient\r\n    isOpen: boolean\r\n    textModule: string = '%file'\r\n    dpi: number\r\n    orientation: string = 'Portrait'\r\n\r\n    constructor (client: VSWebClient)\r\n    {\r\n        this.client = client;\r\n        this.isOpen = true;\r\n        this.detectOutsideClick = this.detectOutsideClick.bind(this);\r\n        this.detectEscPressed = this.detectEscPressed.bind(this);\r\n        this.submit = this.submit.bind(this);\r\n        this.resize = this.resize.bind(this);\r\n        this.setWhiteBackgroundSetting = this.setWhiteBackgroundSetting.bind(this);\r\n        this.setLineWidthEnabledSetting = this.setLineWidthEnabledSetting.bind(this);\r\n        this.setTiledSetting = this.setTiledSetting.bind(this);\r\n        this.setFontColorSetting = this.setFontColorSetting.bind(this);\r\n        this.orientation = ui.settingsPane.defaultSettings.Settings.Print.Orientation;\r\n        //MOCK some enums\r\n        this.printFontNameEnum = [];\r\n        this.printFontStyleEnum = [\r\n            { langId: \"ID_PRINT_MODAL_FONT_REGULAR\", value: \"0\" },\r\n            { langId: \"ID_PRINT_MODAL_FONT_BOLD\", value: \"1\" },\r\n            { langId: \"ID_PRINT_MODAL_FONT_ITALIC\", value: \"2\" },\r\n            { langId: \"ID_PRINT_MODAL_FONT_BOLD_ITALIC\", value: \"3\" },\r\n            { langId: \"ID_PRINT_MODAL_FONT_UNDERLINE\", value: \"4\" },\r\n            { langId: \"ID_PRINT_MODAL_FONT_STRIKEOUT\", value: \"8\" }\r\n        ];\r\n        try\r\n        {\r\n            this.printPaperSizeEnum = _PrintPaperSizes;\r\n        }\r\n        catch (e)\r\n        {\r\n            this.printPaperSizeEnum = [\r\n                { langId: \"-\", width: -1, height: -1, dpi: 600 },\r\n                { langId: \"A0\", width: 841, height: 1189, dpi: 200 },\r\n                { langId: \"A1\", width: 594, height: 841, dpi: 300 },\r\n                { langId: \"A2\", width: 420, height: 594, dpi: 400 },\r\n                { langId: \"A3\", width: 297, height: 420, dpi: 500 },\r\n                { langId: \"A4\", width: 210, height: 297, dpi: 600 },\r\n                { langId: \"A5\", width: 148, height: 210, dpi: 600 },\r\n                { langId: \"Letter\", width: 216, height: 279, dpi: 600 },\r\n                { langId: \"Legal\", width: 216, height: 256, dpi: 600 },\r\n                { langId: \"Ledger\", width: 279, height: 432, dpi: 500 }\r\n            ];\r\n        }\r\n\r\n        document.body.addEventListener('mousedown', this.detectOutsideClick);\r\n        document.body.addEventListener('keyup', this.detectEscPressed);\r\n        this.modalWrapper = document.createElement('div');\r\n        this.modalWrapper.className = 'print-modal';\r\n\r\n        //Options\r\n        let optionsWrapper = document.createElement('div');\r\n        optionsWrapper.className = 'print-modal-site-wrapper';\r\n        optionsWrapper.style.borderRight = '1px solid lightgrey';\r\n        this.modalWrapper.appendChild(optionsWrapper);\r\n\r\n        let optionHeader = document.createElement('div');\r\n        optionHeader.className = 'print-modal-image-title';\r\n        optionHeader.textContent = ui.translate('ID_PRINT_MODAL_PRINT_SETTINGS');\r\n        optionsWrapper.appendChild(optionHeader);\r\n\r\n        let tabWrapper = document.createElement('div');\r\n        tabWrapper.className = 'print-modal-tab-bar';\r\n        optionsWrapper.appendChild(tabWrapper);\r\n\r\n        let defaultTab = document.createElement('div');\r\n        defaultTab.className = 'print-modal-tab print-modal-active-tab';\r\n        defaultTab.textContent = 'General'\r\n        tabWrapper.appendChild(defaultTab)\r\n\r\n        let textTab = document.createElement('div');\r\n        textTab.className = 'print-modal-tab';\r\n        textTab.textContent = 'Text'\r\n        tabWrapper.appendChild(textTab);\r\n\r\n        defaultTab.onclick = e =>\r\n        {\r\n            if (!$(defaultTab).hasClass('print-modal-active-tab'))\r\n            {\r\n                $(textTab).removeClass('print-modal-active-tab');\r\n                $(defaultTab).addClass('print-modal-active-tab');\r\n                this.buildDefaultOptions();\r\n                $(this.textOptionWrapper).hide();\r\n                $(this.defaultOptionWrapper).show();\r\n            }\r\n        }\r\n\r\n        textTab.onclick = e =>\r\n        {\r\n            if (!$(textTab).hasClass('print-modal-active-tab'))\r\n            {\r\n                $(defaultTab).removeClass('print-modal-active-tab');\r\n                $(textTab).addClass('print-modal-active-tab');\r\n                $(this.defaultOptionWrapper).hide();\r\n                $(this.textOptionWrapper).show();\r\n            }\r\n        }\r\n\r\n        this.defaultOptionWrapper = document.createElement('div');\r\n        this.defaultOptionWrapper.className = 'print-modal-options-wrapper';\r\n        optionsWrapper.appendChild(this.defaultOptionWrapper);\r\n\r\n\r\n        this.textOptionWrapper = document.createElement('div');\r\n        this.textOptionWrapper.className = 'print-modal-options-wrapper';\r\n        optionsWrapper.appendChild(this.textOptionWrapper);\r\n        this.showDefaultOptions();\r\n\r\n\r\n        let enumTemplateCall = '<Call Method=\"GetTemplate\"><Type>PrintTemplate</Type></Call>';\r\n        this.client.command.executeXML(enumTemplateCall);\r\n        this.client.on('GetTemplate.PrintTemplate', res =>\r\n        {\r\n            this.fillOptions(res);\r\n            this.buildTextOptions();\r\n            this.buildDefaultOptions();\r\n        })\r\n\r\n\r\n        this.buttonRow = document.createElement('div');\r\n        this.buttonRow.className = 'print-modal-button-row';\r\n        optionsWrapper.appendChild(this.buttonRow);\r\n\r\n        let hideOpenPDFButton = false;\r\n        try\r\n        {\r\n            hideOpenPDFButton = _BrowserPrintButtonDeactivated;\r\n        }\r\n        catch (e) { }\r\n        if (!hideOpenPDFButton)\r\n        {\r\n            let openPDFButton = document.createElement('i');\r\n            openPDFButton.className = 'print-modal-icon fas fa-print';\r\n            openPDFButton.style.marginRight = '15px';\r\n            this.buttonRow.appendChild(openPDFButton);\r\n\r\n            openPDFButton.onclick = e =>\r\n            {\r\n                this.createPDF(true);\r\n            }\r\n        }\r\n\r\n        let downloadPDFButton = document.createElement('i');\r\n        downloadPDFButton.className = 'print-modal-icon fas fa-download';\r\n        downloadPDFButton.style.marginRight = '15px';\r\n        this.buttonRow.appendChild(downloadPDFButton);\r\n\r\n        downloadPDFButton.onclick = e =>\r\n        {\r\n            this.createPDF(false);\r\n\r\n        }\r\n\r\n        let printButton = document.createElement('button');\r\n        printButton.className = 'print-modal-button';\r\n        printButton.textContent = ui.translate('ID_PRINT_MODAL_PRINT');\r\n        //this.buttonRow.appendChild(printButton);\r\n\r\n        let submitButton = document.createElement('button');\r\n        submitButton.className = 'print-modal-button';\r\n        submitButton.style.cssFloat = 'right';\r\n        submitButton.textContent = 'OK';\r\n        this.buttonRow.appendChild(submitButton);\r\n\r\n        submitButton.onclick = this.submit;\r\n\r\n        //Image\r\n        let imageWrapper = document.createElement('div');\r\n        imageWrapper.className = 'print-modal-site-wrapper';\r\n        imageWrapper.style.left = '50%';\r\n        this.modalWrapper.appendChild(imageWrapper);\r\n\r\n        let imageHeader = document.createElement('div');\r\n        imageHeader.className = 'print-modal-image-title';\r\n        imageHeader.textContent = ui.translate('ID_PRINT_MODAL_IMAGE_PREVIEW');\r\n        imageWrapper.appendChild(imageHeader);\r\n\r\n        let imageCanvas = document.createElement('div');\r\n        imageCanvas.className = 'print-modal-image-canvas';\r\n        imageWrapper.appendChild(imageCanvas);\r\n\r\n        this.previewImage = document.createElement('img');\r\n        this.previewImage.className = 'print-modal-image';\r\n        imageCanvas.appendChild(this.previewImage);\r\n\r\n        //Document size\r\n        this.dpi = parseInt(ui.settingsPane.defaultSettings.Settings.Print.PageDPI);\r\n\r\n        //Pre defined\r\n        let paperSizeWrapper = document.createElement('div');\r\n        paperSizeWrapper.className = 'print-modal-long-input-wrapper';\r\n        imageWrapper.appendChild(paperSizeWrapper);\r\n\r\n        //Size dropdown\r\n        this.paperSizeSelect = document.createElement('select');\r\n        this.paperSizeSelect.style.margin = '0';\r\n        this.paperSizeSelect.className = 'print-modal-select';\r\n        let pSizeLength = this.printPaperSizeEnum.length;\r\n        for (let i = 0; i < pSizeLength; i++)\r\n        {\r\n            let option = document.createElement('option');\r\n            option.value = i.toString();\r\n            option.text = ui.translate(this.printPaperSizeEnum[i].langId);\r\n            option.selected = this.isSelectedPaperSize(this.printPaperSizeEnum[i].width, this.printPaperSizeEnum[i].height);\r\n            this.paperSizeSelect.appendChild(option);\r\n        }\r\n        this.paperSizeSelect.onchange = e =>\r\n        {\r\n            let i = parseInt(this.paperSizeSelect.value);\r\n            this.dpi = this.printPaperSizeEnum[i].dpi;\r\n            let width = this.mmToPPI(this.printPaperSizeEnum[i].width.toString());\r\n            let height = this.mmToPPI(this.printPaperSizeEnum[i].height.toString());\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print>';\r\n            xml += '<PageWidth>';\r\n            xml += this.orientation === 'Portrait' ? width : height;\r\n            xml += '</PageWidth>';\r\n            xml += '<PageHeight>';\r\n            xml += this.orientation === 'Portrait' ? height : width;\r\n            xml += '</PageHeight>';\r\n            xml += '<PageDPI>' + this.dpi + '</PageDPI>';\r\n            xml += '</Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        paperSizeWrapper.appendChild(this.paperSizeSelect);\r\n\r\n        //Value field\r\n        let paperSizeText = document.createElement('div');\r\n        paperSizeText.className = 'print-modal-size-wrapper';\r\n        this.widthEl = document.createElement('span');\r\n        this.widthEl.textContent = this.ppiToMM(ui.settingsPane.defaultSettings.Settings.Print.PageWidth) + ' mm';\r\n        paperSizeText.appendChild(this.widthEl);\r\n\r\n        let separator = document.createElement('span');\r\n        separator.textContent = ' x ';\r\n        paperSizeText.appendChild(separator);\r\n\r\n        this.heightEl = document.createElement('span');\r\n        this.heightEl.textContent = this.ppiToMM(ui.settingsPane.defaultSettings.Settings.Print.PageHeight) + ' mm';\r\n        paperSizeText.appendChild(this.heightEl);\r\n        paperSizeWrapper.appendChild(paperSizeText);\r\n\r\n\r\n        //User defined group\r\n        let sizeGroup = document.createElement('div');\r\n        sizeGroup.className = 'print-modal-option-group';\r\n        imageWrapper.appendChild(sizeGroup);\r\n\r\n        let sizeGroupTitle = document.createElement('div');\r\n        sizeGroupTitle.textContent = ui.translate('ID_PRINT_MODAL_DOCUMENT_SIZE');\r\n        sizeGroupTitle.className = 'print-modal-option-group-title';\r\n        sizeGroup.appendChild(sizeGroupTitle);\r\n\r\n        //Width\r\n        let widthWrapper = document.createElement('div');\r\n        widthWrapper.className = 'print-modal-long-input-wrapper';\r\n        sizeGroup.appendChild(widthWrapper);\r\n\r\n        let widthTitle = document.createElement('span');\r\n        widthTitle.textContent = ui.translate('ID_TEXT_PAPERWIDTH');\r\n        widthTitle.className = 'print-modal-long-input-title';\r\n        widthWrapper.appendChild(widthTitle);\r\n\r\n        this.widthInput = document.createElement('input');\r\n        this.widthInput.className = 'print-modal-long-input';\r\n        this.widthInput.value = this.ppiToMM(ui.settingsPane.defaultSettings.Settings.Print.PageWidth).toString();\r\n        this.widthInput.onfocus = this.onInputFocus;\r\n        this.widthInput.onblur = this.onInputBlur;\r\n        this.widthInput.onchange = e =>\r\n        {\r\n            let val = this.mmToPPI(this.widthInput.value);\r\n            let height = ui.settingsPane.defaultSettings.Settings.Print.PageHeight;\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><PageWidth>' + val + '</PageWidth>';\r\n            xml += val > height ? '<Orientation>Landscape</Orientation>' : '<Orientation>Portrait</Orientation>';\r\n            xml += '</Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        widthWrapper.appendChild(this.widthInput);\r\n\r\n        //Height\r\n        let heightWrapper = document.createElement('div');\r\n        heightWrapper.className = 'print-modal-long-input-wrapper';\r\n        sizeGroup.appendChild(heightWrapper);\r\n\r\n        let heightTitle = document.createElement('span');\r\n        heightTitle.textContent = ui.translate('ID_TEXT_PAPERHEIGHT');\r\n        heightTitle.className = 'print-modal-long-input-title';\r\n        heightWrapper.appendChild(heightTitle);\r\n\r\n        this.heightInput = document.createElement('input');\r\n        this.heightInput.className = 'print-modal-long-input';\r\n        this.heightInput.value = this.ppiToMM(ui.settingsPane.defaultSettings.Settings.Print.PageHeight).toString();\r\n        this.heightInput.onfocus = this.onInputFocus;\r\n        this.heightInput.onblur = this.onInputBlur;\r\n        this.heightInput.onchange = e =>\r\n        {\r\n            let val = this.mmToPPI(this.heightInput.value);\r\n            let width = ui.settingsPane.defaultSettings.Settings.Print.PageWidth;\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><PageHeight>' + val + '</PageHeight>';\r\n            xml += val > width ? '<Orientation>Portrait</Orientation>' : '<Orientation>Landscape</Orientation>';\r\n            xml += '</Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        heightWrapper.appendChild(this.heightInput);\r\n\r\n        //DPI\r\n        let dpiWrapper = document.createElement('div');\r\n        dpiWrapper.className = 'print-modal-long-input-wrapper';\r\n        sizeGroup.appendChild(dpiWrapper);\r\n\r\n        let dpiTitle = document.createElement('span');\r\n        dpiTitle.textContent = ui.translate('ID_DPI');\r\n        dpiTitle.className = 'print-modal-long-input-title';\r\n        dpiWrapper.appendChild(dpiTitle);\r\n\r\n        this.dpiInput = document.createElement('input');\r\n        this.dpiInput.className = 'print-modal-long-input';\r\n        this.dpiInput.value = ui.settingsPane.defaultSettings.Settings.Print.PageDPI;\r\n        this.dpiInput.onfocus = this.onInputFocus;\r\n        this.dpiInput.onblur = this.onInputBlur;\r\n        this.dpiInput.onchange = e =>\r\n        {\r\n            this.dpi = parseInt(this.dpiInput.value);\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print>';\r\n            xml += '<PageHeight>' + this.mmToPPI(this.heightInput.value) + '</PageHeight>';\r\n            xml += '<PageWidth>' + this.mmToPPI(this.widthInput.value) + '</PageWidth><PageDPI>' + this.dpiInput.value + '</PageDPI></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        dpiWrapper.appendChild(this.dpiInput);\r\n\r\n\r\n        this.getPrintPreview();\r\n\r\n        this.client.on('CreatePrintPreview', res =>\r\n        {\r\n            let src = 'data:image/png;base64, ' + res.Image;\r\n            this.previewImage.src = src;\r\n        });\r\n\r\n        document.body.appendChild(this.modalWrapper);\r\n\r\n        window.addEventListener('resize', this.resize);\r\n\r\n        this.client.on('GetSettings', res =>\r\n        {\r\n            if (this.isOpen)\r\n            {\r\n                this.getPrintPreview();\r\n                this.updateUI(res.Settings.Print);\r\n            }\r\n        });\r\n    }\r\n\r\n    onInputFocus ()\r\n    {\r\n        appStates.preventGlobalKeyEvents = true;\r\n    }\r\n\r\n    onInputBlur ()\r\n    {\r\n        appStates.preventGlobalKeyEvents = false;\r\n    }\r\n\r\n    createPDF (open: boolean)\r\n    {\r\n        let xml = '<Call Method=\"GetPrintImageAsPDF\"></Call>';\r\n        this.client.command.executeXML(xml);\r\n        ui.blockUI();\r\n        let name = appStates.fileName ? appStates.fileName + '.pdf' : 'print.pdf';\r\n\r\n        this.client.once('GetPrintImageAsPDF', res =>\r\n        {\r\n            ui.unblockUI();\r\n            let byteCharacters = atob(res.Image);\r\n            let byteNumbers = new Array(byteCharacters.length);\r\n            for (let i = 0; i < byteCharacters.length; i++)\r\n            {\r\n                byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n            }\r\n            let byteArray = new Uint8Array(byteNumbers);\r\n            let blob = new Blob([byteArray], {\r\n                type: 'application/pdf'\r\n            });\r\n            //IE and edge\r\n            if (window.navigator && window.navigator.msSaveOrOpenBlob)\r\n            {\r\n                if (open)\r\n                {\r\n                    window.navigator.msSaveOrOpenBlob(blob);\r\n                }\r\n                else\r\n                {\r\n                    window.navigator.msSaveOrOpenBlob(blob, name);\r\n                }\r\n            } else\r\n            {\r\n                let blobUrl = URL.createObjectURL(blob);\r\n                if (open)\r\n                {\r\n                    window.open(blobUrl);\r\n                }\r\n                else\r\n                {\r\n                    const link = document.createElement('a');\r\n                    // create a blobURI pointing to our Blob\r\n                    link.href = URL.createObjectURL(blob);\r\n                    link.download = name;\r\n                    // some browser needs the anchor to be in the doc\r\n                    document.body.appendChild(link);\r\n                    link.click();\r\n                    link.remove();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    updateUI (settings)\r\n    {\r\n        //Set scale mode\r\n        let sLength = this.printScaleEnum.length;\r\n        for (let i = 0; i < sLength; i++)\r\n        {\r\n            if (settings.ScaleMode === this.printScaleEnum[i].value)\r\n            {\r\n                this.scalingGroup.setStateByIndex(i, true);\r\n            }\r\n        }\r\n        this.scaleDynamicValue.value = settings.Scale;\r\n        //Set alignment\r\n        let alength = this.printOrientationEnum.length;\r\n        this.orientation = settings.Orientation;\r\n        for (let i = 0; i < alength; i++)\r\n        {\r\n            if (settings.Orientation === this.printOrientationEnum[i].value)\r\n            {\r\n                this.orientationGroup.setStateByIndex(i, true);\r\n            }\r\n        }\r\n        //Set white background\r\n        this.whiteBackgroundSwitch.setVal(settings.WhiteBackground === 'true');\r\n        //Set line width\r\n        this.lineWidthSwitch.setVal(settings.LineWidthEnabled === 'true');\r\n        let uLength = this.printLineWidthUnit.length;\r\n        for (let i = 0; i < uLength; i++)\r\n        {\r\n            if (settings.LineWidthUnit === this.printLineWidthUnit[i].value)\r\n            {\r\n                this.unitSelect.selectedIndex = i;\r\n            }\r\n        }\r\n        //Set print range\r\n        let rLength = this.printRangeEnum.length;\r\n        for (let i = 0; i < rLength; i++)\r\n        {\r\n            if (settings.PageRange === this.printRangeEnum[i].value)\r\n            {\r\n                this.rangeGroup.setStateByIndex(i, true);\r\n            }\r\n        }\r\n        this.fromInput.value = settings.PageRangeFirst;\r\n        this.toInput.value = settings.PageRangeLast;\r\n        //Page width\r\n        this.widthInput.value = this.ppiToMM(settings.PageWidth).toString();\r\n        this.widthEl.textContent = this.ppiToMM(settings.PageWidth).toString() + ' mm';\r\n        //Page height\r\n        this.heightInput.value = this.ppiToMM(settings.PageHeight).toString();\r\n        this.heightEl.textContent = this.ppiToMM(settings.PageHeight).toString() + ' mm';\r\n        //Paper size select\r\n        let pSizeLength = this.printPaperSizeEnum.length;\r\n        let predefinedSize = false;\r\n        for (let i = 0; i < pSizeLength; i++)\r\n        {\r\n            if (this.isSelectedPaperSize(this.printPaperSizeEnum[i].width, this.printPaperSizeEnum[i].height))\r\n            {\r\n                predefinedSize = true;\r\n                this.paperSizeSelect.selectedIndex = i;\r\n            }\r\n        }\r\n        if (!predefinedSize)\r\n        {\r\n            this.paperSizeSelect.selectedIndex = 0;\r\n        }\r\n        //DPI\r\n        let dpi = settings.PageDPI;\r\n        this.dpiInput.value = dpi;\r\n    }\r\n\r\n\r\n    ppiToMM (ppi: string)\r\n    {\r\n        return Math.round((parseInt(ppi) / this.dpi) * 25.4);\r\n    }\r\n\r\n    mmToPPI (mm: string)\r\n    {\r\n        return Math.round((parseInt(mm) / 25.4) * this.dpi);\r\n    }\r\n\r\n    isSelectedPaperSize (width: number, height: number)\r\n    {\r\n        width = this.mmToPPI(width.toString());\r\n        height = this.mmToPPI(height.toString());\r\n        let actualWidth = parseInt(ui.settingsPane.defaultSettings.Settings.Print.PageWidth);\r\n        let actualHeight = parseInt(ui.settingsPane.defaultSettings.Settings.Print.PageHeight);\r\n        switch (this.orientation)\r\n        {\r\n            case 'Portrait':\r\n                return (width === actualWidth && height === actualHeight);\r\n            case 'Landscape':\r\n                return (width === actualHeight && height === actualWidth);\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n\r\n    getPrintPreview ()\r\n    {\r\n        let xml = '<Call Method=\"CreatePrintPreview\">';\r\n        xml += '<Width>300</Width>';\r\n        xml += '<Height>300</Height>';\r\n        xml += '</Call>'\r\n        this.client.command.executeXML(xml);\r\n    }\r\n\r\n    showDefaultOptions ()\r\n    {\r\n        $(this.textOptionWrapper).hide();\r\n        $(this.defaultOptionWrapper).show();\r\n    }\r\n\r\n    showTextOptions ()\r\n    {\r\n        $(this.textOptionWrapper).show();\r\n        $(this.defaultOptionWrapper).hide();\r\n    }\r\n\r\n    buildDefaultOptions ()\r\n    {\r\n        $(this.defaultOptionWrapper).empty();\r\n        this.scalingGroup = new RadioButtonGroup(this.defaultOptionWrapper, 'ID_PRINT_SCALING');\r\n        let sLength = this.printScaleEnum.length;\r\n        for (let i = 0; i < sLength; i++)\r\n        {\r\n            let scaleOption: RadioButtonItem = {\r\n                value: this.printScaleEnum[i].value,\r\n                langId: this.printScaleEnum[i].langId,\r\n                initialState: ui.settingsPane.defaultSettings.Settings.Print.ScaleMode === this.printScaleEnum[i].value\r\n            };\r\n            let callback = () =>\r\n            {\r\n                let xml = '<Call Method=\"SetSettings\"><Settings><Print><ScaleMode>' + scaleOption.value + '</ScaleMode></Print></Settings></Call>';\r\n                this.client.command.executeXML(xml);\r\n            }\r\n            this.scalingGroup.addButton(scaleOption, callback);\r\n            if (scaleOption.value === 'Scale')\r\n            {\r\n                let scaleStaticValue = document.createElement('div');\r\n                scaleStaticValue.textContent = '1:';\r\n                scaleStaticValue.className = 'print-modal-static-text';\r\n                let buttonAnchor = this.scalingGroup.buttons[this.scalingGroup.buttons.length - 1].wrapperEl;\r\n                buttonAnchor.appendChild(scaleStaticValue);\r\n\r\n                this.scaleDynamicValue = document.createElement('input');\r\n                this.scaleDynamicValue.className = 'print-modal-input';\r\n                this.scaleDynamicValue.value = ui.settingsPane.defaultSettings.Settings.Print.Scale;\r\n                this.scaleDynamicValue.onfocus = this.onInputFocus;\r\n                this.scaleDynamicValue.onblur = this.onInputBlur;\r\n                this.scaleDynamicValue.onchange = e =>\r\n                {\r\n                    let xml = '<Call Method=\"SetSettings\"><Settings><Print>';\r\n                    xml += '<Scale>' + this.scaleDynamicValue.value + '</Scale></Print></Settings></Call>';\r\n                    this.client.command.executeXML(xml);\r\n                }\r\n                buttonAnchor.appendChild(this.scaleDynamicValue);\r\n            }\r\n        }\r\n\r\n        this.orientationGroup = new RadioButtonGroup(this.defaultOptionWrapper, 'ID_PRINT_ORIENTATION');\r\n        let oLength = this.printOrientationEnum.length;\r\n        for (let i = 0; i < oLength; i++)\r\n        {\r\n            let orientationOption: RadioButtonItem = {\r\n                value: this.printOrientationEnum[i].value,\r\n                langId: this.printOrientationEnum[i].langId,\r\n                initialState: ui.settingsPane.defaultSettings.Settings.Print.Orientation === this.printOrientationEnum[i].value\r\n            };\r\n            let callback = () =>\r\n            {\r\n                if (this.orientation !== orientationOption.value)\r\n                {\r\n                    let xml = '<Call Method=\"SetSettings\"><Settings><Print><Orientation>' + orientationOption.value + '</Orientation>';\r\n                    let width = ui.settingsPane.defaultSettings.Settings.Print.PageWidth;\r\n                    let height = ui.settingsPane.defaultSettings.Settings.Print.PageHeight;\r\n                    switch (orientationOption.value)\r\n                    {\r\n                        case 'Landscape':\r\n                        case 'Portrait':\r\n                            xml += '<PageWidth>' + height + '</PageWidth>';\r\n                            xml += '<PageHeight>' + width + '</PageHeight>';\r\n                            break;\r\n                    }\r\n                    xml += '</Print></Settings></Call>';\r\n                    this.client.command.executeXML(xml);\r\n                }\r\n            }\r\n            this.orientationGroup.addButton(orientationOption, callback);\r\n        }\r\n\r\n        let miscGroup = document.createElement('div');\r\n        miscGroup.className = 'print-modal-option-group';\r\n        this.defaultOptionWrapper.appendChild(miscGroup);\r\n\r\n        let miscGroupTitle = document.createElement('div');\r\n        miscGroupTitle.textContent = ui.translate('ID_PRINT_MISC');\r\n        miscGroupTitle.className = 'print-modal-option-group-title';\r\n        miscGroup.appendChild(miscGroupTitle);\r\n\r\n        this.whiteBackgroundSwitch = new FileBrowserSwitch(miscGroup, 'ID_WHITE_BACKGROUND', this.setWhiteBackgroundSetting, 'print', true);\r\n        this.lineWidthSwitch = new FileBrowserSwitch(miscGroup, 'ID_CUSTOM_LINEWIDTH', this.setLineWidthEnabledSetting, 'print', true);\r\n\r\n        this.lineWidthInput = document.createElement('input');\r\n        this.lineWidthInput.className = 'print-modal-input';\r\n        this.lineWidthInput.style.marginLeft = '15px';\r\n        this.lineWidthInput.value = ui.settingsPane.defaultSettings.Settings.Print.LineWidth;\r\n        this.lineWidthInput.onfocus = this.onInputFocus;\r\n        this.lineWidthInput.onblur = this.onInputBlur;\r\n        this.lineWidthInput.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><LineWidth>' + this.lineWidthInput.value + '</LineWidth></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        this.lineWidthSwitch.wrapperEl.appendChild(this.lineWidthInput);\r\n\r\n        this.unitSelect = document.createElement('select');\r\n        this.unitSelect.className = 'print-modal-select';\r\n        let uLength = this.printLineWidthUnit.length;\r\n        for (let i = 0; i < uLength; i++)\r\n        {\r\n            let option = document.createElement('option');\r\n            option.value = this.printLineWidthUnit[i].value;\r\n            option.text = ui.translate(this.printLineWidthUnit[i].langId);\r\n            option.selected = ui.settingsPane.defaultSettings.Settings.Print.LineWidthUnit === this.printLineWidthUnit[i].value;\r\n            this.unitSelect.appendChild(option);\r\n        }\r\n        this.unitSelect.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><LineWidthUnit>' + this.unitSelect.value + '</LineWidthUnit></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        this.lineWidthSwitch.wrapperEl.appendChild(this.unitSelect);\r\n\r\n        this.tiledSwitch = new FileBrowserSwitch(miscGroup, 'ID_PRINT_TILED', this.setTiledSetting, 'print', false);\r\n\r\n        this.rangeGroup = new RadioButtonGroup(this.defaultOptionWrapper, 'ID_PRINT_RANGE');\r\n        let rLength = this.printRangeEnum.length;\r\n        for (let i = 0; i < rLength; i++)\r\n        {\r\n            let rangeOption: RadioButtonItem = {\r\n                value: this.printRangeEnum[i].value,\r\n                langId: this.printRangeEnum[i].langId,\r\n                initialState: ui.settingsPane.defaultSettings.Settings.Print.PageRange === this.printRangeEnum[i].value\r\n            };\r\n            let callback = () =>\r\n            {\r\n                let xml = '<Call Method=\"SetSettings\"><Settings><Print><PageRange>' + rangeOption.value + '</PageRange></Print></Settings></Call>';\r\n                this.client.command.executeXML(xml);\r\n            }\r\n            this.rangeGroup.addButton(rangeOption, callback);\r\n            if (rangeOption.value === 'Range')\r\n            {\r\n                let fromTitle = document.createElement('div');\r\n                fromTitle.textContent = ui.translate('ID_PRINT_RANGE_FROM') + ':';\r\n                fromTitle.className = 'print-modal-static-text';\r\n                let buttonAnchor = this.rangeGroup.buttons[this.rangeGroup.buttons.length - 1].wrapperEl;\r\n                buttonAnchor.appendChild(fromTitle);\r\n\r\n                this.fromInput = document.createElement('input');\r\n                this.fromInput.className = 'print-modal-input';\r\n                this.fromInput.value = ui.settingsPane.defaultSettings.Settings.Print.PageRangeFirst;\r\n                this.fromInput.onfocus = this.onInputFocus;\r\n                this.fromInput.onblur = this.onInputBlur;\r\n                this.fromInput.onchange = e =>\r\n                {\r\n                    let xml = '<Call Method=\"SetSettings\"><Settings><Print><PageRangeFirst>' + this.fromInput.value + '</PageRangeFirst></Print></Settings></Call>';\r\n                    this.client.command.executeXML(xml);\r\n                }\r\n                buttonAnchor.appendChild(this.fromInput);\r\n\r\n                let toTitle = document.createElement('div');\r\n                toTitle.textContent = ui.translate('ID_PRINT_RANGE_TO') + ':';\r\n                toTitle.className = 'print-modal-static-text';\r\n                buttonAnchor.appendChild(toTitle);\r\n\r\n                this.toInput = document.createElement('input');\r\n                this.toInput.className = 'print-modal-input';\r\n                this.toInput.value = ui.settingsPane.defaultSettings.Settings.Print.PageRangeLast;\r\n                this.toInput.onfocus = this.onInputFocus;\r\n                this.toInput.onblur = this.onInputBlur;\r\n                this.toInput.onchange = e =>\r\n                {\r\n                    let xml = '<Call Method=\"SetSettings\"><Settings><Print><PageRangeLast>' + this.toInput.value + '</PageRangeLast></Print></Settings></Call>';\r\n                    this.client.command.executeXML(xml);\r\n                }\r\n                buttonAnchor.appendChild(this.toInput);\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTextOptions ()\r\n    {\r\n        $(this.textOptionWrapper).empty();\r\n        //Header group\r\n        let headerGroup = document.createElement('div');\r\n        headerGroup.className = 'print-modal-option-group';\r\n        this.textOptionWrapper.appendChild(headerGroup);\r\n\r\n        let headerGroupTitle = document.createElement('div');\r\n        headerGroupTitle.textContent = ui.translate('ID_PRINT_HEADER');\r\n        headerGroupTitle.className = 'print-modal-option-group-title';\r\n        headerGroup.appendChild(headerGroupTitle);\r\n\r\n        let headerLeftWrapper = document.createElement('div');\r\n        headerLeftWrapper.className = 'print-modal-long-input-wrapper';\r\n        headerGroup.appendChild(headerLeftWrapper);\r\n\r\n        let headerLeftTitle = document.createElement('span');\r\n        headerLeftTitle.className = 'print-modal-long-input-title';\r\n        headerLeftTitle.textContent = ui.translate('ID_PRINT_HEADER_LEFT');\r\n        headerLeftWrapper.appendChild(headerLeftTitle);\r\n\r\n        let headerLeftInput = document.createElement('input');\r\n        headerLeftInput.className = 'print-modal-long-input';\r\n        headerLeftInput.value = ui.settingsPane.defaultSettings.Settings.Print.HeaderLeft;\r\n        this.activeTextInput = headerLeftInput;\r\n        this.activeTextInput.onblur = this.onInputBlur;\r\n        headerLeftInput.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><HeaderLeft>' + headerLeftInput.value + '</HeaderLeft></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        headerLeftInput.onfocus = e =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n            this.activeTextInput = headerLeftInput;\r\n        }\r\n        headerLeftWrapper.appendChild(headerLeftInput);\r\n\r\n        let headerCenterWrapper = document.createElement('div');\r\n        headerCenterWrapper.className = 'print-modal-long-input-wrapper';\r\n        headerGroup.appendChild(headerCenterWrapper);\r\n\r\n        let headerCenterTitle = document.createElement('span');\r\n        headerCenterTitle.textContent = ui.translate('ID_PRINT_HEADER_CENTER');\r\n        headerCenterTitle.className = 'print-modal-long-input-title';\r\n        headerCenterWrapper.appendChild(headerCenterTitle);\r\n\r\n        let headerCenterInput = document.createElement('input');\r\n        headerCenterInput.className = 'print-modal-long-input';\r\n        headerCenterInput.value = ui.settingsPane.defaultSettings.Settings.Print.HeaderCenter;\r\n        headerCenterInput.onblur = this.onInputBlur;\r\n        headerCenterInput.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><HeaderCenter>' + headerCenterInput.value + '</HeaderCenter></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        headerCenterInput.onfocus = e =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n            this.activeTextInput = headerCenterInput;\r\n        }\r\n        headerCenterWrapper.appendChild(headerCenterInput);\r\n\r\n        let headerRightWrapper = document.createElement('div');\r\n        headerRightWrapper.className = 'print-modal-long-input-wrapper';\r\n        headerGroup.appendChild(headerRightWrapper);\r\n\r\n        let headerRightTitle = document.createElement('span');\r\n        headerRightTitle.textContent = ui.translate('ID_PRINT_HEADER_RIGHT');\r\n        headerRightTitle.className = 'print-modal-long-input-title';\r\n        headerRightWrapper.appendChild(headerRightTitle);\r\n\r\n        let headerRightInput = document.createElement('input');\r\n        headerRightInput.className = 'print-modal-long-input';\r\n        headerRightInput.value = ui.settingsPane.defaultSettings.Settings.Print.HeaderRight;\r\n        headerRightInput.onblur = this.onInputBlur;\r\n        headerRightInput.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><HeaderRight>' + headerRightInput.value + '</HeaderRight></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        headerRightInput.onfocus = e =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n            this.activeTextInput = headerRightInput;\r\n        }\r\n        headerRightWrapper.appendChild(headerRightInput);\r\n\r\n        //Footer group\r\n        let footerGroup = document.createElement('div');\r\n        footerGroup.className = 'print-modal-option-group';\r\n        this.textOptionWrapper.appendChild(footerGroup);\r\n\r\n        let footerGroupTitle = document.createElement('div');\r\n        footerGroupTitle.textContent = ui.translate('ID_PRINT_FOOTER');\r\n        footerGroupTitle.className = 'print-modal-option-group-title';\r\n        footerGroup.appendChild(footerGroupTitle);\r\n\r\n\r\n        let footerLeftWrapper = document.createElement('div');\r\n        footerLeftWrapper.className = 'print-modal-long-input-wrapper';\r\n        footerGroup.appendChild(footerLeftWrapper);\r\n\r\n        let footerLeftTitle = document.createElement('span');\r\n        footerLeftTitle.textContent = ui.translate('ID_PRINT_FOOTER_LEFT');\r\n        footerLeftTitle.className = 'print-modal-long-input-title';\r\n        footerLeftWrapper.appendChild(footerLeftTitle);\r\n\r\n        let footerLeftInput = document.createElement('input');\r\n        footerLeftInput.className = 'print-modal-long-input';\r\n        footerLeftInput.value = ui.settingsPane.defaultSettings.Settings.Print.FooterLeft;\r\n        footerLeftInput.onblur = this.onInputBlur;\r\n        footerLeftInput.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><FooterLeft>' + footerLeftInput.value + '</FooterLeft></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        footerLeftInput.onfocus = e =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n            this.activeTextInput = footerLeftInput;\r\n        }\r\n        headerRightWrapper.appendChild(headerRightInput);\r\n        footerLeftWrapper.appendChild(footerLeftInput);\r\n\r\n        let footerCenterWrapper = document.createElement('div');\r\n        footerCenterWrapper.className = 'print-modal-long-input-wrapper';\r\n        footerGroup.appendChild(footerCenterWrapper);\r\n\r\n        let footerCenterTitle = document.createElement('span');\r\n        footerCenterTitle.textContent = ui.translate('ID_PRINT_FOOTER_CENTER');\r\n        footerCenterTitle.className = 'print-modal-long-input-title';\r\n        footerCenterWrapper.appendChild(footerCenterTitle);\r\n\r\n        let footerCenterInput = document.createElement('input');\r\n        footerCenterInput.className = 'print-modal-long-input';\r\n        footerCenterInput.value = ui.settingsPane.defaultSettings.Settings.Print.FooterCenter;\r\n        footerCenterInput.onblur = this.onInputBlur;\r\n        footerCenterInput.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><FooterCenter>' + footerCenterInput.value + '</FooterCenter></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        footerCenterInput.onfocus = e =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n            this.activeTextInput = footerCenterInput;\r\n        }\r\n        footerCenterWrapper.appendChild(footerCenterInput);\r\n\r\n        let footerRightWrapper = document.createElement('div');\r\n        footerRightWrapper.className = 'print-modal-long-input-wrapper';\r\n        footerGroup.appendChild(footerRightWrapper);\r\n\r\n        let footerRightTitle = document.createElement('span');\r\n        footerRightTitle.textContent = ui.translate('ID_PRINT_FOOTER_RIGHT');\r\n        footerRightTitle.className = 'print-modal-long-input-title';\r\n        footerRightWrapper.appendChild(footerRightTitle);\r\n\r\n        let footerRightInput = document.createElement('input');\r\n        footerRightInput.className = 'print-modal-long-input';\r\n        footerRightInput.value = ui.settingsPane.defaultSettings.Settings.Print.FooterRight;\r\n        footerRightInput.onblur = this.onInputBlur;\r\n        footerRightInput.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><FooterRight>' + footerRightInput.value + '</FooterRight></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        footerRightInput.onfocus = e =>\r\n        {\r\n            appStates.preventGlobalKeyEvents = true;\r\n            this.activeTextInput = footerRightInput;\r\n        }\r\n        footerRightWrapper.appendChild(footerRightInput);\r\n\r\n        //Action buttons\r\n        let textActionButtonGroup = document.createElement('div');\r\n        textActionButtonGroup.className = 'print-modal-option-group';\r\n        this.textOptionWrapper.appendChild(textActionButtonGroup);\r\n\r\n        let textActionButtonGroupTitle = document.createElement('div');\r\n        textActionButtonGroupTitle.textContent = ui.translate('ID_PRINT_ADD_TEXT');\r\n        textActionButtonGroupTitle.className = 'print-modal-option-group-title';\r\n        textActionButtonGroup.appendChild(textActionButtonGroupTitle);\r\n\r\n        let textActionButton = document.createElement('button');\r\n        textActionButton.className = 'print-modal-button';\r\n        textActionButton.textContent = ui.translate('ID_PRINT_INSERT_VARIABLE');\r\n        textActionButtonGroup.appendChild(textActionButton);\r\n\r\n        let textActionSelect = document.createElement('select');\r\n        textActionSelect.className = 'print-modal-select';\r\n        textActionButtonGroup.appendChild(textActionSelect);\r\n\r\n        let textActionFileOption = document.createElement('option');\r\n        textActionFileOption.value = '%file';\r\n        textActionFileOption.selected = true;\r\n        textActionFileOption.text = ui.translate('ID_PRINT_INSERT_VARIABLE_FILE_NAME');\r\n        textActionSelect.appendChild(textActionFileOption);\r\n\r\n        let textActionDateOption = document.createElement('option');\r\n        textActionDateOption.value = '%date';\r\n        textActionDateOption.text = ui.translate('ID_PRINT_INSERT_VARIABLE_DATE');\r\n        textActionSelect.appendChild(textActionDateOption);\r\n\r\n        let textActionTimeOption = document.createElement('option');\r\n        textActionTimeOption.value = '%time';\r\n        textActionTimeOption.text = ui.translate('ID_PRINT_INSERT_VARIABLE_TIME');\r\n        textActionSelect.appendChild(textActionTimeOption);\r\n\r\n        let textActionUser = document.createElement('option');\r\n        textActionUser.value = '%user';\r\n        textActionUser.text = ui.translate('ID_PRINT_INSERT_VARIABLE_USER_NAME');\r\n        textActionSelect.appendChild(textActionUser);\r\n\r\n        textActionSelect.onchange = e =>\r\n        {\r\n            this.textModule = textActionSelect.value;\r\n        }\r\n\r\n        textActionButton.onclick = e =>\r\n        {\r\n            let tempVal = this.activeTextInput.value;\r\n            tempVal += this.textModule;\r\n            $(this.activeTextInput).val(tempVal);\r\n            $(this.activeTextInput).trigger('change');\r\n        }\r\n\r\n        //Font group\r\n        let fontGroup = document.createElement('div');\r\n        fontGroup.className = 'print-modal-option-group';\r\n        this.textOptionWrapper.appendChild(fontGroup);\r\n\r\n        let fontGroupTitle = document.createElement('div');\r\n        fontGroupTitle.textContent = ui.translate('ID_PRINT_MODAL_FONT');\r\n        fontGroupTitle.className = 'print-modal-option-group-title';\r\n        fontGroup.appendChild(fontGroupTitle);\r\n\r\n        let fontNameWrapper = document.createElement('div');\r\n        fontNameWrapper.className = 'print-modal-long-input-wrapper';\r\n        fontGroup.appendChild(fontNameWrapper);\r\n\r\n        let fontNameTitle = document.createElement('div');\r\n        fontNameTitle.className = 'print-modal-long-input-title';\r\n        fontNameTitle.textContent = ui.translate('ID_PRINT_SET_FONT');\r\n        fontNameWrapper.appendChild(fontNameTitle);\r\n\r\n        this.fontName = document.createElement('select');\r\n        this.fontName.className = 'print-modal-select';\r\n        this.fontName.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><BannerFontName>' + this.fontName.value + '</BannerFontName></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        fontNameWrapper.appendChild(this.fontName);\r\n\r\n        let xml = '<Call Method=\"GetFonts\"></Call>';\r\n        this.client.command.executeXML(xml);\r\n        this.client.on('GetFonts', res =>\r\n        {\r\n            this.printFontNameEnum = res.Font;\r\n            let fontCount = this.printFontNameEnum.length;\r\n            for (let i = 0; i < fontCount; i++)\r\n            {\r\n                let fontNameOptionItem = this.printFontNameEnum[i];\r\n                let fontNameOption = document.createElement('option');\r\n                fontNameOption.text = fontNameOptionItem;\r\n                fontNameOption.value = fontNameOptionItem;\r\n                if (ui.settingsPane.defaultSettings.Settings.Print.BannerFontName === fontNameOptionItem)\r\n                {\r\n                    fontNameOption.selected = true;\r\n                }\r\n                this.fontName.appendChild(fontNameOption);\r\n            }\r\n        });\r\n\r\n        let fontSizeWrapper = document.createElement('div');\r\n        fontSizeWrapper.className = 'print-modal-long-input-wrapper';\r\n        fontGroup.appendChild(fontSizeWrapper);\r\n\r\n        let fontSizeTitle = document.createElement('div');\r\n        fontSizeTitle.className = 'print-modal-long-input-title';\r\n        fontSizeTitle.textContent = ui.translate('ID_FONT_SIZE');\r\n        fontSizeWrapper.appendChild(fontSizeTitle);\r\n\r\n        let fontSize = document.createElement('input');\r\n        fontSize.className = 'print-modal-input';\r\n        fontSize.value = ui.settingsPane.defaultSettings.Settings.Print.BannerFontSize;\r\n        fontSize.onfocus = this.onInputFocus;\r\n        fontSize.onblur = this.onInputBlur;\r\n        fontSize.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><BannerFontSize>' + fontSize.value + '</BannerFontSize></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        fontSizeWrapper.appendChild(fontSize);\r\n\r\n        let fontStyleWrapper = document.createElement('div');\r\n        fontStyleWrapper.className = 'print-modal-long-input-wrapper';\r\n        fontGroup.appendChild(fontStyleWrapper);\r\n\r\n        let fontStyleTitle = document.createElement('div');\r\n        fontStyleTitle.className = 'print-modal-long-input-title';\r\n        fontStyleTitle.textContent = ui.translate('ID_PRINT_MODAL_FONT_STYLE');\r\n        fontStyleWrapper.appendChild(fontStyleTitle);\r\n\r\n        let fontStyle = document.createElement('select');\r\n        fontStyle.className = 'print-modal-select';\r\n        let fontStyleCount = this.printFontStyleEnum.length;\r\n        for (let i = 0; i < fontStyleCount; i++)\r\n        {\r\n            let fontStyleOptionItem = this.printFontStyleEnum[i];\r\n            let fontStyleOption = document.createElement('option');\r\n            fontStyleOption.text = ui.translate(fontStyleOptionItem.langId);\r\n            fontStyleOption.value = fontStyleOptionItem.value;\r\n            if (ui.settingsPane.defaultSettings.Settings.Print.BannerFontStyle === fontStyleOptionItem.value)\r\n            {\r\n                fontStyleOption.selected = true;\r\n            }\r\n            fontStyle.appendChild(fontStyleOption);\r\n        }\r\n        fontStyle.onchange = e =>\r\n        {\r\n            let xml = '<Call Method=\"SetSettings\"><Settings><Print><BannerFontStyle>' + fontStyle.value + '</BannerFontStyle></Print></Settings></Call>';\r\n            this.client.command.executeXML(xml);\r\n        }\r\n        fontStyleWrapper.appendChild(fontStyle);\r\n\r\n        let fontColorWrapper = document.createElement('div');\r\n        fontColorWrapper.className = 'print-modal-long-input-wrapper';\r\n        fontGroup.appendChild(fontColorWrapper);\r\n\r\n        let fontColorTitle = document.createElement('div');\r\n        fontColorTitle.className = 'print-modal-long-input-title';\r\n        fontColorTitle.textContent = ui.translate('ID_TEXT_COLOR');\r\n        fontColorTitle.style.marginBottom = '5px';\r\n        fontColorWrapper.appendChild(fontColorTitle);\r\n\r\n        this.fontColor = new ModalColorPicker(fontColorWrapper, this.setFontColorSetting);\r\n        this.fontColor.setColor(ui.settingsPane.defaultSettings.Settings.Print.BannerFontColor);\r\n\r\n\r\n    }\r\n\r\n    setFontColorSetting (color: string)\r\n    {\r\n        let xml = '<Call Method=\"SetSettings\"><Settings><Print><BannerFontColor>' + color + '</BannerFontColor></Print></Settings></Call>';\r\n        this.client.command.executeXML(xml);\r\n    }\r\n\r\n    setWhiteBackgroundSetting (state: boolean)\r\n    {\r\n        let xml = '<Call Method=\"SetSettings\"><Settings><Print><WhiteBackground>' + state + '</WhiteBackground></Print></Settings></Call>';\r\n        this.client.command.executeXML(xml);\r\n    }\r\n\r\n    setLineWidthEnabledSetting (state: boolean)\r\n    {\r\n        let xml = '<Call Method=\"SetSettings\"><Settings><Print><LineWidthEnabled>' + state + '</LineWidthEnabled></Print></Settings></Call>';\r\n        this.client.command.executeXML(xml);\r\n    }\r\n\r\n    setTiledSetting (state: boolean)\r\n    {\r\n        let xml = '<Call Method=\"SetSettings\"><Settings><Print>'\r\n        xml += '<Tiled>' + state + '</Tiled>'\r\n        xml += '</Print></Settings></Call>';\r\n        this.client.command.executeXML(xml);\r\n    }\r\n\r\n    fillOptions (template)\r\n    {\r\n        //Empty options\r\n        this.printRangeEnum = [];\r\n        this.printScaleEnum = [];\r\n        this.printOrientationEnum = [];\r\n        this.printLineWidthUnit = [];\r\n        let enums: any[] = template.Source.Template.Enum;\r\n        //Fill print range\r\n        let range = enums[0].Options.Option;\r\n        let rangeLength = range.length;\r\n        for (let r = 0; r < rangeLength; r++)\r\n        {\r\n            let rangeOpt: PrintOption = {\r\n                value: range[r].Value,\r\n                langId: range[r].DisplayName\r\n            }\r\n            this.printRangeEnum.push(rangeOpt);\r\n        }\r\n        //Fill print scaling\r\n        let scale = enums[1].Options.Option;\r\n        let scaleLength = scale.length;\r\n        for (let s = 0; s < scaleLength; s++)\r\n        {\r\n            let scaleOpt: PrintOption = {\r\n                value: scale[s].Value,\r\n                langId: scale[s].DisplayName\r\n            }\r\n            this.printScaleEnum.push(scaleOpt);\r\n        }\r\n        //Fill print orientation\r\n        let orientation = enums[2].Options.Option;\r\n        let orientationLength = orientation.length;\r\n        for (let o = 0; o < orientationLength; o++)\r\n        {\r\n            let orientationOpt: PrintOption = {\r\n                value: orientation[o].Value,\r\n                langId: orientation[o].DisplayName\r\n            }\r\n            this.printOrientationEnum.push(orientationOpt);\r\n        }\r\n        //Fill print line width unit\r\n        let unit = enums[3].Options.Option;\r\n        let unitLength = unit.length;\r\n        for (let u = 0; u < unitLength; u++)\r\n        {\r\n            let unitOpt: PrintOption = {\r\n                value: unit[u].Value,\r\n                langId: unit[u].DisplayName\r\n            }\r\n            this.printLineWidthUnit.push(unitOpt);\r\n        }\r\n    }\r\n\r\n    resize ()\r\n    {\r\n    }\r\n\r\n\r\n    hide ()\r\n    {\r\n        window.removeEventListener('resize', this.resize);\r\n        document.body.removeEventListener('mousedown', this.detectOutsideClick);\r\n        document.body.removeEventListener('keyup', this.detectEscPressed);\r\n        this.isOpen = false;\r\n        $(this.modalWrapper).remove();\r\n    }\r\n\r\n\r\n    detectOutsideClick (e)\r\n    {\r\n        if (!(e.target === this.modalWrapper || this.modalWrapper.contains(e.target) || $('.wv-color-picker-popup').find(e.target).length > 0))\r\n        {\r\n            this.submit();\r\n        }\r\n    }\r\n\r\n    detectEscPressed (e)\r\n    {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (e.keyCode === 27)\r\n        {\r\n            this.submit();\r\n        }\r\n    }\r\n\r\n    submit ()\r\n    {\r\n        this.hide();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/print-modal/print-modal.ts","import { CustomPalette } from '../../../pane/custom-palette'\r\nvar tinycolor = require(\"tinycolor2\");\r\n\r\nexport class ModalColorPicker\r\n{\r\n\tcolorpicker: HTMLElement\r\n\tpalette: CustomPalette\r\n\tisDefaultSet: boolean = false\r\n\talpha: number // [0, 1]\r\n    showAlpha: boolean\r\n    parentEl: HTMLElement\r\n    color: string\r\n    callback: any\r\n\r\n    constructor(parentEl: HTMLElement, callback: any)\r\n    {\r\n        this.parentEl = parentEl;\r\n        this.callback = callback;\r\n\r\n        this.colorpicker = document.createElement('span');\r\n        this.colorpicker.classList.add('modal-colorpicker');\r\n        this.parentEl.appendChild(this.colorpicker);\r\n\r\n\t\tthis.colorpicker.addEventListener('click', ev => {\r\n            this.openPalette();\r\n\t\t}, false)\r\n\t}\r\n\r\n\topenPalette() {\r\n        let activeColor = this.colorpicker.dataset['lastPickedColor'];\r\n        this.palette = new CustomPalette(activeColor, this.showAlpha);\r\n\r\n        this.palette.on('customColorChosen', color => this.updateElementState(color));\r\n\r\n\t}\r\n\r\n\tupdateElementState(color)\r\n\t{\r\n        this.colorpicker.dataset['lastPickedColor'] = color;\r\n        this.colorpicker.style.backgroundColor = color;\r\n        let hashHex = tinycolor(color).toHexString();\r\n        this.color = hashHex;\r\n        this.callback(this.color);\r\n\t}\r\n\r\n\tsetColor(hexColor: any) {\r\n        let RGBAColor = hexToRgba(hexColor);\r\n        this.alpha = RGBAColor.a;\r\n        let cssColor;\r\n\t\tif(this.showAlpha) {\r\n            cssColor = `rgba(${RGBAColor.r}, ${RGBAColor.g}, ${RGBAColor.b}, ${this.alpha})`;\r\n\t\t}\r\n\t\telse {\r\n            cssColor = `rgb(${RGBAColor.r}, ${RGBAColor.g}, ${RGBAColor.b})`;\r\n\t\t}\r\n\t\tif (!this.isDefaultSet) {\r\n            this.colorpicker.dataset['defaultColor'] = cssColor;\r\n            this.isDefaultSet = true;\r\n\t\t}\r\n\r\n        this.colorpicker.dataset['lastPickedColor'] = cssColor;\r\n        this.colorpicker.style.backgroundColor = cssColor;\r\n\t}\r\n}\r\n\r\n\r\nfunction hexToRgba(hex) {\r\n\tvar bigint, r, g, b, a;\r\n\t// Remove '#' character or '0x'\r\n\tvar aRgb\r\n\tif (hex[0] == '#') {\r\n\t\taRgb = hex.substr(1)\r\n\t} else {\r\n\t\taRgb = hex.substr(2)\r\n\t}\r\n\r\n\r\n\tbigint = parseInt(aRgb, 16);\r\n\r\n\tr = (bigint >> 16) & 255;\r\n\tg = (bigint >> 8) & 255;\r\n\tb = bigint & 255;\r\n\tvar rgb = r + \",\" + g + \",\" + b;\r\n\ta = ((bigint >> 24) & 255) / 255;\r\n\r\n\treturn {\r\n\t\ta: a,\r\n\t\tr: r,\r\n\t\tg: g,\r\n\t\tb: b\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/print-modal/widgets/color-picker.ts","import * as ui from '../../ui'\r\nimport { appStates } from '../../app-states'\r\n\r\nexport interface RadioButtonItem\r\n{\r\n    value: string,\r\n    langId: string,\r\n    initialState: boolean\r\n}\r\n\r\nexport class RadioButtonGroup\r\n{\r\n    parentEl: HTMLElement\r\n    groupWrapper: HTMLElement\r\n    titleEl: HTMLElement\r\n    buttonGroup: HTMLElement\r\n    titleId: string\r\n    buttons: RadioButton[] = []\r\n    newButtonIndex: number = 0\r\n    constructor(parentEl: HTMLElement, titleId: string)\r\n    {\r\n        this.parentEl = parentEl;\r\n        this.titleId = titleId;\r\n\r\n        this.groupWrapper = document.createElement('div');\r\n        this.groupWrapper.className = 'radio-button-group';\r\n        this.parentEl.appendChild(this.groupWrapper);\r\n\r\n\r\n        this.titleEl = document.createElement('div');\r\n        this.titleEl.className = 'radio-button-group-title';\r\n        this.titleEl.textContent = ui.translate(titleId);\r\n        this.groupWrapper.appendChild(this.titleEl);\r\n\r\n        this.buttonGroup = document.createElement('div');\r\n        this.buttonGroup.className = 'radio-button-group-content';\r\n        this.groupWrapper.appendChild(this.buttonGroup);\r\n    \r\n    }\r\n\r\n    toggleStates(index: number)\r\n    {\r\n        let length = this.buttons.length;\r\n        for (let i = 0; i < length; i++)\r\n        {\r\n            if (i !== index)\r\n            {\r\n                this.buttons[i].setState(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    setStateByIndex (index: number, state: boolean)\r\n    {\r\n        if (index < this.buttons.length)\r\n        {\r\n            this.buttons[index].setState(true);\r\n        }\r\n    }\r\n\r\n    addButton(item: RadioButtonItem, callback: any)\r\n    {\r\n        let button = new RadioButton(this.buttonGroup, item, this, this.newButtonIndex, callback);\r\n        this.buttons.push(button);\r\n        button.setState(item.initialState);\r\n        this.newButtonIndex++;\r\n    }\r\n\r\n    setTitle()\r\n    {\r\n        let length = this.buttons.length;\r\n        for (let i = 0; i < length; i++)\r\n        {\r\n            this.buttons[i].setTitle();\r\n        }\r\n        this.titleEl.textContent = ui.translate(this.titleId);\r\n    }\r\n}\r\n\r\nclass RadioButton\r\n{\r\n    parentEl: HTMLElement\r\n    state: boolean\r\n    titleEl: HTMLElement\r\n    titleId: string\r\n    group: RadioButtonGroup\r\n    item: RadioButtonItem\r\n    wrapperEl: HTMLElement\r\n    innerCircle: HTMLElement\r\n    index: number\r\n    callback: any\r\n\r\n    constructor(parentEl: HTMLElement, item :RadioButtonItem, group: RadioButtonGroup, index: number, callback: any)\r\n    {\r\n        this.parentEl = parentEl;\r\n        this.item = item;\r\n        this.group = group;\r\n        this.titleId = item.langId;\r\n        this.index = index;\r\n        this.callback = callback;\r\n\r\n        this.wrapperEl = document.createElement('div');\r\n        this.wrapperEl.className = 'radio-button-wrapper';\r\n        this.parentEl.appendChild(this.wrapperEl);\r\n\r\n        let outerCircle = document.createElement('div');\r\n        outerCircle.className = 'radio-button-container';\r\n        this.wrapperEl.appendChild(outerCircle);\r\n\r\n        this.innerCircle = document.createElement('div');\r\n        this.innerCircle.className = 'radio-button-fill';\r\n        outerCircle.appendChild(this.innerCircle);\r\n\r\n        this.titleEl = document.createElement('div');\r\n        this.titleEl.className = 'radio-button-title';\r\n        this.titleEl.textContent = ui.translate(this.titleId);\r\n        this.wrapperEl.appendChild(this.titleEl);\r\n\r\n        outerCircle.onclick = e =>\r\n        {\r\n            if (!this.state)\r\n            {\r\n                if (this.callback)\r\n                {\r\n                    this.callback();\r\n                }\r\n                this.setState(true);\r\n            }\r\n        }\r\n\r\n        outerCircle.onmouseenter = e =>\r\n        {\r\n            this.innerCircle.style.backgroundColor = appStates.mainColor;\r\n        }\r\n\r\n        outerCircle.onmouseleave = e =>\r\n        {\r\n            if (!this.state)\r\n            {\r\n                this.innerCircle.style.backgroundColor = 'white';\r\n            }\r\n        }\r\n    }\r\n\r\n    setState(state: boolean)\r\n    {\r\n        this.state = state;\r\n        if (state)\r\n        {\r\n            this.innerCircle.style.backgroundColor = appStates.mainColor;\r\n            this.group.toggleStates(this.index);\r\n        }\r\n        else\r\n        {\r\n            this.innerCircle.style.backgroundColor = 'white';\r\n        }\r\n    }\r\n\r\n    setTitle()\r\n    {\r\n        this.titleEl.textContent = ui.translate(this.titleId);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/print-modal/widgets/radiobutton-group.ts","export class ProgressBar\r\n{\r\n    indeterminate: boolean;\r\n    progress: number;\r\n    id: string;\r\n    type: string;\r\n    anchorEl: HTMLElement;\r\n    wrapperEl: HTMLElement;\r\n    titleEl: HTMLElement;\r\n    barEl: HTMLElement;\r\n    progressEl: HTMLElement;\r\n    textEl: HTMLElement\r\n    constructor (id: string, indeterminate: boolean, type: string, anchorEl: HTMLElement)\r\n    {\r\n        this.id = id;\r\n        this.indeterminate = indeterminate;\r\n        this.type = type;\r\n        this.anchorEl = anchorEl;\r\n        this.wrapperEl = document.createElement('div');\r\n        this.wrapperEl.className = 'progress-bar-wrapper';\r\n        this.anchorEl.appendChild(this.wrapperEl);\r\n\r\n        this.titleEl = document.createElement('span');\r\n        this.titleEl.textContent = type;\r\n        this.titleEl.className = 'progress-bar-title';\r\n        this.wrapperEl.appendChild(this.titleEl);\r\n\r\n        this.barEl = document.createElement('span');\r\n        this.barEl.className = \"progress-bar\";\r\n        if (!this.indeterminate)\r\n        {\r\n            this.textEl = document.createElement('span');\r\n            this.textEl.className = 'progress-bar-text';\r\n            this.textEl.textContent = '0%';\r\n            this.barEl.appendChild(this.textEl);\r\n        }\r\n        this.wrapperEl.appendChild(this.barEl);\r\n\r\n\r\n        this.progressEl = document.createElement('div');\r\n        this.progressEl.className = this.indeterminate ? 'progress-indeterminate' : 'progress';\r\n        this.barEl.appendChild(this.progressEl);\r\n        this.wrapperEl.appendChild(this.barEl);\r\n\r\n    }\r\n\r\n    setProgress (number: string)\r\n    {\r\n        this.progressEl.style.width = number + '%';\r\n        this.textEl.textContent = number + '%';\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/progressbar/progress-bar.ts","import { ProgressBar } from \"./progress-bar\";\r\nimport { VSWebClient } from '../../base/vsweb-client-impl';\r\nimport * as ui from '../ui';\r\n\r\nexport class ProgressContainer\r\n{\r\n    anchorEl: HTMLElement;\r\n    wrapperEl: HTMLElement;\r\n    isOpen: boolean = false;\r\n    progressBars: ProgressBar[] = [];\r\n    isBlocked: boolean = false;\r\n    constructor (anchorEl: HTMLElement, client: VSWebClient )\r\n    {\r\n        this.anchorEl = anchorEl;\r\n        this.anchorEl.onclick = e =>\r\n        {\r\n            if (this.isOpen)\r\n            {\r\n                this.close();\r\n            }\r\n            else\r\n            {\r\n                this.open();\r\n            }\r\n        }\r\n        let wrapperEl = document.createElement('div');\r\n        wrapperEl.className = 'progress-container-wrapper';\r\n        this.wrapperEl = wrapperEl;\r\n        this.anchorEl.appendChild(this.wrapperEl);\r\n\r\n        //Cancel button\r\n        let cancelWrapper = document.createElement('div');\r\n        cancelWrapper.className = 'progress-bar-wrapper';\r\n        this.wrapperEl.appendChild(cancelWrapper);\r\n\r\n        let cancelTitleEl = document.createElement('span');\r\n        cancelTitleEl.textContent = 'Cancel all';\r\n        cancelTitleEl.className = 'progress-bar-title';\r\n        cancelTitleEl.style.fontWeight = '900';\r\n        cancelWrapper.appendChild(cancelTitleEl);\r\n\r\n        let cancelIcon = document.createElement('span');\r\n        cancelIcon.className = 'fas fa-ban progress-cancel-icon';\r\n        cancelIcon.onclick = e =>\r\n        {\r\n            let xml = '<Call Method=\"StopComputation\"></Call>';\r\n            client.command.executeXML(xml);\r\n        }\r\n        cancelWrapper.appendChild(cancelIcon);\r\n\r\n        this.close();\r\n        this.stop();\r\n    }\r\n\r\n    open ()\r\n    {\r\n        this.isOpen = true;\r\n        $(this.wrapperEl).show();\r\n    }\r\n\r\n    close ()\r\n    {\r\n        this.isOpen = false;\r\n        $(this.wrapperEl).hide();\r\n    }\r\n\r\n    start ()\r\n    {\r\n        $(this.anchorEl).show();\r\n    }\r\n\r\n    stop ()\r\n    {\r\n        $(this.anchorEl).hide();\r\n    }\r\n\r\n    stopBarById (id: string)\r\n    {\r\n        if (this.isBlocked)\r\n        {\r\n            this.isBlocked = false;\r\n            ui.unblockUI();\r\n        }\r\n        let index = this.getBarIndexById(id);\r\n        if (index !== -1)\r\n        {\r\n            $(this.progressBars[index].wrapperEl).remove();\r\n            this.progressBars.splice(index, 1);\r\n        }\r\n        if (this.progressBars.length === 0)\r\n        {\r\n            this.close();\r\n            this.stop();\r\n        }\r\n    }\r\n\r\n    stepBarById (id: string, progress: string)\r\n    {\r\n        let index = this.getBarIndexById(id);\r\n        if (index !== -1)\r\n        {\r\n            let progressInFloat = parseFloat(progress);\r\n            let progressRounded = Math.round(progressInFloat);\r\n            let bar = this.progressBars[index];\r\n            bar.setProgress(progressRounded.toString());\r\n        }\r\n    }\r\n\r\n    getBarIndexById (id: string)\r\n    {\r\n        for (let i = 0; i < this.progressBars.length; i++)\r\n        {\r\n            if (this.progressBars[i].id === id)\r\n            {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    addBar (id: string, indeterminate: boolean, type: string, blocking?: boolean)\r\n    {\r\n        if (blocking)\r\n        {\r\n            this.isBlocked = true;\r\n            ui.blockUI(type);\r\n        }\r\n        else\r\n        {\r\n            let pgBar = new ProgressBar(id, indeterminate, type, this.wrapperEl);\r\n            this.progressBars.push(pgBar);\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/progressbar/progress-container.ts","import {\r\n    Item,\r\n    Visual,\r\n    Folder,\r\n    Entry,\r\n    TextBox,\r\n    Input,\r\n    Checkbox,\r\n    Flag,\r\n    Button,\r\n    Select,\r\n    ColorPicker,\r\n    Slider,\r\n    KeyValue\r\n} from './'\r\nimport { EventEmitter } from 'events'\r\nimport { FlagOption, MultiBox } from './widgets';\r\nimport * as ui from '../app/ui'\r\n\r\nif (!String.prototype['startsWith']) {\r\n    String.prototype['startsWith'] = function (searchString, position = 0) {\r\n        position = position || 0;\r\n        return this.substr(position, searchString.length) === searchString;\r\n    };\r\n}\r\n\r\nif (!String.prototype['includes']) {\r\n    String.prototype['includes'] = function (search, start = 0) {\r\n        if (typeof start !== 'number') {\r\n            start = 0;\r\n        }\r\n\r\n        if (start + search.length > this.length) {\r\n            return false;\r\n        } else {\r\n            return this.indexOf(search, start) !== -1;\r\n        }\r\n    };\r\n}\r\n\r\ndeclare global {\r\n    interface String {\r\n        startsWith(searchString: string, position?: number): boolean;\r\n        includes(search: string, start?: number): boolean;\r\n    }\r\n    interface Array<T> {\r\n        contains(item: T): boolean;\r\n    }\r\n}\r\n\r\n\r\ninterface TraverseCallback {\r\n    (item: Item): void\r\n}\r\n\r\n\r\nexport class PaneAdapter extends EventEmitter {\r\n\r\n    $target: JQuery\r\n\r\n    items = {}\r\n    settingItems: Item[] = []\r\n    root: Item\r\n    untilTag: string\r\n    filterString: string = ''\r\n    toCollapse: Folder[] = []\r\n\r\n    constructor(target: HTMLTableElement) {\r\n        super()\r\n        this.$target = $(target)\r\n        this.items = {}\r\n    }\r\n\r\n    get(path): Item {\r\n        let finding = this.items[path]\r\n        if (finding) {\r\n            return finding\r\n        } else {\r\n            return undefined\r\n        }\r\n    }\r\n\r\n    private traverse__(item: Item, callback: TraverseCallback) {\r\n        for (let child of item.children) {\r\n            this.traverse__(child, callback)\r\n        }\r\n        callback(item)\r\n    }\r\n\r\n    traverseReverse(callback: TraverseCallback) {\r\n        this.traverse__(this.root, callback)\r\n    }\r\n\r\n    traverse(callback: TraverseCallback) {\r\n        let stack: Item[] = []\r\n        let current: Item\r\n        for (let i = this.root.children.length; i-- > 0;) {\r\n            stack.push(this.root.children[i])\r\n        }\r\n        while (stack.length) {\r\n            current = stack.pop()\r\n            callback(current)\r\n            for (let i = current.children.length; i-- > 0;) {\r\n                stack.push(current.children[i])\r\n            }\r\n        }\r\n    }\r\n\r\n    private buildItem__(itemTemplate, keyName: string, parent?: Item): [Item, boolean] {\r\n        let shouldTerminate = false\r\n\r\n        let displayName = itemTemplate['DisplayName'] || ''\r\n        let item = new Item(this, displayName)\r\n        if (itemTemplate['Setting']) {\r\n            item.path = itemTemplate['Setting'].split('.')\r\n            item.triggeredBySetting = true\r\n            this.settingItems.push(item);\r\n        } else if (itemTemplate['EventPath']) {\r\n            item.path = itemTemplate['EventPath'].split('.')\r\n            item.triggeredByEvent = true\r\n        } else if (!parent && itemTemplate['Name']) {\r\n            item.path = [itemTemplate['Name']]\r\n        } else if (parent && itemTemplate['Name']) {\r\n            item.path = parent.path.concat([itemTemplate['Name']])\r\n        }\r\n\r\n        if(itemTemplate['Tooltip'])\r\n        {\r\n            item.tooltip = itemTemplate['Tooltip']\r\n        }\r\n\r\n\r\n        let shouldHidden = false\r\n        if (itemTemplate['IsHidden'] === 'true') {\r\n            shouldHidden = true\r\n        }\r\n\r\n        if(itemTemplate['Prefix']) {\r\n            item.prefix = itemTemplate['Prefix']\r\n        }\r\n\r\n        if(itemTemplate['UId'])\r\n        {\r\n            item.id = itemTemplate['UId']\r\n        }\r\n\r\n        switch (keyName) {\r\n            case 'Template':\r\n            case 'Group': {\r\n                item.visual = new Folder(item)\r\n                if (itemTemplate['IsCollapsed'] === 'true') {\r\n                    this.toCollapse.push(item.visual as Folder)\r\n                }\r\n                break\r\n            }\r\n            case 'Enum': {\r\n                let select = new Select(item);\r\n                let options = itemTemplate['Options']['Option'];\r\n                if (typeof options !== 'undefined')\r\n                {\r\n                    let displays = [];\r\n                    let optionValues = [];\r\n                    options.forEach((val) =>\r\n                    {\r\n                        displays.push(val['DisplayName'])\r\n                        optionValues.push(val['Value'])\r\n                    });\r\n                    if (item.id === 'UID_PRESETS')\r\n                    {\r\n                        displays.push(ui.translate('ID_WALLTHICKNESS_PRESET_USERDEFINED'));\r\n                        optionValues.push('USERDEF');\r\n                    }\r\n                    select.addOptions(displays, optionValues);\r\n                }\r\n                item.visual = select;\r\n                shouldTerminate = true;\r\n                break;\r\n            }\r\n            case 'Bool': {\r\n                item.visual = new Checkbox(item)\r\n                break\r\n            }\r\n            case 'Color': {\r\n                let colorPicker = new ColorPicker(item)\r\n                if(itemTemplate['Mode'] === 'RGB') {\r\n                    colorPicker.showAlpha = false\r\n                }\r\n                else {\r\n                    colorPicker.showAlpha = true\r\n                }\r\n                item.visual = colorPicker\r\n                break\r\n            }\r\n            case 'Float':\r\n            case 'Integer':\r\n            case 'Text': {\r\n                item.inputType = keyName;\r\n                if (itemTemplate.Suffix)\r\n                {\r\n                    item.suffix = itemTemplate.Suffix;\r\n                }\r\n                if (itemTemplate.IsReadOnly === 'true')\r\n                {\r\n                    item.visual = new TextBox(item);\r\n                }\r\n                else\r\n                {\r\n                    if (item.path.indexOf('AttributesToDisplay') !== -1)\r\n                    {\r\n                        item.visual = new MultiBox(item);\r\n                    }\r\n                    else\r\n                    {\r\n                        item.visual = new Input(item);\r\n                    }\r\n                }\r\n                if (itemTemplate.DisplayType === 'Slider')\r\n                {\r\n                    item.visual = new Slider(item);\r\n                }\r\n                break;\r\n            }\r\n            case 'EnumFlag': {\r\n                let flag = new Flag(item)\r\n                let options = itemTemplate['Options']['Option']\r\n                let flagOptions: FlagOption[] = []\r\n                options.forEach((val) => {\r\n                    let option: FlagOption = {\r\n                        displayName: val['DisplayName'],\r\n                        value: val['Value']\r\n                    };\r\n                    flagOptions.push(option)\r\n                });\r\n                flag.addOptions(flagOptions)\r\n\r\n                item.visual = flag\r\n\r\n                shouldTerminate = true\r\n                break\r\n            }\r\n            case 'Button': {\r\n                item.id = itemTemplate['OnClick']\r\n                item.visual = new Button(item)\r\n                break\r\n            }\r\n            case 'KeyValue': {\r\n                item.visual = new KeyValue(item)\r\n                break;\r\n            }\r\n            default:\r\n                shouldTerminate = true\r\n        }\r\n        item.readOnly = (itemTemplate.IsReadOnly === 'true') ? true : false\r\n\r\n        if (parent)\r\n        {\r\n            parent.children.push(item)\r\n            item.parent = parent\r\n            if(parent.isHiddenAttr){\r\n                shouldHidden = true;\r\n            }\r\n            if(this.items[item.path.join('.')]) {\r\n                this.items[item.path.join('.')] = item\r\n            }\r\n            else\r\n            {\r\n                this.items[item.path.join('.')] = item\r\n            }\r\n           \r\n        }\r\n\r\n        item.isHiddenAttr = shouldHidden\r\n\r\n        return [item, shouldTerminate]\r\n    }\r\n\r\n    private fromTemplate__(template: any, keyName: string, parent?: Item): Item {\r\n        if (typeof template === 'string') {\r\n            return\r\n        }\r\n\r\n        let [item, shouldTerminate] = this.buildItem__(template, keyName, parent)\r\n        if (shouldTerminate) {\r\n            return\r\n        }\r\n\r\n        let arrayIndices = {}\r\n        for (let ik = 0; ik < template['__ordinal__'].length; ik++) {\r\n            let key = template['__ordinal__'][ik]\r\n            let itemTemplate = template[key]\r\n            if (Array.isArray(itemTemplate)) {\r\n                if (typeof arrayIndices[key] === 'undefined') {\r\n                    arrayIndices[key] = 0\r\n                    itemTemplate = itemTemplate[arrayIndices[key]]\r\n                    this.fromTemplate__(itemTemplate, key, item)\r\n                } else {\r\n                    arrayIndices[key] += 1\r\n                    itemTemplate = itemTemplate[arrayIndices[key]]\r\n                    this.fromTemplate__(itemTemplate, key, item)\r\n                }\r\n            } else {\r\n                this.fromTemplate__(itemTemplate, key, item)\r\n            }\r\n        }\r\n\r\n        return item\r\n    }\r\n\r\n    fromTemplate(settingsTemplate: any, appendRoot: boolean = false) {\r\n        this.$target.children().remove()\r\n        this.$target.append('<tr class=\"pane-item\"><td/><td/></tr>')\r\n        this.root = this.fromTemplate__(settingsTemplate, 'Group')\r\n\r\n        if (appendRoot) {\r\n            this.root.indent = 0\r\n            this.root.visual.setText(this.root.text)\r\n            this.root.visual.constructHTML(this.root.el)\r\n            this.$target.append(this.root.el)\r\n        }\r\n\r\n        this.traverse(item => {\r\n            if (item.isHiddenAttr) {\r\n                return\r\n            }\r\n\r\n            item.indent = item.parent.indent + 1\r\n            item.visual.setText(item.text)\r\n            if(item.tooltip)\r\n            {\r\n                item.visual.setTooltip(item.tooltip)\r\n            }\r\n\r\n            item.visual.constructHTML(item.el)\r\n            if(item.parent.visual instanceof KeyValue){\r\n                item.parent.visual.addEntry(<Entry>item.visual)\r\n            }\r\n            else{\r\n                this.$target.append(item.el)\r\n            }\r\n           \r\n            \r\n        })\r\n\r\n        if (this.toCollapse.length > 0) {\r\n            this.toCollapse.forEach(f => f.collapse(true))\r\n        }\r\n    }\r\n\r\n    resetVisibility() {\r\n        let itemKeys = Object.keys(this.items)\r\n        itemKeys.forEach(itemKey => {\r\n            let item = this.items[itemKey] as Item\r\n            item.visual.highlightSearchString(undefined)\r\n            if (item.visualStatus == 'hidden') {\r\n                item.el.style.display = 'none'\r\n            } else {\r\n                item.el.style.display = ''\r\n            }\r\n        })\r\n    }\r\n\r\n    filter(searchPhrase: string) {\r\n        searchPhrase = searchPhrase.toLowerCase()\r\n        let itemKeys = Object.keys(this.items)\r\n        if (!searchPhrase) {\r\n            this.resetVisibility()\r\n            return\r\n        }\r\n\r\n        this.traverse(item => {\r\n            let text = item.text.toLowerCase()\r\n            if (!(item.visual instanceof Folder)) {\r\n                if (!text.includes(searchPhrase)) {\r\n                    item.el.style.display = 'none'\r\n                    item.visual.highlightSearchString(undefined)\r\n                } else\r\n                {\r\n                    item.visual.highlightSearchString(searchPhrase)\r\n                    item.el.style.display = ''\r\n                }\r\n            }\r\n        })\r\n\r\n        this.traverseReverse(item => {\r\n            let text = item.text.toLowerCase();\r\n            if (item.visual instanceof Folder) {\r\n                let children = item.children;\r\n                let allHidden = children.every(child =>\r\n                {\r\n                    return child.el.style.display === 'none';\r\n                })\r\n                if (allHidden && text.indexOf(searchPhrase) === -1 && !item.id)\r\n                {\r\n                    item.el.style.display = 'none';\r\n                    item.visual.highlightSearchString(undefined);\r\n                }\r\n                else\r\n                {\r\n                    if (text.indexOf(searchPhrase) !== -1)\r\n                    {\r\n                        item.el.style.display = '';\r\n                        item.visual.highlightSearchString(searchPhrase);\r\n                        if (item.indent !== 1 || allHidden)\r\n                        {\r\n                            this.traverse__(item, (child) =>\r\n                            {\r\n                                child.el.style.display = '';\r\n                            });\r\n                        }\r\n                    }\r\n                    else if (text.indexOf(searchPhrase) === -1 && allHidden && item.id)\r\n                    {\r\n                        item.el.style.display = 'none';\r\n                        item.visual.highlightSearchString(undefined);\r\n                    }\r\n                    else\r\n                    {\r\n                        item.el.style.display = '';\r\n                        item.visual.highlightSearchString(undefined);\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateValues(settings: any)\r\n    {\r\n        let keys = Object.keys(this.items)\r\n        if (settings === undefined) {\r\n            // hide all\r\n            keys.forEach((k) => {\r\n                let i = this.items[k] as Item\r\n                i.el.style.display = 'none'\r\n            })\r\n            return\r\n        }\r\n        // update all the UI elements\r\n        for (let itemIndex of keys) {\r\n            let item = this.items[itemIndex] as Item\r\n            let visual = item.visual\r\n            let settingValue = item.indexByPath(settings)\r\n            //Hide element if the corresponing value comes from a setting or event and is not set\r\n            //e.g. action buttons do not get their value from the settings nor from an event and thus should always be shown\r\n            if ((settingValue === undefined && item.path.indexOf('AttributesToDisplay') === -1 && ((item.triggeredByEvent && item.path[1] !== 'Preset') || (item.triggeredBySetting && item.id !== 'UID_DENSITY_PRESET')))\r\n                || item.isHiddenAttr)\r\n            {\r\n                item.el.style.display = 'none'\r\n            } else {\r\n                if (item.visualStatus !== 'hidden')\r\n                {\r\n                    if (this.filterString === '')\r\n                    {\r\n                        item.el.style.display = '';\r\n                    }\r\n                }\r\n                //If the element is shown but has no view value from the settings/event do not call the setUIValue function\r\n                if (settingValue)\r\n                {\r\n                    visual.setUIValue(settingValue)\r\n                }\r\n                else if (!settingValue && item.path.indexOf('AttributesToDisplay') !== -1)\r\n                {\r\n                    visual.setUIValue('')\r\n                }\r\n                //Special case: Hide measurement complete button if the measurement method is not accumulated length\r\n                if (settings.Event !== undefined && (settings.Event.Type === 'MeasurementChanged'))\r\n                {\r\n                    if ((item.id === 'OnAccumulatedLengthComplete' || item.id === 'OnAccumulatedLengthFromSelection') && settings.Event.AccumulatedLength === undefined)\r\n                    {\r\n                        item.el.style.display = 'none';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.traverseReverse(item =>\r\n        {\r\n            if (item.visual instanceof Folder)\r\n            {\r\n                let children = item.children;\r\n                let allMissing = children.every(child =>\r\n                {\r\n                    return (child.el.style.display === 'none' && child.visualStatus !== 'hidden')\r\n                        || (item.visualStatus === 'hidden' && child.visualStatus === 'hidden');\r\n                })\r\n                if (allMissing && !item.id)\r\n                {\r\n                    item.el.style.display = 'none';\r\n                } else\r\n                {\r\n                    item.el.style.display = '';\r\n                }\r\n            }\r\n        });\r\n        if (this.filterString)\r\n        {\r\n            this.filter(this.filterString);\r\n        }\r\n    }\r\n\r\n    getItemById (id: string): Item\r\n    {\r\n        let keys = Object.keys(this.items)\r\n        for (let itemIndex of keys)\r\n        {\r\n            let item = this.items[itemIndex] as Item;\r\n            if (item.id && item.id === id)\r\n            {\r\n                return item;\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./pane/adapter.ts","import {\r\n\tVisual,\r\n\tPaneAdapter, \r\n\tVisualStatus,\r\n\tFolder\r\n} from './'\r\n\r\nexport class Item {\r\n\tcontext: PaneAdapter\r\n\ttext: string\r\n\r\n\tparent: Item\r\n\tchildren: Item[]\r\n\r\n\tpath: string[]\r\n\tindent: number\r\n\r\n\tel: HTMLTableRowElement\r\n\r\n\tvisualStatus: VisualStatus = 'shown'\r\n\tvisual: Visual\r\n\r\n\tindentClass: string = 'pane-item-indent-level0'\r\n\tprivate displayAttr: string = ''\r\n\r\n\tisHiddenAttr: boolean = false\r\n\r\n\tid: string\r\n\ttriggeredByEvent: boolean\r\n\ttriggeredBySetting: boolean\r\n\r\n\tprefix: string\r\n\tsuffix: string\r\n\r\n\ttooltip: string\r\n\treadOnly: boolean\r\n\r\n    inputType: string\r\n    value: any\r\n\r\n\tconstructor(context: PaneAdapter, text?: string) {\r\n\t\tthis.context = context\r\n\t\tif (text) {\r\n\t\t\tthis.text = text\r\n\t\t} else {\r\n\t\t\tthis.text = ''\r\n\t\t}\r\n\r\n\t\tthis.parent = undefined\r\n\t\tthis.children = []\r\n\t\tthis.path = []\r\n\t\tthis.indent = 0\r\n\r\n\t\tthis.el = document.createElement('tr')\r\n\t\tthis.el.classList.add('pane-item')\r\n\r\n\r\n\t}\r\n\r\n\tindexByPath(obj: {}): any {\r\n\t\tlet current = obj\r\n\r\n\t\tif (this.path.length === 0) {\r\n\t\t\treturn undefined\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < this.path.length; i++) {\r\n\t\t\tcurrent = current[this.path[i]]\r\n\t\t\tif (!current) {\r\n\t\t\t\treturn undefined\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn current\r\n\t}\r\n\r\n\tcollapseAll(hideSelf) {\r\n\t\tif (this.visual instanceof Folder) {\r\n\t\t\tlet folder = this.visual as Folder\r\n\r\n\t\t\tfor (var it of this.children)\r\n\t\t\t{\r\n\t\t\t\tit.collapseAll(true)\r\n\t\t\t}\r\n\r\n\t\t\tfolder.collapse(true, false);\r\n\r\n\t\t\tif (hideSelf) {\r\n\t\t\t\tthis.visualStatus = 'hidden';\r\n\t\t\t\tthis.el.style.display = 'none';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    expandAll ()\r\n    {\r\n        if (this.visual instanceof Folder)\r\n        {\r\n            let folder = this.visual as Folder;\r\n            for (var it of this.children)\r\n            {\r\n                it.expandAll();\r\n            }\r\n            folder.expand(true, false);\r\n            if (this.text.toLowerCase().indexOf(this.context.filterString) !== -1)\r\n            {\r\n                this.el.style.display = '';\r\n            }\r\n            this.visualStatus = 'shown';\r\n            if (this.context.filterString !== '' && this.text.toLowerCase().indexOf(this.context.filterString) === -1)\r\n            {\r\n                if (this.hasVisibleChild())\r\n                {\r\n                    this.el.style.display = '';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\thide() {\r\n\t\tif (this.visual instanceof Folder) {\r\n\t\t\tlet folder = this.visual as Folder\r\n\r\n\t\t\tif (folder.expander.classList.contains(Folder.minus)) {\r\n\t\t\t\tthis.visualStatus = 'hidden';\r\n\t\t\t\tthis.el.style.display = 'none';\r\n\t\t\t\tfolder.collapse(false, true);\r\n\t\t\t} else {\r\n\t\t\t\tthis.visualStatus = 'hidden';\r\n\t\t\t\tthis.el.style.display = 'none';\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tfor (var it of this.children) {\r\n\t\t\tit.hide()\r\n\t\t}\r\n\r\n\t\tthis.visualStatus = 'hidden'\r\n\t\tthis.el.style.display = 'none'\r\n\t}\r\n\r\n\r\n    show (emit?: boolean)\r\n    {\r\n        if (this.visual instanceof Folder)\r\n        {\r\n            let folder = this.visual as Folder;\r\n            if (this.text.toLowerCase().indexOf(this.context.filterString) !== -1)\r\n            {\r\n                this.el.style.display = '';\r\n            }\r\n            else if (this.context.filterString !== '')\r\n            {\r\n                this.children.map((child) =>\r\n                {\r\n                    if (child.el.style.display !== 'none')\r\n                    {\r\n                        this.el.style.display = '';\r\n                    }\r\n                });\r\n            }\r\n            if (folder.expander.classList.contains(Folder.minus))\r\n            {\r\n                folder.expand(false, emit);\r\n            }\r\n            this.visualStatus = 'shown';\r\n            return;\r\n        }\r\n\r\n        for (var it of this.children)\r\n        {\r\n            it.show(emit);\r\n        }\r\n        if (this.text.toLowerCase().indexOf(this.context.filterString) !== -1)\r\n        {\r\n            this.el.style.display = '';\r\n        }\r\n        else if (this.context.filterString !== '' && this.hasMatchingParent(this))\r\n        {\r\n            this.el.style.display = '';\r\n        }\r\n        this.visualStatus = 'shown';\r\n    }\r\n\r\n    hasMatchingParent (item: Item)\r\n    {\r\n        //Element is underneath Settings or a first level category\r\n        if (!item.parent || !item.parent.parent || !item.parent.parent.parent)\r\n        {\r\n            return false;\r\n        }\r\n        if (item.text.toLowerCase().indexOf(this.context.filterString) !== -1)\r\n        {\r\n            return true;\r\n        }\r\n        if (item.parent.text.toLowerCase().indexOf(this.context.filterString) !== -1)\r\n        {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return this.hasMatchingParent(item.parent);\r\n        }\r\n    }\r\n\r\n    hasVisibleChild ()\r\n    {\r\n        let hasVisibleChild = false;\r\n        for (var it of this.children)\r\n        {\r\n            if (it.text.toLowerCase().indexOf(this.context.filterString) !== -1)\r\n            {\r\n                return true;\r\n            }\r\n            if (it.visual instanceof Folder){\r\n                hasVisibleChild = this.recHasVisibleChild(it);\r\n            }\r\n        }\r\n        return hasVisibleChild;\r\n    }\r\n\r\n    recHasVisibleChild (item: Item)\r\n    {\r\n        for (var it of item.children)\r\n        {\r\n            if (it.text.toLowerCase().indexOf(this.context.filterString) !== -1)\r\n            {\r\n                return true;\r\n            }\r\n            else if (it.visual instanceof Folder){\r\n                return this.recHasVisibleChild(it);\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./pane/item.ts","export let internalDisabledGroups = {\r\n    ID_RIBBON_VECTOR_EXPORT: false,\r\n    ID_RIBBON_FILTER: true,\r\n    ID_RIBBON_BILL_OF_MATERIAL: true,\r\n    ID_RIBBON_STATISTICS: true,\r\n    ID_RIBBON_COMPUTE: true,\r\n    ID_RIBBON_SCREENSHOT: true,\r\n    ID_RIBBON_PROJECTED_AREA: true,\r\n    ID_RIBBON_CLASH_DETECTION: true,\r\n    ID_RIBBON_BOUNDARY_CONDITION: true,\r\n    ID_RIBBON_ALIGNING_MOVE: true,\r\n    ID_RIBBON_ALIGNING_ROTATE: true,\r\n    ID_RIBBON_ALIGNING_MOVE_ROTATE: true,\r\n    ID_RIBBON_MODEL_ALIGNING: false,\r\n    ID_RIBBON_NODE: false,\r\n    ID_RIBBON_ROTATE: false,\r\n    ID_RIBBON_HEAT_MAP: true,\r\n    Extras: true\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ribbon/disabled-widgets.ts","/// <reference path=\"../app/global-decl.d.ts\" />\r\nimport { VSWebClient } from '../base/vsweb-client-impl'\r\nimport { settings } from '../app/app-settings'\r\nimport { appStates } from '../app/app-states'\r\nimport * as w from './widget'\r\nimport events = require('events')\r\nimport * as menu from './menu'\r\nimport * as ui from '../app/ui'\r\nimport { internalDisabledGroups } from './disabled-widgets'\r\nimport { findPaneButton } from './widget';\r\nimport { WVTooltip } from '../app/tooltip'\r\n\r\ndeclare var vsClient: VSWebClient;\r\ndeclare var _RibbonGroups: Object;\r\ndeclare var _RibbonMenuVisibility: boolean;\r\ndeclare var _Tabs: Object;\r\ndeclare var UserConfiguration: w.TabOption;\r\ndeclare var _KISTERSWebViewerHideMobile: boolean;\r\ndeclare var _AboutLinks: Object;\r\ndeclare var _UseOfflineHelp: boolean;\r\ntype FileList = FileListItem[]\r\nconst SVG_NS = 'http://www.w3.org/2000/svg'\r\nconst XLINK_NS = 'http://www.w3.org/1999/xlink'\r\n\r\nexport class VSRibbon extends events.EventEmitter {\r\n    toggleVisibilityButton: HTMLElement\r\n    toggleStreaming: HTMLElement\r\n    toggleMobile: HTMLElement\r\n    header: HTMLElement\r\n    ribbonBody: HTMLElement\r\n    languageSwitch: HTMLElement\r\n    aboutDialog: HTMLElement\r\n    wsIndicator: HTMLElement\r\n    wsIcon: SVGSVGElement\r\n\r\n    lastSliderPos: string = '0' // value to set the slider\r\n\r\n    classes: {\r\n        [name: string]: w.Widget[]\r\n    } = {\r\n    }\r\n\r\n\r\n    exposedGroupIDs = {}\r\n\r\n    aboutOpen: boolean\r\n\r\n\r\n    constructor(el: HTMLElement) {\r\n        super();\r\n        target = el;\r\n        this.aboutOpen = false;\r\n        // create hidden elements\r\n        ribbonExpandables = document.createElement('div');\r\n        ribbonExpandables.id = settings.ribbon.expandablesContainerId;\r\n        ribbonDropdowns = document.createElement('div');\r\n        ribbonDropdowns.id = settings.ribbon.dropdownsContainerId;\r\n        target.appendChild(ribbonExpandables);\r\n        target.appendChild(ribbonDropdowns);\r\n\r\n        this.header = document.createElement('ul');\r\n        this.header.classList.add('ribbon-header');\r\n\r\n        this.ribbonBody = document.createElement('div');\r\n        this.ribbonBody.classList.add('ribbon-body');\r\n        this.ribbonBody.style.position = 'relative';\r\n        this.ribbonBody.style.background = 'white';\r\n        this.ribbonBody.style.height = settings.ribbon.tabPageHeight + 'px';\r\n\r\n        this.toggleVisibilityButton = document.createElement('div');\r\n        this.toggleVisibilityButton.id = 'wv-ribbon-toggle-ribbon';\r\n        this.toggleVisibilityButton.className = 'fa fa-chevron-down';\r\n        target.appendChild(this.toggleVisibilityButton);\r\n\r\n        this.toggleStreaming = document.createElement('div');\r\n        this.toggleStreaming.id = 'wv-ribbon-toggle-streaming';\r\n        this.toggleStreaming.className = 'fa fa-image';\r\n        this.toggleStreaming.style.right = '30px';\r\n        this.toggleStreaming.style.top = '5px';\r\n        //target.appendChild(this.toggleStreaming)\r\n\r\n        this.wsIndicator = document.createElement('div');\r\n        this.wsIndicator.className = 'wv-ribbon-wsindicator';\r\n        this.wsIndicator.addEventListener('click', () =>\r\n        {\r\n            if ($(this.wsIndicator).css('fill') === 'red')\r\n            {\r\n                window.location.reload();\r\n            }\r\n        });\r\n\r\n        this.wsIcon = <SVGSVGElement> document.createElementNS(SVG_NS, 'svg');\r\n        this.wsIcon.setAttribute('class', 'ws_indicator');\r\n        let useIcon = document.createElementNS(SVG_NS, 'use');\r\n        useIcon.setAttributeNS(XLINK_NS, 'href', '#cloud-connection-2');\r\n        this.wsIcon.appendChild(useIcon);\r\n\r\n        this.wsIndicator.appendChild(this.wsIcon);\r\n\r\n        target.appendChild(this.wsIndicator);\r\n\r\n        let showMobileIcon = true;\r\n\r\n        try\r\n        {\r\n            if (_KISTERSWebViewerHideMobile === true)\r\n            {\r\n                showMobileIcon = false;\r\n            }\r\n        }\r\n        catch (e) { }\r\n\r\n        if (showMobileIcon)\r\n        {\r\n            this.toggleMobile = document.createElement('div');\r\n            this.toggleMobile.className = \"fa fa-mobile-alt wv-mobile-switch\";\r\n            $(this.toggleMobile).off('click').click(ev =>\r\n            {\r\n                localStorage.setItem('WVUseMobile', 'true');\r\n                localStorage.setItem('WVParkedSession', appStates.session);\r\n                localStorage.setItem('WVFileType', appStates.fileType);\r\n                localStorage.setItem('WVVisShareSpec', appStates.VisShareSpec);\r\n                localStorage.setItem('WVFileName', appStates.fileName);\r\n                let call = '<Request Type=\"Park\"><Timeout>0</Timeout></Request>';\r\n                vsClient.sessionInfo.socket.send(call);\r\n                setTimeout(() =>\r\n                {\r\n                    window.location.reload();\r\n                }, 100)\r\n               \r\n            });\r\n            target.appendChild(this.toggleMobile);\r\n            let mobileTooltip = new WVTooltip(this.toggleMobile);\r\n            mobileTooltip.setOrientation('bottom');\r\n            mobileTooltip.setTitle('Mobile UI');\r\n        }\r\n\r\n        let progressIconWrapper = document.createElement('div');\r\n        progressIconWrapper.className = \"wv-progress-bar-icon-wrapper\";\r\n        let progressIcon = document.createElement('span');\r\n        progressIcon.className = 'fal fa-spinner-third fa-spin wv-progress-bar-icon';\r\n        target.appendChild(progressIconWrapper);\r\n        ui.initProgressContainer(progressIconWrapper);\r\n        progressIconWrapper.appendChild(progressIcon);\r\n\r\n        this.languageSwitch = this._buildLangSwitch();\r\n        target.appendChild(this.languageSwitch);\r\n\r\n        this.aboutDialog = this._buildAboutDialog();\r\n        target.appendChild(this.aboutDialog);\r\n\r\n        let ribbonVis = localStorage.getItem('WVRibbonVis');\r\n        if (ribbonVis === null)\r\n        {\r\n            try\r\n            {\r\n                localStorage.setItem('WVRibbonVis', _RibbonMenuVisibility.toString());\r\n                appStates.ribbonVis = true;\r\n                if (!_RibbonMenuVisibility)\r\n                {\r\n                    this.toggleVisibility(false, false);\r\n                }\r\n            }\r\n            catch (e)\r\n            {\r\n                localStorage.setItem('WVRibbonVis', 'true');\r\n            }\r\n        }\r\n        else\r\n        {\r\n            appStates.ribbonVis = true;\r\n            if (ribbonVis === 'false')\r\n            {\r\n                this.toggleVisibility(false, false);\r\n            }\r\n        }\r\n\r\n        this.toggleVisibilityButton.addEventListener('click', () =>\r\n        {\r\n            this.toggleVisibility(false);\r\n            let ribbonVis = localStorage.getItem('WVRibbonVis');\r\n            localStorage.setItem('WVRibbonVis', ribbonVis === 'true' ? 'false' : 'true');\r\n        }, false);\r\n\r\n        this.toggleStreaming.addEventListener('click', (ev) =>\r\n        {\r\n            if (vsClient.getTransferMode() === 'image')\r\n            {\r\n                if (vsClient.setTransferMode('streaming'))\r\n                {\r\n                    this.toggleStreaming.classList.remove('fa-image');\r\n                    this.toggleStreaming.classList.add('fa-video-camera');\r\n                }\r\n            } else if (vsClient.getTransferMode() === 'streaming')\r\n            {\r\n                if (vsClient.setTransferMode('image'))\r\n                {\r\n                    this.toggleStreaming.classList.remove('fa-video-camera');\r\n                    this.toggleStreaming.classList.add('fa-image');\r\n                }\r\n            }\r\n        });\r\n\r\n        vsClient.on('pane-closed', paneId =>\r\n        {\r\n            let button = findPaneButton(paneId);\r\n            if (button)\r\n            {\r\n                button.applyHighlight(false);\r\n            }\r\n            let interaction = ui.getInteractionForPane(paneId, appStates.interactionMode);\r\n            if (interaction)\r\n            {\r\n                ui.deactivateInteraction(vsClient, interaction);\r\n            }\r\n        });\r\n\r\n        vsClient.on('ActivateInteraction', (ev) => {\r\n            let mode: string;\r\n            mode = ev['Interaction'];\r\n            if(mode === 'Flythrough_SelectStartPositionAndDirection')\r\n            {\r\n                return;\r\n            }\r\n            if(mode) {\r\n                switch(mode) {\r\n                    case 'CuttingPlane_FromPointNormal':\r\n                        mode = 'Section_FromPointNormal';\r\n                        break;\r\n                    case 'CuttingPlane':\r\n                        mode = 'Section';\r\n                        break;\r\n                }\r\n                this.classes['Interaction'].forEach((button: w.BaseButton) => {\r\n                    if(button.event === mode){\r\n                        button.applyHighlight(true);\r\n                    }\r\n                    if(button instanceof w.DropdownButton) {\r\n                        button.items.forEach((item: w.DropdownItem) => {\r\n                            if(item.event === mode) {\r\n                                item.applyHighlight(true);\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n                appStates.interactionMode.push(mode);\r\n\r\n                let generalMode = mode.split('_')[0];\r\n                let paneId;\r\n                let switchToRotate: boolean = false;\r\n                switch(generalMode) {\r\n                    case 'Measurement':\r\n                    case 'wv-measurement':\r\n                        paneId = 'wv-measurement';\r\n                        break;\r\n                    case 'Section':\r\n                    case 'wv-section':\r\n                        paneId = 'wv-section';\r\n                        switchToRotate = true;\r\n                        break;\r\n                    case 'Transformation':\r\n                    case 'wv-transform':\r\n                        paneId = 'wv-transform';\r\n                        switchToRotate = true;\r\n                        break;\r\n                    case 'DraftAngle':\r\n                    case 'wv-draftangle':\r\n                        paneId = 'wv-draftangle';\r\n                        break;\r\n                    case 'wv-markup-reduced':\r\n                        paneId = 'wv-markup-reduced';\r\n                        break;\r\n                    case 'Markup':\r\n                    case 'wv-markup':\r\n                        if (mode === 'Markup_Circle' || mode === 'Markup_Freehand' || mode === 'Markup_Rectangle')\r\n                        {\r\n                            switchToRotate = true;\r\n                            paneId = 'wv-markup-reduced';\r\n                        }\r\n                        else\r\n                        {\r\n                            paneId = 'wv-markup';\r\n                        }\r\n                        break;\r\n                    case 'Flythrough':\r\n                        paneId = 'wv-flythrough';\r\n                        switchToRotate = true;\r\n                        vsClient.command.executeXML('<Call Method=\"GetSceneSettings\"></Call>');\r\n                        break;\r\n                    case 'Callout':\r\n                        switchToRotate = true;\r\n                        break;\r\n                    default:\r\n                        paneId = undefined;\r\n                        break;\r\n                }\r\n                if(paneId)\r\n                {\r\n                    ui.prependPane(paneId);\r\n                }\r\n                if (switchToRotate && (appStates.mouseLeftButtonMode === 'RectZoom' || appStates.mouseLeftButtonMode === 'RectSelect'))\r\n                {\r\n                    let mouseMode = ui.settingsPane.defaultSettings.Settings.Scene.Mouse.LeftButtonFunction;\r\n                    if (mouseMode === 'RectZoom' || mouseMode === 'RectSelect')\r\n                    {\r\n                        mouseMode = 'Rotate';\r\n                    }\r\n                    let xml = '<Call Method=\"SetSceneSettings\"><Settings><Scene><Mouse><LeftButtonFunction>' + mouseMode + '</LeftButtonFunction></Mouse></Scene></Settings></Call>';\r\n                    vsClient.command.executeXML(xml);\r\n                }\r\n                if (generalMode === 'Measurement')\r\n                {\r\n                    let event = { Type: 'MeasurementChanged' };\r\n                    if (mode === 'Measurement_EdgeLengthAccumulated')\r\n                    {\r\n                        event['AccumulatedLength'] = 0;\r\n                    }\r\n                    vsClient.emit('MeasurementChanged', event);\r\n                }\r\n            }\r\n        })\r\n\r\n        vsClient.on('DeactivateInteraction', (ev) => {\r\n            let mode: string\r\n            mode = ev['Interaction']\r\n            if(mode === 'Flythrough_SelectStartPositionAndDirection')\r\n            {\r\n                return\r\n            }\r\n            switch(mode) {\r\n                case 'CuttingPlane_FromPointNormal':\r\n                    mode = 'Section_FromPointNormal'\r\n                    break\r\n                case 'CuttingPlane':\r\n                    mode = 'Section'\r\n                    break\r\n            }\r\n            let generalMode = mode.split('_')[0]\r\n            let paneId\r\n            let paneTitle\r\n            switch(generalMode) {\r\n                case 'Measurement':\r\n                    paneId = 'wv-measurement';\r\n                    break;\r\n                case 'Section':\r\n                    paneId = 'wv-section'\r\n                    break\r\n                case 'Transformation':\r\n                    paneId = 'wv-transform'\r\n                    break\r\n                case 'DraftAngle':\r\n                    paneId = 'wv-draftangle'\r\n                    break\r\n                case 'Markup':\r\n                    if (mode === 'Markup_Circle' || mode === 'Markup_Freehand' || mode === 'Markup_Rectangle')\r\n                    {\r\n                        paneId = 'wv-markup-reduced';\r\n                    }\r\n                    else\r\n                    {\r\n                        paneId = 'wv-markup';\r\n                    }\r\n                    break;\r\n                case 'Flythrough':\r\n                    paneId = 'wv-flythrough'\r\n                    break\r\n                default:\r\n                    paneId = undefined\r\n                    break\r\n            }\r\n            if(paneId)\r\n            {\r\n                paneTitle = undefined\r\n                ui.closePane(paneId);\r\n            }\r\n            this.classes['Interaction'].forEach((button: w.BaseButton) => {\r\n                if(button.event === mode){\r\n                    button.applyHighlight(false)\r\n                }\r\n                if(button instanceof w.DropdownButton) {\r\n                    button.items.forEach((item: w.DropdownItem) => {\r\n                        if(item.event === mode) {\r\n                            item.applyHighlight(false)\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            appStates.interactionMode.splice(appStates.interactionMode.indexOf(mode),1)\r\n            //Remember last interaction modes\r\n            for(var i = 0; i < appStates.lastInteractionModes.length; i++){\r\n                if(appStates.lastInteractionModes[i].split('_')[0] === generalMode)\r\n                {\r\n                    appStates.lastInteractionModes.splice(i,1)\r\n                }\r\n            }\r\n            appStates.lastInteractionModes.push(mode)\r\n        })\r\n    }\r\n\r\n    toggleVisibility = (forceMaximise: boolean, resize = true) =>\r\n    {\r\n        this.ribbonBody.style.position = 'relative';\r\n        this.ribbonBody.style.top = '';\r\n        this.ribbonBody.style.left = '';\r\n\r\n        if (appStates.ribbonVis === true && forceMaximise === false)\r\n        {\r\n            this.ribbonBody.style.display = 'none';\r\n            this.header.style.borderBottom = '1px solid #c3c3c3';\r\n            this.toggleVisibilityButton.classList.remove('fa-chevron-down');\r\n            this.toggleVisibilityButton.classList.add('fa-chevron-right');\r\n\r\n            appStates.ribbonVis = false;\r\n            if (resize)\r\n            {\r\n                ui.resizeHandler();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.ribbonBody.style.display = '';\r\n            this.header.style.borderBottom = 'none';\r\n            this.toggleVisibilityButton.classList.remove('fa-chevron-right');\r\n            this.toggleVisibilityButton.classList.add('fa-chevron-down');\r\n            appStates.ribbonVis = true;\r\n            document.removeEventListener('click', this.hideRibbonBody);\r\n            if (resize)\r\n            {\r\n                ui.resizeHandler();\r\n            }\r\n        }\r\n    };\r\n\r\n    loadTab(initOptions: w.TabOption): w.Tab {\r\n\r\n        let tab = new w.Tab(initOptions.langId)\r\n\r\n        try\r\n        {\r\n            if (tab.langId in _Tabs && _Tabs[tab.langId] === false)\r\n            {\r\n                return;\r\n            }\r\n        }\r\n        catch(e){}\r\n\r\n        for (let groupOption of initOptions.groups) {\r\n            let group = new w.Group(groupOption.langId)\r\n\r\n            for (let widgetOption of groupOption.widgets) {\r\n                let widget\r\n                if (widgetOption.type === undefined) {\r\n                    widgetOption.type = w.WidgetType.Button\r\n                }\r\n                switch (widgetOption.type) {\r\n                    case w.WidgetType.Button:\r\n                        widget = group.addButton(widgetOption)\r\n                        break\r\n                    case w.WidgetType.ButtonLet:\r\n                        widget = group.addButtonlet(widgetOption)\r\n                        break\r\n                    case w.WidgetType.Dropdown:\r\n                        widget = group.addDropdown(widgetOption)\r\n                        let dropdown = widget as w.DropdownButton\r\n                        if (widgetOption.dropdownClick) {\r\n                            dropdown.addClick(context, widgetOption.dropdownClick)\r\n                        }\r\n                        break\r\n                    case w.WidgetType.Input:\r\n                        widget = group.addInput(widgetOption)\r\n                        let input = widget as w.Input\r\n                        if (widgetOption.inputCallback) {\r\n                            input.addInputCallback(context, widgetOption.inputCallback)\r\n                        }\r\n                        break\r\n                    case w.WidgetType.SplittedDropdown:\r\n                        widget = group.addSplittedDropdown(widgetOption)\r\n                        let splittedDropdown = widget as w.SplittedDropdownButton\r\n                        if (widgetOption.splittedDropdownClick) {\r\n                            splittedDropdown.addClick(context, widgetOption.splittedDropdownClick)\r\n                        }\r\n                        break\r\n                    default:\r\n                        throw \"unknown widget type\"\r\n                }\r\n                if (widgetOption.interaction)\r\n                {\r\n                    widget.event = widgetOption.interaction;\r\n                }\r\n\r\n                if (widgetOption.ribbonClass) {\r\n                    for (let cls of widgetOption.ribbonClass) {\r\n                        if (!(cls in this.classes)) {\r\n                            this.classes[cls] = []\r\n                        }\r\n                        this.classes[cls].push(widget)\r\n                    }\r\n                }\r\n            }\r\n            if (groupOption.groupClick) {\r\n                group.addClick(context, groupOption.groupClick)\r\n            }\r\n            tab.addGroup(group)\r\n        }\r\n\r\n        tabs.push(tab)\r\n        return tab\r\n    }\r\n\r\n    loadRibbonConfig() {\r\n        startTab = this.loadTab(menu.startTab);\r\n        documentTab = this.loadTab(menu.documentTab);\r\n        viewTab = this.loadTab(menu.viewTab);\r\n        meausurementTab = this.loadTab(menu.measurementTab);\r\n        analyseTab = this.loadTab(menu.analyseTab);\r\n        transformTab = this.loadTab(menu.transformTab);\r\n        techDocTab = this.loadTab(menu.techDocTab);\r\n        modelTab = this.loadTab(menu.modelTab);\r\n        toolTab = this.loadTab(menu.toolTab);\r\n        try\r\n        {\r\n            let userTabs: w.TabOption[] = !Array.isArray(UserConfiguration) ? [UserConfiguration] : UserConfiguration;\r\n            userTabs.forEach(tab =>\r\n            {\r\n                this.loadTab(tab);\r\n            })\r\n        } catch (e)\r\n        {\r\n        }\r\n    }\r\n\r\n    cullRibbonGroups() {\r\n        tabs.forEach(tab => {\r\n            for (let i = tab.groups.length; i--;) {\r\n                let group = tab.groups[i]\r\n                if (group.id in internalDisabledGroups && internalDisabledGroups[group.id] === false) {\r\n                    tab.groups.splice(i, 1)\r\n                }\r\n            }\r\n        })\r\n\r\n        // the group ids which should be exposed to user for the purpose of customization\r\n        tabs.forEach(tab => {\r\n            tab.groups.forEach(group => {\r\n                this.exposedGroupIDs[group.id] = true\r\n            })\r\n        })\r\n\r\n        tabs.forEach(tab =>\r\n        {\r\n            try {\r\n                for (let i = tab.groups.length; i--;) {\r\n                    let group = tab.groups[i]\r\n                    if (group.id in _RibbonGroups && _RibbonGroups[group.id] === false)\r\n                    {\r\n                        tab.groups.splice(i, 1)\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                if (e.name === 'ReferenceError') {\r\n                    let RibbonGroups = undefined\r\n                }\r\n            }\r\n        })\r\n\r\n        for (let i = tabs.length; i--;) {\r\n            let tab = tabs[i]\r\n            if (tab.groups.length === 0) {\r\n                tabs.splice(i, 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    initialize() {\r\n        context = {\r\n            client: vsClient,\r\n            ribbon: this,\r\n            menu: menu\r\n        }\r\n        // load ribbon\r\n        this.loadRibbonConfig()\r\n        this.cullRibbonGroups()\r\n\r\n       \r\n        appStates.ribbonWidth = window.innerWidth\r\n        if (appStates.ribbonWidth < 600) {\r\n            appStates.ribbonWidth = 600\r\n        }\r\n        tabs.forEach(tab => {\r\n            tab.el.addEventListener('click', ev => {\r\n                tabs.forEach(tab => {\r\n                    let el = <HTMLElement>ev.currentTarget\r\n                    if (el.id !== tab.id) {\r\n                        tab.hide()\r\n                    }\r\n                })\r\n\r\n\r\n                if (this.ribbonBody.style.display === 'none') {\r\n                    let wvApp = document.getElementById('wv-app')\r\n                    let wvDock = document.getElementById('wv-dock')\r\n\r\n                    this.ribbonBody.style.position = 'absolute'\r\n                    this.ribbonBody.style.top = '24px'\r\n                    this.ribbonBody.style.left = '0px'\r\n\r\n                    let zIndex = 400\r\n                    this.ribbonBody.style.zIndex = zIndex.toString()\r\n                    wvDock.style.zIndex = (zIndex - 100).toString()\r\n\r\n                    wvApp.insertBefore(this.ribbonBody, wvDock)\r\n\r\n                    activeTab = tab\r\n\r\n                    this.ribbonBody.style.display = ''\r\n                    activeTab.page.style.display = ''\r\n\r\n                    document.addEventListener('click', this.hideRibbonBody)\r\n\r\n                    return\r\n                }\r\n\r\n\r\n                activeTab = tab\r\n                activeTab.show()\r\n            })\r\n        })\r\n\r\n        activeTab = startTab\r\n        this.render()\r\n    }\r\n\r\n    hideRibbonBody = (event: MouseEvent) => {\r\n        let clickTarget = event.target as HTMLElement\r\n        let isDescendantOfRibbon = isDescendant(target, clickTarget)\r\n            || isDescendant(this.ribbonBody, clickTarget)\r\n\r\n        if (!isDescendantOfRibbon) {\r\n            this.ribbonBody.style.display = 'none'\r\n            document.removeEventListener('click', this.hideRibbonBody)\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        target.appendChild(this.header)\r\n        target.appendChild(this.ribbonBody)\r\n\r\n        for (let tab of tabs) {\r\n            tab.addToHeader(this.header)\r\n        }\r\n\r\n\r\n        tabs.forEach((tab: w.Tab) => tab.render(this.ribbonBody))\r\n        activeTab.show()\r\n\r\n        this.classes['DeactivateAll'].forEach((button: w.Button) => {\r\n            $(button.el).closest('.ribbon-group').addClass('ribbon-deactivate')\r\n        })\r\n    }\r\n\r\n    reset() {\r\n        appStates.reset()\r\n\r\n        tabs.forEach((tab) => {\r\n            tab.groups.forEach((g) => {\r\n                g.getWidgets().forEach((widget) => {\r\n                    if (widget instanceof w.BaseButton && !widget.paneId)\r\n                    {\r\n                        widget.applyHighlight(false)\r\n                    }\r\n                })\r\n            })\r\n        })\r\n\r\n        w.initHightlightedButtons.forEach((b) => {\r\n            b.applyHighlight(true)\r\n        })\r\n    }\r\n\r\n    disableFileList ()\r\n    {\r\n        let openEl = document.getElementById('ID_RIBBON_OPEN');\r\n        let importEl = document.getElementById('ID_RIBBON_IMPORT');\r\n        let saveEl = document.getElementById('ID_RIBBON_SAVE');\r\n        if (openEl)\r\n        {\r\n            tabs[0].groups[0].configuration.splice(0, 1);\r\n            openEl.parentNode.removeChild(openEl);\r\n        }\r\n        if (importEl)\r\n        {\r\n            tabs[0].groups[0].configuration.splice(0, 1);\r\n            importEl.parentNode.removeChild(importEl);\r\n        }\r\n        if (saveEl)\r\n        {\r\n            saveEl.parentNode.removeChild(saveEl);\r\n        }\r\n    }\r\n\r\n    deleteShareRibbon ()\r\n    {\r\n        let shareEl = document.getElementById('ID_RIBBON_VISSHARE_FILE');\r\n        let shareCompactEl = document.getElementById('ID_RIBBON_VISSHARE_FILE_Compact');\r\n        if (shareEl)\r\n        {\r\n            shareEl.parentNode.removeChild(shareEl);\r\n            tabs[0].groups.splice(1, 1);\r\n        }\r\n        else if (shareCompactEl)\r\n        {\r\n            shareCompactEl.parentNode.removeChild(shareCompactEl);\r\n            tabs[0].groups.splice(1, 1);\r\n        }\r\n    }\r\n\r\n    _buildLangSwitch(): HTMLElement {\r\n        let languageSwitch = document.createElement('select');\r\n        languageSwitch.id = 'wv-ribbon-language';\r\n        let langs = {\r\n            ENU: 'English',\r\n            DEU: 'Deutsch',\r\n            ITA: 'Italiano',\r\n            ESP: 'Espaol',\r\n            FRA: 'Franais',\r\n            KOR: '',\r\n            CHS: '',\r\n            JPN: '',\r\n        };\r\n        for (var k in langs)\r\n        {\r\n            let el = document.createElement('option');\r\n            el.value = k;\r\n            el.textContent = langs[k];\r\n            if (el.value === settings.lang)\r\n            {\r\n                el.setAttribute('selected', 'selected');\r\n            }\r\n            languageSwitch.appendChild(el);\r\n        }\r\n        let vsRibbon = this;\r\n        languageSwitch.onchange = () =>\r\n        {\r\n            var lang = languageSwitch.value;\r\n            settings.lang = lang;\r\n            vsRibbon.render();\r\n            let SetSettingsParam = `\r\n            <Settings>\r\n                <Renderer>\r\n                    <General>\r\n                        <Language>${lang}</Language>\r\n                    </General>\r\n                </Renderer>\r\n            </Settings>\r\n        `;\r\n            let SetSettings = `<Call Method=\"SetSettings\">${SetSettingsParam}</Call>`;\r\n            vsClient.command.executeXML(SetSettings);\r\n            vsClient.once('SetSettings', response =>\r\n            {\r\n                // vsRibbon.emit('lang_changed', lang)\r\n                vsClient.emit('@changeLang', lang);\r\n                localStorage.setItem('WVLang', lang);\r\n                if (appStates.fileLoaded)\r\n                {\r\n                    let GetSettings = `<Call Method=\"GetSceneSettings\"></Call>`;\r\n                    vsClient.command.executeXML(GetSettings);\r\n                }\r\n            });\r\n        }\r\n        return languageSwitch;\r\n    }\r\n\r\n    openPage (url)\r\n    {\r\n        let offlineHelp: boolean = false;\r\n        try\r\n        {\r\n            offlineHelp = _UseOfflineHelp;\r\n        }\r\n        catch (e)\r\n        {\r\n        }\r\n        if (url === 'https://viewer.kisters.de/help/webviewer')\r\n        {\r\n            url = offlineHelp ? '/Help/webviewer/' + ui.mapCountry(settings.lang) + '/index.html' : url + '/' + appStates.version + '/' + ui.mapCountry(settings.lang) + '/index.php';\r\n        }\r\n        window.open(url, '_blank');\r\n    }\r\n\r\n\r\n    _buildAboutDialog(): HTMLElement {\r\n        let aboutDialog = document.createElement('div');\r\n        aboutDialog.classList.add('ribbon-about');\r\n\r\n        let aboutDialogIcon = document.createElement('i');\r\n        aboutDialogIcon.id = 'wv-ribbon-about';\r\n\r\n        aboutDialogIcon.classList.add('fa');\r\n        aboutDialogIcon.classList.add('fa-question-circle');\r\n\r\n        let aboutDialogWrapper = document.createElement('div');\r\n        aboutDialogWrapper.classList.add('ribbon-about-wrapper');\r\n        aboutDialogWrapper.id = \"aboutDialog\";\r\n\r\n        let aboutDialogImage = document.createElement('img');\r\n        aboutDialogImage.src = '3D-VS_About-Screen.png';\r\n\r\n        let defaultTextWrapper = document.createElement('div');\r\n        defaultTextWrapper.classList.add('ribbon-about-default-text-wrapper');\r\n\r\n        let defaultTextEdition = document.createElement('span');\r\n        defaultTextEdition.classList.add('ribbon-about-default-text');\r\n        defaultTextEdition.textContent = \"WebViewer-Edition\";\r\n\r\n        let defaultTextCopyRight = document.createElement('span');\r\n        defaultTextCopyRight.classList.add('ribbon-about-default-copyright');\r\n        defaultTextCopyRight.textContent = \"\\u00A92020 by KISTERS All rights reserved\";\r\n\r\n        let versionTextWrapper = document.createElement('div');\r\n        versionTextWrapper.classList.add('ribbon-about-version-wrapper');\r\n\r\n        let programVersionWrapper = document.createElement('div');\r\n\r\n        let programVersionTitle = document.createElement('span');\r\n        programVersionTitle.textContent = _lang_data['ID_ABOUT_PROGRAMVERSION'][settings.lang] + \" \";\r\n\r\n        let programVersion = document.createElement('span');\r\n        programVersion.id = \"program_version_text\";\r\n\r\n        programVersionWrapper.appendChild(programVersionTitle);\r\n        programVersionWrapper.appendChild(programVersion);\r\n\r\n        let versionImporterWrapper = document.createElement('div');\r\n\r\n        let versionImporterTitle = document.createElement('span');\r\n        versionImporterTitle.textContent = \"Importer: \";\r\n\r\n        let versionImporter = document.createElement('span');\r\n        versionImporter.id = \"version_importer_text\";\r\n\r\n        versionImporterWrapper.appendChild(versionImporterTitle);\r\n        versionImporterWrapper.appendChild(versionImporter);\r\n\r\n        vsClient.on('@changeLang', lang => {\r\n            programVersionTitle.textContent = _lang_data['ID_ABOUT_PROGRAMVERSION'][settings.lang] + \" \";\r\n            versionImporterTitle.textContent = \"Importer: \";\r\n        })\r\n\r\n        versionTextWrapper.appendChild(programVersionWrapper);\r\n        versionTextWrapper.appendChild(versionImporterWrapper);\r\n        aboutDialogWrapper.appendChild(versionTextWrapper);\r\n        defaultTextWrapper.appendChild(defaultTextEdition);\r\n        defaultTextWrapper.appendChild(defaultTextCopyRight);\r\n        aboutDialogWrapper.appendChild(defaultTextWrapper);\r\n        aboutDialogWrapper.appendChild(aboutDialogImage);\r\n        //Buttons\r\n        let buttonWidth = 40;\r\n        let buttons;\r\n        try\r\n        {\r\n            buttons = _AboutLinks;\r\n        }\r\n        catch (e)\r\n        {\r\n            buttons = appStates.aboutLinks;\r\n        }\r\n        let leftButtonPos = (buttons.length - 1) * 50 ;\r\n        for (let i = 0; i < buttons.length; i++)\r\n        {\r\n            let button = document.createElement('div');\r\n            button.classList.add('ribbon-about-button');\r\n            button.style.right = (leftButtonPos - (i * buttonWidth) - (i * 10)) + 'px';\r\n            $(button).click((e) =>\r\n            {\r\n                e.preventDefault();\r\n                this.openPage(buttons[i]);\r\n            });\r\n            aboutDialogWrapper.appendChild(button);\r\n        }\r\n\r\n        aboutDialogIcon.onclick = (e) => {\r\n            if(this.aboutOpen === false)\r\n            {\r\n                e.stopPropagation();\r\n                let xml = '<Call Method=\"GetVersionInfo\"></Call>';\r\n                vsClient.command.executeXMLAsync(xml);\r\n                vsClient.once(\"GetVersionInfo\", response =>\r\n                {\r\n                    let versionArr = response.Version.split('.');\r\n                    versionArr.pop();\r\n                    appStates.version = versionArr.join('.');\r\n                    $('#program_version_text').text(response.LongVersion);\r\n                    $('#version_importer_text').text(response.ImporterVersion);\r\n                });\r\n                document.body.appendChild(aboutDialogWrapper);\r\n                $(document).on('click', this.closeAboutDialog);\r\n                $(document).on('keyup', this.closeAboutDialog);\r\n                this.aboutOpen = true;\r\n            }\r\n            else\r\n            {\r\n                document.body.removeChild(aboutDialogWrapper);\r\n                $(document).off('click', this.closeAboutDialog);\r\n                $(document).off('keyup', this.closeAboutDialog);\r\n                this.aboutOpen = false;\r\n            }\r\n        }\r\n        aboutDialog.appendChild(aboutDialogIcon);\r\n        return aboutDialog;\r\n    }\r\n\r\n    closeAboutDialog = (e) => {\r\n        if($(e.target).hasClass('ribbon-about-button'))\r\n        {\r\n            return\r\n        }\r\n        let dialog = document.getElementById('aboutDialog')\r\n        let versionWrapper = document.getElementsByClassName('ribbon-about-version-wrapper')[0]\r\n        if((!versionWrapper.contains(e.target) && e.type === 'click') || (e.type === 'keyup' && e.keyCode === 27))\r\n        {\r\n            this.aboutOpen = false\r\n            document.body.removeChild(dialog)\r\n            $(document).off('click', this.closeAboutDialog)\r\n            $(document).off('keyup', this.closeAboutDialog)\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nlet target: HTMLElement\r\nlet ribbonExpandables: HTMLElement\r\nlet ribbonDropdowns: HTMLElement\r\n\r\nlet tabs: Array<w.Tab> = []\r\nlet startTab: w.Tab\r\nlet documentTab: w.Tab\r\nlet viewTab: w.Tab\r\nlet meausurementTab: w.Tab\r\nlet analyseTab: w.Tab\r\nlet transformTab: w.Tab\r\nlet toolTab: w.Tab\r\nlet modelTab: w.Tab\r\nlet techDocTab: w.Tab\r\n\r\nlet activeTab: w.Tab\r\n\r\nlet context: {\r\n    client?: VSWebClient\r\n    ribbon?: VSRibbon,\r\n    menu?: any\r\n}\r\n\r\n\r\nfunction isDescendant(parent, child) {\r\n    var node = child.parentNode;\r\n    while (node != null) {\r\n        if (node == parent) {\r\n            return true;\r\n        }\r\n        node = node.parentNode;\r\n    }\r\n    return false;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ribbon/index.ts"],"sourceRoot":""}